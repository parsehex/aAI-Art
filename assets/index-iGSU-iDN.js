(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Cl(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ge={},Ur=[],fn=()=>{},Pd=()=>!1,wo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),El=t=>t.startsWith("onUpdate:"),vt=Object.assign,Al=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jp=Object.prototype.hasOwnProperty,Le=(t,e)=>jp.call(t,e),be=Array.isArray,Yr=t=>ls(t)==="[object Map]",li=t=>ls(t)==="[object Set]",Sc=t=>ls(t)==="[object Date]",_e=t=>typeof t=="function",qe=t=>typeof t=="string",Jt=t=>typeof t=="symbol",Fe=t=>t!==null&&typeof t=="object",kd=t=>(Fe(t)||_e(t))&&_e(t.then)&&_e(t.catch),Td=Object.prototype.toString,ls=t=>Td.call(t),Up=t=>ls(t).slice(8,-1),Rd=t=>ls(t)==="[object Object]",Pl=t=>qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ni=Cl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xo=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Yp=/-\w/g,Rt=xo(t=>t.replace(Yp,e=>e.slice(1).toUpperCase())),Xp=/\B([A-Z])/g,ir=xo(t=>t.replace(Xp,"-$1").toLowerCase()),_o=xo(t=>t.charAt(0).toUpperCase()+t.slice(1)),Us=xo(t=>t?`on${_o(t)}`:""),Jn=(t,e)=>!Object.is(t,e),Ys=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Od=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},So=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Cc;const Co=()=>Cc||(Cc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nn(t){if(be(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=qe(r)?Qp(r):nn(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(qe(t)||Fe(t))return t}const Kp=/;(?![^(]*\))/g,qp=/:([^]+)/,Jp=/\/\*[^]*?\*\//g;function Qp(t){const e={};return t.replace(Jp,"").split(Kp).forEach(n=>{if(n){const r=n.split(qp);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ht(t){let e="";if(qe(t))e=t;else if(be(t))for(let n=0;n<t.length;n++){const r=ht(t[n]);r&&(e+=r+" ")}else if(Fe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Eo(t){if(!t)return null;let{class:e,style:n}=t;return e&&!qe(e)&&(t.class=ht(e)),n&&(t.style=nn(n)),t}const Zp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",e0=Cl(Zp);function Md(t){return!!t||t===""}function t0(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Sr(t[r],e[r]);return n}function Sr(t,e){if(t===e)return!0;let n=Sc(t),r=Sc(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Jt(t),r=Jt(e),n||r)return t===e;if(n=be(t),r=be(e),n||r)return n&&r?t0(t,e):!1;if(n=Fe(t),r=Fe(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Sr(t[o],e[o]))return!1}}return String(t)===String(e)}function kl(t,e){return t.findIndex(n=>Sr(n,e))}const Id=t=>!!(t&&t.__v_isRef===!0),et=t=>qe(t)?t:t==null?"":be(t)||Fe(t)&&(t.toString===Td||!_e(t.toString))?Id(t)?et(t.value):JSON.stringify(t,Dd,2):String(t),Dd=(t,e)=>Id(e)?Dd(t,e.value):Yr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[ra(r,s)+" =>"]=i,n),{})}:li(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ra(n))}:Jt(e)?ra(e):Fe(e)&&!be(e)&&!Rd(e)?String(e):e,ra=(t,e="")=>{var n;return Jt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let gt;class Ld{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=gt,!e&&gt&&(this.index=(gt.scopes||(gt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=gt;try{return gt=this,e()}finally{gt=n}}}on(){++this._on===1&&(this.prevScope=gt,gt=this)}off(){this._on>0&&--this._on===0&&(gt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Ao(t){return new Ld(t)}function ci(){return gt}function cs(t,e=!1){gt&&gt.cleanups.push(t)}let Ve;const ia=new WeakSet;class Nd{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,gt&&gt.active&&gt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ia.has(this)&&(ia.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Fd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ec(this),Gd(this);const e=Ve,n=Kt;Ve=this,Kt=!0;try{return this.fn()}finally{$d(this),Ve=e,Kt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ol(e);this.deps=this.depsTail=void 0,Ec(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ia.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ba(this)&&this.run()}get dirty(){return Ba(this)}}let Bd=0,Bi,Fi;function Fd(t,e=!1){if(t.flags|=8,e){t.next=Fi,Fi=t;return}t.next=Bi,Bi=t}function Tl(){Bd++}function Rl(){if(--Bd>0)return;if(Fi){let e=Fi;for(Fi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Bi;){let e=Bi;for(Bi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Gd(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function $d(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Ol(r),n0(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Ba(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Wd(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Wd(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===qi)||(t.globalVersion=qi,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ba(t))))return;t.flags|=2;const e=t.dep,n=Ve,r=Kt;Ve=t,Kt=!0;try{Gd(t);const i=t.fn(t._value);(e.version===0||Jn(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Ve=n,Kt=r,$d(t),t.flags&=-3}}function Ol(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Ol(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function n0(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Kt=!0;const Hd=[];function Rn(){Hd.push(Kt),Kt=!1}function On(){const t=Hd.pop();Kt=t===void 0?!0:t}function Ec(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ve;Ve=void 0;try{e()}finally{Ve=n}}}let qi=0;class r0{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Po{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ve||!Kt||Ve===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ve)n=this.activeLink=new r0(Ve,this),Ve.deps?(n.prevDep=Ve.depsTail,Ve.depsTail.nextDep=n,Ve.depsTail=n):Ve.deps=Ve.depsTail=n,Vd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ve.depsTail,n.nextDep=void 0,Ve.depsTail.nextDep=n,Ve.depsTail=n,Ve.deps===n&&(Ve.deps=r)}return n}trigger(e){this.version++,qi++,this.notify(e)}notify(e){Tl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Rl()}}}function Vd(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Vd(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const to=new WeakMap,xr=Symbol(""),Fa=Symbol(""),Ji=Symbol("");function mt(t,e,n){if(Kt&&Ve){let r=to.get(t);r||to.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Po),i.map=r,i.key=n),i.track()}}function Pn(t,e,n,r,i,s){const o=to.get(t);if(!o){qi++;return}const a=l=>{l&&l.trigger()};if(Tl(),e==="clear")o.forEach(a);else{const l=be(t),c=l&&Pl(n);if(l&&n==="length"){const u=Number(r);o.forEach((d,h)=>{(h==="length"||h===Ji||!Jt(h)&&h>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Ji)),e){case"add":l?c&&a(o.get("length")):(a(o.get(xr)),Yr(t)&&a(o.get(Fa)));break;case"delete":l||(a(o.get(xr)),Yr(t)&&a(o.get(Fa)));break;case"set":Yr(t)&&a(o.get(xr));break}}Rl()}function i0(t,e){const n=to.get(t);return n&&n.get(e)}function Ir(t){const e=Me(t);return e===t?e:(mt(e,"iterate",Ji),Vt(t)?e:e.map(ct))}function ko(t){return mt(t=Me(t),"iterate",Ji),t}const s0={__proto__:null,[Symbol.iterator](){return sa(this,Symbol.iterator,ct)},concat(...t){return Ir(this).concat(...t.map(e=>be(e)?Ir(e):e))},entries(){return sa(this,"entries",t=>(t[1]=ct(t[1]),t))},every(t,e){return xn(this,"every",t,e,void 0,arguments)},filter(t,e){return xn(this,"filter",t,e,n=>n.map(ct),arguments)},find(t,e){return xn(this,"find",t,e,ct,arguments)},findIndex(t,e){return xn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return xn(this,"findLast",t,e,ct,arguments)},findLastIndex(t,e){return xn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return xn(this,"forEach",t,e,void 0,arguments)},includes(...t){return oa(this,"includes",t)},indexOf(...t){return oa(this,"indexOf",t)},join(t){return Ir(this).join(t)},lastIndexOf(...t){return oa(this,"lastIndexOf",t)},map(t,e){return xn(this,"map",t,e,void 0,arguments)},pop(){return vi(this,"pop")},push(...t){return vi(this,"push",t)},reduce(t,...e){return Ac(this,"reduce",t,e)},reduceRight(t,...e){return Ac(this,"reduceRight",t,e)},shift(){return vi(this,"shift")},some(t,e){return xn(this,"some",t,e,void 0,arguments)},splice(...t){return vi(this,"splice",t)},toReversed(){return Ir(this).toReversed()},toSorted(t){return Ir(this).toSorted(t)},toSpliced(...t){return Ir(this).toSpliced(...t)},unshift(...t){return vi(this,"unshift",t)},values(){return sa(this,"values",ct)}};function sa(t,e,n){const r=ko(t),i=r[e]();return r!==t&&!Vt(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=n(s.value)),s}),i}const o0=Array.prototype;function xn(t,e,n,r,i,s){const o=ko(t),a=o!==t&&!Vt(t),l=o[e];if(l!==o0[e]){const d=l.apply(t,s);return a?ct(d):d}let c=n;o!==t&&(a?c=function(d,h){return n.call(this,ct(d),h,t)}:n.length>2&&(c=function(d,h){return n.call(this,d,h,t)}));const u=l.call(o,c,r);return a&&i?i(u):u}function Ac(t,e,n,r){const i=ko(t);let s=n;return i!==t&&(Vt(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,ct(a),l,t)}),i[e](s,...r)}function oa(t,e,n){const r=Me(t);mt(r,"iterate",Ji);const i=r[e](...n);return(i===-1||i===!1)&&Ml(n[0])?(n[0]=Me(n[0]),r[e](...n)):i}function vi(t,e,n=[]){Rn(),Tl();const r=Me(t)[e].apply(t,n);return Rl(),On(),r}const a0=Cl("__proto__,__v_isRef,__isVue"),zd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Jt));function l0(t){Jt(t)||(t=String(t));const e=Me(this);return mt(e,"has",t),e.hasOwnProperty(t)}class jd{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Jd:qd:s?Kd:Xd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=be(e);if(!i){let l;if(o&&(l=s0[n]))return l;if(n==="hasOwnProperty")return l0}const a=Reflect.get(e,n,Ke(e)?e:r);if((Jt(n)?zd.has(n):a0(n))||(i||mt(e,"get",n),s))return a;if(Ke(a)){const l=o&&Pl(n)?a:a.value;return i&&Fe(l)?Zr(l):l}return Fe(a)?i?Zr(a):Ar(a):a}}class Ud extends jd{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Zn(s);if(!Vt(r)&&!Zn(r)&&(s=Me(s),r=Me(r)),!be(e)&&Ke(s)&&!Ke(r))return l||(s.value=r),!0}const o=be(e)&&Pl(n)?Number(n)<e.length:Le(e,n),a=Reflect.set(e,n,r,Ke(e)?e:i);return e===Me(i)&&(o?Jn(r,s)&&Pn(e,"set",n,r):Pn(e,"add",n,r)),a}deleteProperty(e,n){const r=Le(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Pn(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Jt(n)||!zd.has(n))&&mt(e,"has",n),r}ownKeys(e){return mt(e,"iterate",be(e)?"length":xr),Reflect.ownKeys(e)}}class Yd extends jd{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const c0=new Ud,u0=new Yd,d0=new Ud(!0),h0=new Yd(!0),Ga=t=>t,bs=t=>Reflect.getPrototypeOf(t);function f0(t,e,n){return function(...r){const i=this.__v_raw,s=Me(i),o=Yr(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),u=n?Ga:e?no:ct;return!e&&mt(s,"iterate",l?Fa:xr),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function ws(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function p0(t,e){const n={get(i){const s=this.__v_raw,o=Me(s),a=Me(i);t||(Jn(i,a)&&mt(o,"get",i),mt(o,"get",a));const{has:l}=bs(o),c=e?Ga:t?no:ct;if(l.call(o,i))return c(s.get(i));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&mt(Me(i),"iterate",xr),i.size},has(i){const s=this.__v_raw,o=Me(s),a=Me(i);return t||(Jn(i,a)&&mt(o,"has",i),mt(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=Me(a),c=e?Ga:t?no:ct;return!t&&mt(l,"iterate",xr),a.forEach((u,d)=>i.call(s,c(u),c(d),o))}};return vt(n,t?{add:ws("add"),set:ws("set"),delete:ws("delete"),clear:ws("clear")}:{add(i){!e&&!Vt(i)&&!Zn(i)&&(i=Me(i));const s=Me(this);return bs(s).has.call(s,i)||(s.add(i),Pn(s,"add",i,i)),this},set(i,s){!e&&!Vt(s)&&!Zn(s)&&(s=Me(s));const o=Me(this),{has:a,get:l}=bs(o);let c=a.call(o,i);c||(i=Me(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,s),c?Jn(s,u)&&Pn(o,"set",i,s):Pn(o,"add",i,s),this},delete(i){const s=Me(this),{has:o,get:a}=bs(s);let l=o.call(s,i);l||(i=Me(i),l=o.call(s,i)),a&&a.call(s,i);const c=s.delete(i);return l&&Pn(s,"delete",i,void 0),c},clear(){const i=Me(this),s=i.size!==0,o=i.clear();return s&&Pn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=f0(i,t,e)}),n}function To(t,e){const n=p0(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Le(n,i)&&i in r?n:r,i,s)}const g0={get:To(!1,!1)},m0={get:To(!1,!0)},y0={get:To(!0,!1)},v0={get:To(!0,!0)},Xd=new WeakMap,Kd=new WeakMap,qd=new WeakMap,Jd=new WeakMap;function b0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function w0(t){return t.__v_skip||!Object.isExtensible(t)?0:b0(Up(t))}function Ar(t){return Zn(t)?t:Ro(t,!1,c0,g0,Xd)}function Qd(t){return Ro(t,!1,d0,m0,Kd)}function Zr(t){return Ro(t,!0,u0,y0,qd)}function Dr(t){return Ro(t,!0,h0,v0,Jd)}function Ro(t,e,n,r,i){if(!Fe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=w0(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function Qn(t){return Zn(t)?Qn(t.__v_raw):!!(t&&t.__v_isReactive)}function Zn(t){return!!(t&&t.__v_isReadonly)}function Vt(t){return!!(t&&t.__v_isShallow)}function Ml(t){return t?!!t.__v_raw:!1}function Me(t){const e=t&&t.__v_raw;return e?Me(e):t}function Oo(t){return!Le(t,"__v_skip")&&Object.isExtensible(t)&&Od(t,"__v_skip",!0),t}const ct=t=>Fe(t)?Ar(t):t,no=t=>Fe(t)?Zr(t):t;function Ke(t){return t?t.__v_isRef===!0:!1}function V(t){return Zd(t,!1)}function ui(t){return Zd(t,!0)}function Zd(t,e){return Ke(t)?t:new x0(t,e)}class x0{constructor(e,n){this.dep=new Po,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Me(e),this._value=n?e:ct(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Vt(e)||Zn(e);e=r?e:Me(e),Jn(e,n)&&(this._rawValue=e,this._value=r?e:ct(e),this.dep.trigger())}}function _(t){return Ke(t)?t.value:t}function qt(t){return _e(t)?t():_(t)}const _0={get:(t,e,n)=>e==="__v_raw"?t:_(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Ke(i)&&!Ke(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function eh(t){return Qn(t)?t:new Proxy(t,_0)}class S0{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Po,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function C0(t){return new S0(t)}function vn(t){const e=be(t)?new Array(t.length):{};for(const n in t)e[n]=nh(t,n);return e}class E0{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return i0(Me(this._object),this._key)}}class A0{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function th(t,e,n){return Ke(t)?t:_e(t)?new A0(t):Fe(t)&&arguments.length>1?nh(t,e,n):V(t)}function nh(t,e,n){const r=t[e];return Ke(r)?r:new E0(t,e,n)}class P0{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Po(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ve!==this)return Fd(this,!0),!0}get value(){const e=this.dep.track();return Wd(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function k0(t,e,n=!1){let r,i;return _e(t)?r=t:(r=t.get,i=t.set),new P0(r,i,n)}const xs={},ro=new WeakMap;let gr;function T0(t,e=!1,n=gr){if(n){let r=ro.get(n);r||ro.set(n,r=[]),r.push(t)}}function R0(t,e,n=Ge){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,c=x=>i?x:Vt(x)||i===!1||i===0?kn(x,1):kn(x);let u,d,h,f,p=!1,m=!1;if(Ke(t)?(d=()=>t.value,p=Vt(t)):Qn(t)?(d=()=>c(t),p=!0):be(t)?(m=!0,p=t.some(x=>Qn(x)||Vt(x)),d=()=>t.map(x=>{if(Ke(x))return x.value;if(Qn(x))return c(x);if(_e(x))return l?l(x,2):x()})):_e(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){Rn();try{h()}finally{On()}}const x=gr;gr=u;try{return l?l(t,3,[f]):t(f)}finally{gr=x}}:d=fn,e&&i){const x=d,k=i===!0?1/0:i;d=()=>kn(x(),k)}const y=ci(),g=()=>{u.stop(),y&&y.active&&Al(y.effects,u)};if(s&&e){const x=e;e=(...k)=>{x(...k),g()}}let b=m?new Array(t.length).fill(xs):xs;const w=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(e){const k=u.run();if(i||p||(m?k.some((P,T)=>Jn(P,b[T])):Jn(k,b))){h&&h();const P=gr;gr=u;try{const T=[k,b===xs?void 0:m&&b[0]===xs?[]:b,f];b=k,l?l(e,3,T):e(...T)}finally{gr=P}}}else u.run()};return a&&a(w),u=new Nd(d),u.scheduler=o?()=>o(w,!1):w,f=x=>T0(x,!1,u),h=u.onStop=()=>{const x=ro.get(u);if(x){if(l)l(x,4);else for(const k of x)k();ro.delete(u)}},e?r?w(!0):b=u.run():o?o(w.bind(null,!0),!0):u.run(),g.pause=u.pause.bind(u),g.resume=u.resume.bind(u),g.stop=g,g}function kn(t,e=1/0,n){if(e<=0||!Fe(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Ke(t))kn(t.value,e,n);else if(be(t))for(let r=0;r<t.length;r++)kn(t[r],e,n);else if(li(t)||Yr(t))t.forEach(r=>{kn(r,e,n)});else if(Rd(t)){for(const r in t)kn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&kn(t[r],e,n)}return t}function us(t,e,n,r){try{return r?t(...r):t()}catch(i){Mo(i,e,n)}}function gn(t,e,n,r){if(_e(t)){const i=us(t,e,n,r);return i&&kd(i)&&i.catch(s=>{Mo(s,e,n)}),i}if(be(t)){const i=[];for(let s=0;s<t.length;s++)i.push(gn(t[s],e,n,r));return i}}function Mo(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ge;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(s){Rn(),us(s,null,10,[t,l,c]),On();return}}O0(t,n,i,r,o)}function O0(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Ct=[];let un=-1;const Xr=[];let Yn=null,Hr=0;const rh=Promise.resolve();let io=null;function Be(t){const e=io||rh;return t?e.then(this?t.bind(this):t):e}function M0(t){let e=un+1,n=Ct.length;for(;e<n;){const r=e+n>>>1,i=Ct[r],s=Qi(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function Il(t){if(!(t.flags&1)){const e=Qi(t),n=Ct[Ct.length-1];!n||!(t.flags&2)&&e>=Qi(n)?Ct.push(t):Ct.splice(M0(e),0,t),t.flags|=1,ih()}}function ih(){io||(io=rh.then(oh))}function I0(t){be(t)?Xr.push(...t):Yn&&t.id===-1?Yn.splice(Hr+1,0,t):t.flags&1||(Xr.push(t),t.flags|=1),ih()}function Pc(t,e,n=un+1){for(;n<Ct.length;n++){const r=Ct[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ct.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function sh(t){if(Xr.length){const e=[...new Set(Xr)].sort((n,r)=>Qi(n)-Qi(r));if(Xr.length=0,Yn){Yn.push(...e);return}for(Yn=e,Hr=0;Hr<Yn.length;Hr++){const n=Yn[Hr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Yn=null,Hr=0}}const Qi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function oh(t){try{for(un=0;un<Ct.length;un++){const e=Ct[un];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),us(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;un<Ct.length;un++){const e=Ct[un];e&&(e.flags&=-2)}un=-1,Ct.length=0,sh(),io=null,(Ct.length||Xr.length)&&oh()}}let dt=null,ah=null;function so(t){const e=dt;return dt=t,ah=t&&t.type.__scopeId||null,e}function ie(t,e=dt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&co(-1);const s=so(e);let o;try{o=t(...i)}finally{so(s),r._d&&co(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ht(t,e){if(dt===null)return t;const n=Bo(dt),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=Ge]=e[i];s&&(_e(s)&&(s={mounted:s,updated:s}),s.deep&&kn(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function dr(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Rn(),gn(l,n,8,[t.el,a,t,e]),On())}}const lh=Symbol("_vte"),D0=t=>t.__isTeleport,Gi=t=>t&&(t.disabled||t.disabled===""),kc=t=>t&&(t.defer||t.defer===""),Tc=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Rc=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,$a=(t,e)=>{const n=t&&t.to;return qe(n)?e?e(n):null:n},ch={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:y}}=c,g=Gi(e.props);let{shapeFlag:b,children:w,dynamicChildren:x}=e;if(t==null){const k=e.el=m(""),P=e.anchor=m("");f(k,n,r),f(P,n,r);const T=(D,M)=>{b&16&&u(w,D,M,i,s,o,a,l)},R=()=>{const D=e.target=$a(e.props,p),M=uh(D,e,m,f);D&&(o!=="svg"&&Tc(D)?o="svg":o!=="mathml"&&Rc(D)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(D),g||(T(D,M),Xs(e,!1)))};g&&(T(n,P),Xs(e,!0)),kc(e.props)?(e.el.__isMounted=!1,xt(()=>{R(),delete e.el.__isMounted},s)):R()}else{if(kc(e.props)&&t.el.__isMounted===!1){xt(()=>{ch.process(t,e,n,r,i,s,o,a,l,c)},s);return}e.el=t.el,e.targetStart=t.targetStart;const k=e.anchor=t.anchor,P=e.target=t.target,T=e.targetAnchor=t.targetAnchor,R=Gi(t.props),D=R?n:P,M=R?k:T;if(o==="svg"||Tc(P)?o="svg":(o==="mathml"||Rc(P))&&(o="mathml"),x?(h(t.dynamicChildren,x,D,i,s,o,a),Bl(t,e,!0)):l||d(t,e,D,M,i,s,o,a,!1),g)R?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):_s(e,n,k,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const Y=e.target=$a(e.props,p);Y&&_s(e,Y,null,c,0)}else R&&_s(e,P,T,c,1);Xs(e,g)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:h}=t;if(d&&(i(c),i(u)),s&&i(l),o&16){const f=s||!Gi(h);for(let p=0;p<a.length;p++){const m=a[p];r(m,e,n,f,!!m.dynamicChildren)}}},move:_s,hydrate:L0};function _s(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=s===2;if(d&&r(o,e,n),(!d||Gi(u))&&l&16)for(let h=0;h<c.length;h++)i(c[h],e,n,2);d&&r(a,e,n)}function L0(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){function h(m,y,g,b){y.anchor=d(o(m),y,a(m),n,r,i,s),y.targetStart=g,y.targetAnchor=b}const f=e.target=$a(e.props,l),p=Gi(e.props);if(f){const m=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)h(t,e,m,m&&o(m));else{e.anchor=o(t);let y=m;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")e.targetStart=y;else if(y.data==="teleport anchor"){e.targetAnchor=y,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}y=o(y)}e.targetAnchor||uh(f,e,u,c),d(m&&o(m),e,f,n,r,i,s)}Xs(e,p)}else p&&e.shapeFlag&16&&h(t,e,t,o(t));return e.anchor&&o(e.anchor)}const N0=ch;function Xs(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function uh(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[lh]=s,t&&(r(i,t),r(s,t)),s}const B0=Symbol("_leaveCb");function Dl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Dl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ae(t,e){return _e(t)?vt({name:t.name},e,{setup:t}):t}function Oc(){const t=At();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function dh(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const oo=new WeakMap;function $i(t,e,n,r,i=!1){if(be(t)){t.forEach((p,m)=>$i(p,e&&(be(e)?e[m]:e),n,r,i));return}if(Kr(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&$i(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Bo(r.component):r.el,o=i?null:s,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ge?a.refs={}:a.refs,d=a.setupState,h=Me(d),f=d===Ge?Pd:p=>Le(h,p);if(c!=null&&c!==l){if(Mc(e),qe(c))u[c]=null,f(c)&&(d[c]=null);else if(Ke(c)){c.value=null;const p=e;p.k&&(u[p.k]=null)}}if(_e(l))us(l,a,12,[o,u]);else{const p=qe(l),m=Ke(l);if(p||m){const y=()=>{if(t.f){const g=p?f(l)?d[l]:u[l]:l.value;if(i)be(g)&&Al(g,s);else if(be(g))g.includes(s)||g.push(s);else if(p)u[l]=[s],f(l)&&(d[l]=u[l]);else{const b=[s];l.value=b,t.k&&(u[t.k]=b)}}else p?(u[l]=o,f(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const g=()=>{y(),oo.delete(t)};g.id=-1,oo.set(t,g),xt(g,n)}else Mc(t),y()}}}function Mc(t){const e=oo.get(t);e&&(e.flags|=8,oo.delete(t))}Co().requestIdleCallback;Co().cancelIdleCallback;const Kr=t=>!!t.type.__asyncLoader,hh=t=>t.type.__isKeepAlive;function F0(t,e){fh(t,"a",e)}function G0(t,e){fh(t,"da",e)}function fh(t,e,n=yt){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Io(e,r,n),n){let i=n.parent;for(;i&&i.parent;)hh(i.parent.vnode)&&$0(r,e,n,i),i=i.parent}}function $0(t,e,n,r){const i=Io(e,t,r,!0);jt(()=>{Al(r[e],i)},n)}function Io(t,e,n=yt,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Rn();const a=hs(n),l=gn(e,n,t,o);return a(),On(),l});return r?i.unshift(s):i.push(s),s}}const Ln=t=>(e,n=yt)=>{(!ns||t==="sp")&&Io(t,(...r)=>e(...r),n)},W0=Ln("bm"),Je=Ln("m"),H0=Ln("bu"),V0=Ln("u"),ph=Ln("bum"),jt=Ln("um"),z0=Ln("sp"),j0=Ln("rtg"),U0=Ln("rtc");function Y0(t,e=yt){Io("ec",t,e)}const gh="components";function Zi(t,e){return yh(gh,t,!0,e)||t}const mh=Symbol.for("v-ndc");function ao(t){return qe(t)?yh(gh,t,!1)||t:t||mh}function yh(t,e,n=!0,r=!1){const i=dt||yt;if(i){const s=i.type;{const a=Ng(s,!1);if(a&&(a===e||a===Rt(e)||a===_o(Rt(e))))return s}const o=Ic(i[t]||s[t],e)||Ic(i.appContext[t],e);return!o&&r?s:o}}function Ic(t,e){return t&&(t[e]||t[Rt(e)]||t[_o(Rt(e))])}function Mn(t,e,n,r){let i;const s=n,o=be(t);if(o||qe(t)){const a=o&&Qn(t);let l=!1,c=!1;a&&(l=!Vt(t),c=Zn(t),t=ko(t)),i=new Array(t.length);for(let u=0,d=t.length;u<d;u++)i[u]=e(l?c?no(ct(t[u])):ct(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(Fe(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,s)}}else i=[];return i}function we(t,e,n={},r,i){if(dt.ce||dt.parent&&Kr(dt.parent)&&dt.parent.ce){const c=Object.keys(n).length>0;return e!=="default"&&(n.name=e),L(),de(je,null,[ee("slot",n,r&&r())],c?-2:64)}let s=t[e];s&&s._c&&(s._d=!1),L();const o=s&&vh(s(n)),a=n.key||o&&o.key,l=de(je,{key:(a&&!Jt(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function vh(t){return t.some(e=>ts(e)?!(e.type===Qt||e.type===je&&!vh(e.children)):!0)?t:null}const Wa=t=>t?Bh(t)?Bo(t):Wa(t.parent):null,Wi=vt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Wa(t.parent),$root:t=>Wa(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>wh(t),$forceUpdate:t=>t.f||(t.f=()=>{Il(t.update)}),$nextTick:t=>t.n||(t.n=Be.bind(t.proxy)),$watch:t=>vg.bind(t)}),aa=(t,e)=>t!==Ge&&!t.__isScriptSetup&&Le(t,e),X0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(aa(r,e))return o[e]=1,r[e];if(i!==Ge&&Le(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Le(c,e))return o[e]=3,s[e];if(n!==Ge&&Le(n,e))return o[e]=4,n[e];Va&&(o[e]=0)}}const u=Wi[e];let d,h;if(u)return e==="$attrs"&&mt(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Ge&&Le(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Le(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return aa(i,e)?(i[e]=n,!0):r!==Ge&&Le(r,e)?(r[e]=n,!0):Le(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s,type:o}},a){let l,c;return!!(n[a]||t!==Ge&&a[0]!=="$"&&Le(t,a)||aa(e,a)||(l=s[0])&&Le(l,a)||Le(r,a)||Le(Wi,a)||Le(i.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Le(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ha(t){return be(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function K0(t,e){const n=Ha(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?be(i)||_e(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}let Va=!0;function q0(t){const e=wh(t),n=t.proxy,r=t.ctx;Va=!1,e.beforeCreate&&Dc(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:y,beforeDestroy:g,beforeUnmount:b,destroyed:w,unmounted:x,render:k,renderTracked:P,renderTriggered:T,errorCaptured:R,serverPrefetch:D,expose:M,inheritAttrs:Y,components:X,directives:le,filters:G}=e;if(c&&J0(c,r,null),o)for(const Z in o){const N=o[Z];_e(N)&&(r[Z]=N.bind(n))}if(i){const Z=i.call(n,n);Fe(Z)&&(t.data=Ar(Z))}if(Va=!0,s)for(const Z in s){const N=s[Z],q=_e(N)?N.bind(n,n):_e(N.get)?N.get.bind(n,n):fn,he=!_e(N)&&_e(N.set)?N.set.bind(n):fn,ge=j({get:q,set:he});Object.defineProperty(r,Z,{enumerable:!0,configurable:!0,get:()=>ge.value,set:xe=>ge.value=xe})}if(a)for(const Z in a)bh(a[Z],r,n,Z);if(l){const Z=_e(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(N=>{qr(N,Z[N])})}u&&Dc(u,t,"c");function F(Z,N){be(N)?N.forEach(q=>Z(q.bind(n))):N&&Z(N.bind(n))}if(F(W0,d),F(Je,h),F(H0,f),F(V0,p),F(F0,m),F(G0,y),F(Y0,R),F(U0,P),F(j0,T),F(ph,b),F(jt,x),F(z0,D),be(M))if(M.length){const Z=t.exposed||(t.exposed={});M.forEach(N=>{Object.defineProperty(Z,N,{get:()=>n[N],set:q=>n[N]=q,enumerable:!0})})}else t.exposed||(t.exposed={});k&&t.render===fn&&(t.render=k),Y!=null&&(t.inheritAttrs=Y),X&&(t.components=X),le&&(t.directives=le),D&&dh(t)}function J0(t,e,n=fn){be(t)&&(t=za(t));for(const r in t){const i=t[r];let s;Fe(i)?"default"in i?s=Tt(i.from||r,i.default,!0):s=Tt(i.from||r):s=Tt(i),Ke(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Dc(t,e,n){gn(be(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function bh(t,e,n,r){let i=r.includes(".")?Oh(n,r):()=>n[r];if(qe(t)){const s=e[t];_e(s)&&Ce(i,s)}else if(_e(t))Ce(i,t.bind(n));else if(Fe(t))if(be(t))t.forEach(s=>bh(s,e,n,r));else{const s=_e(t.handler)?t.handler.bind(n):e[t.handler];_e(s)&&Ce(i,s,t)}}function wh(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>lo(l,c,o,!0)),lo(l,e,o)),Fe(e)&&s.set(e,l),l}function lo(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&lo(t,s,n,!0),i&&i.forEach(o=>lo(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Q0[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Q0={data:Lc,props:Nc,emits:Nc,methods:Ti,computed:Ti,beforeCreate:wt,created:wt,beforeMount:wt,mounted:wt,beforeUpdate:wt,updated:wt,beforeDestroy:wt,beforeUnmount:wt,destroyed:wt,unmounted:wt,activated:wt,deactivated:wt,errorCaptured:wt,serverPrefetch:wt,components:Ti,directives:Ti,watch:eg,provide:Lc,inject:Z0};function Lc(t,e){return e?t?function(){return vt(_e(t)?t.call(this,this):t,_e(e)?e.call(this,this):e)}:e:t}function Z0(t,e){return Ti(za(t),za(e))}function za(t){if(be(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function wt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ti(t,e){return t?vt(Object.create(null),t,e):e}function Nc(t,e){return t?be(t)&&be(e)?[...new Set([...t,...e])]:vt(Object.create(null),Ha(t),Ha(e??{})):e}function eg(t,e){if(!t)return e;if(!e)return t;const n=vt(Object.create(null),t);for(const r in e)n[r]=wt(t[r],e[r]);return n}function xh(){return{app:null,config:{isNativeTag:Pd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tg=0;function ng(t,e){return function(r,i=null){_e(r)||(r=vt({},r)),i!=null&&!Fe(i)&&(i=null);const s=xh(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:tg++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Fg,get config(){return s.config},set config(u){},use(u,...d){return o.has(u)||(u&&_e(u.install)?(o.add(u),u.install(c,...d)):_e(u)&&(o.add(u),u(c,...d))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,d){return d?(s.components[u]=d,c):s.components[u]},directive(u,d){return d?(s.directives[u]=d,c):s.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||ee(r,i);return f.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,Bo(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(gn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return s.provides[u]=d,c},runWithContext(u){const d=_r;_r=c;try{return u()}finally{_r=d}}};return c}}let _r=null;function qr(t,e){if(yt){let n=yt.provides;const r=yt.parent&&yt.parent.provides;r===n&&(n=yt.provides=Object.create(r)),n[t]=e}}function Tt(t,e,n=!1){const r=At();if(r||_r){let i=_r?_r._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&_e(e)?e.call(r&&r.proxy):e}}function rg(){return!!(At()||_r)}const _h={},Sh=()=>Object.create(_h),Ch=t=>Object.getPrototypeOf(t)===_h;function ig(t,e,n,r=!1){const i={},s=Sh();t.propsDefaults=Object.create(null),Eh(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:Qd(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function sg(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Me(i),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Do(t.emitsOptions,h))continue;const f=e[h];if(l)if(Le(s,h))f!==s[h]&&(s[h]=f,c=!0);else{const p=Rt(h);i[p]=ja(l,a,p,f,t,!1)}else f!==s[h]&&(s[h]=f,c=!0)}}}else{Eh(t,e,i,s)&&(c=!0);let u;for(const d in a)(!e||!Le(e,d)&&((u=ir(d))===d||!Le(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=ja(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!Le(e,d))&&(delete s[d],c=!0)}c&&Pn(t.attrs,"set","")}function Eh(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ni(l))continue;const c=e[l];let u;i&&Le(i,u=Rt(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:Do(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=Me(n),c=a||Ge;for(let u=0;u<s.length;u++){const d=s[u];n[d]=ja(i,l,d,c[d],t,!Le(c,d))}}return o}function ja(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Le(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&_e(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=hs(i);r=c[n]=l.call(null,e),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===ir(n))&&(r=!0))}return r}const og=new WeakMap;function Ah(t,e,n=!1){const r=n?og:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!_e(t)){const u=d=>{l=!0;const[h,f]=Ah(d,e,!0);vt(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return Fe(t)&&r.set(t,Ur),Ur;if(be(s))for(let u=0;u<s.length;u++){const d=Rt(s[u]);Bc(d)&&(o[d]=Ge)}else if(s)for(const u in s){const d=Rt(u);if(Bc(d)){const h=s[u],f=o[d]=be(h)||_e(h)?{type:h}:vt({},h),p=f.type;let m=!1,y=!0;if(be(p))for(let g=0;g<p.length;++g){const b=p[g],w=_e(b)&&b.name;if(w==="Boolean"){m=!0;break}else w==="String"&&(y=!1)}else m=_e(p)&&p.name==="Boolean";f[0]=m,f[1]=y,(m||Le(f,"default"))&&a.push(d)}}const c=[o,a];return Fe(t)&&r.set(t,c),c}function Bc(t){return t[0]!=="$"&&!Ni(t)}const Ll=t=>t==="_"||t==="_ctx"||t==="$stable",Nl=t=>be(t)?t.map(dn):[dn(t)],ag=(t,e,n)=>{if(e._n)return e;const r=ie((...i)=>Nl(e(...i)),n);return r._c=!1,r},Ph=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Ll(i))continue;const s=t[i];if(_e(s))e[i]=ag(i,s,r);else if(s!=null){const o=Nl(s);e[i]=()=>o}}},kh=(t,e)=>{const n=Nl(e);t.slots.default=()=>n},Th=(t,e,n)=>{for(const r in e)(n||!Ll(r))&&(t[r]=e[r])},lg=(t,e,n)=>{const r=t.slots=Sh();if(t.vnode.shapeFlag&32){const i=e._;i?(Th(r,e,n),n&&Od(r,"_",i,!0)):Ph(e,r)}else e&&kh(t,e)},cg=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Ge;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:Th(i,e,n):(s=!e.$stable,Ph(e,i)),o=e}else e&&(kh(t,e),o={default:1});if(s)for(const a in i)!Ll(a)&&o[a]==null&&delete i[a]},xt=Ag;function ug(t){return dg(t)}function dg(t,e){const n=Co();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=fn,insertStaticContent:p}=t,m=(S,v,C,A=null,I=null,B=null,U=void 0,K=null,Q=!!v.dynamicChildren)=>{if(S===v)return;S&&!bi(S,v)&&(A=$(S),xe(S,I,B,!0),S=null),v.patchFlag===-2&&(Q=!1,v.dynamicChildren=null);const{type:W,ref:ye,shapeFlag:oe}=v;switch(W){case Lo:y(S,v,C,A);break;case Qt:g(S,v,C,A);break;case Ks:S==null&&b(v,C,A,U);break;case je:X(S,v,C,A,I,B,U,K,Q);break;default:oe&1?k(S,v,C,A,I,B,U,K,Q):oe&6?le(S,v,C,A,I,B,U,K,Q):(oe&64||oe&128)&&W.process(S,v,C,A,I,B,U,K,Q,me)}ye!=null&&I?$i(ye,S&&S.ref,B,v||S,!v):ye==null&&S&&S.ref!=null&&$i(S.ref,null,B,S,!0)},y=(S,v,C,A)=>{if(S==null)r(v.el=a(v.children),C,A);else{const I=v.el=S.el;v.children!==S.children&&c(I,v.children)}},g=(S,v,C,A)=>{S==null?r(v.el=l(v.children||""),C,A):v.el=S.el},b=(S,v,C,A)=>{[S.el,S.anchor]=p(S.children,v,C,A,S.el,S.anchor)},w=({el:S,anchor:v},C,A)=>{let I;for(;S&&S!==v;)I=h(S),r(S,C,A),S=I;r(v,C,A)},x=({el:S,anchor:v})=>{let C;for(;S&&S!==v;)C=h(S),i(S),S=C;i(v)},k=(S,v,C,A,I,B,U,K,Q)=>{if(v.type==="svg"?U="svg":v.type==="math"&&(U="mathml"),S==null)P(v,C,A,I,B,U,K,Q);else{const W=S.el&&S.el._isVueCE?S.el:null;try{W&&W._beginPatch(),D(S,v,I,B,U,K,Q)}finally{W&&W._endPatch()}}},P=(S,v,C,A,I,B,U,K)=>{let Q,W;const{props:ye,shapeFlag:oe,transition:ve,dirs:Se}=S;if(Q=S.el=o(S.type,B,ye&&ye.is,ye),oe&8?u(Q,S.children):oe&16&&R(S.children,Q,null,A,I,la(S,B),U,K),Se&&dr(S,null,A,"created"),T(Q,S,S.scopeId,U,A),ye){for(const We in ye)We!=="value"&&!Ni(We)&&s(Q,We,null,ye[We],B,A);"value"in ye&&s(Q,"value",null,ye.value,B),(W=ye.onVnodeBeforeMount)&&cn(W,A,S)}Se&&dr(S,null,A,"beforeMount");const Oe=hg(I,ve);Oe&&ve.beforeEnter(Q),r(Q,v,C),((W=ye&&ye.onVnodeMounted)||Oe||Se)&&xt(()=>{W&&cn(W,A,S),Oe&&ve.enter(Q),Se&&dr(S,null,A,"mounted")},I)},T=(S,v,C,A,I)=>{if(C&&f(S,C),A)for(let B=0;B<A.length;B++)f(S,A[B]);if(I){let B=I.subTree;if(v===B||Ih(B.type)&&(B.ssContent===v||B.ssFallback===v)){const U=I.vnode;T(S,U,U.scopeId,U.slotScopeIds,I.parent)}}},R=(S,v,C,A,I,B,U,K,Q=0)=>{for(let W=Q;W<S.length;W++){const ye=S[W]=K?Xn(S[W]):dn(S[W]);m(null,ye,v,C,A,I,B,U,K)}},D=(S,v,C,A,I,B,U)=>{const K=v.el=S.el;let{patchFlag:Q,dynamicChildren:W,dirs:ye}=v;Q|=S.patchFlag&16;const oe=S.props||Ge,ve=v.props||Ge;let Se;if(C&&hr(C,!1),(Se=ve.onVnodeBeforeUpdate)&&cn(Se,C,v,S),ye&&dr(v,S,C,"beforeUpdate"),C&&hr(C,!0),(oe.innerHTML&&ve.innerHTML==null||oe.textContent&&ve.textContent==null)&&u(K,""),W?M(S.dynamicChildren,W,K,C,A,la(v,I),B):U||N(S,v,K,null,C,A,la(v,I),B,!1),Q>0){if(Q&16)Y(K,oe,ve,C,I);else if(Q&2&&oe.class!==ve.class&&s(K,"class",null,ve.class,I),Q&4&&s(K,"style",oe.style,ve.style,I),Q&8){const Oe=v.dynamicProps;for(let We=0;We<Oe.length;We++){const Ne=Oe[We],Pt=oe[Ne],kt=ve[Ne];(kt!==Pt||Ne==="value")&&s(K,Ne,Pt,kt,I,C)}}Q&1&&S.children!==v.children&&u(K,v.children)}else!U&&W==null&&Y(K,oe,ve,C,I);((Se=ve.onVnodeUpdated)||ye)&&xt(()=>{Se&&cn(Se,C,v,S),ye&&dr(v,S,C,"updated")},A)},M=(S,v,C,A,I,B,U)=>{for(let K=0;K<v.length;K++){const Q=S[K],W=v[K],ye=Q.el&&(Q.type===je||!bi(Q,W)||Q.shapeFlag&198)?d(Q.el):C;m(Q,W,ye,null,A,I,B,U,!0)}},Y=(S,v,C,A,I)=>{if(v!==C){if(v!==Ge)for(const B in v)!Ni(B)&&!(B in C)&&s(S,B,v[B],null,I,A);for(const B in C){if(Ni(B))continue;const U=C[B],K=v[B];U!==K&&B!=="value"&&s(S,B,K,U,I,A)}"value"in C&&s(S,"value",v.value,C.value,I)}},X=(S,v,C,A,I,B,U,K,Q)=>{const W=v.el=S?S.el:a(""),ye=v.anchor=S?S.anchor:a("");let{patchFlag:oe,dynamicChildren:ve,slotScopeIds:Se}=v;Se&&(K=K?K.concat(Se):Se),S==null?(r(W,C,A),r(ye,C,A),R(v.children||[],C,ye,I,B,U,K,Q)):oe>0&&oe&64&&ve&&S.dynamicChildren?(M(S.dynamicChildren,ve,C,I,B,U,K),(v.key!=null||I&&v===I.subTree)&&Bl(S,v,!0)):N(S,v,C,ye,I,B,U,K,Q)},le=(S,v,C,A,I,B,U,K,Q)=>{v.slotScopeIds=K,S==null?v.shapeFlag&512?I.ctx.activate(v,C,A,U,Q):G(v,C,A,I,B,U,Q):z(S,v,Q)},G=(S,v,C,A,I,B,U)=>{const K=S.component=Og(S,A,I);if(hh(S)&&(K.ctx.renderer=me),Mg(K,!1,U),K.asyncDep){if(I&&I.registerDep(K,F,U),!S.el){const Q=K.subTree=ee(Qt);g(null,Q,v,C),S.placeholder=Q.el}}else F(K,S,v,C,I,B,U)},z=(S,v,C)=>{const A=v.component=S.component;if(Cg(S,v,C))if(A.asyncDep&&!A.asyncResolved){Z(A,v,C);return}else A.next=v,A.update();else v.el=S.el,A.vnode=v},F=(S,v,C,A,I,B,U)=>{const K=()=>{if(S.isMounted){let{next:oe,bu:ve,u:Se,parent:Oe,vnode:We}=S;{const an=Rh(S);if(an){oe&&(oe.el=We.el,Z(S,oe,U)),an.asyncDep.then(()=>{S.isUnmounted||K()});return}}let Ne=oe,Pt;hr(S,!1),oe?(oe.el=We.el,Z(S,oe,U)):oe=We,ve&&Ys(ve),(Pt=oe.props&&oe.props.onVnodeBeforeUpdate)&&cn(Pt,Oe,oe,We),hr(S,!0);const kt=Gc(S),on=S.subTree;S.subTree=kt,m(on,kt,d(on.el),$(on),S,I,B),oe.el=kt.el,Ne===null&&Eg(S,kt.el),Se&&xt(Se,I),(Pt=oe.props&&oe.props.onVnodeUpdated)&&xt(()=>cn(Pt,Oe,oe,We),I)}else{let oe;const{el:ve,props:Se}=v,{bm:Oe,m:We,parent:Ne,root:Pt,type:kt}=S,on=Kr(v);hr(S,!1),Oe&&Ys(Oe),!on&&(oe=Se&&Se.onVnodeBeforeMount)&&cn(oe,Ne,v),hr(S,!0);{Pt.ce&&Pt.ce._def.shadowRoot!==!1&&Pt.ce._injectChildStyle(kt);const an=S.subTree=Gc(S);m(null,an,C,A,S,I,B),v.el=an.el}if(We&&xt(We,I),!on&&(oe=Se&&Se.onVnodeMounted)){const an=v;xt(()=>cn(oe,Ne,an),I)}(v.shapeFlag&256||Ne&&Kr(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&S.a&&xt(S.a,I),S.isMounted=!0,v=C=A=null}};S.scope.on();const Q=S.effect=new Nd(K);S.scope.off();const W=S.update=Q.run.bind(Q),ye=S.job=Q.runIfDirty.bind(Q);ye.i=S,ye.id=S.uid,Q.scheduler=()=>Il(ye),hr(S,!0),W()},Z=(S,v,C)=>{v.component=S;const A=S.vnode.props;S.vnode=v,S.next=null,sg(S,v.props,A,C),cg(S,v.children,C),Rn(),Pc(S),On()},N=(S,v,C,A,I,B,U,K,Q=!1)=>{const W=S&&S.children,ye=S?S.shapeFlag:0,oe=v.children,{patchFlag:ve,shapeFlag:Se}=v;if(ve>0){if(ve&128){he(W,oe,C,A,I,B,U,K,Q);return}else if(ve&256){q(W,oe,C,A,I,B,U,K,Q);return}}Se&8?(ye&16&&at(W,I,B),oe!==W&&u(C,oe)):ye&16?Se&16?he(W,oe,C,A,I,B,U,K,Q):at(W,I,B,!0):(ye&8&&u(C,""),Se&16&&R(oe,C,A,I,B,U,K,Q))},q=(S,v,C,A,I,B,U,K,Q)=>{S=S||Ur,v=v||Ur;const W=S.length,ye=v.length,oe=Math.min(W,ye);let ve;for(ve=0;ve<oe;ve++){const Se=v[ve]=Q?Xn(v[ve]):dn(v[ve]);m(S[ve],Se,C,null,I,B,U,K,Q)}W>ye?at(S,I,B,!0,!1,oe):R(v,C,A,I,B,U,K,Q,oe)},he=(S,v,C,A,I,B,U,K,Q)=>{let W=0;const ye=v.length;let oe=S.length-1,ve=ye-1;for(;W<=oe&&W<=ve;){const Se=S[W],Oe=v[W]=Q?Xn(v[W]):dn(v[W]);if(bi(Se,Oe))m(Se,Oe,C,null,I,B,U,K,Q);else break;W++}for(;W<=oe&&W<=ve;){const Se=S[oe],Oe=v[ve]=Q?Xn(v[ve]):dn(v[ve]);if(bi(Se,Oe))m(Se,Oe,C,null,I,B,U,K,Q);else break;oe--,ve--}if(W>oe){if(W<=ve){const Se=ve+1,Oe=Se<ye?v[Se].el:A;for(;W<=ve;)m(null,v[W]=Q?Xn(v[W]):dn(v[W]),C,Oe,I,B,U,K,Q),W++}}else if(W>ve)for(;W<=oe;)xe(S[W],I,B,!0),W++;else{const Se=W,Oe=W,We=new Map;for(W=Oe;W<=ve;W++){const Mt=v[W]=Q?Xn(v[W]):dn(v[W]);Mt.key!=null&&We.set(Mt.key,W)}let Ne,Pt=0;const kt=ve-Oe+1;let on=!1,an=0;const yi=new Array(kt);for(W=0;W<kt;W++)yi[W]=0;for(W=Se;W<=oe;W++){const Mt=S[W];if(Pt>=kt){xe(Mt,I,B,!0);continue}let ln;if(Mt.key!=null)ln=We.get(Mt.key);else for(Ne=Oe;Ne<=ve;Ne++)if(yi[Ne-Oe]===0&&bi(Mt,v[Ne])){ln=Ne;break}ln===void 0?xe(Mt,I,B,!0):(yi[ln-Oe]=W+1,ln>=an?an=ln:on=!0,m(Mt,v[ln],C,null,I,B,U,K,Q),Pt++)}const wc=on?fg(yi):Ur;for(Ne=wc.length-1,W=kt-1;W>=0;W--){const Mt=Oe+W,ln=v[Mt],xc=v[Mt+1],_c=Mt+1<ye?xc.el||xc.placeholder:A;yi[W]===0?m(null,ln,C,_c,I,B,U,K,Q):on&&(Ne<0||W!==wc[Ne]?ge(ln,C,_c,2):Ne--)}}},ge=(S,v,C,A,I=null)=>{const{el:B,type:U,transition:K,children:Q,shapeFlag:W}=S;if(W&6){ge(S.component.subTree,v,C,A);return}if(W&128){S.suspense.move(v,C,A);return}if(W&64){U.move(S,v,C,me);return}if(U===je){r(B,v,C);for(let oe=0;oe<Q.length;oe++)ge(Q[oe],v,C,A);r(S.anchor,v,C);return}if(U===Ks){w(S,v,C);return}if(A!==2&&W&1&&K)if(A===0)K.beforeEnter(B),r(B,v,C),xt(()=>K.enter(B),I);else{const{leave:oe,delayLeave:ve,afterLeave:Se}=K,Oe=()=>{S.ctx.isUnmounted?i(B):r(B,v,C)},We=()=>{B._isLeaving&&B[B0](!0),oe(B,()=>{Oe(),Se&&Se()})};ve?ve(B,Oe,We):We()}else r(B,v,C)},xe=(S,v,C,A=!1,I=!1)=>{const{type:B,props:U,ref:K,children:Q,dynamicChildren:W,shapeFlag:ye,patchFlag:oe,dirs:ve,cacheIndex:Se}=S;if(oe===-2&&(I=!1),K!=null&&(Rn(),$i(K,null,C,S,!0),On()),Se!=null&&(v.renderCache[Se]=void 0),ye&256){v.ctx.deactivate(S);return}const Oe=ye&1&&ve,We=!Kr(S);let Ne;if(We&&(Ne=U&&U.onVnodeBeforeUnmount)&&cn(Ne,v,S),ye&6)pt(S.component,C,A);else{if(ye&128){S.suspense.unmount(C,A);return}Oe&&dr(S,null,v,"beforeUnmount"),ye&64?S.type.remove(S,v,C,me,A):W&&!W.hasOnce&&(B!==je||oe>0&&oe&64)?at(W,v,C,!1,!0):(B===je&&oe&384||!I&&ye&16)&&at(Q,v,C),A&&Ae(S)}(We&&(Ne=U&&U.onVnodeUnmounted)||Oe)&&xt(()=>{Ne&&cn(Ne,v,S),Oe&&dr(S,null,v,"unmounted")},C)},Ae=S=>{const{type:v,el:C,anchor:A,transition:I}=S;if(v===je){Ue(C,A);return}if(v===Ks){x(S);return}const B=()=>{i(C),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(S.shapeFlag&1&&I&&!I.persisted){const{leave:U,delayLeave:K}=I,Q=()=>U(C,B);K?K(S.el,B,Q):Q()}else B()},Ue=(S,v)=>{let C;for(;S!==v;)C=h(S),i(S),S=C;i(v)},pt=(S,v,C)=>{const{bum:A,scope:I,job:B,subTree:U,um:K,m:Q,a:W}=S;Fc(Q),Fc(W),A&&Ys(A),I.stop(),B&&(B.flags|=8,xe(U,S,v,C)),K&&xt(K,v),xt(()=>{S.isUnmounted=!0},v)},at=(S,v,C,A=!1,I=!1,B=0)=>{for(let U=B;U<S.length;U++)xe(S[U],v,C,A,I)},$=S=>{if(S.shapeFlag&6)return $(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const v=h(S.anchor||S.el),C=v&&v[lh];return C?h(C):v};let ue=!1;const ce=(S,v,C)=>{S==null?v._vnode&&xe(v._vnode,null,null,!0):m(v._vnode||null,S,v,null,null,null,C),v._vnode=S,ue||(ue=!0,Pc(),sh(),ue=!1)},me={p:m,um:xe,m:ge,r:Ae,mt:G,mc:R,pc:N,pbc:M,n:$,o:t};return{render:ce,hydrate:void 0,createApp:ng(ce)}}function la({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function hr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function hg(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Bl(t,e,n=!1){const r=t.children,i=e.children;if(be(r)&&be(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Xn(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Bl(o,a)),a.type===Lo&&a.patchFlag!==-1&&(a.el=o.el),a.type===Qt&&!a.el&&(a.el=o.el)}}function fg(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Rh(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Rh(e)}function Fc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const pg=Symbol.for("v-scx"),gg=()=>Tt(pg);function Gt(t,e){return ds(t,null,e)}function mg(t,e){return ds(t,null,{flush:"post"})}function yg(t,e){return ds(t,null,{flush:"sync"})}function Ce(t,e,n){return ds(t,e,n)}function ds(t,e,n=Ge){const{immediate:r,deep:i,flush:s,once:o}=n,a=vt({},n),l=e&&r||!e&&s!=="post";let c;if(ns){if(s==="sync"){const f=gg();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=fn,f.resume=fn,f.pause=fn,f}}const u=yt;a.call=(f,p,m)=>gn(f,u,p,m);let d=!1;s==="post"?a.scheduler=f=>{xt(f,u&&u.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(f,p)=>{p?f():Il(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=R0(t,e,a);return ns&&(c?c.push(h):l&&h()),h}function vg(t,e,n){const r=this.proxy,i=qe(t)?t.includes(".")?Oh(r,t):()=>r[t]:t.bind(r,r);let s;_e(e)?s=e:(s=e.handler,n=e);const o=hs(this),a=ds(i,s.bind(r),n);return o(),a}function Oh(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const bg=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Rt(e)}Modifiers`]||t[`${ir(e)}Modifiers`];function wg(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ge;let i=n;const s=e.startsWith("update:"),o=s&&bg(r,e.slice(7));o&&(o.trim&&(i=n.map(u=>qe(u)?u.trim():u)),o.number&&(i=n.map(So)));let a,l=r[a=Us(e)]||r[a=Us(Rt(e))];!l&&s&&(l=r[a=Us(ir(e))]),l&&gn(l,t,6,i);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,gn(c,t,6,i)}}const xg=new WeakMap;function Mh(t,e,n=!1){const r=n?xg:e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!_e(t)){const l=c=>{const u=Mh(c,e,!0);u&&(a=!0,vt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Fe(t)&&r.set(t,null),null):(be(s)?s.forEach(l=>o[l]=null):vt(o,s),Fe(t)&&r.set(t,o),o)}function Do(t,e){return!t||!wo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Le(t,e[0].toLowerCase()+e.slice(1))||Le(t,ir(e))||Le(t,e))}function Gc(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=t,y=so(t);let g,b;try{if(n.shapeFlag&4){const x=i||r,k=x;g=dn(c.call(k,x,u,d,f,h,p)),b=a}else{const x=e;g=dn(x.length>1?x(d,{attrs:a,slots:o,emit:l}):x(d,null)),b=e.props?a:_g(a)}}catch(x){Hi.length=0,Mo(x,t,1),g=ee(Qt)}let w=g;if(b&&m!==!1){const x=Object.keys(b),{shapeFlag:k}=w;x.length&&k&7&&(s&&x.some(El)&&(b=Sg(b,s)),w=er(w,b,!1,!0))}return n.dirs&&(w=er(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&Dl(w,n.transition),g=w,so(y),g}const _g=t=>{let e;for(const n in t)(n==="class"||n==="style"||wo(n))&&((e||(e={}))[n]=t[n]);return e},Sg=(t,e)=>{const n={};for(const r in t)(!El(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Cg(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?$c(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==r[h]&&!Do(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?$c(r,o,c):!0:!!o;return!1}function $c(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Do(n,s))return!0}return!1}function Eg({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ih=t=>t.__isSuspense;function Ag(t,e){e&&e.pendingBranch?be(t)?e.effects.push(...t):e.effects.push(t):I0(t)}const je=Symbol.for("v-fgt"),Lo=Symbol.for("v-txt"),Qt=Symbol.for("v-cmt"),Ks=Symbol.for("v-stc"),Hi=[];let Nt=null;function L(t=!1){Hi.push(Nt=t?null:[])}function Pg(){Hi.pop(),Nt=Hi[Hi.length-1]||null}let es=1;function co(t,e=!1){es+=t,t<0&&Nt&&e&&(Nt.hasOnce=!0)}function Dh(t){return t.dynamicChildren=es>0?Nt||Ur:null,Pg(),es>0&&Nt&&Nt.push(t),t}function te(t,e,n,r,i,s){return Dh(H(t,e,n,r,i,s,!0))}function de(t,e,n,r,i){return Dh(ee(t,e,n,r,i,!0))}function ts(t){return t?t.__v_isVNode===!0:!1}function bi(t,e){return t.type===e.type&&t.key===e.key}const Lh=({key:t})=>t??null,qs=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?qe(t)||Ke(t)||_e(t)?{i:dt,r:t,k:e,f:!!n}:t:null);function H(t,e=null,n=null,r=0,i=null,s=t===je?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Lh(e),ref:e&&qs(e),scopeId:ah,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:dt};return a?(Fl(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=qe(n)?8:16),es>0&&!o&&Nt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Nt.push(l),l}const ee=kg;function kg(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===mh)&&(t=Qt),ts(t)){const a=er(t,e,!0);return n&&Fl(a,n),es>0&&!s&&Nt&&(a.shapeFlag&6?Nt[Nt.indexOf(t)]=a:Nt.push(a)),a.patchFlag=-2,a}if(Bg(t)&&(t=t.__vccOpts),e){e=No(e);let{class:a,style:l}=e;a&&!qe(a)&&(e.class=ht(a)),Fe(l)&&(Ml(l)&&!be(l)&&(l=vt({},l)),e.style=nn(l))}const o=qe(t)?1:Ih(t)?128:D0(t)?64:Fe(t)?4:_e(t)?2:0;return H(t,e,n,r,i,o,s,!0)}function No(t){return t?Ml(t)||Ch(t)?vt({},t):t:null}function er(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?ke(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Lh(c),ref:e&&e.ref?n&&s?be(s)?s.concat(qs(e)):[s,qs(e)]:qs(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==je?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&er(t.ssContent),ssFallback:t.ssFallback&&er(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Dl(u,l.clone(u)),u}function Xe(t=" ",e=0){return ee(Lo,null,t,e)}function Nh(t,e){const n=ee(Ks,null,t);return n.staticCount=e,n}function Te(t="",e=!1){return e?(L(),de(Qt,null,t)):ee(Qt,null,t)}function dn(t){return t==null||typeof t=="boolean"?ee(Qt):be(t)?ee(je,null,t.slice()):ts(t)?Xn(t):ee(Lo,null,String(t))}function Xn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:er(t)}function Fl(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(be(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Fl(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Ch(e)?e._ctx=dt:i===3&&dt&&(dt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else _e(e)?(e={default:e,_ctx:dt},n=32):(e=String(e),r&64?(n=16,e=[Xe(e)]):n=8);t.children=e,t.shapeFlag|=n}function ke(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ht([e.class,r.class]));else if(i==="style")e.style=nn([e.style,r.style]);else if(wo(i)){const s=e[i],o=r[i];o&&s!==o&&!(be(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function cn(t,e,n,r=null){gn(t,e,7,[n,r])}const Tg=xh();let Rg=0;function Og(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Tg,s={uid:Rg++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ld(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ah(r,i),emitsOptions:Mh(r,i),emit:null,emitted:null,propsDefaults:Ge,inheritAttrs:r.inheritAttrs,ctx:Ge,data:Ge,props:Ge,attrs:Ge,slots:Ge,refs:Ge,setupState:Ge,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=wg.bind(null,s),t.ce&&t.ce(s),s}let yt=null;const At=()=>yt||dt;let uo,Ua;{const t=Co(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};uo=e("__VUE_INSTANCE_SETTERS__",n=>yt=n),Ua=e("__VUE_SSR_SETTERS__",n=>ns=n)}const hs=t=>{const e=yt;return uo(t),t.scope.on(),()=>{t.scope.off(),uo(e)}},Wc=()=>{yt&&yt.scope.off(),uo(null)};function Bh(t){return t.vnode.shapeFlag&4}let ns=!1;function Mg(t,e=!1,n=!1){e&&Ua(e);const{props:r,children:i}=t.vnode,s=Bh(t);ig(t,r,s,e),lg(t,i,n||e);const o=s?Ig(t,e):void 0;return e&&Ua(!1),o}function Ig(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,X0);const{setup:r}=n;if(r){Rn();const i=t.setupContext=r.length>1?Lg(t):null,s=hs(t),o=us(r,t,0,[t.props,i]),a=kd(o);if(On(),s(),(a||t.sp)&&!Kr(t)&&dh(t),a){if(o.then(Wc,Wc),e)return o.then(l=>{Hc(t,l)}).catch(l=>{Mo(l,t,0)});t.asyncDep=o}else Hc(t,o)}else Fh(t)}function Hc(t,e,n){_e(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Fe(e)&&(t.setupState=eh(e)),Fh(t)}function Fh(t,e,n){const r=t.type;t.render||(t.render=r.render||fn);{const i=hs(t);Rn();try{q0(t)}finally{On(),i()}}}const Dg={get(t,e){return mt(t,"get",""),t[e]}};function Lg(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Dg),slots:t.slots,emit:t.emit,expose:e}}function Bo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(eh(Oo(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Wi)return Wi[n](t)},has(e,n){return n in e||n in Wi}})):t.proxy}function Ng(t,e=!0){return _e(t)?t.displayName||t.name:t.name||e&&t.__name}function Bg(t){return _e(t)&&"__vccOpts"in t}const j=(t,e)=>k0(t,e,ns);function Et(t,e,n){try{co(-1);const r=arguments.length;return r===2?Fe(e)&&!be(e)?ts(e)?ee(t,null,[e]):ee(t,e):ee(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ts(n)&&(n=[n]),ee(t,e,n))}finally{co(1)}}const Fg="3.5.24";let Ya;const Vc=typeof window<"u"&&window.trustedTypes;if(Vc)try{Ya=Vc.createPolicy("vue",{createHTML:t=>t})}catch{}const Gh=Ya?t=>Ya.createHTML(t):t=>t,Gg="http://www.w3.org/2000/svg",$g="http://www.w3.org/1998/Math/MathML",An=typeof document<"u"?document:null,zc=An&&An.createElement("template"),Wg={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?An.createElementNS(Gg,t):e==="mathml"?An.createElementNS($g,t):n?An.createElement(t,{is:n}):An.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>An.createTextNode(t),createComment:t=>An.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>An.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{zc.innerHTML=Gh(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=zc.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Hg=Symbol("_vtc");function Vg(t,e,n){const r=t[Hg];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ho=Symbol("_vod"),$h=Symbol("_vsh"),Vi={name:"show",beforeMount(t,{value:e},{transition:n}){t[ho]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):wi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),wi(t,!0),r.enter(t)):r.leave(t,()=>{wi(t,!1)}):wi(t,e))},beforeUnmount(t,{value:e}){wi(t,e)}};function wi(t,e){t.style.display=e?t[ho]:"none",t[$h]=!e}const zg=Symbol(""),jg=/(?:^|;)\s*display\s*:/;function Ug(t,e,n){const r=t.style,i=qe(n);let s=!1;if(n&&!i){if(e)if(qe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Js(r,a,"")}else for(const o in e)n[o]==null&&Js(r,o,"");for(const o in n)o==="display"&&(s=!0),Js(r,o,n[o])}else if(i){if(e!==n){const o=r[zg];o&&(n+=";"+o),r.cssText=n,s=jg.test(n)}}else e&&t.removeAttribute("style");ho in t&&(t[ho]=s?r.display:"",t[$h]&&(r.display="none"))}const jc=/\s*!important$/;function Js(t,e,n){if(be(n))n.forEach(r=>Js(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Yg(t,e);jc.test(n)?t.setProperty(ir(r),n.replace(jc,""),"important"):t[r]=n}}const Uc=["Webkit","Moz","ms"],ca={};function Yg(t,e){const n=ca[e];if(n)return n;let r=Rt(e);if(r!=="filter"&&r in t)return ca[e]=r;r=_o(r);for(let i=0;i<Uc.length;i++){const s=Uc[i]+r;if(s in t)return ca[e]=s}return e}const Yc="http://www.w3.org/1999/xlink";function Xc(t,e,n,r,i,s=e0(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Yc,e.slice(6,e.length)):t.setAttributeNS(Yc,e,n):n==null||s&&!Md(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Jt(n)?String(n):n)}function Kc(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Gh(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Md(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Tn(t,e,n,r){t.addEventListener(e,n,r)}function Xg(t,e,n,r){t.removeEventListener(e,n,r)}const qc=Symbol("_vei");function Kg(t,e,n,r,i=null){const s=t[qc]||(t[qc]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=qg(e);if(r){const c=s[e]=Zg(r,i);Tn(t,a,c,l)}else o&&(Xg(t,a,o,l),s[e]=void 0)}}const Jc=/(?:Once|Passive|Capture)$/;function qg(t){let e;if(Jc.test(t)){e={};let r;for(;r=t.match(Jc);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ir(t.slice(2)),e]}let ua=0;const Jg=Promise.resolve(),Qg=()=>ua||(Jg.then(()=>ua=0),ua=Date.now());function Zg(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;gn(em(r,n.value),e,5,[r])};return n.value=t,n.attached=Qg(),n}function em(t,e){if(be(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Qc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,tm=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?Vg(t,r,o):e==="style"?Ug(t,n,r):wo(e)?El(e)||Kg(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nm(t,e,r,o))?(Kc(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Xc(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!qe(r))?Kc(t,Rt(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Xc(t,e,r,o))};function nm(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Qc(e)&&_e(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Qc(e)&&qe(n)?!1:e in t}const tr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return be(e)?n=>Ys(e,n):e};function rm(t){t.target.composing=!0}function Zc(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const zt=Symbol("_assign");function eu(t,e,n){return e&&(t=t.trim()),n&&(t=So(t)),t}const ei={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[zt]=tr(i);const s=r||i.props&&i.props.type==="number";Tn(t,e?"change":"input",o=>{o.target.composing||t[zt](eu(t.value,n,s))}),(n||s)&&Tn(t,"change",()=>{t.value=eu(t.value,n,s)}),e||(Tn(t,"compositionstart",rm),Tn(t,"compositionend",Zc),Tn(t,"change",Zc))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[zt]=tr(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?So(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},im={deep:!0,created(t,e,n){t[zt]=tr(n),Tn(t,"change",()=>{const r=t._modelValue,i=ti(t),s=t.checked,o=t[zt];if(be(r)){const a=kl(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const c=[...r];c.splice(a,1),o(c)}}else if(li(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(Wh(t,s))})},mounted:tu,beforeUpdate(t,e,n){t[zt]=tr(n),tu(t,e,n)}};function tu(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if(be(e))i=kl(e,r.props.value)>-1;else if(li(e))i=e.has(r.props.value);else{if(e===n)return;i=Sr(e,Wh(t,!0))}t.checked!==i&&(t.checked=i)}const sm={created(t,{value:e},n){t.checked=Sr(e,n.props.value),t[zt]=tr(n),Tn(t,"change",()=>{t[zt](ti(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[zt]=tr(r),e!==n&&(t.checked=Sr(e,r.props.value))}},fo={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=li(e);Tn(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?So(ti(o)):ti(o));t[zt](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Be(()=>{t._assigning=!1})}),t[zt]=tr(r)},mounted(t,{value:e}){nu(t,e)},beforeUpdate(t,e,n){t[zt]=tr(n)},updated(t,{value:e}){t._assigning||nu(t,e)}};function nu(t,e){const n=t.multiple,r=be(e);if(!(n&&!r&&!li(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=ti(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=kl(e,a)>-1}else o.selected=e.has(a);else if(Sr(ti(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ti(t){return"_value"in t?t._value:t.value}function Wh(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Y9={created(t,e,n){Ss(t,e,n,null,"created")},mounted(t,e,n){Ss(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Ss(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Ss(t,e,n,r,"updated")}};function om(t,e){switch(t){case"SELECT":return fo;case"TEXTAREA":return ei;default:switch(e){case"checkbox":return im;case"radio":return sm;default:return ei}}}function Ss(t,e,n,r,i){const o=om(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}const am=["ctrl","shift","alt","meta"],lm={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>am.some(n=>t[`${n}Key`]&&!e.includes(n))},Dt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((i,...s)=>{for(let o=0;o<e.length;o++){const a=lm[e[o]];if(a&&a(i,e))return}return t(i,...s)}))},cm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Qs=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(i=>{if(!("key"in i))return;const s=ir(i.key);if(e.some(o=>o===s||cm[o]===s))return t(i)}))},um=vt({patchProp:tm},Wg);let ru;function dm(){return ru||(ru=ug(um))}const hm=((...t)=>{const e=dm().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=pm(r);if(!i)return;const s=e._component;!_e(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,fm(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function fm(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function pm(t){return qe(t)?document.querySelector(t):t}let Hh;const Fo=t=>Hh=t,Vh=Symbol();function Xa(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var zi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(zi||(zi={}));function gm(){const t=Ao(!0),e=t.run(()=>V({}));let n=[],r=[];const i=Oo({install(s){Fo(i),i._a=s,s.provide(Vh,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return this._a?n.push(s):r.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const zh=()=>{};function iu(t,e,n,r=zh){t.add(e);const i=()=>{t.delete(e)&&r()};return!n&&ci()&&cs(i),i}function Lr(t,...e){t.forEach(n=>{n(...e)})}const mm=t=>t(),su=Symbol(),da=Symbol();function Ka(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Xa(i)&&Xa(r)&&t.hasOwnProperty(n)&&!Ke(r)&&!Qn(r)?t[n]=Ka(i,r):t[n]=r}return t}const ym=Symbol();function vm(t){return!Xa(t)||!Object.prototype.hasOwnProperty.call(t,ym)}const{assign:Vn}=Object;function bm(t){return!!(Ke(t)&&t.effect)}function wm(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=vn(n.state.value[t]);return Vn(u,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=Oo(j(()=>{Fo(n);const f=n._s.get(t);return o[h].call(f,f)})),d),{}))}return l=jh(t,c,e,n,r,!0),l}function jh(t,e,n={},r,i,s){let o;const a=Vn({actions:{}},n),l={deep:!0};let c,u,d=new Set,h=new Set,f;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),V({});let m;function y(R){let D;c=u=!1,typeof R=="function"?(R(r.state.value[t]),D={type:zi.patchFunction,storeId:t,events:f}):(Ka(r.state.value[t],R),D={type:zi.patchObject,payload:R,storeId:t,events:f});const M=m=Symbol();Be().then(()=>{m===M&&(c=!0)}),u=!0,Lr(d,D,r.state.value[t])}const g=s?function(){const{state:D}=n,M=D?D():{};this.$patch(Y=>{Vn(Y,M)})}:zh;function b(){o.stop(),d.clear(),h.clear(),r._s.delete(t)}const w=(R,D="")=>{if(su in R)return R[da]=D,R;const M=function(){Fo(r);const Y=Array.from(arguments),X=new Set,le=new Set;function G(Z){X.add(Z)}function z(Z){le.add(Z)}Lr(h,{args:Y,name:M[da],store:k,after:G,onError:z});let F;try{F=R.apply(this&&this.$id===t?this:k,Y)}catch(Z){throw Lr(le,Z),Z}return F instanceof Promise?F.then(Z=>(Lr(X,Z),Z)).catch(Z=>(Lr(le,Z),Promise.reject(Z))):(Lr(X,F),F)};return M[su]=!0,M[da]=D,M},x={_p:r,$id:t,$onAction:iu.bind(null,h),$patch:y,$reset:g,$subscribe(R,D={}){const M=iu(d,R,D.detached,()=>Y()),Y=o.run(()=>Ce(()=>r.state.value[t],X=>{(D.flush==="sync"?u:c)&&R({storeId:t,type:zi.direct,events:f},X)},Vn({},l,D)));return M},$dispose:b},k=Ar(x);r._s.set(t,k);const T=(r._a&&r._a.runWithContext||mm)(()=>r._e.run(()=>(o=Ao()).run(()=>e({action:w}))));for(const R in T){const D=T[R];if(Ke(D)&&!bm(D)||Qn(D))s||(p&&vm(D)&&(Ke(D)?D.value=p[R]:Ka(D,p[R])),r.state.value[t][R]=D);else if(typeof D=="function"){const M=w(D,R);T[R]=M,a.actions[R]=D}}return Vn(k,T),Vn(Me(k),T),Object.defineProperty(k,"$state",{get:()=>r.state.value[t],set:R=>{y(D=>{Vn(D,R)})}}),r._p.forEach(R=>{Vn(k,o.run(()=>R({store:k,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(k.$state,p),c=!0,u=!0,k}function Gl(t,e,n){let r;const i=typeof e=="function";r=i?n:e;function s(o,a){const l=rg();return o=o||(l?Tt(Vh,null):null),o&&Fo(o),o=Hh,o._s.has(t)||(i?jh(t,e,r,o):wm(t,r,o)),o._s.get(t)}return s.$id=t,s}const Vr=typeof document<"u";function Uh(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function xm(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Uh(t.default)}const De=Object.assign;function ha(t,e){const n={};for(const r in e){const i=e[r];n[r]=Zt(i)?i.map(t):t(i)}return n}const ji=()=>{},Zt=Array.isArray;function ou(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const Yh=/#/g,_m=/&/g,Sm=/\//g,Cm=/=/g,Em=/\?/g,Xh=/\+/g,Am=/%5B/g,Pm=/%5D/g,Kh=/%5E/g,km=/%60/g,qh=/%7B/g,Tm=/%7C/g,Jh=/%7D/g,Rm=/%20/g;function $l(t){return t==null?"":encodeURI(""+t).replace(Tm,"|").replace(Am,"[").replace(Pm,"]")}function Om(t){return $l(t).replace(qh,"{").replace(Jh,"}").replace(Kh,"^")}function qa(t){return $l(t).replace(Xh,"%2B").replace(Rm,"+").replace(Yh,"%23").replace(_m,"%26").replace(km,"`").replace(qh,"{").replace(Jh,"}").replace(Kh,"^")}function Mm(t){return qa(t).replace(Cm,"%3D")}function Im(t){return $l(t).replace(Yh,"%23").replace(Em,"%3F")}function Dm(t){return Im(t).replace(Sm,"%2F")}function rs(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Lm=/\/$/,Nm=t=>t.replace(Lm,"");function fa(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(r=e.slice(0,l),s=e.slice(l,a>0?a:e.length),i=t(s.slice(1))),a>=0&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=$m(r??e,n),{fullPath:r+s+o,path:r,query:i,hash:rs(o)}}function Bm(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function au(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Fm(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ni(e.matched[r],n.matched[i])&&Qh(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ni(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Qh(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Gm(t[n],e[n]))return!1;return!0}function Gm(t,e){return Zt(t)?lu(t,e):Zt(e)?lu(e,t):t===e}function lu(t,e){return Zt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function $m(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Wn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ja=(function(t){return t.pop="pop",t.push="push",t})({}),pa=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Wm(t){if(!t)if(Vr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Nm(t)}const Hm=/^[^#]+#/;function Vm(t,e){return t.replace(Hm,"#")+e}function zm(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Go=()=>({left:window.scrollX,top:window.scrollY});function jm(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=zm(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function cu(t,e){return(history.state?history.state.position-e:-1)+t}const Qa=new Map;function Um(t,e){Qa.set(t,e)}function Ym(t){const e=Qa.get(t);return Qa.delete(t),e}function Xm(t){return typeof t=="string"||t&&typeof t=="object"}function Zh(t){return typeof t=="string"||typeof t=="symbol"}let Ze=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const ef=Symbol("");Ze.MATCHER_NOT_FOUND+"",Ze.NAVIGATION_GUARD_REDIRECT+"",Ze.NAVIGATION_ABORTED+"",Ze.NAVIGATION_CANCELLED+"",Ze.NAVIGATION_DUPLICATED+"";function ri(t,e){return De(new Error,{type:t,[ef]:!0},e)}function _n(t,e){return t instanceof Error&&ef in t&&(e==null||!!(t.type&e))}const Km=["params","query","hash"];function qm(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of Km)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function Jm(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Xh," "),s=i.indexOf("="),o=rs(s<0?i:i.slice(0,s)),a=s<0?null:rs(i.slice(s+1));if(o in e){let l=e[o];Zt(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function uu(t){let e="";for(let n in t){const r=t[n];if(n=Mm(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Zt(r)?r.map(i=>i&&qa(i)):[r&&qa(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Qm(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Zt(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const Zm=Symbol(""),du=Symbol(""),$o=Symbol(""),Wl=Symbol(""),Za=Symbol("");function xi(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Kn(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(ri(Ze.NAVIGATION_ABORTED,{from:n,to:e})):h instanceof Error?l(h):Xm(h)?l(ri(Ze.NAVIGATION_GUARD_REDIRECT,{from:e,to:h})):(o&&r.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},u=s(()=>t.call(r&&r.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function ga(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Uh(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Kn(c,n,r,o,a,i))}else{let c=l();s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=xm(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&Kn(h,n,r,o,a,i)()}))}}return s}function e1(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>ni(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>ni(c,l))||i.push(l))}return[n,r,i]}let t1=()=>location.protocol+"//"+location.host;function tf(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),au(a,"")}return au(n,t)+r+i}function n1(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const f=tf(t,location),p=n.value,m=e.value;let y=0;if(h){if(n.value=f,e.value=h,o&&o===p){o=null;return}y=m?h.position-m.position:0}else r(f);i.forEach(g=>{g(n.value,p,{delta:y,type:Ja.pop,direction:y?y>0?pa.forward:pa.back:pa.unknown})})};function l(){o=n.value}function c(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(De({},h.state,{scroll:Go()}),"")}}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:d}}function hu(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Go():null}}function r1(t){const{history:e,location:n}=window,r={value:tf(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:t1()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](h)}}function o(l,c){s(l,De({},e.state,hu(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),r.value=l}function a(l,c){const u=De({},i.value,e.state,{forward:l,scroll:Go()});s(u.current,u,!0),s(l,De({},hu(r.value,l,null),{position:u.position+1},c),!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function i1(t){t=Wm(t);const e=r1(t),n=n1(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=De({location:"",base:t,go:r,createHref:Vm.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function s1(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),i1(t)}let yr=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var rt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(rt||{});const o1={type:yr.Static,value:""},a1=/[a-zA-Z0-9_]/;function l1(t){if(!t)return[[]];if(t==="/")return[[o1]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=rt.Static,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",u="";function d(){c&&(n===rt.Static?s.push({type:yr.Static,value:c}):n===rt.Param||n===rt.ParamRegExp||n===rt.ParamRegExpEnd?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:yr.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==rt.ParamRegExp){r=n,n=rt.EscapeNext;continue}switch(n){case rt.Static:l==="/"?(c&&d(),o()):l===":"?(d(),n=rt.Param):h();break;case rt.EscapeNext:h(),n=r;break;case rt.Param:l==="("?n=rt.ParamRegExp:a1.test(l)?h():(d(),n=rt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case rt.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=rt.ParamRegExpEnd:u+=l;break;case rt.ParamRegExpEnd:d(),n=rt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===rt.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}const fu="[^/]+?",c1={sensitive:!1,strict:!1,start:!0,end:!0};var _t=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(_t||{});const u1=/[.+*?^${}()[\]/\\]/g;function d1(t,e){const n=De({},c1,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const u=c.length?[]:[_t.Root];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=_t.Segment+(n.sensitive?_t.BonusCaseSensitive:0);if(h.type===yr.Static)d||(i+="/"),i+=h.value.replace(u1,"\\$&"),f+=_t.Static;else if(h.type===yr.Param){const{value:p,repeatable:m,optional:y,regexp:g}=h;s.push({name:p,repeatable:m,optional:y});const b=g||fu;if(b!==fu){f+=_t.BonusCustomRegExp;try{`${b}`}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+x.message)}}let w=m?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(w=y&&c.length<2?`(?:/${w})`:"/"+w),y&&(w+="?"),i+=w,f+=_t.Dynamic,y&&(f+=_t.BonusOptional),m&&(f+=_t.BonusRepeatable),b===".*"&&(f+=_t.BonusWildcard)}u.push(f)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=_t.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",p=s[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===yr.Static)u+=f.value;else if(f.type===yr.Param){const{value:p,repeatable:m,optional:y}=f,g=p in c?c[p]:"";if(Zt(g)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=Zt(g)?g.join("/"):g;if(!b)if(y)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=b}}return u||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function h1(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===_t.Static+_t.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===_t.Static+_t.Segment?1:-1:0}function nf(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=h1(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(pu(r))return 1;if(pu(i))return-1}return i.length-r.length}function pu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const f1={strict:!1,end:!0,sensitive:!1};function p1(t,e,n){const r=d1(l1(t.path),n),i=De(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function g1(t,e){const n=[],r=new Map;e=ou(f1,e);function i(d){return r.get(d)}function s(d,h,f){const p=!f,m=mu(d);m.aliasOf=f&&f.record;const y=ou(e,d),g=[m];if("alias"in d){const x=typeof d.alias=="string"?[d.alias]:d.alias;for(const k of x)g.push(mu(De({},m,{components:f?f.record.components:m.components,path:k,aliasOf:f?f.record:m})))}let b,w;for(const x of g){const{path:k}=x;if(h&&k[0]!=="/"){const P=h.record.path,T=P[P.length-1]==="/"?"":"/";x.path=h.record.path+(k&&T+k)}if(b=p1(x,h,y),f?f.alias.push(b):(w=w||b,w!==b&&w.alias.push(b),p&&d.name&&!yu(b)&&o(d.name)),rf(b)&&l(b),m.children){const P=m.children;for(let T=0;T<P.length;T++)s(P[T],b,f&&f.children[T])}f=f||b}return w?()=>{o(w)}:ji}function o(d){if(Zh(d)){const h=r.get(d);h&&(r.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const h=v1(d,n);n.splice(h,0,d),d.record.name&&!yu(d)&&r.set(d.record.name,d)}function c(d,h){let f,p={},m,y;if("name"in d&&d.name){if(f=r.get(d.name),!f)throw ri(Ze.MATCHER_NOT_FOUND,{location:d});y=f.record.name,p=De(gu(h.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),d.params&&gu(d.params,f.keys.map(w=>w.name))),m=f.stringify(p)}else if(d.path!=null)m=d.path,f=n.find(w=>w.re.test(m)),f&&(p=f.parse(m),y=f.record.name);else{if(f=h.name?r.get(h.name):n.find(w=>w.re.test(h.path)),!f)throw ri(Ze.MATCHER_NOT_FOUND,{location:d,currentLocation:h});y=f.record.name,p=De({},h.params,d.params),m=f.stringify(p)}const g=[];let b=f;for(;b;)g.unshift(b.record),b=b.parent;return{name:y,path:m,params:p,matched:g,meta:y1(g)}}t.forEach(d=>s(d));function u(){n.length=0,r.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function gu(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function mu(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:m1(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function m1(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function yu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function y1(t){return t.reduce((e,n)=>De(e,n.meta),{})}function v1(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;nf(t,e[s])<0?r=s:n=s+1}const i=b1(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function b1(t){let e=t;for(;e=e.parent;)if(rf(e)&&nf(t,e)===0)return e}function rf({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function vu(t){const e=Tt($o),n=Tt(Wl),r=j(()=>{const l=_(t.to);return e.resolve(l)}),i=j(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(ni.bind(null,u));if(h>-1)return h;const f=bu(l[c-2]);return c>1&&bu(u)===f&&d[d.length-1].path!==f?d.findIndex(ni.bind(null,l[c-2])):h}),s=j(()=>i.value>-1&&C1(n.params,r.value.params)),o=j(()=>i.value>-1&&i.value===n.matched.length-1&&Qh(n.params,r.value.params));function a(l={}){if(S1(l)){const c=e[_(t.replace)?"replace":"push"](_(t.to)).catch(ji);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:j(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function w1(t){return t.length===1?t[0]:t}const x1=ae({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:vu,setup(t,{slots:e}){const n=Ar(vu(t)),{options:r}=Tt($o),i=j(()=>({[wu(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[wu(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&w1(e.default(n));return t.custom?s:Et("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),_1=x1;function S1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function C1(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Zt(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function bu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const wu=(t,e,n)=>t??e??n,E1=ae({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Tt(Za),i=j(()=>t.route||r.value),s=Tt(du,0),o=j(()=>{let c=_(s);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=j(()=>i.value.matched[o.value]);qr(du,j(()=>o.value+1)),qr(Zm,a),qr(Za,i);const l=V();return Ce(()=>[l.value,a.value,t.name],([c,u,d],[h,f,p])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!ni(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return xu(n.default,{Component:h,route:c});const f=d.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,y=Et(h,De({},p,e,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return xu(n.default,{Component:y,route:c})||y}}});function xu(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const A1=E1;function P1(t){const e=g1(t.routes,t),n=t.parseQuery||Jm,r=t.stringifyQuery||uu,i=t.history,s=xi(),o=xi(),a=xi(),l=ui(Wn);let c=Wn;Vr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ha.bind(null,$=>""+$),d=ha.bind(null,Dm),h=ha.bind(null,rs);function f($,ue){let ce,me;return Zh($)?(ce=e.getRecordMatcher($),me=ue):me=$,e.addRoute(me,ce)}function p($){const ue=e.getRecordMatcher($);ue&&e.removeRoute(ue)}function m(){return e.getRoutes().map($=>$.record)}function y($){return!!e.getRecordMatcher($)}function g($,ue){if(ue=De({},ue||l.value),typeof $=="string"){const C=fa(n,$,ue.path),A=e.resolve({path:C.path},ue),I=i.createHref(C.fullPath);return De(C,A,{params:h(A.params),hash:rs(C.hash),redirectedFrom:void 0,href:I})}let ce;if($.path!=null)ce=De({},$,{path:fa(n,$.path,ue.path).path});else{const C=De({},$.params);for(const A in C)C[A]==null&&delete C[A];ce=De({},$,{params:d(C)}),ue.params=d(ue.params)}const me=e.resolve(ce,ue),Ee=$.hash||"";me.params=u(h(me.params));const S=Bm(r,De({},$,{hash:Om(Ee),path:me.path})),v=i.createHref(S);return De({fullPath:S,hash:Ee,query:r===uu?Qm($.query):$.query||{}},me,{redirectedFrom:void 0,href:v})}function b($){return typeof $=="string"?fa(n,$,l.value.path):De({},$)}function w($,ue){if(c!==$)return ri(Ze.NAVIGATION_CANCELLED,{from:ue,to:$})}function x($){return T($)}function k($){return x(De(b($),{replace:!0}))}function P($,ue){const ce=$.matched[$.matched.length-1];if(ce&&ce.redirect){const{redirect:me}=ce;let Ee=typeof me=="function"?me($,ue):me;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=b(Ee):{path:Ee},Ee.params={}),De({query:$.query,hash:$.hash,params:Ee.path!=null?{}:$.params},Ee)}}function T($,ue){const ce=c=g($),me=l.value,Ee=$.state,S=$.force,v=$.replace===!0,C=P(ce,me);if(C)return T(De(b(C),{state:typeof C=="object"?De({},Ee,C.state):Ee,force:S,replace:v}),ue||ce);const A=ce;A.redirectedFrom=ue;let I;return!S&&Fm(r,me,ce)&&(I=ri(Ze.NAVIGATION_DUPLICATED,{to:A,from:me}),ge(me,me,!0,!1)),(I?Promise.resolve(I):M(A,me)).catch(B=>_n(B)?_n(B,Ze.NAVIGATION_GUARD_REDIRECT)?B:he(B):N(B,A,me)).then(B=>{if(B){if(_n(B,Ze.NAVIGATION_GUARD_REDIRECT))return T(De({replace:v},b(B.to),{state:typeof B.to=="object"?De({},Ee,B.to.state):Ee,force:S}),ue||A)}else B=X(A,me,!0,v,Ee);return Y(A,me,B),B})}function R($,ue){const ce=w($,ue);return ce?Promise.reject(ce):Promise.resolve()}function D($){const ue=Ue.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext($):$()}function M($,ue){let ce;const[me,Ee,S]=e1($,ue);ce=ga(me.reverse(),"beforeRouteLeave",$,ue);for(const C of me)C.leaveGuards.forEach(A=>{ce.push(Kn(A,$,ue))});const v=R.bind(null,$,ue);return ce.push(v),at(ce).then(()=>{ce=[];for(const C of s.list())ce.push(Kn(C,$,ue));return ce.push(v),at(ce)}).then(()=>{ce=ga(Ee,"beforeRouteUpdate",$,ue);for(const C of Ee)C.updateGuards.forEach(A=>{ce.push(Kn(A,$,ue))});return ce.push(v),at(ce)}).then(()=>{ce=[];for(const C of S)if(C.beforeEnter)if(Zt(C.beforeEnter))for(const A of C.beforeEnter)ce.push(Kn(A,$,ue));else ce.push(Kn(C.beforeEnter,$,ue));return ce.push(v),at(ce)}).then(()=>($.matched.forEach(C=>C.enterCallbacks={}),ce=ga(S,"beforeRouteEnter",$,ue,D),ce.push(v),at(ce))).then(()=>{ce=[];for(const C of o.list())ce.push(Kn(C,$,ue));return ce.push(v),at(ce)}).catch(C=>_n(C,Ze.NAVIGATION_CANCELLED)?C:Promise.reject(C))}function Y($,ue,ce){a.list().forEach(me=>D(()=>me($,ue,ce)))}function X($,ue,ce,me,Ee){const S=w($,ue);if(S)return S;const v=ue===Wn,C=Vr?history.state:{};ce&&(me||v?i.replace($.fullPath,De({scroll:v&&C&&C.scroll},Ee)):i.push($.fullPath,Ee)),l.value=$,ge($,ue,ce,v),he()}let le;function G(){le||(le=i.listen(($,ue,ce)=>{if(!pt.listening)return;const me=g($),Ee=P(me,pt.currentRoute.value);if(Ee){T(De(Ee,{replace:!0,force:!0}),me).catch(ji);return}c=me;const S=l.value;Vr&&Um(cu(S.fullPath,ce.delta),Go()),M(me,S).catch(v=>_n(v,Ze.NAVIGATION_ABORTED|Ze.NAVIGATION_CANCELLED)?v:_n(v,Ze.NAVIGATION_GUARD_REDIRECT)?(T(De(b(v.to),{force:!0}),me).then(C=>{_n(C,Ze.NAVIGATION_ABORTED|Ze.NAVIGATION_DUPLICATED)&&!ce.delta&&ce.type===Ja.pop&&i.go(-1,!1)}).catch(ji),Promise.reject()):(ce.delta&&i.go(-ce.delta,!1),N(v,me,S))).then(v=>{v=v||X(me,S,!1),v&&(ce.delta&&!_n(v,Ze.NAVIGATION_CANCELLED)?i.go(-ce.delta,!1):ce.type===Ja.pop&&_n(v,Ze.NAVIGATION_ABORTED|Ze.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),Y(me,S,v)}).catch(ji)}))}let z=xi(),F=xi(),Z;function N($,ue,ce){he($);const me=F.list();return me.length?me.forEach(Ee=>Ee($,ue,ce)):console.error($),Promise.reject($)}function q(){return Z&&l.value!==Wn?Promise.resolve():new Promise(($,ue)=>{z.add([$,ue])})}function he($){return Z||(Z=!$,G(),z.list().forEach(([ue,ce])=>$?ce($):ue()),z.reset()),$}function ge($,ue,ce,me){const{scrollBehavior:Ee}=t;if(!Vr||!Ee)return Promise.resolve();const S=!ce&&Ym(cu($.fullPath,0))||(me||!ce)&&history.state&&history.state.scroll||null;return Be().then(()=>Ee($,ue,S)).then(v=>v&&jm(v)).catch(v=>N(v,$,ue))}const xe=$=>i.go($);let Ae;const Ue=new Set,pt={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:m,resolve:g,options:t,push:x,replace:k,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:F.add,isReady:q,install($){$.component("RouterLink",_1),$.component("RouterView",A1),$.config.globalProperties.$router=pt,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>_(l)}),Vr&&!Ae&&l.value===Wn&&(Ae=!0,x(i.location).catch(me=>{}));const ue={};for(const me in Wn)Object.defineProperty(ue,me,{get:()=>l.value[me],enumerable:!0});$.provide($o,pt),$.provide(Wl,Qd(ue)),$.provide(Za,l);const ce=$.unmount;Ue.add($),$.unmount=function(){Ue.delete($),Ue.size<1&&(c=Wn,le&&le(),le=null,l.value=Wn,Ae=!1,Z=!1),ce()}}};function at($){return $.reduce((ue,ce)=>ue.then(()=>D(ce)),Promise.resolve())}return pt}function k1(){return Tt($o)}function Wo(t){return Tt(Wl)}const lt=[];for(let t=0;t<256;++t)lt.push((t+256).toString(16).slice(1));function T1(t,e=0){return(lt[t[e+0]]+lt[t[e+1]]+lt[t[e+2]]+lt[t[e+3]]+"-"+lt[t[e+4]]+lt[t[e+5]]+"-"+lt[t[e+6]]+lt[t[e+7]]+"-"+lt[t[e+8]]+lt[t[e+9]]+"-"+lt[t[e+10]]+lt[t[e+11]]+lt[t[e+12]]+lt[t[e+13]]+lt[t[e+14]]+lt[t[e+15]]).toLowerCase()}let ma;const R1=new Uint8Array(16);function O1(){if(!ma){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ma=crypto.getRandomValues.bind(crypto)}return ma(R1)}const M1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_u={randomUUID:M1};function I1(t,e,n){t=t||{};const r=t.random??t.rng?.()??O1();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,T1(r)}function el(t,e,n){return _u.randomUUID&&!t?_u.randomUUID():I1(t)}const fs=Gl("textures",()=>{const t=V([]),e=V({});function n(){localStorage.setItem("generatedTextures",JSON.stringify(t.value))}function r(c){t.value.push({...c,id:c.id||el(),generated:!0}),n()}function i(c,u){const d=t.value.findIndex(h=>h.id===c);d>-1?(u.generated=!0,t.value[d]=u,n()):r(u)}function s(c){const u=t.value.findIndex(d=>d.id===c);u>-1&&(t.value.splice(u,1),n())}function o(c,u){const d=t.value.find(h=>h.id===c);d&&(d.name=u,n())}function a(c,u){e.value[c]=u,localStorage.setItem("presetThumbnails",JSON.stringify(e.value))}function l(){const c=localStorage.getItem("generatedTextures");if(c){const d=JSON.parse(c);t.value=Array.isArray(d)?d.map(h=>({...h,generated:!0})):[]}const u=localStorage.getItem("presetThumbnails");u&&(e.value=JSON.parse(u))}return{generatedTextures:t,presetThumbnails:e,addGeneratedTexture:r,updateGeneratedTexture:i,removeGeneratedTexture:s,updateTextureName:o,savePresetThumbnail:a,load:l}}),D1={class:"flex flex-col items-center min-h-screen min-w-screen text-white px-2"},L1={class:"w-full max-w-screen-2xl"},N1={class:"flex space-x-4 mb-4"},B1={class:"w-full"},F1=ae({__name:"App",setup(t){const e=Wo(),n=fs();return Je(()=>{n.load()}),(r,i)=>{const s=Zi("router-link"),o=Zi("router-view");return L(),te("div",D1,[i[3]||(i[3]=H("p",{class:"my-2"},[Xe(" An app to generate and edit graphics using AI language models. Unless edited, all sprites shown are created by prompting an LLM (bigger models are better). "),H("a",{href:"https://parsehex.github.io/aAI-Art/docs/"},"Docs")],-1)),H("div",L1,[H("nav",N1,[ee(s,{to:"/view",class:ht(["px-4 py-2 rounded-md transition",_(e).path.startsWith("/view")?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])},{default:ie(()=>[...i[0]||(i[0]=[Xe(" View / Generate ",-1)])]),_:1},8,["class"]),ee(s,{to:"/edit",class:ht(["px-4 py-2 rounded-md transition",_(e).path.startsWith("/edit")?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])},{default:ie(()=>[...i[1]||(i[1]=[Xe(" Edit ",-1)])]),_:1},8,["class"]),ee(s,{to:"/settings",class:ht(["px-4 py-2 rounded-md transition",_(e).path.startsWith("/settings")?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])},{default:ie(()=>[...i[2]||(i[2]=[Xe(" Settings ",-1)])]),_:1},8,["class"])]),H("div",B1,[ee(o)])])])}}}),G1="modulepreload",$1=function(t,e){return new URL(t,e).href},Su={},tl=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(n.map(u=>{if(u=$1(u,r),u in Su)return;Su[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(r)for(let p=o.length-1;p>=0;p--){const m=o[p];if(m.href===u&&(!d||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":G1,d||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};const W1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var Cs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const H1=({size:t,strokeWidth:e=2,absoluteStrokeWidth:n,color:r,iconNode:i,name:s,class:o,...a},{slots:l})=>Et("svg",{...Cs,width:t||Cs.width,height:t||Cs.height,stroke:r||Cs.stroke,"stroke-width":n?Number(e)*24/Number(t):e,class:["lucide",`lucide-${W1(s??"icon")}`],...a},[...i.map(c=>Et(...c)),...l.default?[l.default()]:[]]);const Ot=(t,e)=>(n,{slots:r})=>Et(H1,{...n,iconNode:e,name:t},r);const sf=Ot("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const V1=Ot("ChevronsUpDownIcon",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);const z1=Ot("ClipboardIcon",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);const j1=Ot("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const U1=Ot("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Y1=Ot("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const X1=Ot("RedoIcon",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);const K1=Ot("RefreshCwIcon",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const q1=Ot("RotateCcwIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const J1=Ot("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Q1=Ot("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const Z1=Ot("SquareIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const e2=Ot("UndoIcon",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);const of=Ot("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function af(t,e){return ci()?(cs(t,e),!0):!1}const t2=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const n2=Object.prototype.toString,r2=t=>n2.call(t)==="[object Object]",i2=()=>{};function s2(...t){if(t.length!==1)return th(...t);const e=t[0];return typeof e=="function"?Zr(C0(()=>({get:e,set:i2}))):V(e)}function o2(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}const lf=t=>t();function a2(t=lf,e={}){const{initialState:n="active"}=e,r=s2(n==="active");function i(){r.value=!1}function s(){r.value=!0}const o=(...a)=>{r.value&&t(...a)};return{isActive:Zr(r),pause:i,resume:s,eventFilter:o}}function ya(t){return Array.isArray(t)?t:[t]}function l2(t){return At()}function c2(t,e,n={}){const{eventFilter:r=lf,...i}=n;return Ce(t,o2(r,e),i)}function u2(t,e,n={}){const{eventFilter:r,initialState:i="active",...s}=n,{eventFilter:o,pause:a,resume:l,isActive:c}=a2(r,{initialState:i});return{stop:c2(t,e,{...s,eventFilter:o}),pause:a,resume:l,isActive:c}}const d2=u2;function h2(t,e=!0,n){l2()?Je(t,n):e?t():Be(t)}function f2(t,e,n){return Ce(t,e,{...n,immediate:!0})}const vr=t2?window:void 0;function nl(t){var e;const n=qt(t);return(e=n?.$el)!==null&&e!==void 0?e:n}function Cu(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},r=(a,l,c,u)=>(a.addEventListener(l,c,u),()=>a.removeEventListener(l,c,u)),i=j(()=>{const a=ya(qt(t[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),s=f2(()=>{var a,l;return[(a=(l=i.value)===null||l===void 0?void 0:l.map(c=>nl(c)))!==null&&a!==void 0?a:[vr].filter(c=>c!=null),ya(qt(i.value?t[1]:t[0])),ya(_(i.value?t[2]:t[1])),qt(i.value?t[3]:t[2])]},([a,l,c,u])=>{if(n(),!a?.length||!l?.length||!c?.length)return;const d=r2(u)?{...u}:u;e.push(...a.flatMap(h=>l.flatMap(f=>c.map(p=>r(h,f,p,d)))))},{flush:"post"}),o=()=>{s(),n()};return af(n),o}function p2(){const t=ui(!1),e=At();return e&&Je(()=>{t.value=!0},e),t}function g2(t){const e=p2();return j(()=>(e.value,!!t()))}const Es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},As="__vueuse_ssr_handlers__",m2=y2();function y2(){return As in Es||(Es[As]=Es[As]||{}),Es[As]}function v2(t,e){return m2[t]||e}function b2(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const w2={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},Eu="vueuse-storage";function x2(t,e,n,r={}){var i;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:u,window:d=vr,eventFilter:h,onError:f=G=>{console.error(G)},initOnMounted:p}=r,m=(u?ui:V)(typeof e=="function"?e():e),y=j(()=>qt(t));if(!n)try{n=v2("getDefaultStorage",()=>vr?.localStorage)()}catch(G){f(G)}if(!n)return m;const g=qt(e),b=b2(g),w=(i=r.serializer)!==null&&i!==void 0?i:w2[b],{pause:x,resume:k}=d2(m,G=>M(G),{flush:s,deep:o,eventFilter:h});Ce(y,()=>X(),{flush:s});let P=!1;const T=G=>{p&&!P||X(G)},R=G=>{p&&!P||le(G)};d&&a&&(n instanceof Storage?Cu(d,"storage",T,{passive:!0}):Cu(d,Eu,R)),p?h2(()=>{P=!0,X()}):X();function D(G,z){if(d){const F={key:y.value,oldValue:G,newValue:z,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",F):new CustomEvent(Eu,{detail:F}))}}function M(G){try{const z=n.getItem(y.value);if(G==null)D(z,null),n.removeItem(y.value);else{const F=w.write(G);z!==F&&(n.setItem(y.value,F),D(z,F))}}catch(z){f(z)}}function Y(G){const z=G?G.newValue:n.getItem(y.value);if(z==null)return l&&g!=null&&n.setItem(y.value,w.write(g)),g;if(!G&&c){const F=w.read(z);return typeof c=="function"?c(F,g):b==="object"&&!Array.isArray(F)?{...g,...F}:F}else return typeof z!="string"?z:w.read(z)}function X(G){if(!(G&&G.storageArea!==n)){if(G&&G.key==null){m.value=g;return}if(!(G&&G.key!==y.value)){x();try{const z=w.write(m.value);(G===void 0||G?.newValue!==z)&&(m.value=Y(G))}catch(z){f(z)}finally{G?Be(k):k()}}}}function le(G){X(G.detail)}return m}function _2(t,e,n={}){const{window:r=vr,...i}=n;let s;const o=g2(()=>r&&"ResizeObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=Ce(j(()=>{const u=qt(t);return Array.isArray(u)?u.map(d=>nl(d)):[nl(u)]}),u=>{if(a(),o.value&&r){s=new ResizeObserver(e);for(const d of u)d&&s.observe(d,i)}},{immediate:!0,flush:"post"}),c=()=>{a(),l()};return af(c),{isSupported:o,stop:c}}function Xt(t,e,n={}){const{window:r=vr}=n;return x2(t,e,r?.localStorage,n)}const S2=ae({name:"JsonViewerItem",props:{data:{type:[Object,Array,String,Number,Boolean],required:!0},depth:{type:Number,default:0}},setup(t){const e=V(!0),n=j(()=>typeof t.data=="object"&&t.data!==null),r=j(()=>Array.isArray(t.data)),i=j(()=>typeof t.data),s=()=>{e.value=!e.value},o=l=>typeof l=="string"?`"${l}"`:String(l);function a(l){try{const c=document.createElement("textarea");c.value=l,c.style.position="fixed",c.style.opacity="0",document.body.appendChild(c),c.select();const u=document.execCommand("copy");return document.body.removeChild(c),u}catch(c){return console.error("Failed to copy text:",c),!1}}return{isExpanded:e,isObject:n,isArray:r,valueType:i,toggle:s,formatValue:o,copyValue:a}}}),cf=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},C2={class:"json-viewer-item"},E2={class:"toggle-icon"},A2={class:"key"},P2={key:1,class:"nested-content"},k2={key:1},T2={class:"key-line"},R2={class:"key"},O2={class:"value-line"};function M2(t,e,n,r,i,s){const o=Zi("JsonViewerItem");return L(),te("div",C2,[t.isObject?(L(),te("div",{key:0,onClick:e[0]||(e[0]=(...a)=>t.toggle&&t.toggle(...a)),class:"item-content"},[H("span",E2,et(t.isExpanded?"":""),1),H("span",A2,et(t.isArray?`[${t.data.length}]`:"{...}"),1)])):Te("",!0),t.isExpanded&&t.isObject?(L(),te("div",P2,[t.isArray?(L(!0),te(je,{key:0},Mn(t.data,(a,l)=>(L(),te("div",{key:l,class:"array-item"},[a!=null?(L(),de(o,{key:0,data:a,depth:t.depth+1},null,8,["data","depth"])):(L(),te("span",k2,"undefined"))]))),128)):(L(!0),te(je,{key:1},Mn(t.data,(a,l)=>(L(),te("div",{key:l,class:"object-item"},[H("div",T2,[H("span",R2,et(l)+":",1)]),H("div",O2,[ee(o,{class:"inline",data:a,depth:t.depth+1},null,8,["data","depth"])])]))),128))])):Te("",!0),t.isObject?Te("",!0):(L(),te("span",{key:2,class:ht(["primitive",t.valueType])},et(t.formatValue(t.data)),3))])}const I2=cf(S2,[["render",M2],["__scopeId","data-v-3dd261e2"]]),D2=ae({name:"JsonViewer",components:{JsonViewerItem:I2},props:{data:{type:[Object,Array,String,Number,Boolean],required:!0}}}),L2={class:"json-viewer root"},N2={key:1};function B2(t,e,n,r,i,s){const o=Zi("JsonViewerItem");return L(),te("div",L2,[t.data!==void 0&&t.data!==null?(L(),de(o,{key:0,data:t.data,depth:0},null,8,["data"])):(L(),te("span",N2,"undefined"))])}const F2=cf(D2,[["render",B2],["__scopeId","data-v-f005d59c"]]),G2=ae({__name:"CopyButton",props:{data:{}},setup(t){const e=t;async function n(){try{const{thumbnail:r,generated:i,...s}=e.data;await navigator.clipboard.writeText(JSON.stringify(s,null,2)),console.log("Texture JSON copied to clipboard")}catch(r){console.error("Failed to copy JSON:",r)}}return(r,i)=>(L(),te("button",{onClick:Dt(n,["stop"]),class:"text-purple-400 hover:text-purple-600 transition-colors",title:"Copy JSON to Clipboard"},[ee(_(z1),{class:"w-4 h-4"})]))}});function uf(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=uf(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function df(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=uf(t))&&(r&&(r+=" "),r+=e);return r}const Au=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Pu=df,$2=(t,e)=>n=>{var r;if(e?.variants==null)return Pu(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n?.[c],d=s?.[c];if(u===null)return null;const h=Au(u)||Au(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(p=>{let[m,y]=p;return Array.isArray(y)?y.includes({...s,...a}[m]):{...s,...a}[m]===y})?[...c,d,h]:c},[]);return Pu(t,o,l,n?.class,n?.className)},W2=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},H2=(t,e)=>({classGroupId:t,validator:e}),hf=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),po="-",ku=[],V2="arbitrary..",z2=t=>{const e=U2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return j2(o);const a=o.split(po),l=a[0]===""&&a.length>1?1:0;return ff(a,l,e)},getConflictingClassGroupIds:(o,a)=>{if(a){const l=r[o],c=n[o];return l?c?W2(c,l):l:c||ku}return n[o]||ku}}},ff=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const c=ff(t,e+1,s);if(c)return c}const o=n.validators;if(o===null)return;const a=e===0?t.join(po):t.slice(e).join(po),l=o.length;for(let c=0;c<l;c++){const u=o[c];if(u.validator(a))return u.classGroupId}},j2=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?V2+r:void 0})(),U2=t=>{const{theme:e,classGroups:n}=t;return Y2(n,e)},Y2=(t,e)=>{const n=hf();for(const r in t){const i=t[r];Hl(i,n,r,e)}return n},Hl=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const o=t[s];X2(o,e,n,r)}},X2=(t,e,n,r)=>{if(typeof t=="string"){K2(t,e,n);return}if(typeof t=="function"){q2(t,e,n,r);return}J2(t,e,n,r)},K2=(t,e,n)=>{const r=t===""?e:pf(e,t);r.classGroupId=n},q2=(t,e,n,r)=>{if(Q2(t)){Hl(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(H2(n,t))},J2=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];Hl(l,pf(e,a),n,r)}},pf=(t,e)=>{let n=t;const r=e.split(po),i=r.length;for(let s=0;s<i;s++){const o=r[s];let a=n.nextPart.get(o);a||(a=hf(),n.nextPart.set(o,a)),n=a}return n},Q2=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Z2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,o)=>{n[s]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let o=n[s];if(o!==void 0)return o;if((o=r[s])!==void 0)return i(s,o),o},set(s,o){s in n?n[s]=o:i(s,o)}}},rl="!",Tu=":",ey=[],Ru=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),ty=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,c;const u=i.length;for(let m=0;m<u;m++){const y=i[m];if(o===0&&a===0){if(y===Tu){s.push(i.slice(l,m)),l=m+1;continue}if(y==="/"){c=m;continue}}y==="["?o++:y==="]"?o--:y==="("?a++:y===")"&&a--}const d=s.length===0?i:i.slice(l);let h=d,f=!1;d.endsWith(rl)?(h=d.slice(0,-1),f=!0):d.startsWith(rl)&&(h=d.slice(1),f=!0);const p=c&&c>l?c-l:void 0;return Ru(s,f,h,p)};if(e){const i=e+Tu,s=r;r=o=>o.startsWith(i)?s(o.slice(i.length)):Ru(ey,!1,o,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},ny=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const o=n[s],a=o[0]==="[",l=e.has(o);a||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},ry=t=>({cache:Z2(t.cacheSize),parseClassName:ty(t),sortModifiers:ny(t),...z2(t)}),iy=/\s+/,sy=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(iy);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let y=!!m,g=r(y?p.substring(0,m):p);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=r(p),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const b=h.length===0?"":h.length===1?h[0]:s(h).join(":"),w=f?b+rl:b,x=w+g;if(o.indexOf(x)>-1)continue;o.push(x);const k=i(g,y);for(let P=0;P<k.length;++P){const T=k[P];o.push(w+T)}l=u+(l.length>0?" "+l:l)}return l},oy=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=gf(n))&&(i&&(i+=" "),i+=r);return i},gf=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gf(t[r]))&&(n&&(n+=" "),n+=e);return n},ay=(t,...e)=>{let n,r,i,s;const o=l=>{const c=e.reduce((u,d)=>d(u),t());return n=ry(c),r=n.cache.get,i=n.cache.set,s=a,a(l)},a=l=>{const c=r(l);if(c)return c;const u=sy(l,n);return i(l,u),u};return s=o,(...l)=>s(oy(...l))},ly=[],nt=t=>{const e=n=>n[t]||ly;return e.isThemeGetter=!0,e},mf=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yf=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cy=/^\d+\/\d+$/,uy=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dy=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hy=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fy=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,py=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nr=t=>cy.test(t),Pe=t=>!!t&&!Number.isNaN(Number(t)),Hn=t=>!!t&&Number.isInteger(Number(t)),va=t=>t.endsWith("%")&&Pe(t.slice(0,-1)),Sn=t=>uy.test(t),gy=()=>!0,my=t=>dy.test(t)&&!hy.test(t),vf=()=>!1,yy=t=>fy.test(t),vy=t=>py.test(t),by=t=>!fe(t)&&!pe(t),wy=t=>di(t,xf,vf),fe=t=>mf.test(t),fr=t=>di(t,_f,my),ba=t=>di(t,Ey,Pe),Ou=t=>di(t,bf,vf),xy=t=>di(t,wf,vy),Ps=t=>di(t,Sf,yy),pe=t=>yf.test(t),_i=t=>hi(t,_f),_y=t=>hi(t,Ay),Mu=t=>hi(t,bf),Sy=t=>hi(t,xf),Cy=t=>hi(t,wf),ks=t=>hi(t,Sf,!0),di=(t,e,n)=>{const r=mf.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},hi=(t,e,n=!1)=>{const r=yf.exec(t);return r?r[1]?e(r[1]):n:!1},bf=t=>t==="position"||t==="percentage",wf=t=>t==="image"||t==="url",xf=t=>t==="length"||t==="size"||t==="bg-size",_f=t=>t==="length",Ey=t=>t==="number",Ay=t=>t==="family-name",Sf=t=>t==="shadow",Py=()=>{const t=nt("color"),e=nt("font"),n=nt("text"),r=nt("font-weight"),i=nt("tracking"),s=nt("leading"),o=nt("breakpoint"),a=nt("container"),l=nt("spacing"),c=nt("radius"),u=nt("shadow"),d=nt("inset-shadow"),h=nt("text-shadow"),f=nt("drop-shadow"),p=nt("blur"),m=nt("perspective"),y=nt("aspect"),g=nt("ease"),b=nt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...x(),pe,fe],P=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],R=()=>[pe,fe,l],D=()=>[Nr,"full","auto",...R()],M=()=>[Hn,"none","subgrid",pe,fe],Y=()=>["auto",{span:["full",Hn,pe,fe]},Hn,pe,fe],X=()=>[Hn,"auto",pe,fe],le=()=>["auto","min","max","fr",pe,fe],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...R()],Z=()=>[Nr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],N=()=>[t,pe,fe],q=()=>[...x(),Mu,Ou,{position:[pe,fe]}],he=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ge=()=>["auto","cover","contain",Sy,wy,{size:[pe,fe]}],xe=()=>[va,_i,fr],Ae=()=>["","none","full",c,pe,fe],Ue=()=>["",Pe,_i,fr],pt=()=>["solid","dashed","dotted","double"],at=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>[Pe,va,Mu,Ou],ue=()=>["","none",p,pe,fe],ce=()=>["none",Pe,pe,fe],me=()=>["none",Pe,pe,fe],Ee=()=>[Pe,pe,fe],S=()=>[Nr,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Sn],breakpoint:[Sn],color:[gy],container:[Sn],"drop-shadow":[Sn],ease:["in","out","in-out"],font:[by],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Sn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Sn],shadow:[Sn],spacing:["px",Pe],text:[Sn],"text-shadow":[Sn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Nr,fe,pe,y]}],container:["container"],columns:[{columns:[Pe,fe,pe,a]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Hn,"auto",pe,fe]}],basis:[{basis:[Nr,"full","auto",a,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,Nr,"auto","initial","none",fe]}],grow:[{grow:["",Pe,pe,fe]}],shrink:[{shrink:["",Pe,pe,fe]}],order:[{order:[Hn,"first","last","none",pe,fe]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[a,"screen",...Z()]}],"min-w":[{"min-w":[a,"screen","none",...Z()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,_i,fr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,pe,ba]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",va,fe]}],"font-family":[{font:[_y,fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,pe,fe]}],"line-clamp":[{"line-clamp":[Pe,"none",pe,ba]}],leading:[{leading:[s,...R()]}],"list-image":[{"list-image":["none",pe,fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pt(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",pe,fr]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[Pe,"auto",pe,fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:q()}],"bg-repeat":[{bg:he()}],"bg-size":[{bg:ge()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hn,pe,fe],radial:["",pe,fe],conic:[Hn,pe,fe]},Cy,xy]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:xe()}],"gradient-via-pos":[{via:xe()}],"gradient-to-pos":[{to:xe()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:Ae()}],"rounded-s":[{"rounded-s":Ae()}],"rounded-e":[{"rounded-e":Ae()}],"rounded-t":[{"rounded-t":Ae()}],"rounded-r":[{"rounded-r":Ae()}],"rounded-b":[{"rounded-b":Ae()}],"rounded-l":[{"rounded-l":Ae()}],"rounded-ss":[{"rounded-ss":Ae()}],"rounded-se":[{"rounded-se":Ae()}],"rounded-ee":[{"rounded-ee":Ae()}],"rounded-es":[{"rounded-es":Ae()}],"rounded-tl":[{"rounded-tl":Ae()}],"rounded-tr":[{"rounded-tr":Ae()}],"rounded-br":[{"rounded-br":Ae()}],"rounded-bl":[{"rounded-bl":Ae()}],"border-w":[{border:Ue()}],"border-w-x":[{"border-x":Ue()}],"border-w-y":[{"border-y":Ue()}],"border-w-s":[{"border-s":Ue()}],"border-w-e":[{"border-e":Ue()}],"border-w-t":[{"border-t":Ue()}],"border-w-r":[{"border-r":Ue()}],"border-w-b":[{"border-b":Ue()}],"border-w-l":[{"border-l":Ue()}],"divide-x":[{"divide-x":Ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pt(),"hidden","none"]}],"divide-style":[{divide:[...pt(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...pt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,pe,fe]}],"outline-w":[{outline:["",Pe,_i,fr]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",u,ks,Ps]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",d,ks,Ps]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:Ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[Pe,fr]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":Ue()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",h,ks,Ps]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[Pe,pe,fe]}],"mix-blend":[{"mix-blend":[...at(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":at()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":$()}],"mask-image-linear-to-pos":[{"mask-linear-to":$()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":$()}],"mask-image-t-to-pos":[{"mask-t-to":$()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":$()}],"mask-image-r-to-pos":[{"mask-r-to":$()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":$()}],"mask-image-b-to-pos":[{"mask-b-to":$()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":$()}],"mask-image-l-to-pos":[{"mask-l-to":$()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":$()}],"mask-image-x-to-pos":[{"mask-x-to":$()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":$()}],"mask-image-y-to-pos":[{"mask-y-to":$()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[pe,fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":$()}],"mask-image-radial-to-pos":[{"mask-radial-to":$()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":$()}],"mask-image-conic-to-pos":[{"mask-conic-to":$()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:q()}],"mask-repeat":[{mask:he()}],"mask-size":[{mask:ge()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,fe]}],filter:[{filter:["","none",pe,fe]}],blur:[{blur:ue()}],brightness:[{brightness:[Pe,pe,fe]}],contrast:[{contrast:[Pe,pe,fe]}],"drop-shadow":[{"drop-shadow":["","none",f,ks,Ps]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",Pe,pe,fe]}],"hue-rotate":[{"hue-rotate":[Pe,pe,fe]}],invert:[{invert:["",Pe,pe,fe]}],saturate:[{saturate:[Pe,pe,fe]}],sepia:[{sepia:["",Pe,pe,fe]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,fe]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,pe,fe]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,pe,fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,pe,fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,pe,fe]}],"backdrop-invert":[{"backdrop-invert":["",Pe,pe,fe]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,pe,fe]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,pe,fe]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,pe,fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",pe,fe]}],ease:[{ease:["linear","initial",g,pe,fe]}],delay:[{delay:[Pe,pe,fe]}],animate:[{animate:["none",b,pe,fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,pe,fe]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:ce()}],"rotate-x":[{"rotate-x":ce()}],"rotate-y":[{"rotate-y":ce()}],"rotate-z":[{"rotate-z":ce()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:Ee()}],"skew-x":[{"skew-x":Ee()}],"skew-y":[{"skew-y":Ee()}],transform:[{transform:[pe,fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:S()}],"translate-x":[{"translate-x":S()}],"translate-y":[{"translate-y":S()}],"translate-z":[{"translate-z":S()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,fe]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[Pe,_i,fr,ba]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ky=ay(Py);function rn(...t){return ky(df(t))}const Ty=["top","right","bottom","left"],nr=Math.min,It=Math.max,go=Math.round,Ts=Math.floor,pn=t=>({x:t,y:t}),Ry={left:"right",right:"left",bottom:"top",top:"bottom"},Oy={start:"end",end:"start"};function il(t,e,n){return It(t,nr(e,n))}function In(t,e){return typeof t=="function"?t(e):t}function Dn(t){return t.split("-")[0]}function fi(t){return t.split("-")[1]}function Vl(t){return t==="x"?"y":"x"}function zl(t){return t==="y"?"height":"width"}const My=new Set(["top","bottom"]);function hn(t){return My.has(Dn(t))?"y":"x"}function jl(t){return Vl(hn(t))}function Iy(t,e,n){n===void 0&&(n=!1);const r=fi(t),i=jl(t),s=zl(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=mo(o)),[o,mo(o)]}function Dy(t){const e=mo(t);return[sl(t),e,sl(e)]}function sl(t){return t.replace(/start|end/g,e=>Oy[e])}const Iu=["left","right"],Du=["right","left"],Ly=["top","bottom"],Ny=["bottom","top"];function By(t,e,n){switch(t){case"top":case"bottom":return n?e?Du:Iu:e?Iu:Du;case"left":case"right":return e?Ly:Ny;default:return[]}}function Fy(t,e,n,r){const i=fi(t);let s=By(Dn(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(sl)))),s}function mo(t){return t.replace(/left|right|bottom|top/g,e=>Ry[e])}function Gy(t){return{top:0,right:0,bottom:0,left:0,...t}}function Cf(t){return typeof t!="number"?Gy(t):{top:t,right:t,bottom:t,left:t}}function yo(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Lu(t,e,n){let{reference:r,floating:i}=t;const s=hn(e),o=jl(e),a=zl(o),l=Dn(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(fi(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}const $y=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=Lu(c,r,l),h=r,f={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:g}=a[m],{x:b,y:w,data:x,reset:k}=await g({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=b??u,d=w??d,f={...f,[y]:{...f[y],...x}},k&&p<=50&&(p++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:u,y:d}=Lu(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function is(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=In(e,t),p=Cf(f),y=a[h?d==="floating"?"reference":"floating":d],g=yo(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),x=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},k=yo(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:w,strategy:l}):b);return{top:(g.top-k.top+p.top)/x.y,bottom:(k.bottom-g.bottom+p.bottom)/x.y,left:(g.left-k.left+p.left)/x.x,right:(k.right-g.right+p.right)/x.x}}const Wy=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=In(t,e)||{};if(c==null)return{};const d=Cf(u),h={x:n,y:r},f=jl(i),p=zl(f),m=await o.getDimensions(c),y=f==="y",g=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",x=s.reference[p]+s.reference[f]-h[f]-s.floating[p],k=h[f]-s.reference[f],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=P?P[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(P)))&&(T=a.floating[w]||s.floating[p]);const R=x/2-k/2,D=T/2-m[p]/2-1,M=nr(d[g],D),Y=nr(d[b],D),X=M,le=T-m[p]-Y,G=T/2-m[p]/2+R,z=il(X,G,le),F=!l.arrow&&fi(i)!=null&&G!==z&&s.reference[p]/2-(G<X?M:Y)-m[p]/2<0,Z=F?G<X?G-X:G-le:0;return{[f]:h[f]+Z,data:{[f]:z,centerOffset:G-z-Z,...F&&{alignmentOffset:Z}},reset:F}}}),Hy=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...y}=In(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Dn(i),b=hn(a),w=Dn(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=h||(w||!m?[mo(a)]:Dy(a)),P=p!=="none";!h&&P&&k.push(...Fy(a,m,p,x));const T=[a,...k],R=await is(e,y),D=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&D.push(R[g]),d){const G=Iy(i,o,x);D.push(R[G[0]],R[G[1]])}if(M=[...M,{placement:i,overflows:D}],!D.every(G=>G<=0)){var Y,X;const G=(((Y=s.flip)==null?void 0:Y.index)||0)+1,z=T[G];if(z&&(!(d==="alignment"?b!==hn(z):!1)||M.every(N=>hn(N.placement)===b?N.overflows[0]>0:!0)))return{data:{index:G,overflows:M},reset:{placement:z}};let F=(X=M.filter(Z=>Z.overflows[0]<=0).sort((Z,N)=>Z.overflows[1]-N.overflows[1])[0])==null?void 0:X.placement;if(!F)switch(f){case"bestFit":{var le;const Z=(le=M.filter(N=>{if(P){const q=hn(N.placement);return q===b||q==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(q=>q>0).reduce((q,he)=>q+he,0)]).sort((N,q)=>N[1]-q[1])[0])==null?void 0:le[0];Z&&(F=Z);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function Nu(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Bu(t){return Ty.some(e=>t[e]>=0)}const Vy=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=In(t,e);switch(r){case"referenceHidden":{const s=await is(e,{...i,elementContext:"reference"}),o=Nu(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Bu(o)}}}case"escaped":{const s=await is(e,{...i,altBoundary:!0}),o=Nu(s,n.floating);return{data:{escapedOffsets:o,escaped:Bu(o)}}}default:return{}}}}},Ef=new Set(["left","top"]);async function zy(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Dn(n),a=fi(n),l=hn(n)==="y",c=Ef.has(o)?-1:1,u=s&&l?-1:1,d=In(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const jy=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await zy(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Uy=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:b}=y;return{x:g,y:b}}},...l}=In(t,e),c={x:n,y:r},u=await is(e,l),d=hn(Dn(i)),h=Vl(d);let f=c[h],p=c[d];if(s){const y=h==="y"?"top":"left",g=h==="y"?"bottom":"right",b=f+u[y],w=f-u[g];f=il(b,f,w)}if(o){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",b=p+u[y],w=p-u[g];p=il(b,p,w)}const m=a.fn({...e,[h]:f,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[d]:o}}}}}},Yy=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=In(t,e),u={x:n,y:r},d=hn(i),h=Vl(d);let f=u[h],p=u[d];const m=In(a,e),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=h==="y"?"height":"width",x=s.reference[h]-s.floating[w]+y.mainAxis,k=s.reference[h]+s.reference[w]-y.mainAxis;f<x?f=x:f>k&&(f=k)}if(c){var g,b;const w=h==="y"?"width":"height",x=Ef.has(Dn(i)),k=s.reference[d]-s.floating[w]+(x&&((g=o.offset)==null?void 0:g[d])||0)+(x?0:y.crossAxis),P=s.reference[d]+s.reference[w]+(x?0:((b=o.offset)==null?void 0:b[d])||0)-(x?y.crossAxis:0);p<k?p=k:p>P&&(p=P)}return{[h]:f,[d]:p}}}},Xy=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=In(t,e),u=await is(e,c),d=Dn(i),h=fi(i),f=hn(i)==="y",{width:p,height:m}=s.floating;let y,g;d==="top"||d==="bottom"?(y=d,g=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=d,y=h==="end"?"top":"bottom");const b=m-u.top-u.bottom,w=p-u.left-u.right,x=nr(m-u[y],b),k=nr(p-u[g],w),P=!e.middlewareData.shift;let T=x,R=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=b),P&&!h){const M=It(u.left,0),Y=It(u.right,0),X=It(u.top,0),le=It(u.bottom,0);f?R=p-2*(M!==0||Y!==0?M+Y:It(u.left,u.right)):T=m-2*(X!==0||le!==0?X+le:It(u.top,u.bottom))}await l({...e,availableWidth:R,availableHeight:T});const D=await o.getDimensions(a.floating);return p!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function Ho(){return typeof window<"u"}function Pr(t){return Ul(t)?(t.nodeName||"").toLowerCase():"#document"}function Bt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bn(t){var e;return(e=(Ul(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ul(t){return Ho()?t instanceof Node||t instanceof Bt(t).Node:!1}function en(t){return Ho()?t instanceof Element||t instanceof Bt(t).Element:!1}function mn(t){return Ho()?t instanceof HTMLElement||t instanceof Bt(t).HTMLElement:!1}function Fu(t){return!Ho()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Bt(t).ShadowRoot}const Ky=new Set(["inline","contents"]);function ps(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=tn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Ky.has(i)}const qy=new Set(["table","td","th"]);function Jy(t){return qy.has(Pr(t))}const Qy=[":popover-open",":modal"];function Vo(t){return Qy.some(e=>{try{return t.matches(e)}catch{return!1}})}const Zy=["transform","translate","scale","rotate","perspective"],ev=["transform","translate","scale","rotate","perspective","filter"],tv=["paint","layout","strict","content"];function Yl(t){const e=Xl(),n=en(t)?tn(t):t;return Zy.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||ev.some(r=>(n.willChange||"").includes(r))||tv.some(r=>(n.contain||"").includes(r))}function nv(t){let e=rr(t);for(;mn(e)&&!ii(e);){if(Yl(e))return e;if(Vo(e))return null;e=rr(e)}return null}function Xl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rv=new Set(["html","body","#document"]);function ii(t){return rv.has(Pr(t))}function tn(t){return Bt(t).getComputedStyle(t)}function zo(t){return en(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function rr(t){if(Pr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Fu(t)&&t.host||bn(t);return Fu(e)?e.host:e}function Af(t){const e=rr(t);return ii(e)?t.ownerDocument?t.ownerDocument.body:t.body:mn(e)&&ps(e)?e:Af(e)}function ss(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Af(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Bt(i);if(s){const a=ol(o);return e.concat(o,o.visualViewport||[],ps(i)?i:[],a&&n?ss(a):[])}return e.concat(i,ss(i,[],n))}function ol(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Pf(t){const e=tn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=mn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=go(n)!==s||go(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Kl(t){return en(t)?t:t.contextElement}function Jr(t){const e=Kl(t);if(!mn(e))return pn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Pf(e);let o=(s?go(n.width):n.width)/r,a=(s?go(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const iv=pn(0);function kf(t){const e=Bt(t);return!Xl()||!e.visualViewport?iv:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sv(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Bt(t)?!1:e}function Cr(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Kl(t);let o=pn(1);e&&(r?en(r)&&(o=Jr(r)):o=Jr(t));const a=sv(s,n,r)?kf(s):pn(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Bt(s),f=r&&en(r)?Bt(r):r;let p=h,m=ol(p);for(;m&&r&&f!==p;){const y=Jr(m),g=m.getBoundingClientRect(),b=tn(m),w=g.left+(m.clientLeft+parseFloat(b.paddingLeft))*y.x,x=g.top+(m.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=w,c+=x,p=Bt(m),m=ol(p)}}return yo({width:u,height:d,x:l,y:c})}function jo(t,e){const n=zo(t).scrollLeft;return e?e.left+n:Cr(bn(t)).left+n}function Tf(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-jo(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function ov(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=bn(r),a=e?Vo(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=pn(1);const u=pn(0),d=mn(r);if((d||!d&&!s)&&((Pr(r)!=="body"||ps(o))&&(l=zo(r)),mn(r))){const f=Cr(r);c=Jr(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!d&&!s?Tf(o,l):pn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function av(t){return Array.from(t.getClientRects())}function lv(t){const e=bn(t),n=zo(t),r=t.ownerDocument.body,i=It(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=It(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+jo(t);const a=-n.scrollTop;return tn(r).direction==="rtl"&&(o+=It(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const Gu=25;function cv(t,e){const n=Bt(t),r=bn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=Xl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=jo(r);if(c<=0){const u=r.ownerDocument,d=u.body,h=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-f);p<=Gu&&(s-=p)}else c<=Gu&&(s+=c);return{width:s,height:o,x:a,y:l}}const uv=new Set(["absolute","fixed"]);function dv(t,e){const n=Cr(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=mn(t)?Jr(t):pn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function $u(t,e,n){let r;if(e==="viewport")r=cv(t,n);else if(e==="document")r=lv(bn(t));else if(en(e))r=dv(e,n);else{const i=kf(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return yo(r)}function Rf(t,e){const n=rr(t);return n===e||!en(n)||ii(n)?!1:tn(n).position==="fixed"||Rf(n,e)}function hv(t,e){const n=e.get(t);if(n)return n;let r=ss(t,[],!1).filter(a=>en(a)&&Pr(a)!=="body"),i=null;const s=tn(t).position==="fixed";let o=s?rr(t):t;for(;en(o)&&!ii(o);){const a=tn(o),l=Yl(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&uv.has(i.position)||ps(o)&&!l&&Rf(t,o))?r=r.filter(u=>u!==o):i=a,o=rr(o)}return e.set(t,r),r}function fv(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Vo(e)?[]:hv(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=$u(e,u,i);return c.top=It(d.top,c.top),c.right=nr(d.right,c.right),c.bottom=nr(d.bottom,c.bottom),c.left=It(d.left,c.left),c},$u(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function pv(t){const{width:e,height:n}=Pf(t);return{width:e,height:n}}function gv(t,e,n){const r=mn(e),i=bn(e),s=n==="fixed",o=Cr(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=pn(0);function c(){l.x=jo(i)}if(r||!r&&!s)if((Pr(e)!=="body"||ps(i))&&(a=zo(e)),r){const f=Cr(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?Tf(i,a):pn(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function wa(t){return tn(t).position==="static"}function Wu(t,e){if(!mn(t)||tn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return bn(t)===n&&(n=n.ownerDocument.body),n}function Of(t,e){const n=Bt(t);if(Vo(t))return n;if(!mn(t)){let i=rr(t);for(;i&&!ii(i);){if(en(i)&&!wa(i))return i;i=rr(i)}return n}let r=Wu(t,e);for(;r&&Jy(r)&&wa(r);)r=Wu(r,e);return r&&ii(r)&&wa(r)&&!Yl(r)?n:r||nv(t)||n}const mv=async function(t){const e=this.getOffsetParent||Of,n=this.getDimensions,r=await n(t.floating);return{reference:gv(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yv(t){return tn(t).direction==="rtl"}const vv={convertOffsetParentRelativeRectToViewportRelativeRect:ov,getDocumentElement:bn,getClippingRect:fv,getOffsetParent:Of,getElementRects:mv,getClientRects:av,getDimensions:pv,getScale:Jr,isElement:en,isRTL:yv};function Mf(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bv(t,e){let n=null,r;const i=bn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const p=Ts(d),m=Ts(i.clientWidth-(u+h)),y=Ts(i.clientHeight-(d+f)),g=Ts(u),w={rootMargin:-p+"px "+-m+"px "+-y+"px "+-g+"px",threshold:It(0,nr(1,l))||1};let x=!0;function k(P){const T=P[0].intersectionRatio;if(T!==l){if(!x)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!Mf(c,t.getBoundingClientRect())&&o(),x=!1}try{n=new IntersectionObserver(k,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,w)}n.observe(t)}return o(!0),s}function wv(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Kl(t),u=i||s?[...c?ss(c):[],...ss(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const d=c&&a?bv(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(g=>{let[b]=g;b&&b.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let p,m=l?Cr(t):null;l&&y();function y(){const g=Cr(t);m&&!Mf(m,g)&&n(),m=g,p=requestAnimationFrame(y)}return n(),()=>{var g;u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d?.(),(g=f)==null||g.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const xv=jy,_v=Uy,Hu=Hy,Sv=Xy,Cv=Vy,Ev=Wy,Av=Yy,Pv=(t,e,n)=>{const r=new Map,i={platform:vv,...n},s={...i.platform,_c:r};return $y(t,e,{...i,platform:s})};function kv(t){return t!=null&&typeof t=="object"&&"$el"in t}function al(t){if(kv(t)){const e=t.$el;return Ul(e)&&Pr(e)==="#comment"?null:e}return t}function zr(t){return typeof t=="function"?t():_(t)}function Tv(t){return{name:"arrow",options:t,fn(e){const n=al(zr(t.element));return n==null?{}:Ev({element:n,padding:t.padding}).fn(e)}}}function If(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Vu(t,e){const n=If(t);return Math.round(e*n)/n}function Rv(t,e,n){n===void 0&&(n={});const r=n.whileElementsMounted,i=j(()=>{var T;return(T=zr(n.open))!=null?T:!0}),s=j(()=>zr(n.middleware)),o=j(()=>{var T;return(T=zr(n.placement))!=null?T:"bottom"}),a=j(()=>{var T;return(T=zr(n.strategy))!=null?T:"absolute"}),l=j(()=>{var T;return(T=zr(n.transform))!=null?T:!0}),c=j(()=>al(t.value)),u=j(()=>al(e.value)),d=V(0),h=V(0),f=V(a.value),p=V(o.value),m=ui({}),y=V(!1),g=j(()=>{const T={position:f.value,left:"0",top:"0"};if(!u.value)return T;const R=Vu(u.value,d.value),D=Vu(u.value,h.value);return l.value?{...T,transform:"translate("+R+"px, "+D+"px)",...If(u.value)>=1.5&&{willChange:"transform"}}:{position:f.value,left:R+"px",top:D+"px"}});let b;function w(){if(c.value==null||u.value==null)return;const T=i.value;Pv(c.value,u.value,{middleware:s.value,placement:o.value,strategy:a.value}).then(R=>{d.value=R.x,h.value=R.y,f.value=R.strategy,p.value=R.placement,m.value=R.middlewareData,y.value=T!==!1})}function x(){typeof b=="function"&&(b(),b=void 0)}function k(){if(x(),r===void 0){w();return}if(c.value!=null&&u.value!=null){b=r(c.value,u.value,w);return}}function P(){i.value||(y.value=!1)}return Ce([s,o,a,i],w,{flush:"sync"}),Ce([c,u],k,{flush:"sync"}),Ce(i,P,{flush:"sync"}),ci()&&cs(x),{x:Dr(d),y:Dr(h),strategy:Dr(f),placement:Dr(p),middlewareData:Dr(m),isPositioned:Dr(y),floatingStyles:g,update:w}}function Nn(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[i=>{const s=Tt(r,i);if(s||s===null)return s;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},i=>(qr(r,i),i)]}function ql(t,e,n){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),r.dispatchEvent(i)}function Ov(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mv=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const br=Ov(Mv);function Iv(t,e){var n;const r=ui();return Gt(()=>{r.value=t()},{...e,flush:(n=void 0)!=null?n:"sync"}),Zr(r)}function Jl(t){return ci()?(cs(t),!0):!1}function Dv(t){let e=!1,n;const r=Ao(!0);return(...i)=>(e||(n=r.run(()=>t(...i)),e=!0),n)}function Lv(t){let e=0,n,r;const i=()=>{e-=1,r&&e<=0&&(r.stop(),n=void 0,r=void 0)};return(...s)=>(e+=1,n||(r=Ao(!0),n=r.run(()=>t(...s))),Jl(i),n)}function gs(t){return typeof t=="function"?t():_(t)}const sr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Nv=t=>typeof t<"u",Bv=t=>t!=null,Fv=Object.prototype.toString,Gv=t=>Fv.call(t)==="[object Object]",$v=()=>{},zu=Wv();function Wv(){var t,e;return sr&&((t=window?.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window?.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function Hv(t){return At()}function Vv(t,e){Hv()&&ph(t,e)}function or(t){var e;const n=gs(t);return(e=n?.$el)!=null?e:n}const Uo=sr?window:void 0;function Df(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=Uo):[e,n,r,i]=t,!e)return $v;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],o=()=>{s.forEach(u=>u()),s.length=0},a=(u,d,h,f)=>(u.addEventListener(d,h,f),()=>u.removeEventListener(d,h,f)),l=Ce(()=>[or(e),gs(i)],([u,d])=>{if(o(),!u)return;const h=Gv(d)?{...d}:d;s.push(...n.flatMap(f=>r.map(p=>a(u,f,p,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return Jl(c),c}function zv(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function jv(...t){let e,n,r={};t.length===3?(e=t[0],n=t[1],r=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],r=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:i=Uo,eventName:s="keydown",passive:o=!1,dedupe:a=!1}=r,l=zv(e);return Df(i,s,c=>{c.repeat&&gs(a)||l(c)&&n(c)},o)}function Lf(){const t=V(!1),e=At();return e&&Je(()=>{t.value=!0},e),t}function Uv(t){const e=Lf();return j(()=>(e.value,!!t()))}function Yv(t,e,n={}){const{window:r=Uo,...i}=n;let s;const o=Uv(()=>r&&"MutationObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=j(()=>{const h=gs(t),f=(Array.isArray(h)?h:[h]).map(or).filter(Bv);return new Set(f)}),c=Ce(()=>l.value,h=>{a(),o.value&&h.size&&(s=new MutationObserver(e),h.forEach(f=>s.observe(f,i)))},{immediate:!0,flush:"post"}),u=()=>s?.takeRecords(),d=()=>{a(),c()};return Jl(d),{isSupported:o,stop:d,takeRecords:u}}function Xv(t){return JSON.parse(JSON.stringify(t))}function Ri(t,e,n,r={}){var i,s,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:h}=r,f=At(),p=n||f?.emit||((i=f?.$emit)==null?void 0:i.bind(f))||((o=(s=f?.proxy)==null?void 0:s.$emit)==null?void 0:o.bind(f?.proxy));let m=c;e||(e="modelValue"),m=m||`update:${e.toString()}`;const y=w=>a?typeof a=="function"?a(w):Xv(w):w,g=()=>Nv(t[e])?y(t[e]):d,b=w=>{h?h(w)&&p(m,w):p(m,w)};if(l){const w=g(),x=V(w);let k=!1;return Ce(()=>t[e],P=>{k||(k=!0,x.value=y(P),Be(()=>k=!1))}),Ce(x,P=>{!k&&(P!==t[e]||u)&&b(P)},{deep:u}),x}else return j({get(){return g()},set(w){b(w)}})}function Ql(t){return t?t.flatMap(e=>e.type===je?Ql(e.children):[e]):[]}function Qr(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function xa(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function ll(t,e,n=".",r){if(!xa(e))return ll(t,{},n);const i=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const o=t[s];o!=null&&(Array.isArray(o)&&Array.isArray(i[s])?i[s]=[...o,...i[s]]:xa(o)&&xa(i[s])?i[s]=ll(o,i[s],(n?`${n}.`:"")+s.toString()):i[s]=o)}return i}function Kv(t){return(...e)=>e.reduce((n,r)=>ll(n,r,""),{})}const qv=Kv(),[Zl]=Nn("ConfigProvider");let Jv="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Qv=(t=21)=>{let e="",n=t;for(;n--;)e+=Jv[Math.random()*64|0];return e};const Zv=Lv(()=>{const t=V(new Map),e=V(),n=j(()=>{for(const o of t.value.values())if(o)return!0;return!1}),r=Zl({scrollBody:V(!0)});let i=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",zu&&i?.(),e.value=void 0};return Ce(n,(o,a)=>{var l;if(!sr)return;if(!o){a&&s();return}e.value===void 0&&(e.value=document.body.style.overflow);const c=window.innerWidth-document.documentElement.clientWidth,u={padding:c,margin:0},d=(l=r.scrollBody)!=null&&l.value?typeof r.scrollBody.value=="object"?qv({padding:r.scrollBody.value.padding===!0?c:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?c:r.scrollBody.value.margin},u):u:{padding:0,margin:0};c>0&&(document.body.style.paddingRight=typeof d.padding=="number"?`${d.padding}px`:String(d.padding),document.body.style.marginRight=typeof d.margin=="number"?`${d.margin}px`:String(d.margin),document.body.style.setProperty("--scrollbar-width",`${c}px`),document.body.style.overflow="hidden"),zu&&(i=Df(document,"touchmove",h=>eb(h),{passive:!1})),Be(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function Nf(t){const e=Qv(6),n=Zv();n.value.set(e,t??!1);const r=j({get:()=>n.value.get(e)??!1,set:i=>n.value.set(e,i)});return Vv(()=>{n.value.delete(e)}),r}function Bf(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:Bf(n)}}function eb(t){const e=t||window.event,n=e.target;return n instanceof Element&&Bf(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.cancelable&&e.preventDefault(),!1)}function tb(t){const e=Zl({dir:V("ltr")});return j(()=>{var n;return t?.value||((n=e.dir)==null?void 0:n.value)||"ltr"})}function nb(t){const e=At(),n=e?.type.emits,r={};return n!=null&&n.length||console.warn(`No emitted event found. Please check component: ${e?.type.__name}`),n?.forEach(i=>{r[Us(Rt(i))]=(...s)=>t(i,...s)}),r}let _a=0;function rb(){Gt(t=>{if(!sr)return;const e=document.querySelectorAll("[data-radix-focus-guard]");document.body.insertAdjacentElement("afterbegin",e[0]??ju()),document.body.insertAdjacentElement("beforeend",e[1]??ju()),_a++,t(()=>{_a===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),_a--})})}function ju(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function ib(t){return j(()=>{var e;return gs(t)?!!((e=or(t))!=null&&e.closest("form")):!0})}function Yo(t){const e=At(),n=Object.keys(e?.type.props??{}).reduce((i,s)=>{const o=(e?.type.props[s]).default;return o!==void 0&&(i[s]=o),i},{}),r=th(t);return j(()=>{const i={},s=e?.vnode.props??{};return Object.keys(s).forEach(o=>{i[Rt(o)]=s[o]}),Object.keys({...n,...i}).reduce((o,a)=>(r.value[a]!==void 0&&(o[a]=r.value[a]),o),{})})}function Bn(t,e){const n=Yo(t),r=e?nb(e):{};return j(()=>({...n.value,...r}))}function ft(){const t=At(),e=V(),n=j(()=>{var o,a;return["#text","#comment"].includes((o=e.value)==null?void 0:o.$el.nodeName)?(a=e.value)==null?void 0:a.$el.nextElementSibling:or(e)}),r=Object.assign({},t.exposed),i={};for(const o in t.props)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>r[o]});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=i;function s(o){e.value=o,o&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=i)}return{forwardRef:s,currentRef:e,currentElement:n}}var sb=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Br=new WeakMap,Rs=new WeakMap,Os={},Sa=0,Ff=function(t){return t&&(t.host||Ff(t.parentNode))},ob=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Ff(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ab=function(t,e,n,r){var i=ob(e,Array.isArray(t)?t:[t]);Os[n]||(Os[n]=new WeakMap);var s=Os[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var f=h.getAttribute(r),p=f!==null&&f!=="false",m=(Br.get(h)||0)+1,y=(s.get(h)||0)+1;Br.set(h,m),s.set(h,y),o.push(h),m===1&&p&&Rs.set(h,!0),y===1&&h.setAttribute(n,"true"),p||h.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return u(e),a.clear(),Sa++,function(){o.forEach(function(d){var h=Br.get(d)-1,f=s.get(d)-1;Br.set(d,h),s.set(d,f),h||(Rs.has(d)||d.removeAttribute(r),Rs.delete(d)),f||d.removeAttribute(n)}),Sa--,Sa||(Br=new WeakMap,Br=new WeakMap,Rs=new WeakMap,Os={})}},lb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=sb(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),ab(r,i,n,"aria-hidden")):function(){return null}};function Gf(t){let e;Ce(()=>or(t),n=>{n?e=lb(n):e&&e()}),jt(()=>{e&&e()})}let cb=0;function os(t,e="radix"){const n=Zl({useId:void 0});return Oc?`${e}-${Oc()}`:n.useId?`${e}-${n.useId()}`:`${e}-${++cb}`}function ub(t){const e=V(),n=j(()=>{var i;return((i=e.value)==null?void 0:i.width)??0}),r=j(()=>{var i;return((i=e.value)==null?void 0:i.height)??0});return Je(()=>{const i=or(t);if(i){e.value={width:i.offsetWidth,height:i.offsetHeight};const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,c;if("borderBoxSize"in a){const u=a.borderBoxSize,d=Array.isArray(u)?u[0]:u;l=d.inlineSize,c=d.blockSize}else l=i.offsetWidth,c=i.offsetHeight;e.value={width:l,height:c}});return s.observe(i,{box:"border-box"}),()=>s.unobserve(i)}else e.value=void 0}),{width:n,height:r}}function db(t,e){const n=V(t);function r(i){return e[n.value][i]??n.value}return{state:n,dispatch:i=>{n.value=r(i)}}}const ec=ae({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{var r,i;if(!n.default)return null;const s=Ql(n.default()),o=s.findIndex(u=>u.type!==Qt);if(o===-1)return s;const a=s[o];(r=a.props)==null||delete r.ref;const l=a.props?ke(e,a.props):e;e.class&&(i=a.props)!=null&&i.class&&delete a.props.class;const c=er(a,l);for(const u in l)u.startsWith("on")&&(c.props||(c.props={}),c.props[u]=l[u]);return s.length===1?c:(s[o]=c,s)}}}),bt=ae({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&["area","img","input"].includes(r)?()=>Et(r,e):r!=="template"?()=>Et(t.as,e,{default:n.default}):()=>Et(ec,e,{default:n.default})}});function $f(){const t=V(),e=j(()=>{var n,r;return["#text","#comment"].includes((n=t.value)==null?void 0:n.$el.nodeName)?(r=t.value)==null?void 0:r.$el.nextElementSibling:or(t)});return{primitiveElement:t,currentElement:e}}function hb(t,e){var n;const r=V({}),i=V("none"),s=V(t),o=t.value?"mounted":"unmounted";let a;const l=((n=e.value)==null?void 0:n.ownerDocument.defaultView)??Uo,{state:c,dispatch:u}=db(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),d=y=>{var g;if(sr){const b=new CustomEvent(y,{bubbles:!1,cancelable:!1});(g=e.value)==null||g.dispatchEvent(b)}};Ce(t,async(y,g)=>{var b;const w=g!==y;if(await Be(),w){const x=i.value,k=Ms(e.value);y?(u("MOUNT"),d("enter"),k==="none"&&d("after-enter")):k==="none"||((b=r.value)==null?void 0:b.display)==="none"?(u("UNMOUNT"),d("leave"),d("after-leave")):g&&x!==k?(u("ANIMATION_OUT"),d("leave")):(u("UNMOUNT"),d("after-leave"))}},{immediate:!0});const h=y=>{const g=Ms(e.value),b=g.includes(y.animationName),w=c.value==="mounted"?"enter":"leave";if(y.target===e.value&&b&&(d(`after-${w}`),u("ANIMATION_END"),!s.value)){const x=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",a=l?.setTimeout(()=>{var k;((k=e.value)==null?void 0:k.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=x)})}y.target===e.value&&g==="none"&&u("ANIMATION_END")},f=y=>{y.target===e.value&&(i.value=Ms(e.value))},p=Ce(e,(y,g)=>{y?(r.value=getComputedStyle(y),y.addEventListener("animationstart",f),y.addEventListener("animationcancel",h),y.addEventListener("animationend",h)):(u("ANIMATION_END"),a!==void 0&&l?.clearTimeout(a),g?.removeEventListener("animationstart",f),g?.removeEventListener("animationcancel",h),g?.removeEventListener("animationend",h))},{immediate:!0}),m=Ce(c,()=>{const y=Ms(e.value);i.value=c.value==="mounted"?y:"none"});return jt(()=>{p(),m()}),{isPresent:j(()=>["mounted","unmountSuspended"].includes(c.value))}}function Ms(t){return t&&getComputedStyle(t).animationName||"none"}const Wf=ae({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){var r;const{present:i,forceMount:s}=vn(t),o=V(),{isPresent:a}=hb(i,o);n({present:a});let l=e.default({present:a});l=Ql(l||[]);const c=At();if(l&&l?.length>1){const u=(r=c?.parent)!=null&&r.type.name?`<${c.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(d=>`  - ${d}`).join(`
`)].join(`
`))}return()=>s.value||i.value||a.value?Et(e.default({present:a})[0],{ref:u=>{const d=or(u);return typeof d?.hasAttribute>"u"||(d!=null&&d.hasAttribute("data-radix-popper-content-wrapper")?o.value=d.firstElementChild:o.value=d),d}}):null}}),fb=ae({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=Lf();return(n,r)=>_(e)||n.forceMount?(L(),de(N0,{key:0,to:n.to,disabled:n.disabled},[we(n.$slots,"default")],8,["to","disabled"])):Te("",!0)}}),pb="dismissableLayer.pointerDownOutside",gb="dismissableLayer.focusOutside";function Hf(t,e){const n=e.closest("[data-dismissable-layer]"),r=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),i=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&r===n||i.indexOf(r)<i.indexOf(n))}function mb(t,e){var n;const r=((n=e?.value)==null?void 0:n.ownerDocument)??globalThis?.document,i=V(!1),s=V(()=>{});return Gt(o=>{if(!sr)return;const a=async c=>{const u=c.target;if(e!=null&&e.value){if(Hf(e.value,u)){i.value=!1;return}if(c.target&&!i.value){let d=function(){ql(pb,t,h)};const h={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",s.value),s.value=d,r.addEventListener("click",s.value,{once:!0})):d()}else r.removeEventListener("click",s.value);i.value=!1}},l=window.setTimeout(()=>{r.addEventListener("pointerdown",a)},0);o(()=>{window.clearTimeout(l),r.removeEventListener("pointerdown",a),r.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>i.value=!0}}function yb(t,e){var n;const r=((n=e?.value)==null?void 0:n.ownerDocument)??globalThis?.document,i=V(!1);return Gt(s=>{if(!sr)return;const o=async a=>{e!=null&&e.value&&(await Be(),!(!e.value||Hf(e.value,a.target))&&a.target&&!i.value&&ql(gb,t,{originalEvent:a}))};r.addEventListener("focusin",o),s(()=>r.removeEventListener("focusin",o))}),{onFocusCapture:()=>i.value=!0,onBlurCapture:()=>i.value=!1}}const Cn=Ar({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vf=ae({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:i,currentElement:s}=ft(),o=j(()=>{var p;return((p=s.value)==null?void 0:p.ownerDocument)??globalThis.document}),a=j(()=>Cn.layersRoot),l=j(()=>s.value?Array.from(a.value).indexOf(s.value):-1),c=j(()=>Cn.layersWithOutsidePointerEventsDisabled.size>0),u=j(()=>{const p=Array.from(a.value),[m]=[...Cn.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(m);return l.value>=y}),d=mb(async p=>{const m=[...Cn.branches].some(y=>y?.contains(p.target));!u.value||m||(r("pointerDownOutside",p),r("interactOutside",p),await Be(),p.defaultPrevented||r("dismiss"))},s),h=yb(p=>{[...Cn.branches].some(m=>m?.contains(p.target))||(r("focusOutside",p),r("interactOutside",p),p.defaultPrevented||r("dismiss"))},s);jv("Escape",p=>{l.value===a.value.size-1&&(r("escapeKeyDown",p),p.defaultPrevented||r("dismiss"))});let f;return Gt(p=>{s.value&&(n.disableOutsidePointerEvents&&(Cn.layersWithOutsidePointerEventsDisabled.size===0&&(f=o.value.body.style.pointerEvents,o.value.body.style.pointerEvents="none"),Cn.layersWithOutsidePointerEventsDisabled.add(s.value)),a.value.add(s.value),p(()=>{n.disableOutsidePointerEvents&&Cn.layersWithOutsidePointerEventsDisabled.size===1&&(o.value.body.style.pointerEvents=f)}))}),Gt(p=>{p(()=>{s.value&&(a.value.delete(s.value),Cn.layersWithOutsidePointerEventsDisabled.delete(s.value))})}),(p,m)=>(L(),de(_(bt),{ref:_(i),"as-child":p.asChild,as:p.as,"data-dismissable-layer":"",style:nn({pointerEvents:c.value?u.value?"auto":"none":void 0}),onFocusCapture:_(h).onFocusCapture,onBlurCapture:_(h).onBlurCapture,onPointerdownCapture:_(d).onPointerDownCapture},{default:ie(()=>[we(p.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),Ca="focusScope.autoFocusOnMount",Ea="focusScope.autoFocusOnUnmount",Uu={bubbles:!1,cancelable:!0};function vb(t,{select:e=!1}={}){const n=Qr();for(const r of t)if(zn(r,{select:e}),Qr()!==n)return!0}function bb(t){const e=zf(t),n=Yu(e,t),r=Yu(e.reverse(),t);return[n,r]}function zf(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Yu(t,e){for(const n of t)if(!wb(n,{upTo:e}))return n}function wb(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xb(t){return t instanceof HTMLInputElement&&"select"in t}function zn(t,{select:e=!1}={}){if(t&&t.focus){const n=Qr();t.focus({preventScroll:!0}),t!==n&&xb(t)&&e&&t.select()}}const _b=Dv(()=>V([]));function Sb(){const t=_b();return{add(e){const n=t.value[0];e!==n&&n?.pause(),t.value=Xu(t.value,e),t.value.unshift(e)},remove(e){var n;t.value=Xu(t.value,e),(n=t.value[0])==null||n.resume()}}}function Xu(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Cb(t){return t.filter(e=>e.tagName!=="A")}const Eb=ae({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:e}){const n=t,r=e,{currentRef:i,currentElement:s}=ft(),o=V(null),a=Sb(),l=Ar({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});Gt(u=>{if(!sr)return;const d=s.value;if(!n.trapped)return;function h(y){if(l.paused||!d)return;const g=y.target;d.contains(g)?o.value=g:zn(o.value,{select:!0})}function f(y){if(l.paused||!d)return;const g=y.relatedTarget;g!==null&&(d.contains(g)||zn(o.value,{select:!0}))}function p(y){d.contains(o.value)||zn(d)}document.addEventListener("focusin",h),document.addEventListener("focusout",f);const m=new MutationObserver(p);d&&m.observe(d,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",f),m.disconnect()})}),Gt(async u=>{const d=s.value;if(await Be(),!d)return;a.add(l);const h=Qr();if(!d.contains(h)){const f=new CustomEvent(Ca,Uu);d.addEventListener(Ca,p=>r("mountAutoFocus",p)),d.dispatchEvent(f),f.defaultPrevented||(vb(Cb(zf(d)),{select:!0}),Qr()===h&&zn(d))}u(()=>{d.removeEventListener(Ca,m=>r("mountAutoFocus",m));const f=new CustomEvent(Ea,Uu),p=m=>{r("unmountAutoFocus",m)};d.addEventListener(Ea,p),d.dispatchEvent(f),setTimeout(()=>{f.defaultPrevented||zn(h??document.body,{select:!0}),d.removeEventListener(Ea,p),a.remove(l)},0)})});function c(u){if(!n.loop&&!n.trapped||l.paused)return;const d=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,h=Qr();if(d&&h){const f=u.currentTarget,[p,m]=bb(f);p&&m?!u.shiftKey&&h===m?(u.preventDefault(),n.loop&&zn(p,{select:!0})):u.shiftKey&&h===p&&(u.preventDefault(),n.loop&&zn(m,{select:!0})):h===f&&u.preventDefault()}}return(u,d)=>(L(),de(_(bt),{ref_key:"currentRef",ref:i,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:c},{default:ie(()=>[we(u.$slots,"default")]),_:3},8,["as-child","as"]))}}),[jf,Ab]=Nn("PopperRoot"),Uf=ae({inheritAttrs:!1,__name:"PopperRoot",setup(t){const e=V();return Ab({anchor:e,onAnchorChange:n=>e.value=n}),(n,r)=>we(n.$slots,"default")}}),Pb=ae({__name:"PopperAnchor",props:{element:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n,currentElement:r}=ft(),i=jf();return Gt(()=>{i.onAnchorChange(e.element??r.value)}),(s,o)=>(L(),de(_(bt),{ref:_(n),as:s.as,"as-child":s.asChild},{default:ie(()=>[we(s.$slots,"default")]),_:3},8,["as","as-child"]))}});function kb(t){return t!==null}function Tb(t){return{name:"transformOrigin",options:t,fn(e){var n,r,i;const{placement:s,rects:o,middlewareData:a}=e,l=((n=a.arrow)==null?void 0:n.centerOffset)!==0,c=l?0:t.arrowWidth,u=l?0:t.arrowHeight,[d,h]=cl(s),f={start:"0%",center:"50%",end:"100%"}[h],p=(((r=a.arrow)==null?void 0:r.x)??0)+c/2,m=(((i=a.arrow)==null?void 0:i.y)??0)+u/2;let y="",g="";return d==="bottom"?(y=l?f:`${p}px`,g=`${-u}px`):d==="top"?(y=l?f:`${p}px`,g=`${o.floating.height+u}px`):d==="right"?(y=`${-u}px`,g=l?f:`${m}px`):d==="left"&&(y=`${o.floating.width+u}px`,g=l?f:`${m}px`),{data:{x:y,y:g}}}}}function cl(t){const[e,n="center"]=t.split("-");return[e,n]}const Rb={side:"bottom",sideOffset:0,align:"center",alignOffset:0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,updatePositionStrategy:"optimized",prioritizePosition:!1},[X9,Ob]=Nn("PopperContent"),ul=ae({inheritAttrs:!1,__name:"PopperContent",props:K0({side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},{...Rb}),emits:["placed"],setup(t,{emit:e}){const n=t,r=e,i=jf(),{forwardRef:s,currentElement:o}=ft(),a=V(),l=V(),{width:c,height:u}=ub(l),d=j(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),h=j(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),f=j(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),p=j(()=>({padding:h.value,boundary:f.value.filter(kb),altBoundary:f.value.length>0})),m=Iv(()=>[xv({mainAxis:n.sideOffset+u.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&Hu({...p.value}),n.avoidCollisions&&_v({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?Av():void 0,...p.value}),!n.prioritizePosition&&n.avoidCollisions&&Hu({...p.value}),Sv({...p.value,apply:({elements:M,rects:Y,availableWidth:X,availableHeight:le})=>{const{width:G,height:z}=Y.reference,F=M.floating.style;F.setProperty("--radix-popper-available-width",`${X}px`),F.setProperty("--radix-popper-available-height",`${le}px`),F.setProperty("--radix-popper-anchor-width",`${G}px`),F.setProperty("--radix-popper-anchor-height",`${z}px`)}}),l.value&&Tv({element:l.value,padding:n.arrowPadding}),Tb({arrowWidth:c.value,arrowHeight:u.value}),n.hideWhenDetached&&Cv({strategy:"referenceHidden",...p.value})]),{floatingStyles:y,placement:g,isPositioned:b,middlewareData:w}=Rv(i.anchor,a,{strategy:"fixed",placement:d,whileElementsMounted:(...M)=>wv(...M,{animationFrame:n.updatePositionStrategy==="always"}),middleware:m}),x=j(()=>cl(g.value)[0]),k=j(()=>cl(g.value)[1]);mg(()=>{b.value&&r("placed")});const P=j(()=>{var M;return((M=w.value.arrow)==null?void 0:M.centerOffset)!==0}),T=V("");Gt(()=>{o.value&&(T.value=window.getComputedStyle(o.value).zIndex)});const R=j(()=>{var M;return((M=w.value.arrow)==null?void 0:M.x)??0}),D=j(()=>{var M;return((M=w.value.arrow)==null?void 0:M.y)??0});return Ob({placedSide:x,onArrowChange:M=>l.value=M,arrowX:R,arrowY:D,shouldHideArrow:P}),(M,Y)=>{var X,le,G;return L(),te("div",{ref_key:"floatingRef",ref:a,"data-radix-popper-content-wrapper":"",style:nn({..._(y),transform:_(b)?_(y).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:T.value,"--radix-popper-transform-origin":[(X=_(w).transformOrigin)==null?void 0:X.x,(le=_(w).transformOrigin)==null?void 0:le.y].join(" "),...((G=_(w).hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[ee(_(bt),ke({ref:_(s)},M.$attrs,{"as-child":n.asChild,as:M.as,"data-side":x.value,"data-align":k.value,style:{animation:_(b)?void 0:"none"}}),{default:ie(()=>[we(M.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}}),Mb=ae({__name:"VisuallyHidden",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){return ft(),(e,n)=>(L(),de(_(bt),{as:e.as,"as-child":e.asChild,style:{position:"absolute",border:0,width:"1px",display:"inline-block",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:ie(()=>[we(e.$slots,"default")]),_:3},8,["as","as-child"]))}}),Ib=ae({__name:"VisuallyHiddenInput",props:{name:{},value:{},required:{type:Boolean},disabled:{type:Boolean}},setup(t){const e=t,n=j(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((r,i)=>typeof r=="object"?Object.entries(r).map(([s,o])=>({name:`[${i}][${e.name}][${s}]`,value:o})):{name:`[${e.name}][${i}]`,value:r}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([r,i])=>({name:`[${e.name}][${r}]`,value:i})):[]);return(r,i)=>(L(!0),te(je,null,Mn(n.value,s=>(L(),de(Mb,{key:s.name,as:"input",type:"hidden",hidden:"",readonly:"",name:s.name,value:s.value,required:r.required,disabled:r.disabled},null,8,["name","value","required","disabled"]))),128))}}),Db="data-radix-vue-collection-item",[tc,Lb]=Nn("CollectionProvider");function Nb(t=Db){const e=V(new Map),n=V(),r=Lb({collectionRef:n,itemMap:e,attrName:t}),{getItems:i}=Gb(r),s=j(()=>Array.from(r.itemMap.value.values())),o=j(()=>r.itemMap.value.size);return{getItems:i,reactiveItems:s,itemMapSize:o}}const Bb=ae({name:"CollectionSlot",setup(t,{slots:e}){const n=tc(),{primitiveElement:r,currentElement:i}=$f();return Ce(i,()=>{n.collectionRef.value=i.value}),()=>Et(ec,{ref:r},e)}}),Fb=ae({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(t,{slots:e,attrs:n}){const r=tc(),{primitiveElement:i,currentElement:s}=$f();return Gt(o=>{if(s.value){const a=Oo(s.value);r.itemMap.value.set(a,{ref:s.value,value:t.value}),o(()=>r.itemMap.value.delete(a))}}),()=>Et(ec,{...n,[r.attrName]:"",ref:i},e)}});function Gb(t){const e=t??tc();return{getItems:()=>{const n=e.collectionRef.value;if(!n)return[];const r=Array.from(n.querySelectorAll(`[${e.attrName}]`));return Array.from(e.itemMap.value.values()).sort((i,s)=>r.indexOf(i.ref)-r.indexOf(s.ref))}}}const[pi,$b]=Nn("ComboboxRoot"),Wb=ae({__name:"ComboboxRoot",props:{modelValue:{},defaultValue:{},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},searchTerm:{},selectedValue:{},multiple:{type:Boolean},disabled:{type:Boolean},name:{},dir:{},filterFunction:{},displayValue:{},resetSearchTermOnBlur:{type:Boolean,default:!0},resetSearchTermOnSelect:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:modelValue","update:open","update:searchTerm","update:selectedValue"],setup(t,{emit:e}){const n=t,r=e,{multiple:i,disabled:s,dir:o}=vn(n),a=tb(o),l=Ri(n,"searchTerm",r,{defaultValue:"",passive:n.searchTerm===void 0}),c=Ri(n,"modelValue",r,{defaultValue:n.defaultValue??i.value?[]:void 0,passive:n.modelValue===void 0,deep:!0}),u=Ri(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),d=Ri(n,"selectedValue",r,{defaultValue:void 0,passive:n.selectedValue===void 0});async function h(q){var he,ge;u.value=q,await Be(),q?(c.value&&(Array.isArray(c.value)&&i.value?d.value=(he=w().find(xe=>{var Ae,Ue;return((Ue=(Ae=xe.ref)==null?void 0:Ae.dataset)==null?void 0:Ue.state)==="checked"}))==null?void 0:he.value:d.value=c.value),await Be(),(ge=m.value)==null||ge.focus(),le()):(p.value=!1,n.resetSearchTermOnBlur&&R("blur"))}function f(q){if(Array.isArray(c.value)&&i.value){const he=c.value.findIndex(xe=>br(xe,q)),ge=[...c.value];he===-1?ge.push(q):ge.splice(he,1),c.value=ge}else c.value=q,h(!1)}const p=V(!1),m=V(),y=V(),{forwardRef:g,currentElement:b}=ft(),{getItems:w,reactiveItems:x,itemMapSize:k}=Nb("data-radix-vue-combobox-item"),P=V([]);Ce(()=>k.value,()=>{P.value=w().map(q=>q.value)},{immediate:!0,flush:"post"});const T=j(()=>{if(p.value){if(n.filterFunction)return n.filterFunction(P.value,l.value);const q=P.value.filter(he=>typeof he=="string");if(q.length)return q.filter(he=>{var ge;return he.toLowerCase().includes((ge=l.value)==null?void 0:ge.toLowerCase())})}return P.value});function R(q){const he=q==="blur"||q==="select"&&n.resetSearchTermOnSelect;!i.value&&c.value&&!Array.isArray(c.value)?n.displayValue?l.value=n.displayValue(c.value):typeof c.value!="object"?l.value=c.value.toString():he&&(l.value=""):he&&(l.value="")}const D=j(()=>T.value.findIndex(q=>br(q,d.value))),M=j(()=>{var q;return(q=x.value.find(he=>br(he.value,d.value)))==null?void 0:q.ref}),Y=j(()=>JSON.stringify(c.value));Ce(Y,async()=>{await Be(),await Be(),R("select")},{immediate:!n.searchTerm}),Ce(()=>[T.value.length,l.value.length],async([q,he],[ge,xe])=>{await Be(),await Be(),q&&(xe>he||D.value===-1)&&(d.value=T.value[0])});const X=ib(b);function le(){var q;M.value instanceof Element&&((q=M.value)==null||q.scrollIntoView({block:"nearest"}))}function G(){M.value instanceof Element&&M.value.focus&&M.value.focus()}const z=V(!1);function F(){z.value=!0}function Z(){requestAnimationFrame(()=>{z.value=!1})}async function N(q){var he;T.value.length&&d.value&&M.value instanceof Element&&(q.preventDefault(),q.stopPropagation(),z.value||(he=M.value)==null||he.click())}return $b({searchTerm:l,modelValue:c,onValueChange:f,isUserInputted:p,multiple:i,disabled:s,open:u,onOpenChange:h,filteredOptions:T,contentId:"",inputElement:m,selectedElement:M,onInputElementChange:q=>m.value=q,onInputNavigation:async q=>{const he=D.value;he===0&&q==="up"||he===T.value.length-1&&q==="down"||(he===-1&&T.value.length||q==="home"?d.value=T.value[0]:q==="end"?d.value=T.value[T.value.length-1]:d.value=T.value[q==="up"?he-1:he+1],await Be(),le(),G(),Be(()=>{var ge;return(ge=m.value)==null?void 0:ge.focus({preventScroll:!0})}))},onInputEnter:N,onCompositionEnd:Z,onCompositionStart:F,selectedValue:d,onSelectedValueChange:q=>d.value=q,parentElement:b,contentElement:y,onContentElementChange:q=>y.value=q}),(q,he)=>(L(),de(_(Uf),null,{default:ie(()=>[ee(_(bt),ke({ref:_(g),style:{pointerEvents:_(u)?"auto":void 0},as:q.as,"as-child":q.asChild,dir:_(a)},q.$attrs),{default:ie(()=>[we(q.$slots,"default",{open:_(u),modelValue:_(c)}),_(X)&&n.name?(L(),de(_(Ib),{key:0,name:n.name,value:_(c)},null,8,["name","value"])):Te("",!0)]),_:3},16,["style","as","as-child","dir"])]),_:3}))}}),Hb=ae({__name:"ComboboxInput",props:{type:{default:"text"},disabled:{type:Boolean},autoFocus:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},setup(t){const e=t,n=pi(),{forwardRef:r,currentElement:i}=ft();Je(()=>{const u=i.value.nodeName==="INPUT"?i.value:i.value.querySelector("input");u&&(n.onInputElementChange(u),setTimeout(()=>{e.autoFocus&&u?.focus()},1))});const s=j(()=>e.disabled||n.disabled.value||!1),o=V();yg(()=>{var u;return o.value=(u=n.selectedElement.value)==null?void 0:u.id});function a(u){n.open.value?n.onInputNavigation(u.key==="ArrowUp"?"up":"down"):n.onOpenChange(!0)}function l(u){n.open.value&&n.onInputNavigation(u.key==="Home"?"home":"end")}function c(u){var d;n.searchTerm.value=(d=u.target)==null?void 0:d.value,n.open.value||n.onOpenChange(!0),n.isUserInputted.value=!0}return(u,d)=>(L(),de(_(bt),{ref:_(r),as:u.as,"as-child":u.asChild,type:u.type,disabled:s.value,value:_(n).searchTerm.value,"aria-expanded":_(n).open.value,"aria-controls":_(n).contentId,"aria-disabled":s.value??void 0,"aria-activedescendant":o.value,"aria-autocomplete":"list",role:"combobox",autocomplete:"false",onInput:c,onKeydown:[Qs(Dt(a,["prevent"]),["down","up"]),Qs(_(n).onInputEnter,["enter"]),Qs(Dt(l,["prevent"]),["home","end"])],onCompositionstart:_(n).onCompositionStart,onCompositionend:_(n).onCompositionEnd},{default:ie(()=>[we(u.$slots,"default")]),_:3},8,["as","as-child","type","disabled","value","aria-expanded","aria-controls","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),[Yf,Vb]=Nn("ComboboxGroup"),zb=ae({__name:"ComboboxGroup",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,{currentRef:n,currentElement:r}=ft(),i=os(void 0,"radix-vue-combobox-group"),s=pi(),o=V(!1);function a(){if(!r.value)return;const l=r.value.querySelectorAll("[data-radix-vue-combobox-item]:not([data-hidden])");o.value=!!l.length}return Yv(r,()=>{Be(()=>{a()})},{childList:!0}),Ce(()=>s.searchTerm.value,()=>{Be(()=>{a()})},{immediate:!0}),Vb({id:i}),(l,c)=>Ht((L(),de(_(bt),ke(e,{ref_key:"currentRef",ref:n,role:"group","aria-labelledby":_(i)}),{default:ie(()=>[we(l.$slots,"default")]),_:3},16,["aria-labelledby"])),[[Vi,o.value]])}}),jb=ae({__name:"ComboboxLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t;ft();const n=Yf({id:""});return(r,i)=>(L(),de(_(bt),ke(e,{id:_(n).id}),{default:ie(()=>[we(r.$slots,"default")]),_:3},16,["id"]))}}),[K9,Ub]=Nn("ComboboxContent"),Yb=ae({__name:"ComboboxContentImpl",props:{position:{default:"inline"},bodyLock:{type:Boolean},dismissable:{type:Boolean,default:!0},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(t,{emit:e}){const n=t,r=e,{position:i}=vn(n),s=pi();Nf(n.bodyLock);const{forwardRef:o,currentElement:a}=ft();Gf(s.parentElement);const l=j(()=>n.position==="popper"?n:{}),c=Yo(l.value);function u(h){s.onSelectedValueChange("")}Je(()=>{s.onContentElementChange(a.value)});const d={boxSizing:"border-box","--radix-combobox-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-combobox-content-available-width":"var(--radix-popper-available-width)","--radix-combobox-content-available-height":"var(--radix-popper-available-height)","--radix-combobox-trigger-width":"var(--radix-popper-anchor-width)","--radix-combobox-trigger-height":"var(--radix-popper-anchor-height)"};return Ub({position:i}),(h,f)=>(L(),de(_(Bb),null,{default:ie(()=>[h.dismissable?(L(),de(_(Vf),{key:0,"as-child":"","disable-outside-pointer-events":h.disableOutsidePointerEvents,onDismiss:f[0]||(f[0]=p=>_(s).onOpenChange(!1)),onFocusOutside:f[1]||(f[1]=p=>{var m;(m=_(s).parentElement.value)!=null&&m.contains(p.target)&&p.preventDefault(),r("focusOutside",p)}),onInteractOutside:f[2]||(f[2]=p=>r("interactOutside",p)),onEscapeKeyDown:f[3]||(f[3]=p=>r("escapeKeyDown",p)),onPointerDownOutside:f[4]||(f[4]=p=>{var m;(m=_(s).parentElement.value)!=null&&m.contains(p.target)&&p.preventDefault(),r("pointerDownOutside",p)})},{default:ie(()=>[(L(),de(ao(_(i)==="popper"?_(ul):_(bt)),ke({...h.$attrs,..._(c)},{id:_(s).contentId,ref:_(o),role:"listbox","data-state":_(s).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",..._(i)==="popper"?d:{}},onPointerleave:u}),{default:ie(()=>[we(h.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])):(L(),de(ao(_(i)==="popper"?_(ul):_(bt)),ke({key:1},{...h.$attrs,...l.value},{id:_(s).contentId,ref:_(o),role:"listbox","data-state":_(s).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",..._(i)==="popper"?d:{}},onPointerleave:u}),{default:ie(()=>[we(h.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3}))}}),Xb=ae({__name:"ComboboxContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},dismissable:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(t,{emit:e}){const n=Bn(t,e),{forwardRef:r}=ft(),i=pi();return i.contentId||(i.contentId=os(void 0,"radix-vue-combobox-content")),(s,o)=>(L(),de(_(Wf),{present:s.forceMount||_(i).open.value},{default:ie(()=>[ee(Yb,ke({..._(n),...s.$attrs},{ref:_(r)}),{default:ie(()=>[we(s.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),Kb=ae({__name:"ComboboxEmpty",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;ft();const n=pi(),r=j(()=>n.filteredOptions.value.length===0);return(i,s)=>r.value?(L(),de(_(bt),Eo(ke({key:0},e)),{default:ie(()=>[we(i.$slots,"default",{},()=>[Xe("No options")])]),_:3},16)):Te("",!0)}}),[q9,qb]=Nn("ComboboxItem"),Jb="combobox.select",Qb=ae({__name:"ComboboxItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,r=e,{disabled:i}=vn(n),s=pi();Yf({id:"",options:V([])});const{forwardRef:o}=ft(),a=j(()=>{var m,y;return s.multiple.value&&Array.isArray(s.modelValue.value)?(m=s.modelValue.value)==null?void 0:m.some(g=>br(g,n.value)):br((y=s.modelValue)==null?void 0:y.value,n.value)}),l=j(()=>br(s.selectedValue.value,n.value)),c=os(void 0,"radix-vue-combobox-item"),u=os(void 0,"radix-vue-combobox-option"),d=j(()=>s.isUserInputted.value?s.searchTerm.value===""||!!s.filteredOptions.value.find(m=>br(m,n.value)):!0);async function h(m){r("select",m),!(m!=null&&m.defaultPrevented)&&!i.value&&m&&s.onValueChange(n.value)}function f(m){if(!m)return;const y={originalEvent:m,value:n.value};ql(Jb,h,y)}async function p(m){await Be(),!m.defaultPrevented&&s.onSelectedValueChange(n.value)}if(n.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");return qb({isSelected:a}),(m,y)=>(L(),de(_(Fb),{value:m.value},{default:ie(()=>[Ht(ee(_(bt),{id:_(u),ref:_(o),role:"option",tabindex:"-1","aria-labelledby":_(c),"data-highlighted":l.value?"":void 0,"aria-selected":a.value,"data-state":a.value?"checked":"unchecked","aria-disabled":_(i)||void 0,"data-disabled":_(i)?"":void 0,as:m.as,"as-child":m.asChild,"data-hidden":d.value?void 0:!0,onClick:f,onPointermove:p},{default:ie(()=>[we(m.$slots,"default",{},()=>[Xe(et(m.value),1)])]),_:3},8,["id","aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","as","as-child","data-hidden"]),[[Vi,d.value]])]),_:3},8,["value"]))}}),[ms,Zb]=Nn("PopoverRoot"),e5=ae({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=e,{modal:i}=vn(n),s=Ri(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),o=V(),a=V(!1);return Zb({contentId:"",modal:i,open:s,onOpenChange:l=>{s.value=l},onOpenToggle:()=>{s.value=!s.value},triggerElement:o,hasCustomAnchor:a}),(l,c)=>(L(),de(_(Uf),null,{default:ie(()=>[we(l.$slots,"default",{open:_(s)})]),_:3}))}}),t5=ae({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=ms(),{forwardRef:r,currentElement:i}=ft();return Je(()=>{n.triggerElement.value=i.value}),(s,o)=>(L(),de(ao(_(n).hasCustomAnchor.value?_(bt):_(Pb)),{"as-child":""},{default:ie(()=>[ee(_(bt),{ref:_(r),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":_(n).open.value,"aria-controls":_(n).contentId,"data-state":_(n).open.value?"open":"closed",as:s.as,"as-child":e.asChild,onClick:_(n).onOpenToggle},{default:ie(()=>[we(s.$slots,"default")]),_:3},8,["type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),n5=ae({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,r)=>(L(),de(_(fb),Eo(No(e)),{default:ie(()=>[we(n.$slots,"default")]),_:3},16))}}),Xf=ae({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=Yo(n),{forwardRef:s}=ft(),o=ms();return rb(),(a,l)=>(L(),de(_(Eb),{"as-child":"",loop:"",trapped:a.trapFocus,onMountAutoFocus:l[5]||(l[5]=c=>r("openAutoFocus",c)),onUnmountAutoFocus:l[6]||(l[6]=c=>r("closeAutoFocus",c))},{default:ie(()=>[ee(_(Vf),{"as-child":"","disable-outside-pointer-events":a.disableOutsidePointerEvents,onPointerDownOutside:l[0]||(l[0]=c=>r("pointerDownOutside",c)),onInteractOutside:l[1]||(l[1]=c=>r("interactOutside",c)),onEscapeKeyDown:l[2]||(l[2]=c=>r("escapeKeyDown",c)),onFocusOutside:l[3]||(l[3]=c=>r("focusOutside",c)),onDismiss:l[4]||(l[4]=c=>_(o).onOpenChange(!1))},{default:ie(()=>[ee(_(ul),ke(_(i),{id:_(o).contentId,ref:_(s),"data-state":_(o).open.value?"open":"closed",role:"dialog",style:{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}),{default:ie(()=>[we(a.$slots,"default")]),_:3},16,["id","data-state"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),r5=ae({__name:"PopoverContentModal",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=ms(),s=V(!1);Nf(!0);const o=Bn(n,r),{forwardRef:a,currentElement:l}=ft();return Gf(l),(c,u)=>(L(),de(Xf,ke(_(o),{ref:_(a),"trap-focus":_(i).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:u[0]||(u[0]=Dt(d=>{var h;r("closeAutoFocus",d),s.value||(h=_(i).triggerElement.value)==null||h.focus()},["prevent"])),onPointerDownOutside:u[1]||(u[1]=d=>{r("pointerDownOutside",d);const h=d.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,p=h.button===2||f;s.value=p}),onFocusOutside:u[2]||(u[2]=Dt(()=>{},["prevent"]))}),{default:ie(()=>[we(c.$slots,"default")]),_:3},16,["trap-focus"]))}}),i5=ae({__name:"PopoverContentNonModal",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=ms(),s=V(!1),o=V(!1),a=Bn(n,r);return(l,c)=>(L(),de(Xf,ke(_(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=u=>{var d;r("closeAutoFocus",u),u.defaultPrevented||(s.value||(d=_(i).triggerElement.value)==null||d.focus(),u.preventDefault()),s.value=!1,o.value=!1}),onInteractOutside:c[1]||(c[1]=async u=>{var d;r("interactOutside",u),u.defaultPrevented||(s.value=!0,u.detail.originalEvent.type==="pointerdown"&&(o.value=!0));const h=u.target;(d=_(i).triggerElement.value)!=null&&d.contains(h)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&o.value&&u.preventDefault()})}),{default:ie(()=>[we(l.$slots,"default")]),_:3},16))}}),s5=ae({__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=ms(),s=Bn(n,r),{forwardRef:o}=ft();return i.contentId||(i.contentId=os(void 0,"radix-vue-popover-content")),(a,l)=>(L(),de(_(Wf),{present:a.forceMount||_(i).open.value},{default:ie(()=>[_(i).modal.value?(L(),de(r5,ke({key:0},_(s),{ref:_(o)}),{default:ie(()=>[we(a.$slots,"default")]),_:3},16)):(L(),de(i5,ke({key:1},_(s),{ref:_(o)}),{default:ie(()=>[we(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}});function o5(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}o5();const a5=ae({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;return(n,r)=>(L(),de(_(bt),{as:t.as,"as-child":t.asChild,class:ht(_(rn)(_(l5)({variant:t.variant,size:t.size}),e.class))},{default:ie(()=>[we(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),l5=$2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c5=ae({__name:"Command",props:{modelValue:{default:""},defaultValue:{},open:{type:Boolean,default:!0},defaultOpen:{type:Boolean},searchTerm:{},selectedValue:{},multiple:{type:Boolean},disabled:{type:Boolean},name:{},dir:{},filterFunction:{},displayValue:{},resetSearchTermOnBlur:{type:Boolean},resetSearchTermOnSelect:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:open","update:searchTerm","update:selectedValue"],setup(t,{emit:e}){const n=t,r=e,i=j(()=>{const{class:o,...a}=n;return a}),s=Bn(i,r);return(o,a)=>(L(),de(_(Wb),ke(_(s),{class:_(rn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n.class)}),{default:ie(()=>[we(o.$slots,"default")]),_:3},16,["class"]))}}),u5=ae({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=j(()=>{const{class:r,...i}=e;return i});return(r,i)=>(L(),de(_(Kb),ke(n.value,{class:_(rn)("py-6 text-center text-sm",e.class)}),{default:ie(()=>[we(r.$slots,"default")]),_:3},16,["class"]))}}),d5=ae({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(t){const e=t,n=j(()=>{const{class:r,...i}=e;return i});return(r,i)=>(L(),de(_(zb),ke(n.value,{class:_(rn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e.class)}),{default:ie(()=>[t.heading?(L(),de(_(jb),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:ie(()=>[Xe(et(t.heading),1)]),_:1})):Te("",!0),we(r.$slots,"default")]),_:3},16,["class"]))}}),h5={class:"flex items-center border-b px-3","cmdk-input-wrapper":""},f5=ae({inheritAttrs:!1,__name:"CommandInput",props:{type:{},disabled:{type:Boolean},autoFocus:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=j(()=>{const{class:i,...s}=e;return s}),r=Yo(n);return(i,s)=>(L(),te("div",h5,[ee(_(J1),{class:"mr-2 h-4 w-4 shrink-0 opacity-50"}),ee(_(Hb),ke({..._(r),...i.$attrs},{"auto-focus":"",class:_(rn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e.class)}),null,16,["class"])]))}}),p5=ae({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(t,{emit:e}){const n=t,r=e,i=j(()=>{const{class:o,...a}=n;return a}),s=Bn(i,r);return(o,a)=>(L(),de(_(Qb),ke(_(s),{class:_(rn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.class)}),{default:ie(()=>[we(o.$slots,"default")]),_:3},16,["class"]))}}),g5={role:"presentation"},m5=ae({__name:"CommandList",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},dismissable:{type:Boolean,default:!1},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(t,{emit:e}){const n=t,r=e,i=j(()=>{const{class:o,...a}=n;return a}),s=Bn(i,r);return(o,a)=>(L(),de(_(Xb),ke(_(s),{class:_(rn)("max-h-[300px] overflow-y-auto overflow-x-hidden",n.class)}),{default:ie(()=>[H("div",g5,[we(o.$slots,"default")])]),_:3},16,["class"]))}}),y5=ae({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const i=Bn(t,e);return(s,o)=>(L(),de(_(e5),Eo(No(_(i))),{default:ie(()=>[we(s.$slots,"default")]),_:3},16))}}),v5=ae({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=j(()=>{const{class:o,...a}=n;return a}),s=Bn(i,r);return(o,a)=>(L(),de(_(n5),null,{default:ie(()=>[ee(_(s5),ke({..._(s),...o.$attrs},{class:_(rn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:ie(()=>[we(o.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),b5=ae({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(L(),de(_(t5),Eo(No(e)),{default:ie(()=>[we(n.$slots,"default")]),_:3},16))}});var ut=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},St={searchParams:"URLSearchParams"in ut,iterable:"Symbol"in ut&&"iterator"in Symbol,blob:"FileReader"in ut&&"Blob"in ut&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in ut,arrayBuffer:"ArrayBuffer"in ut};function w5(t){return t&&DataView.prototype.isPrototypeOf(t)}if(St.arrayBuffer)var x5=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_5=ArrayBuffer.isView||function(t){return t&&x5.indexOf(Object.prototype.toString.call(t))>-1};function gi(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function nc(t){return typeof t!="string"&&(t=String(t)),t}function rc(t){var e={next:function(){var n=t.shift();return{done:n===void 0,value:n}}};return St.iterable&&(e[Symbol.iterator]=function(){return e}),e}function it(t){this.map={},t instanceof it?t.forEach(function(e,n){this.append(n,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}it.prototype.append=function(t,e){t=gi(t),e=nc(e);var n=this.map[t];this.map[t]=n?n+", "+e:e};it.prototype.delete=function(t){delete this.map[gi(t)]};it.prototype.get=function(t){return t=gi(t),this.has(t)?this.map[t]:null};it.prototype.has=function(t){return this.map.hasOwnProperty(gi(t))};it.prototype.set=function(t,e){this.map[gi(t)]=nc(e)};it.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};it.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),rc(t)};it.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),rc(t)};it.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),rc(t)};St.iterable&&(it.prototype[Symbol.iterator]=it.prototype.entries);function Aa(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function Kf(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function S5(t){var e=new FileReader,n=Kf(e);return e.readAsArrayBuffer(t),n}function C5(t){var e=new FileReader,n=Kf(e),r=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=r?r[1]:"utf-8";return e.readAsText(t,i),n}function E5(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function Ku(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function qf(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:St.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:St.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:St.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():St.arrayBuffer&&St.blob&&w5(t)?(this._bodyArrayBuffer=Ku(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):St.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||_5(t))?this._bodyArrayBuffer=Ku(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):St.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},St.blob&&(this.blob=function(){var t=Aa(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=Aa(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(St.blob)return this.blob().then(S5);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=Aa(this);if(t)return t;if(this._bodyBlob)return C5(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E5(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},St.formData&&(this.formData=function(){return this.text().then(k5)}),this.json=function(){return this.text().then(JSON.parse)},this}var A5=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function P5(t){var e=t.toUpperCase();return A5.indexOf(e)>-1?e:t}function Er(t,e){if(!(this instanceof Er))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var n=e.body;if(t instanceof Er){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new it(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!n&&t._bodyInit!=null&&(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new it(e.headers)),this.method=P5(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||(function(){if("AbortController"in ut){var s=new AbortController;return s.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Er.prototype.clone=function(){return new Er(this,{body:this._bodyInit})};function k5(t){var e=new FormData;return t.trim().split("&").forEach(function(n){if(n){var r=n.split("="),i=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(s))}}),e}function T5(t){var e=new it,n=t.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var i=r.split(":"),s=i.shift().trim();if(s){var o=i.join(":").trim();try{e.append(s,o)}catch(a){console.warn("Response "+a.message)}}}),e}qf.call(Er.prototype);function yn(t,e){if(!(this instanceof yn))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new it(e.headers),this.url=e.url||"",this._initBody(t)}qf.call(yn.prototype);yn.prototype.clone=function(){return new yn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new it(this.headers),url:this.url})};yn.error=function(){var t=new yn(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var R5=[301,302,303,307,308];yn.redirect=function(t,e){if(R5.indexOf(e)===-1)throw new RangeError("Invalid status code");return new yn(null,{status:e,headers:{location:t}})};var mr=ut.DOMException;try{new mr}catch{mr=function(e,n){this.message=e,this.name=n;var r=Error(e);this.stack=r.stack},mr.prototype=Object.create(Error.prototype),mr.prototype.constructor=mr}function Jf(t,e){return new Promise(function(n,r){var i=new Er(t,e);if(i.signal&&i.signal.aborted)return r(new mr("Aborted","AbortError"));var s=new XMLHttpRequest;function o(){s.abort()}s.onload=function(){var c={statusText:s.statusText,headers:T5(s.getAllResponseHeaders()||"")};i.url.indexOf("file://")===0&&(s.status<200||s.status>599)?c.status=200:c.status=s.status,c.url="responseURL"in s?s.responseURL:c.headers.get("X-Request-URL");var u="response"in s?s.response:s.responseText;setTimeout(function(){n(new yn(u,c))},0)},s.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},s.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"))},0)},s.onabort=function(){setTimeout(function(){r(new mr("Aborted","AbortError"))},0)};function a(c){try{return c===""&&ut.location.href?ut.location.href:c}catch{return c}}if(s.open(i.method,a(i.url),!0),i.credentials==="include"?s.withCredentials=!0:i.credentials==="omit"&&(s.withCredentials=!1),"responseType"in s&&(St.blob?s.responseType="blob":St.arrayBuffer&&(s.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof it||ut.Headers&&e.headers instanceof ut.Headers)){var l=[];Object.getOwnPropertyNames(e.headers).forEach(function(c){l.push(gi(c)),s.setRequestHeader(c,nc(e.headers[c]))}),i.headers.forEach(function(c,u){l.indexOf(u)===-1&&s.setRequestHeader(u,c)})}else i.headers.forEach(function(c,u){s.setRequestHeader(u,c)});i.signal&&(i.signal.addEventListener("abort",o),s.onreadystatechange=function(){s.readyState===4&&i.signal.removeEventListener("abort",o)}),s.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}Jf.polyfill=!0;ut.fetch||(ut.fetch=Jf,ut.Headers=it,ut.Request=Er,ut.Response=yn);const Qf="11434",Zf=`http://127.0.0.1:${Qf}`,O5="0.5.18";var M5=Object.defineProperty,I5=(t,e,n)=>e in t?M5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pa=(t,e,n)=>(I5(t,typeof e!="symbol"?e+"":e,n),n);class ic extends Error{constructor(e,n){super(e),this.error=e,this.status_code=n,this.name="ResponseError",Error.captureStackTrace&&Error.captureStackTrace(this,ic)}}class D5{constructor(e,n,r){Pa(this,"abortController"),Pa(this,"itr"),Pa(this,"doneCallback"),this.abortController=e,this.itr=n,this.doneCallback=r}abort(){this.abortController.abort()}async*[Symbol.asyncIterator](){for await(const e of this.itr){if("error"in e)throw new Error(e.error);if(yield e,e.done||e.status==="success"){this.doneCallback();return}}throw new Error("Did not receive done or success response in stream.")}}const sc=async t=>{if(t.ok)return;let e=`Error ${t.status}: ${t.statusText}`,n=null;if(t.headers.get("content-type")?.includes("application/json"))try{n=await t.json(),e=n.error||e}catch{console.log("Failed to parse error response as JSON")}else try{console.log("Getting text from response"),e=await t.text()||e}catch{console.log("Failed to get text from error response")}throw new ic(e,t.status)};function L5(){if(typeof window<"u"&&window.navigator){const t=navigator;return"userAgentData"in t&&t.userAgentData?.platform?`${t.userAgentData.platform.toLowerCase()} Browser/${navigator.userAgent};`:navigator.platform?`${navigator.platform.toLowerCase()} Browser/${navigator.userAgent};`:`unknown Browser/${navigator.userAgent};`}else if(typeof process<"u")return`${process.arch} ${process.platform} Node.js/${process.version}`;return""}function N5(t){if(t instanceof Headers){const e={};return t.forEach((n,r)=>{e[r]=n}),e}else return Array.isArray(t)?Object.fromEntries(t):t||{}}const oc=async(t,e,n={})=>{const r={"Content-Type":"application/json",Accept:"application/json","User-Agent":`ollama-js/${O5} (${L5()})`};n.headers=N5(n.headers);const i=Object.fromEntries(Object.entries(n.headers).filter(([s])=>!Object.keys(r).some(o=>o.toLowerCase()===s.toLowerCase())));return n.headers={...r,...i},t(e,n)},qu=async(t,e,n)=>{const r=await oc(t,e,{headers:n?.headers});return await sc(r),r},Fr=async(t,e,n,r)=>{const s=(a=>a!==null&&typeof a=="object"&&!Array.isArray(a))(n)?JSON.stringify(n):n,o=await oc(t,e,{method:"POST",body:s,signal:r?.signal,headers:r?.headers});return await sc(o),o},B5=async(t,e,n,r)=>{const i=await oc(t,e,{method:"DELETE",body:JSON.stringify(n),headers:r?.headers});return await sc(i),i},F5=async function*(t){const e=new TextDecoder("utf-8");let n="";const r=t.getReader();for(;;){const{done:i,value:s}=await r.read();if(i)break;n+=e.decode(s);const o=n.split(`
`);n=o.pop()??"";for(const a of o)try{yield JSON.parse(a)}catch{console.warn("invalid json: ",a)}}for(const i of n.split(`
`).filter(s=>s!==""))try{yield JSON.parse(i)}catch{console.warn("invalid json: ",i)}},G5=t=>{if(!t)return Zf;let e=t.includes("://");t.startsWith(":")&&(t=`http://127.0.0.1${t}`,e=!0),e||(t=`http://${t}`);const n=new URL(t);let r=n.port;r||(e?r=n.protocol==="https:"?"443":"80":r=Qf);let i="";n.username&&(i=n.username,n.password&&(i+=`:${n.password}`),i+="@");let s=`${n.protocol}//${i}${n.hostname}:${r}${n.pathname}`;return s.endsWith("/")&&(s=s.slice(0,-1)),s};var $5=Object.defineProperty,W5=(t,e,n)=>e in t?$5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ka=(t,e,n)=>(W5(t,typeof e!="symbol"?e+"":e,n),n);let dl=class{constructor(e){ka(this,"config"),ka(this,"fetch"),ka(this,"ongoingStreamedRequests",[]),this.config={host:"",headers:e?.headers},e?.proxy||(this.config.host=G5(e?.host??Zf)),this.fetch=e?.fetch??fetch}abort(){for(const e of this.ongoingStreamedRequests)e.abort();this.ongoingStreamedRequests.length=0}async processStreamableRequest(e,n){n.stream=n.stream??!1;const r=`${this.config.host}/api/${e}`;if(n.stream){const s=new AbortController,o=await Fr(this.fetch,r,n,{signal:s.signal,headers:this.config.headers});if(!o.body)throw new Error("Missing body");const a=F5(o.body),l=new D5(s,a,()=>{const c=this.ongoingStreamedRequests.indexOf(l);c>-1&&this.ongoingStreamedRequests.splice(c,1)});return this.ongoingStreamedRequests.push(l),l}return await(await Fr(this.fetch,r,n,{headers:this.config.headers})).json()}async encodeImage(e){if(typeof e!="string"){const n=new Uint8Array(e);let r="";const i=n.byteLength;for(let s=0;s<i;s++)r+=String.fromCharCode(n[s]);return btoa(r)}return e}async generate(e){return e.images&&(e.images=await Promise.all(e.images.map(this.encodeImage.bind(this)))),this.processStreamableRequest("generate",e)}async chat(e){if(e.messages)for(const n of e.messages)n.images&&(n.images=await Promise.all(n.images.map(this.encodeImage.bind(this))));return this.processStreamableRequest("chat",e)}async create(e){return this.processStreamableRequest("create",{...e})}async pull(e){return this.processStreamableRequest("pull",{name:e.model,stream:e.stream,insecure:e.insecure})}async push(e){return this.processStreamableRequest("push",{name:e.model,stream:e.stream,insecure:e.insecure})}async delete(e){return await B5(this.fetch,`${this.config.host}/api/delete`,{name:e.model},{headers:this.config.headers}),{status:"success"}}async copy(e){return await Fr(this.fetch,`${this.config.host}/api/copy`,{...e},{headers:this.config.headers}),{status:"success"}}async list(){return await(await qu(this.fetch,`${this.config.host}/api/tags`,{headers:this.config.headers})).json()}async show(e){return await(await Fr(this.fetch,`${this.config.host}/api/show`,{...e},{headers:this.config.headers})).json()}async embed(e){return await(await Fr(this.fetch,`${this.config.host}/api/embed`,{...e},{headers:this.config.headers})).json()}async embeddings(e){return await(await Fr(this.fetch,`${this.config.host}/api/embeddings`,{...e},{headers:this.config.headers})).json()}async ps(){return await(await qu(this.fetch,`${this.config.host}/api/ps`,{headers:this.config.headers})).json()}};new dl;function Gr(t){return t?t.startsWith("#")?parseInt(t.replace("#","0x")):{red:16711680,green:65280,blue:255,white:16777215,black:0,yellow:16776960,transparent:0}[t.toLowerCase()]||16777215:16777215}const H5=Math.PI/180;function V5(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const wr=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},se={_global:wr,version:"10.0.12",isBrowser:V5(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return se.angleDeg?t*H5:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return se.DD.isDragging},isTransforming(){var t,e;return(e=(t=se.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!se.DD.node},releaseCanvasOnDestroy:!0,document:wr.document,_injectGlobal(t){typeof wr.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),wr.Konva=t}},Qe=t=>{se[t.prototype.getClassName()]=t};se._injectGlobal(se);const z5=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,Ju=()=>{if(typeof document>"u")throw new Error(z5)};class Lt{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new Lt(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.m[0]*n+this.m[2]*r,s=this.m[1]*n+this.m[3]*r,o=this.m[0]*-r+this.m[2]*n,a=this.m[1]*-r+this.m[3]*n;return this.m[0]=i,this.m[1]=s,this.m[2]=o,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const r=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,s=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=s,this.m[3]=o,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],s=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=a,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,s=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=a,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],s=this.m[4],o=this.m[5],a=e*i-n*r,l={x:s,y:o,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const c=Math.sqrt(e*e+n*n);l.rotation=n>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=a/c,l.skewX=(e*r+n*i)/a,l.skewY=0}else if(r!=0||i!=0){const c=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/c):-Math.acos(r/c)),l.scaleX=a/c,l.scaleY=c,l.skewX=0,l.skewY=(e*r+n*i)/a}return l.rotation=O._getRotation(l.rotation),l}}const j5="[object Array]",U5="[object Number]",Y5="[object String]",X5="[object Boolean]",K5=Math.PI/180,q5=180/Math.PI,Si="#",J5="",Q5="0",Z5="Konva warning: ",Qu="Konva error: ",e3="rgb(",Ta={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},t3=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let Is=[],Ci=null;const n3=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},O={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===j5},_isNumber(t){return Object.prototype.toString.call(t)===U5&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===Y5},_isBoolean(t){return Object.prototype.toString.call(t)===X5},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){Is.push(t),Is.length===1&&n3(function(){const e=Is;Is=[],e.forEach(function(n){n()})})},createCanvasElement(){Ju();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return Ju(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=O.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(Si,J5);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=Q5+t;return Si+t},isCanvasFarblingActive(){if(Ci!==null)return Ci;if(typeof document>"u")return Ci=!1,!1;const t=this.createCanvasElement();t.width=10,t.height=10;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,10,10),e.fillStyle="#282828",e.fillRect(0,0,10,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=0;i<100;i++)if(n[i*4]!==40||n[i*4+1]!==40||n[i*4+2]!==40||n[i*4+3]!==255){r=!0;break}return Ci=r,this.releaseCanvas(t),Ci},getHitColor(){const t=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(t):t},getHitColorKey(t,e,n){return this.isCanvasFarblingActive()&&(t=Math.round(t/5)*5,e=Math.round(e/5)*5,n=Math.round(n/5)*5),Si+this._rgbToHex(t,e,n)},getSnappedHexColor(t){const e=this._hexToRgb(t);return Si+this._rgbToHex(Math.round(e.r/5)*5,Math.round(e.g/5)*5,Math.round(e.b/5)*5)},getRGB(t){let e;return t in Ta?(e=Ta[t],{r:e[0],g:e[1],b:e[2]}):t[0]===Si?this._hexToRgb(t.substring(1)):t.substr(0,4)===e3?(e=t3.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",O._namedColorToRBA(t)||O._hex3ColorToRGBA(t)||O._hex4ColorToRGBA(t)||O._hex6ColorToRGBA(t)||O._hex8ColorToRGBA(t)||O._rgbColorToRGBA(t)||O._rgbaColorToRGBA(t)||O._hslColorToRGBA(t)},_namedColorToRBA(t){const e=Ta[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,i=Number(n[1])/100,s=Number(n[2])/100;let o,a,l;if(i===0)return l=s*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};s<.5?o=s*(1+i):o=s+i-s*i;const c=2*s-o,u=[0,0,0];for(let d=0;d<3;d++)a=r+1/3*-(d-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(o-c)*6*a:2*a<1?l=o:3*a<2?l=c+(o-c)*(2/3-a)*6:l=c,u[d]=l*255;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*K5},radToDeg(t){return t*q5},_degToRad(t){return O.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),O.degToRad(t)},_radToDeg(t){return O.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),O.radToDeg(t)},_getRotation(t){return se.angleDeg?O.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(Qu+t)},error(t){console.error(Qu+t)},warn(t){se.showWarnings&&console.warn(Z5+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,i,s){let o,a,l;const c=(t-n)*(t-n)+(e-r)*(e-r);if(c==0)o=t,a=e,l=(i-n)*(i-n)+(s-r)*(s-r);else{const u=((i-t)*(n-t)+(s-e)*(r-e))/c;u<0?(o=t,a=e,l=(t-i)*(t-i)+(e-s)*(e-s)):u>1?(o=n,a=r,l=(n-i)*(n-i)+(r-s)*(r-s)):(o=t+u*(n-t),a=e+u*(r-e),l=(o-i)*(o-i)+(a-s)*(a-s))}return[o,a,l]},_getProjectionToLine(t,e,n){const r=O.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(s,o){if(!n&&o===e.length-1)return;const a=e[(o+1)%e.length],l=O._getProjectionToSegment(s.x,s.y,a.x,a.y,t.x,t.y),c=l[0],u=l[1],d=l[2];d<i&&(r.x=c,r.y=u,i=d)}),r},_prepareArrayForTween(t,e,n){const r=[],i=[];if(t.length>e.length){const o=e;e=t,t=o}for(let o=0;o<t.length;o+=2)r.push({x:t[o],y:t[o+1]});for(let o=0;o<e.length;o+=2)i.push({x:e[o],y:e[o+1]});const s=[];return i.forEach(function(o){const a=O._getProjectionToLine(o,r,n);s.push(a.x),s.push(a.y)}),s},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||O._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(O._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){se.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let i=e<0?e:0,s=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let o=0,a=0,l=0,c=0;typeof r=="number"?o=a=l=c=Math.min(r,e/2,n/2):(o=Math.min(r[0]||0,e/2,n/2),a=Math.min(r[1]||0,e/2,n/2),c=Math.min(r[2]||0,e/2,n/2),l=Math.min(r[3]||0,e/2,n/2)),t.moveTo(i+o,s),t.lineTo(i+e-a,s),t.arc(i+e-a,s+a,a,Math.PI*3/2,0,!1),t.lineTo(i+e,s+n-c),t.arc(i+e-c,s+n-c,c,0,Math.PI/2,!1),t.lineTo(i+l,s+n),t.arc(i+l,s+n-l,l,Math.PI/2,Math.PI,!1),t.lineTo(i,s+o),t.arc(i+o,s+o,o,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,r,i){r=Math.abs(r);for(let s=0;s<n;s++){const o=e[(s-1+n)%n],a=e[s],l=e[(s+1)%n],c={x:a.x-o.x,y:a.y-o.y},u={x:l.x-a.x,y:l.y-a.y},d=Math.hypot(c.x,c.y),h=Math.hypot(u.x,u.y);let f;typeof i=="number"?f=i:f=s<i.length?i[s]:0,f=r*Math.cos(Math.PI/n)*Math.min(1,f/r*2);const m={x:c.x/d,y:c.y/d},y={x:u.x/h,y:u.y/h},g={x:a.x-m.x*f,y:a.y-m.y*f},b={x:a.x+y.x*f,y:a.y+y.y*f};s===0?t.moveTo(g.x,g.y):t.lineTo(g.x,g.y),t.arcTo(a.x,a.y,b.x,b.y,f)}}};function r3(t){const e=[],n=t.length,r=O;for(let i=0;i<n;i++){let s=t[i];r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s+""),e.push(s)}return e}const Zu=",",i3="(",s3=")",o3="([",a3="])",l3=";",c3="()",u3="=",ed=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],d3=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],h3=100;let Ds=null;function td(){if(Ds!==null)return Ds;try{const e=O.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(Ds=!1,!1)}catch{return Ds=!1,!1}}class Xo{constructor(e){this.canvas=e,se.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,i=r.length,s="",o,a,l,c;for(o=0;o<i;o++)a=r[o],l=a.method,l?(c=a.args,s+=l,e?s+=c3:O._isArray(c[0])?s+=o3+c.join(Zu)+a3:(n&&(c=c.map(u=>typeof u=="number"?Math.floor(u):u)),s+=i3+c.join(Zu)+s3)):(s+=a.property,e||(s+=u3+a.val)),s+=l3;return s}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=h3&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,s,o){this._context.arc(e,n,r,i,s,o)}arcTo(e,n,r,i,s){this._context.arcTo(e,n,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,s,o){this._context.bezierCurveTo(e,n,r,i,s,o)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,s,o){return this._context.createRadialGradient(e,n,r,i,s,o)}drawImage(e,n,r,i,s,o,a,l,c){const u=arguments,d=this._context;u.length===3?d.drawImage(e,n,r):u.length===5?d.drawImage(e,n,r,i,s):u.length===9&&d.drawImage(e,n,r,i,s,o,a,l,c)}ellipse(e,n,r,i,s,o,a,l){this._context.ellipse(e,n,r,i,s,o,a,l)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}roundRect(e,n,r,i,s){this._context.roundRect(e,n,r,i,s)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,s,o){this._context.setTransform(e,n,r,i,s,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,s,o){this._context.transform(e,n,r,i,s,o)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=ed.length,r=this.setAttr,i,s;const o=function(a){let l=e[a],c;e[a]=function(){return s=r3(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:s}),c}};for(i=0;i<n;i++)o(ed[i]);e.setAttr=function(){r.apply(e,arguments);const a=arguments[0];let l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}d3.forEach(function(t){Object.defineProperty(Xo.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class f3 extends Xo{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}const s=e.getFillLinearGradientColorStops();if(s&&r==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(let o=0;o<i.length;o+=2)s.addColorStop(i[o],i[o+1]);this.setAttr("strokeStyle",s)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i;const s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",o=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),u=l.x*c,d=l.y*c;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",o*Math.min(Math.abs(u),Math.abs(d))),this.setAttr("shadowOffsetX",a.x*u),this.setAttr("shadowOffsetY",a.y*d)}}class p3 extends Xo{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let Ls;function g3(){if(Ls)return Ls;const t=O.createCanvasElement(),e=t.getContext("2d");return Ls=(function(){const n=se._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r})(),O.releaseCanvas(t),Ls}class ac{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||se.pixelRatio||g3();this.pixelRatio=r,this._canvas=O.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return O.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class qn extends ac{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new f3(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}class lc extends ac{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new p3(this),this.setSize(e.width,e.height)}}const Ie={get isDragging(){let t=!1;return Ie._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return Ie._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];Ie._dragElements.forEach((n,r)=>{const{node:i}=n,s=i.getStage();s.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=O._getFirstPointerId(t));const o=s._changedPointerPositions.find(a=>a.id===n.pointerId);if(o){if(n.dragStatus!=="dragging"){const a=i.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<a||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];Ie._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(a=>a.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(Ie.justDragged=!0,se._mouseListenClick=!1,se._touchListenClick=!1,se._pointerListenClick=!1,n.dragStatus="stopped");const o=n.node.getLayer()||n.node instanceof se.Stage&&n.node;o&&e.indexOf(o)===-1&&e.push(o)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){Ie._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&Ie._dragElements.delete(n)})}};se.isBrowser&&(window.addEventListener("mouseup",Ie._endDragBefore,!0),window.addEventListener("touchend",Ie._endDragBefore,!0),window.addEventListener("touchcancel",Ie._endDragBefore,!0),window.addEventListener("mousemove",Ie._drag),window.addEventListener("touchmove",Ie._drag),window.addEventListener("mouseup",Ie._endDragAfter,!1),window.addEventListener("touchend",Ie._endDragAfter,!1),window.addEventListener("touchcancel",Ie._endDragAfter,!1));function ar(t){return O._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||O._isBoolean(t)?t:Object.prototype.toString.call(t)}function ep(t){return t>255?255:t<0?0:Math.round(t)}function ne(){if(se.isUnminified)return function(t,e){return O._isNumber(t)||O.warn(ar(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Ko(t){if(se.isUnminified)return function(e,n){let r=O._isNumber(e),i=O._isArray(e)&&e.length==t;return!r&&!i&&O.warn(ar(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function cc(){if(se.isUnminified)return function(t,e){return O._isNumber(t)||t==="auto"||O.warn(ar(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function kr(){if(se.isUnminified)return function(t,e){return O._isString(t)||O.warn(ar(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function tp(){if(se.isUnminified)return function(t,e){const n=O._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||O.warn(ar(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function m3(){if(se.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(O._isArray(t)?t.forEach(function(r){O._isNumber(r)||O.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):O.warn(ar(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function sn(){if(se.isUnminified)return function(t,e){return t===!0||t===!1||O.warn(ar(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function y3(t){if(se.isUnminified)return function(e,n){return e==null||O.isObject(e)||O.warn(ar(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const Ei="get",Ai="set",E={addGetterSetter(t,e,n,r,i){E.addGetter(t,e,n),E.addSetter(t,e,r,i),E.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const r=Ei+O._capitalize(e);t.prototype[r]=t.prototype[r]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,r){const i=Ai+O._capitalize(e);t.prototype[i]||E.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){const i=Ai+O._capitalize(e);t.prototype[i]=function(s){return n&&s!==void 0&&s!==null&&(s=n.call(this,s,e)),this._setAttr(e,s),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,i){const s=n.length,o=O._capitalize,a=Ei+o(e),l=Ai+o(e);t.prototype[a]=function(){const u={};for(let d=0;d<s;d++){const h=n[d];u[h]=this.getAttr(e+o(h))}return u};const c=y3(n);t.prototype[l]=function(u){const d=this.attrs[e];r&&(u=r.call(this,u,e)),c&&c.call(this,u,e);for(const h in u)u.hasOwnProperty(h)&&this._setAttr(e+o(h),u[h]);return u||n.forEach(h=>{this._setAttr(e+o(h),void 0)}),this._fireChangeEvent(e,d,u),i&&i.call(this),this},E.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=O._capitalize(e),r=Ai+n,i=Ei+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,r){O.error("Adding deprecated "+e);const i=Ei+O._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){O.error(s);const o=this.attrs[e];return o===void 0?n:o},E.addSetter(t,e,r,function(){O.error(s)}),E.addOverloadedGetterSetter(t,e)},backCompat(t,e){O.each(e,function(n,r){const i=t.prototype[r],s=Ei+O._capitalize(n),o=Ai+O._capitalize(n);function a(){i.apply(this,arguments),O.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=a,t.prototype[s]=a,t.prototype[o]=a})},afterSetFilter(){this._filterUpToDate=!1}};function v3(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,r,i]=n;switch(r){case"blur":{const s=parseFloat(i.replace("px",""));return function(o){this.blurRadius(s*.5);const a=se.Filters;a&&a.Blur&&a.Blur.call(this,o)}}case"brightness":{const s=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(o){this.brightness(s);const a=se.Filters;a&&a.Brightness&&a.Brightness.call(this,o)}}case"contrast":{const s=parseFloat(i);return function(o){const a=100*(Math.sqrt(s)-1);this.contrast(a);const l=se.Filters;l&&l.Contrast&&l.Contrast.call(this,o)}}case"grayscale":return function(s){const o=se.Filters;o&&o.Grayscale&&o.Grayscale.call(this,s)};case"sepia":return function(s){const o=se.Filters;o&&o.Sepia&&o.Sepia.call(this,s)};case"invert":return function(s){const o=se.Filters;o&&o.Invert&&o.Invert.call(this,s)};default:O.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const Zs="absoluteOpacity",Ns="allEventListeners",En="absoluteTransform",nd="absoluteScale",pr="canvas",b3="Change",w3="children",x3="konva",hl="listening",_3="mouseenter",S3="mouseleave",C3="pointerenter",E3="pointerleave",A3="touchenter",P3="touchleave",rd="set",id="Shape",eo=" ",sd="stage",jn="transform",k3="Stage",fl="visible",T3=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(eo);let R3=1,re=class pl{constructor(e){this._id=R3++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===jn||e===En)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===jn||e===En)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(s=>s+"Change.konva").join(eo);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(pr)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===En&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(pr)){const{scene:e,filter:n,hit:r,buffer:i}=this._cache.get(pr);O.releaseCanvas(e,n,r,i),this._cache.delete(pr)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||r.width),s=Math.ceil(n.height||r.height),o=n.pixelRatio,a=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,c=n.offset||0,u=n.drawBorder||!1,d=n.hitCanvasPixelRatio||1;if(!i||!s){O.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const h=Math.abs(Math.round(r.x)-a)>.5?1:0,f=Math.abs(Math.round(r.y)-l)>.5?1:0;i+=c*2+h,s+=c*2+f,a-=c,l-=c;const p=new qn({pixelRatio:o,width:i,height:s}),m=new qn({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),y=new lc({pixelRatio:d,width:i,height:s}),g=p.getContext(),b=y.getContext(),w=new qn({width:p.width/p.pixelRatio+Math.abs(a),height:p.height/p.pixelRatio+Math.abs(l),pixelRatio:p.pixelRatio}),x=w.getContext();return y.isCache=!0,p.isCache=!0,this._cache.delete(pr),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(p.getContext()._context.imageSmoothingEnabled=!1,m.getContext()._context.imageSmoothingEnabled=!1),g.save(),b.save(),x.save(),g.translate(-a,-l),b.translate(-a,-l),x.translate(-a,-l),w.x=a,w.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Zs),this._clearSelfAndDescendantCache(nd),this.drawScene(p,this,w),this.drawHit(y,this),this._isUnderCache=!1,g.restore(),b.restore(),u&&(g.save(),g.beginPath(),g.rect(0,0,i,s),g.closePath(),g.setAttr("strokeStyle","red"),g.setAttr("lineWidth",5),g.stroke(),g.restore()),this._cache.set(pr,{scene:p,filter:m,hit:y,buffer:w,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(pr)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,s=1/0,o=-1/0,a=-1/0;const l=this.getAbsoluteTransform(n);return r.forEach(function(c){const u=l.point(c);i===void 0&&(i=o=u.x,s=a=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}),{x:i,y:s,width:o-i,height:a-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,s=i.getContext(),o,a,l,c;if(!e||e.length===0)return r;if(this._filterUpToDate)return i;let u=!0;for(let h=0;h<e.length;h++)if(typeof e[h]=="string"&&td(),typeof e[h]!="string"||!td()){u=!1;break}const d=r.pixelRatio;if(i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),u){const h=e.join(" ");return s.save(),s.setAttr("filter",h),s.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),s.restore(),this._filterUpToDate=!0,i}try{for(o=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),a=s.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<o;l++)c=e[l],typeof c=="string"&&(c=v3(c)),c.call(this,a),s.putImageData(a,0,0)}catch(h){O.error("Unable to apply filter. "+h.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(Ns),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(eo);for(let i=0;i<r.length;i++){const o=r[i].split("."),a=o[0],l=o[1]||"";this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:l,handler:n})}return this}off(e,n){let r=(e||"").split(eo),i=r.length,s,o,a,l,c,u;if(this._cache&&this._cache.delete(Ns),!e)for(o in this.eventListeners)this._off(o);for(s=0;s<i;s++)if(a=r[s],l=a.split("."),c=l[0],u=l[1],c)this.eventListeners[c]&&this._off(c,u,n);else for(o in this.eventListeners)this._off(o,u,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const i=this;this.on(e,function(s){const o=s.target.findAncestors(n,!0,i);for(let a=0;a<o.length;a++)s=O.cloneObject(s),s.currentTarget=o[a],r.call(o[a],s)})}remove(){return this.isDragging()&&this.stopDrag(),Ie._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(En),this._clearSelfAndDescendantCache(Zs),this._clearSelfAndDescendantCache(nd),this._clearSelfAndDescendantCache(sd),this._clearSelfAndDescendantCache(fl),this._clearSelfAndDescendantCache(hl)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+O._capitalize(e);return O._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==w3&&(r=rd+O._capitalize(n),O._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(hl,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(fl,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let i=!1;Ie._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===r)&&(i=!0)});const s=!n&&!se.hitOnDragEnabled&&(i||se.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,i,s,o,a;function l(u){for(i=[],s=u.length,o=0;o<s;o++)a=u[o],r++,a.nodeType!==id&&(i=i.concat(a.getChildren().slice())),a._id===n._id&&(o=s);i.length>0&&i[0].getDepth()<=e&&l(i)}const c=this.getStage();return n.nodeType!==k3&&c&&l(c.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(jn),this._clearSelfAndDescendantCache(En)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),s=new Lt,o=this.offset();return s.m=i.slice(),s.translate(o.x,o.y),s.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(jn);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(jn),this._clearSelfAndDescendantCache(En),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,i=this.x(),s=this.y();return n!==void 0&&(i+=n),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,n){let r=[],i=this.getParent(),s,o;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(s=r.length,o=0;o<s;o++)e(r[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return O.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return O.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return O.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return O.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return O.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&O.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Zs,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,i,s,o;const a={attrs:{},className:this.getClassName()};for(n in e)r=e[n],o=O.isObject(r)&&!O._isPlainObject(r)&&!O._isArray(r),!o&&(i=typeof this[n]=="function"&&this[n],delete e[n],s=i?i.call(this):null,e[n]=r,s!==r&&(a.attrs[n]=r));return O._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const i=[];n&&this._isMatch(e)&&i.push(this);let s=this.parent;for(;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,i,s;for(i=0;i<r;i++)if(s=n[i],O.isValidSelector(s)||(O.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),O.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),O.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(sd,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(En,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new Lt,this._eachAncestorReverse(function(r){const i=r.transformsEnabled();i==="all"?n.multiply(r.getTransform()):i==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(En)||new Lt,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,o=this.attrs.offsetX||0,a=this.attrs.offsetY||0;n.translate(i-o,s-a)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(jn,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(jn)||new Lt;r.reset();const i=this.x(),s=this.y(),o=se.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,u=this.attrs.skewY||0,d=this.attrs.offsetX||0,h=this.attrs.offsetY||0;return(i!==0||s!==0)&&r.translate(i,s),o!==0&&r.rotate(o),(c!==0||u!==0)&&r.skew(c,u),(a!==1||l!==1)&&r.scale(a,l),(d!==0||h!==0)&&r.translate(-1*d,-1*h),r.dirty=!1,r}clone(e){let n=O.cloneObject(this.attrs),r,i,s,o,a;for(r in e)n[r]=e[r];const l=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],s=i.length,o=0;o<s;o++)a=i[o],a.name.indexOf(x3)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(a));return l}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),o=e.pixelRatio||1,a=new qn({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:o}),l=a.getContext(),c=new qn({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(s),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||s)&&l.translate(-1*i,-1*s),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,O._urlToImage(this.toDataURL(e),function(s){n(s),i?.(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),i?.(s)},e?.mimeType,e?.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():se.dragDistance}_off(e,n,r){let i=this.eventListeners[e],s,o,a;for(s=0;s<i.length;s++)if(o=i[s].name,a=i[s].handler,(o!=="konva"||n==="konva")&&(!n||o===n)&&(!r||r===a)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,r){this._fire(e+b3,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[rd+O._capitalize(e)];return O._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(se.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!O.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===id&&(n.target=this);const i=[_3,S3,C3,E3,A3,P3];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const o=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!o&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,i;const s=(n=this._cache.get(Ns))!==null&&n!==void 0?n:{};let o=s?.[e];if(o===void 0){o=[];let a=Object.getPrototypeOf(this);for(;a;){const l=(i=(r=a.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];o.push(...l),a=Object.getPrototypeOf(a)}s[e]=o,this._cache.set(Ns,s)}return o}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let s=0;s<r.length;s++)r[s].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let s=0;s<i.length;s++)i[s].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;const s=r._getPointerById(n)||r._changedPointerPositions[0]||i;Ie._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Ie._dragElements.has(this._id)||this._createDragElement(e);const r=Ie._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let i={x:r.x-n.offset.x,y:r.y-n.offset.y};const s=this.dragBoundFunc();if(s!==void 0){const o=s.call(this,i,e);o?i=o:O.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=Ie._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Ie._endDragBefore(e),Ie._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Ie._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||se.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;Ie._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Ie._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&Ie._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return O.haveIntersection(r,this.getClientRect())}static create(e,n){return O._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=pl.prototype.getClassName.call(e),i=e.children,s,o,a;n&&(e.attrs.container=n),se[r]||(O.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=se[r];if(s=new l(e.attrs),i)for(o=i.length,a=0;a<o;a++)s.add(pl._createNode(i[a]));return s}};re.prototype.nodeType="Node";re.prototype._attrsAffectingSize=[];re.prototype.eventListeners={};re.prototype.on.call(re.prototype,T3,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(jn),this._clearSelfAndDescendantCache(En)});re.prototype.on.call(re.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(fl)});re.prototype.on.call(re.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(hl)});re.prototype.on.call(re.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Zs)});const $e=E.addGetterSetter;$e(re,"zIndex");$e(re,"absolutePosition");$e(re,"position");$e(re,"x",0,ne());$e(re,"y",0,ne());$e(re,"globalCompositeOperation","source-over",kr());$e(re,"opacity",1,ne());$e(re,"name","",kr());$e(re,"id","",kr());$e(re,"rotation",0,ne());E.addComponentsGetterSetter(re,"scale",["x","y"]);$e(re,"scaleX",1,ne());$e(re,"scaleY",1,ne());E.addComponentsGetterSetter(re,"skew",["x","y"]);$e(re,"skewX",0,ne());$e(re,"skewY",0,ne());E.addComponentsGetterSetter(re,"offset",["x","y"]);$e(re,"offsetX",0,ne());$e(re,"offsetY",0,ne());$e(re,"dragDistance",void 0,ne());$e(re,"width",0,ne());$e(re,"height",0,ne());$e(re,"listening",!0,sn());$e(re,"preventDefault",!0,sn());$e(re,"filters",void 0,function(t){return this._filterUpToDate=!1,t});$e(re,"visible",!0,sn());$e(re,"transformsEnabled","all",kr());$e(re,"size");$e(re,"dragBoundFunc");$e(re,"draggable",!1,sn());E.backCompat(re,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Ft extends re{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!!(s&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=re.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=re.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas(),o=s&&s.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=s&&s.isCache;if(!this.isVisible()&&!c)return this;if(l){o.save();const u=this.getAbsoluteTransform(n).getMatrix();o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",s,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),o=this._getCanvasCache();if(o&&o.hit){s.save();const l=this.getAbsoluteTransform(n).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r,i){var s;const o=n&&n.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),u=typeof a=="number"&&typeof l=="number"||c,d=r===this;if(u){o.save();const f=this.getAbsoluteTransform(r);let p=f.getMatrix();o.transform(p[0],p[1],p[2],p[3],p[4],p[5]),o.beginPath();let m;if(c)m=c.call(this,o,this);else{const y=this.clipX(),g=this.clipY();o.rect(y||0,g||0,a,l)}o.clip.apply(o,m),p=f.copy().invert().getMatrix(),o.transform(p[0],p[1],p[2],p[3],p[4],p[5])}const h=!d&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";h&&(o.save(),o._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(f){f[e](n,r,i)}),h&&o.restore(),u&&o.restore()}getClientRect(e={}){var n;const r=e.skipTransform,i=e.relativeTo;let s,o,a,l,c={x:1/0,y:1/0,width:0,height:0};const u=this;(n=this.children)===null||n===void 0||n.forEach(function(f){if(!f.visible())return;const p=f.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});p.width===0&&p.height===0||(s===void 0?(s=p.x,o=p.y,a=p.x+p.width,l=p.y+p.height):(s=Math.min(s,p.x),o=Math.min(o,p.y),a=Math.max(a,p.x+p.width),l=Math.max(l,p.y+p.height)))});const d=this.find("Shape");let h=!1;for(let f=0;f<d.length;f++)if(d[f]._isVisible(this)){h=!0;break}return h&&s!==void 0?c={x:s,y:o,width:a-s,height:l-o}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}}E.addComponentsGetterSetter(Ft,"clip",["x","y","width","height"]);E.addGetterSetter(Ft,"clipX",void 0,ne());E.addGetterSetter(Ft,"clipY",void 0,ne());E.addGetterSetter(Ft,"clipWidth",void 0,ne());E.addGetterSetter(Ft,"clipHeight",void 0,ne());E.addGetterSetter(Ft,"clipFunc");const as=new Map,np=se._global.PointerEvent!==void 0;function Ra(t){return as.get(t)}function uc(t){return{evt:t,pointerId:t.pointerId}}function rp(t,e){return as.get(t)===e}function ip(t,e){Ui(t),e.getStage()&&(as.set(t,e),np&&e._fire("gotpointercapture",uc(new PointerEvent("gotpointercapture"))))}function Ui(t,e){const n=as.get(t);if(!n)return;const r=n.getStage();r&&r.content,as.delete(t),np&&n._fire("lostpointercapture",uc(new PointerEvent("lostpointercapture")))}const O3="Stage",M3="string",od="px",I3="mouseout",sp="mouseleave",op="mouseover",ap="mouseenter",lp="mousemove",cp="mousedown",up="mouseup",Oi="pointermove",Mi="pointerdown",jr="pointerup",Ii="pointercancel",D3="lostpointercapture",Bs="pointerout",Di="pointerleave",Fs="pointerover",Gs="pointerenter",gl="contextmenu",dp="touchstart",hp="touchend",fp="touchmove",pp="touchcancel",ml="wheel",L3=5,N3=[[ap,"_pointerenter"],[cp,"_pointerdown"],[lp,"_pointermove"],[up,"_pointerup"],[sp,"_pointerleave"],[dp,"_pointerdown"],[fp,"_pointermove"],[hp,"_pointerup"],[pp,"_pointercancel"],[op,"_pointerover"],[ml,"_wheel"],[gl,"_contextmenu"],[Mi,"_pointerdown"],[Oi,"_pointermove"],[jr,"_pointerup"],[Ii,"_pointercancel"],[Di,"_pointerleave"],[D3,"_lostpointercapture"]],Oa={mouse:{[Bs]:I3,[Di]:sp,[Fs]:op,[Gs]:ap,[Oi]:lp,[Mi]:cp,[jr]:up,[Ii]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Bs]:"touchout",[Di]:"touchleave",[Fs]:"touchover",[Gs]:"touchenter",[Oi]:fp,[Mi]:dp,[jr]:hp,[Ii]:pp,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Bs]:Bs,[Di]:Di,[Fs]:Fs,[Gs]:Gs,[Oi]:Oi,[Mi]:Mi,[jr]:jr,[Ii]:Ii,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Li=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",$r=t=>{const e=Li(t);if(e==="pointer")return se.pointerEventsEnabled&&Oa.pointer;if(e==="touch")return Oa.touch;if(e==="mouse")return Oa.mouse};function ad(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&O.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const B3="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Yi=[];class qo extends Ft{constructor(e){super(ad(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Yi.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{ad(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||O.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===M3){let n;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),Ft.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&O._isInDocument(e)&&this.container().removeChild(e);const n=Yi.indexOf(this);return n>-1&&Yi.splice(n,1),O.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(O.warn(B3),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new qn({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(s){if(!s.isVisible())return;const o=s._toKonvaCanvas(e);r.drawImage(o._canvas,e.x,e.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,r=n.length,i=r-1;for(let s=i;s>=0;s--){const o=n[s].getIntersection(e);if(o)return o}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+od,this.content.style.height=n+od),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const r=this.children.length;return r>L3&&O.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),se.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return rp(e,this)}setPointerCapture(e){ip(e,this)}releaseCapture(e){Ui(e)}getLayers(){return this.children}_bindContentEvents(){se.isBrowser&&N3.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=$r(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=$r(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=$r(e.type),r=Li(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(r),s=!(se.isDragging()||se.isTransforming())||se.hitOnDragEnabled;i&&s?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):s&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=$r(e.type),r=Li(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(s=>{const o=this.getIntersection(s);if(Ie.justDragged=!1,se["_"+r+"ListenClick"]=!0,!o||!o.isListening()){this[r+"ClickStartShape"]=void 0;return}se.capturePointerEventsEnabled&&o.setPointerCapture(s.id),this[r+"ClickStartShape"]=o,o._fireAndBubble(n.pointerdown,{evt:e,pointerId:s.id}),i=!0;const a=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=$r(e.type),r=Li(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(se.isDragging()&&Ie.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(se.isDragging()||se.isTransforming())||se.hitOnDragEnabled))return;const o={};let a=!1;const l=this._getTargetShape(r);this._changedPointerPositions.forEach(c=>{const u=Ra(c.id)||this.getIntersection(c),d=c.id,h={evt:e,pointerId:d},f=l!==u;if(f&&l&&(l._fireAndBubble(n.pointerout,{...h},u),l._fireAndBubble(n.pointerleave,{...h},u)),u){if(o[u._id])return;o[u._id]=!0}u&&u.isListening()?(a=!0,f&&(u._fireAndBubble(n.pointerover,{...h},l),u._fireAndBubble(n.pointerenter,{...h},l),this[r+"targetShape"]=u),u._fireAndBubble(n.pointermove,{...h})):l&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:d}),this[r+"targetShape"]=null)}),a||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=$r(e.type),r=Li(e.type);if(!n)return;this.setPointersPositions(e);const i=this[r+"ClickStartShape"],s=this[r+"ClickEndShape"],o={};let a=!1;this._changedPointerPositions.forEach(l=>{const c=Ra(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),o[c._id])return;o[c._id]=!0}const u=l.id,d={evt:e,pointerId:u};let h=!1;se["_"+r+"InDblClickWindow"]?(h=!0,clearTimeout(this[r+"DblTimeout"])):Ie.justDragged||(se["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){se["_"+r+"InDblClickWindow"]=!1},se.dblClickWindow),c&&c.isListening()?(a=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(n.pointerup,{...d}),se["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(n.pointerclick,{...d}),h&&s&&s===c&&c._fireAndBubble(n.pointerdblclick,{...d}))):(this[r+"ClickEndShape"]=null,a||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a=!0),se["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:u}),h&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:u}))}),a||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),se["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(gl,{evt:e}):this._fire(gl,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(ml,{evt:e}):this._fire(ml,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=Ra(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(jr,uc(e)),Ui(e.pointerId)}_lostpointercapture(e){Ui(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,s=>{this._pointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,s=>{this._changedPointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:O._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:O._getFirstPointerId(e)}])}_setPointerPosition(e){O.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new qn({width:this.width(),height:this.height()}),this.bufferHitCanvas=new lc({pixelRatio:1,width:this.width(),height:this.height()}),!se.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return O.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}qo.prototype.nodeType=O3;Qe(qo);E.addGetterSetter(qo,"container");se.isBrowser&&document.addEventListener("visibilitychange",()=>{Yi.forEach(t=>{t.batchDraw()})});const gp="hasShadow",mp="shadowRGBA",yp="patternImage",vp="linearGradient",bp="radialGradient";let $s;function Ma(){return $s||($s=O.createCanvasElement().getContext("2d"),$s)}const Xi={};function F3(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function G3(t){t.stroke()}function $3(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function W3(t){t.stroke()}function H3(){this._clearCache(gp)}function V3(){this._clearCache(mp)}function z3(){this._clearCache(yp)}function j3(){this._clearCache(vp)}function U3(){this._clearCache(bp)}class J extends re{constructor(e){super(e);let n,r=0;for(;n=O.getHitColor(),!(n&&!(n in Xi));)if(r++,r>=1e4){O.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),n=O.getRandomColor();break}this.colorKey=n,Xi[n]=this}getContext(){return O.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return O.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(gp,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(yp,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=Ma().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new Lt;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(se.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),s=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(s)}return n}}_getLinearGradient(){return this._getCache(vp,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=Ma(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),s=n.createLinearGradient(r.x,r.y,i.x,i.y);for(let o=0;o<e.length;o+=2)s.addColorStop(e[o],e[o+1]);return s}}_getRadialGradient(){return this._getCache(bp,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=Ma(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),s=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let o=0;o<e.length;o+=2)s.addColorStop(e[o],e[o+1]);return s}}getShadowRGBA(){return this._getCache(mp,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=O.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return re.prototype.destroy.call(this),delete Xi[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),s=this.hasStroke(),o=this.getAbsoluteOpacity()!==1;if(i&&s&&o)return!0;const a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&s&&a&&l)}setStrokeHitEnabled(e){O.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}const i=e.skipTransform,s=e.relativeTo||n&&this.getStage()||void 0,o=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,c=o.width+l,u=o.height+l,d=!e.skipShadow&&this.hasShadow(),h=d?this.shadowOffsetX():0,f=d?this.shadowOffsetY():0,p=c+Math.abs(h),m=u+Math.abs(f),y=d&&this.shadowBlur()||0,g=p+y*2,b=m+y*2,w={width:g,height:b,x:-(l/2+y)+Math.min(h,0)+o.x,y:-(l/2+y)+Math.min(f,0)+o.y};return i?w:this._transformedRect(w,s)}drawScene(e,n,r){const i=this.getLayer(),s=e||i.getCanvas(),o=s.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow();let u;const d=n===this;if(!this.isVisible()&&!d)return this;if(a){o.save();const h=this.getAbsoluteTransform(n).getMatrix();return o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!l)return this;if(o.save(),this._useBufferCanvas()){u=this.getStage();const h=r||u.bufferCanvas,f=h.getContext();f.clear(),f.save(),f._applyLineJoin(this),f._applyMiterLimit(this);const p=this.getAbsoluteTransform(n).getMatrix();f.transform(p[0],p[1],p[2],p[3],p[4],p[5]),l.call(this,f,this),f.restore();const m=h.pixelRatio;c&&o._applyShadow(this),d||(o._applyOpacity(this),o._applyGlobalCompositeOperation(this)),o.drawImage(h._canvas,h.x||0,h.y||0,h.width/m,h.height/m)}else{if(o._applyLineJoin(this),o._applyMiterLimit(this),!d){const h=this.getAbsoluteTransform(n).getMatrix();o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}c&&o._applyShadow(this),l.call(this,o,this)}return o.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;const i=this.getLayer(),s=e||i.hitCanvas,o=s&&s.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||O.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){o.save();const d=this.getAbsoluteTransform(n).getMatrix();return o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!a)return this;if(o.save(),o._applyLineJoin(this),o._applyMiterLimit(this),!(this===n)){const d=this.getAbsoluteTransform(n).getMatrix();o.transform(d[0],d[1],d[2],d[3],d[4],d[5])}return a.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,s=i.getContext(),o=i.getWidth(),a=i.getHeight();s.clear(),s.drawImage(r._canvas,0,0,o,a);try{const l=s.getImageData(0,0,o,a),c=l.data,u=c.length,d=O._hexToRgb(this.colorKey);for(let h=0;h<u;h+=4)c[h+3]>e?(c[h]=d.r,c[h+1]=d.g,c[h+2]=d.b,c[h+3]=255):c[h+3]=0;s.putImageData(l,0,0)}catch(l){O.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return rp(e,this)}setPointerCapture(e){ip(e,this)}releaseCapture(e){Ui(e)}}J.prototype._fillFunc=F3;J.prototype._strokeFunc=G3;J.prototype._fillFuncHit=$3;J.prototype._strokeFuncHit=W3;J.prototype._centroid=!1;J.prototype.nodeType="Shape";Qe(J);J.prototype.eventListeners={};J.prototype.on.call(J.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",H3);J.prototype.on.call(J.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",V3);J.prototype.on.call(J.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",z3);J.prototype.on.call(J.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",j3);J.prototype.on.call(J.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",U3);E.addGetterSetter(J,"stroke",void 0,tp());E.addGetterSetter(J,"strokeWidth",2,ne());E.addGetterSetter(J,"fillAfterStrokeEnabled",!1);E.addGetterSetter(J,"hitStrokeWidth","auto",cc());E.addGetterSetter(J,"strokeHitEnabled",!0,sn());E.addGetterSetter(J,"perfectDrawEnabled",!0,sn());E.addGetterSetter(J,"shadowForStrokeEnabled",!0,sn());E.addGetterSetter(J,"lineJoin");E.addGetterSetter(J,"lineCap");E.addGetterSetter(J,"miterLimit");E.addGetterSetter(J,"sceneFunc");E.addGetterSetter(J,"hitFunc");E.addGetterSetter(J,"dash");E.addGetterSetter(J,"dashOffset",0,ne());E.addGetterSetter(J,"shadowColor",void 0,kr());E.addGetterSetter(J,"shadowBlur",0,ne());E.addGetterSetter(J,"shadowOpacity",1,ne());E.addComponentsGetterSetter(J,"shadowOffset",["x","y"]);E.addGetterSetter(J,"shadowOffsetX",0,ne());E.addGetterSetter(J,"shadowOffsetY",0,ne());E.addGetterSetter(J,"fillPatternImage");E.addGetterSetter(J,"fill",void 0,tp());E.addGetterSetter(J,"fillPatternX",0,ne());E.addGetterSetter(J,"fillPatternY",0,ne());E.addGetterSetter(J,"fillLinearGradientColorStops");E.addGetterSetter(J,"strokeLinearGradientColorStops");E.addGetterSetter(J,"fillRadialGradientStartRadius",0);E.addGetterSetter(J,"fillRadialGradientEndRadius",0);E.addGetterSetter(J,"fillRadialGradientColorStops");E.addGetterSetter(J,"fillPatternRepeat","repeat");E.addGetterSetter(J,"fillEnabled",!0);E.addGetterSetter(J,"strokeEnabled",!0);E.addGetterSetter(J,"shadowEnabled",!0);E.addGetterSetter(J,"dashEnabled",!0);E.addGetterSetter(J,"strokeScaleEnabled",!0);E.addGetterSetter(J,"fillPriority","color");E.addComponentsGetterSetter(J,"fillPatternOffset",["x","y"]);E.addGetterSetter(J,"fillPatternOffsetX",0,ne());E.addGetterSetter(J,"fillPatternOffsetY",0,ne());E.addComponentsGetterSetter(J,"fillPatternScale",["x","y"]);E.addGetterSetter(J,"fillPatternScaleX",1,ne());E.addGetterSetter(J,"fillPatternScaleY",1,ne());E.addComponentsGetterSetter(J,"fillLinearGradientStartPoint",["x","y"]);E.addComponentsGetterSetter(J,"strokeLinearGradientStartPoint",["x","y"]);E.addGetterSetter(J,"fillLinearGradientStartPointX",0);E.addGetterSetter(J,"strokeLinearGradientStartPointX",0);E.addGetterSetter(J,"fillLinearGradientStartPointY",0);E.addGetterSetter(J,"strokeLinearGradientStartPointY",0);E.addComponentsGetterSetter(J,"fillLinearGradientEndPoint",["x","y"]);E.addComponentsGetterSetter(J,"strokeLinearGradientEndPoint",["x","y"]);E.addGetterSetter(J,"fillLinearGradientEndPointX",0);E.addGetterSetter(J,"strokeLinearGradientEndPointX",0);E.addGetterSetter(J,"fillLinearGradientEndPointY",0);E.addGetterSetter(J,"strokeLinearGradientEndPointY",0);E.addComponentsGetterSetter(J,"fillRadialGradientStartPoint",["x","y"]);E.addGetterSetter(J,"fillRadialGradientStartPointX",0);E.addGetterSetter(J,"fillRadialGradientStartPointY",0);E.addComponentsGetterSetter(J,"fillRadialGradientEndPoint",["x","y"]);E.addGetterSetter(J,"fillRadialGradientEndPointX",0);E.addGetterSetter(J,"fillRadialGradientEndPointY",0);E.addGetterSetter(J,"fillPatternRotation",0);E.addGetterSetter(J,"fillRule",void 0,kr());E.backCompat(J,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const Y3="beforeDraw",X3="draw",wp=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],K3=wp.length;class Tr extends Ft{constructor(e){super(e),this.canvas=new qn,this.hitCanvas=new lc({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){re.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!re.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(re.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(re.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return re.prototype.remove.call(this),e&&e.parentNode&&O._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&O.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),re.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){O.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){O.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,O.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let i=0;i<K3;i++){const s=wp[i],o=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),a=o.shape;if(a)return a;if(r=!!o.antialiased,!o.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const s=O.getHitColorKey(r[0],r[1],r[2]),o=Xi[s];return o?{shape:o}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas();return this._fire(Y3,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),Ft.prototype.drawScene.call(this,s,n,r),this._fire(X3,{node:this}),this}drawHit(e,n){const r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Ft.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){O.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return O.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return O.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Tr.prototype.nodeType="Layer";Qe(Tr);E.addGetterSetter(Tr,"imageSmoothingEnabled",!0);E.addGetterSetter(Tr,"clearBeforeDraw",!0);E.addGetterSetter(Tr,"hitGraphEnabled",!0,sn());class dc extends Tr{constructor(e){super(e),this.listening(!1),O.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}dc.prototype.nodeType="FastLayer";Qe(dc);class si extends Ft{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&O.throw("You may only add groups and shapes to groups.")}}si.prototype.nodeType="Group";Qe(si);const Ia=(function(){return wr.performance&&wr.performance.now?function(){return wr.performance.now()}:function(){return new Date().getTime()}})();class Wt{constructor(e,n){this.id=Wt.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Ia(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Wt.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Ia(),Wt._addAnimation(this),this}stop(){return Wt._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,i=r.length;for(let s=0;s<i;s++)if(r[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const i=n[r],s=i.layers,o=i.func;i._updateFrameObject(Ia());const a=s.length;let l;if(o?l=o.call(i,i.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){const u=s[c];u._id!==void 0&&(e[u._id]=u)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=Wt;e.animations.length?(e._runFrames(),O.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,O.requestAnimFrame(this._animationLoop))}}Wt.animations=[];Wt.animIdCounter=0;Wt.animRunning=!1;const q3={node:1,duration:1,easing:1,onFinish:1,yoyo:1},J3=1,ld=2,cd=3,ud=["fill","stroke","shadowColor"];let Q3=0;class Z3{constructor(e,n,r,i,s,o,a){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=s-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=ld,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=cd,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===ld?this.setTime(e):this.state===cd&&this.setTime(this.duration-e)}pause(){this.state=J3,this.fire("onPause")}getTimer(){return new Date().getTime()}}class He{constructor(e){const n=this,r=e.node,i=r._id,s=e.easing||Ki.Linear,o=!!e.yoyo;let a,l;typeof e.duration>"u"?a=.3:e.duration===0?a=.001:a=e.duration,this.node=r,this._id=Q3++;const c=r.getLayer()||(r instanceof se.Stage?r.getLayers():null);c||O.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Wt(function(){n.tween.onEnterFrame()},c),this.tween=new Z3(l,function(u){n._tweenFunc(u)},s,0,1,a*1e3,o),this._addListeners(),He.attrs[i]||(He.attrs[i]={}),He.attrs[i][this._id]||(He.attrs[i][this._id]={}),He.tweens[i]||(He.tweens[i]={});for(l in e)q3[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const r=this.node,i=r._id;let s,o,a,l,c;const u=He.tweens[i][e];u&&delete He.attrs[i][u][e];let d=r.getAttr(e);if(O._isArray(n))if(s=[],o=Math.max(n.length,d.length),e==="points"&&n.length!==d.length&&(n.length>d.length?(l=d,d=O._prepareArrayForTween(d,n,r.closed())):(a=n,n=O._prepareArrayForTween(n,d,r.closed()))),e.indexOf("fill")===0)for(let h=0;h<o;h++)if(h%2===0)s.push(n[h]-d[h]);else{const f=O.colorToRGBA(d[h]);c=O.colorToRGBA(n[h]),d[h]=f,s.push({r:c.r-f.r,g:c.g-f.g,b:c.b-f.b,a:c.a-f.a})}else for(let h=0;h<o;h++)s.push(n[h]-d[h]);else ud.indexOf(e)!==-1?(d=O.colorToRGBA(d),c=O.colorToRGBA(n),s={r:c.r-d.r,g:c.g-d.g,b:c.b-d.b,a:c.a-d.a}):s=n-d;He.attrs[i][this._id][e]={start:d,diff:s,end:n,trueEnd:a,trueStart:l},He.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,r=He.attrs[n._id][this._id];let i,s,o,a,l,c,u,d;for(i in r){if(s=r[i],o=s.start,a=s.diff,d=s.end,O._isArray(o))if(l=[],u=Math.max(o.length,d.length),i.indexOf("fill")===0)for(c=0;c<u;c++)c%2===0?l.push((o[c]||0)+a[c]*e):l.push("rgba("+Math.round(o[c].r+a[c].r*e)+","+Math.round(o[c].g+a[c].g*e)+","+Math.round(o[c].b+a[c].b*e)+","+(o[c].a+a[c].a*e)+")");else for(c=0;c<u;c++)l.push((o[c]||0)+a[c]*e);else ud.indexOf(i)!==-1?l="rgba("+Math.round(o.r+a.r*e)+","+Math.round(o.g+a.g*e)+","+Math.round(o.b+a.b*e)+","+(o.a+a.a*e)+")":l=o+a*e;n.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=He.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=He.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,r=He.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in r)delete He.tweens[e][i];delete He.attrs[e][n],He.tweens[e]&&(Object.keys(He.tweens[e]).length===0&&delete He.tweens[e],Object.keys(He.attrs[e]).length===0&&delete He.attrs[e])}}He.attrs={};He.tweens={};re.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new He(t).play()};const Ki={BackEaseIn(t,e,n,r){return n*(t/=r)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,r){return n*((t=t/r-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,r){let i=1.70158;return(t/=r/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,r,i,s){let o=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s))+e)},ElasticEaseOut(t,e,n,r,i,s){let o=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/s)+n+e)},ElasticEaseInOut(t,e,n,r,i,s){let o=0;return t===0?e:(t/=r/2)===2?e+n:(s||(s=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-Ki.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?Ki.BounceEaseIn(t*2,0,n,r)*.5+e:Ki.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},dd=O._assign(se,{Util:O,Transform:Lt,Node:re,Container:Ft,Stage:qo,stages:Yi,Layer:Tr,FastLayer:dc,Group:si,DD:Ie,Shape:J,shapes:Xi,Animation:Wt,Tween:He,Easings:Ki,Context:Xo,Canvas:ac});class Fn extends J{_sceneFunc(e){const n=se.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=se.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),o=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=s*(s>0?e:n),u=o*n,d=a*(a>0?e:n),h=l*(l>0?n:e);return{x:c,y:r?-1*h:d,width:u-c,height:h-d}}}Fn.prototype._centroid=!0;Fn.prototype.className="Arc";Fn.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Qe(Fn);E.addGetterSetter(Fn,"innerRadius",0,ne());E.addGetterSetter(Fn,"outerRadius",0,ne());E.addGetterSetter(Fn,"angle",0,ne());E.addGetterSetter(Fn,"clockwise",!1,sn());function yl(t,e,n,r,i,s,o){const a=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),c=o*a/(a+l),u=o*l/(a+l),d=n-c*(i-t),h=r-c*(s-e),f=n+u*(i-t),p=r+u*(s-e);return[d,h,f,p]}function hd(t,e){const n=t.length,r=[];for(let i=2;i<n-2;i+=2){const s=yl(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(s[0])||(r.push(s[0]),r.push(s[1]),r.push(t[i]),r.push(t[i+1]),r.push(s[2]),r.push(s[3]))}return r}class Gn extends J{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,i=this.tension(),s=this.closed(),o=this.bezier();if(!r)return;let a=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){const l=this.getTensionPoints(),c=l.length;for(a=s?0:4,s||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);a<c-2;)e.bezierCurveTo(l[a++],l[a++],l[a++],l[a++],l[a++],l[a++]);s||e.quadraticCurveTo(l[c-2],l[c-1],n[r-2],n[r-1])}else if(o)for(a=2;a<r;)e.bezierCurveTo(n[a++],n[a++],n[a++],n[a++],n[a++],n[a++]);else for(a=2;a<r;a+=2)e.lineTo(n[a],n[a+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():hd(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),i=yl(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),s=yl(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),o=hd(e,r);return[i[2],i[3]].concat(o).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],i=e[1],s=e[1],o,a;for(let l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);return{x:n,y:i,width:r-n,height:s-i}}}Gn.prototype.className="Line";Gn.prototype._attrsAffectingSize=["points","bezier","tension"];Qe(Gn);E.addGetterSetter(Gn,"closed",!1);E.addGetterSetter(Gn,"bezier",!1);E.addGetterSetter(Gn,"tension",0,ne());E.addGetterSetter(Gn,"points",[],m3());const e4=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t4=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],n4=[[1],[1,1],[1,2,1],[1,3,3,1]],fd=(t,e,n)=>{let r,i;const o=n/2;r=0;for(let a=0;a<20;a++)i=o*e4[20][a]+o,r+=t4[20][a]*r4(t,e,i);return o*r},pd=(t,e,n)=>{n===void 0&&(n=1);const r=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],s=2*t[1]-2*t[0],o=2*e[1]-2*e[0],a=4*(r*r+i*i),l=4*(r*s+i*o),c=s*s+o*o;if(a===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const u=l/(2*a),d=c/a,h=n+u,f=d-u*u,p=h*h+f>0?Math.sqrt(h*h+f):0,m=u*u+f>0?Math.sqrt(u*u+f):0,y=u+Math.sqrt(u*u+f)!==0?f*Math.log(Math.abs((h+p)/(u+m))):0;return Math.sqrt(a)/2*(h*p-u*m+y)};function r4(t,e,n){const r=vl(1,n,t),i=vl(1,n,e),s=r*r+i*i;return Math.sqrt(s)}const vl=(t,e,n)=>{const r=n.length-1;let i,s;if(r===0)return 0;if(t===0){s=0;for(let o=0;o<=r;o++)s+=n4[r][o]*Math.pow(1-e,r-o)*Math.pow(e,o)*n[o];return s}else{i=new Array(r);for(let o=0;o<r;o++)i[o]=r*(n[o+1]-n[o]);return vl(t-1,e,i)}},gd=(t,e,n)=>{let r=1,i=t/e,s=(t-n(i))/e,o=0;for(;r>.001;){const a=n(i+s),l=Math.abs(t-a)/e;if(l<r)r=l,i+=s;else{const c=n(i-s),u=Math.abs(t-c)/e;u<r?(r=u,i-=s):s/=2}if(o++,o>500)break}return i};class ze extends J{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=ze.parsePathData(this.data()),this.pathLength=ze.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<n.length;i++){const s=n[i].command,o=n[i].points;switch(s){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":const a=o[0],l=o[1],c=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],m=c>u?c:u,y=c>u?1:c/u,g=c>u?u/c:1;e.translate(a,l),e.rotate(f),e.scale(y,g),e.arc(0,0,m,d,d+h,1-p),e.scale(1/y,1/g),e.rotate(-f),e.translate(-a,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const c=l.points[4],u=l.points[5],d=l.points[4]+u;let h=Math.PI/180;if(Math.abs(c-d)<h&&(h=Math.abs(c-d)),u<0)for(let f=c-h;f>d;f-=h){const p=ze.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],f,0);e.push(p.x,p.y)}else for(let f=c+h;f<d;f+=h){const p=ze.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],f,0);e.push(p.x,p.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){const u=ze.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(u.x,u.y)}else e=e.concat(l.points)});let n=e[0],r=e[0],i=e[1],s=e[1],o,a;for(let l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],isNaN(o)||(n=Math.min(n,o),r=Math.max(r,o)),isNaN(a)||(i=Math.min(i,a),s=Math.max(s,a));return{x:n,y:i,width:r-n,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){return ze.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,i=0,s=n.length;if(!s)return null;for(;i<s&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===s)return r=n[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[i].command==="M"?(r=n[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[i].start.x,y:n[i].start.y};const o=n[i],a=o.points;switch(o.command){case"L":return ze.getPointOnLine(e,o.start.x,o.start.y,a[0],a[1]);case"C":return ze.getPointOnCubicBezier(gd(e,ze.getPathLength(n),m=>fd([o.start.x,a[0],a[2],a[4]],[o.start.y,a[1],a[3],a[5]],m)),o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return ze.getPointOnQuadraticBezier(gd(e,ze.getPathLength(n),m=>pd([o.start.x,a[0],a[2]],[o.start.y,a[1],a[3]],m)),o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":const l=a[0],c=a[1],u=a[2],d=a[3],h=a[5],f=a[6];let p=a[4];return p+=h*e/o.pathLength,ze.getPointOnEllipticalArc(l,c,u,d,p,f)}return null}static getPointOnLine(e,n,r,i,s,o,a){o=o??n,a=a??r;const l=this.getLineLength(n,r,i,s);if(l<1e-10)return{x:n,y:r};if(i===n)return{x:o,y:a+(s>r?e:-e)};const c=(s-r)/(i-n),u=Math.sqrt(e*e/(1+c*c))*(i<n?-1:1),d=c*u;if(Math.abs(a-r-c*(o-n))<1e-10)return{x:o+u,y:a+d};const h=((o-n)*(i-n)+(a-r)*(s-r))/(l*l),f=n+h*(i-n),p=r+h*(s-r),m=this.getLineLength(o,a,f,p),y=Math.sqrt(e*e-m*m),g=Math.sqrt(y*y/(1+c*c))*(i<n?-1:1),b=c*g;return{x:f+g,y:p+b}}static getPointOnCubicBezier(e,n,r,i,s,o,a,l,c){function u(y){return y*y*y}function d(y){return 3*y*y*(1-y)}function h(y){return 3*y*(1-y)*(1-y)}function f(y){return(1-y)*(1-y)*(1-y)}const p=l*u(e)+o*d(e)+i*h(e)+n*f(e),m=c*u(e)+a*d(e)+s*h(e)+r*f(e);return{x:p,y:m}}static getPointOnQuadraticBezier(e,n,r,i,s,o,a){function l(f){return f*f}function c(f){return 2*f*(1-f)}function u(f){return(1-f)*(1-f)}const d=o*l(e)+i*c(e)+n*u(e),h=a*l(e)+s*c(e)+r*u(e);return{x:d,y:h}}static getPointOnEllipticalArc(e,n,r,i,s,o){const a=Math.cos(o),l=Math.sin(o),c={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(c.x*a-c.y*l),y:n+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let d=0;d<r.length;d++)n=n.replace(new RegExp(r[d],"g"),"|"+r[d]);const i=n.split("|"),s=[],o=[];let a=0,l=0;const c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let u;for(let d=1;d<i.length;d++){let h=i[d],f=h.charAt(0);for(h=h.slice(1),o.length=0;u=c.exec(h);)o.push(u[0]);let p=[],m=f==="A"||f==="a"?0:-1;for(let y=0,g=o.length;y<g;y++){const b=o[y];if(b==="00"){p.push(0,0),m>=0&&(m+=2,m>=7&&(m-=7));continue}if(m>=0){if(m===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(b)){p.push(parseInt(b[0],10)),p.push(parseInt(b[1],10)),p.push(parseFloat(b.slice(2))),m+=3,m>=7&&(m-=7);continue}if(b==="11"||b==="10"||b==="01"){p.push(parseInt(b[0],10)),p.push(parseInt(b[1],10)),m+=2,m>=7&&(m-=7);continue}if(b==="0"||b==="1"){p.push(parseInt(b,10)),m+=1,m>=7&&(m-=7);continue}}else if(m===4){if(/^[01]\d+(?:\.\d+)?$/.test(b)){p.push(parseInt(b[0],10)),p.push(parseFloat(b.slice(1))),m+=2,m>=7&&(m-=7);continue}if(b==="0"||b==="1"){p.push(parseInt(b,10)),m+=1,m>=7&&(m-=7);continue}}const w=parseFloat(b);isNaN(w)?p.push(0):p.push(w),m+=1,m>=7&&(m-=7)}else{const w=parseFloat(b);isNaN(w)?p.push(0):p.push(w)}}for(;p.length>0&&!isNaN(p[0]);){let y="",g=[];const b=a,w=l;let x,k,P,T,R,D,M,Y,X,le;switch(f){case"l":a+=p.shift(),l+=p.shift(),y="L",g.push(a,l);break;case"L":a=p.shift(),l=p.shift(),g.push(a,l);break;case"m":const G=p.shift(),z=p.shift();if(a+=G,l+=z,y="M",s.length>2&&s[s.length-1].command==="z"){for(let F=s.length-2;F>=0;F--)if(s[F].command==="M"){a=s[F].points[0]+G,l=s[F].points[1]+z;break}}g.push(a,l),f="l";break;case"M":a=p.shift(),l=p.shift(),y="M",g.push(a,l),f="L";break;case"h":a+=p.shift(),y="L",g.push(a,l);break;case"H":a=p.shift(),y="L",g.push(a,l);break;case"v":l+=p.shift(),y="L",g.push(a,l);break;case"V":l=p.shift(),y="L",g.push(a,l);break;case"C":g.push(p.shift(),p.shift(),p.shift(),p.shift()),a=p.shift(),l=p.shift(),g.push(a,l);break;case"c":g.push(a+p.shift(),l+p.shift(),a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),y="C",g.push(a,l);break;case"S":k=a,P=l,x=s[s.length-1],x.command==="C"&&(k=a+(a-x.points[2]),P=l+(l-x.points[3])),g.push(k,P,p.shift(),p.shift()),a=p.shift(),l=p.shift(),y="C",g.push(a,l);break;case"s":k=a,P=l,x=s[s.length-1],x.command==="C"&&(k=a+(a-x.points[2]),P=l+(l-x.points[3])),g.push(k,P,a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),y="C",g.push(a,l);break;case"Q":g.push(p.shift(),p.shift()),a=p.shift(),l=p.shift(),g.push(a,l);break;case"q":g.push(a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),y="Q",g.push(a,l);break;case"T":k=a,P=l,x=s[s.length-1],x.command==="Q"&&(k=a+(a-x.points[0]),P=l+(l-x.points[1])),a=p.shift(),l=p.shift(),y="Q",g.push(k,P,a,l);break;case"t":k=a,P=l,x=s[s.length-1],x.command==="Q"&&(k=a+(a-x.points[0]),P=l+(l-x.points[1])),a+=p.shift(),l+=p.shift(),y="Q",g.push(k,P,a,l);break;case"A":T=p.shift(),R=p.shift(),D=p.shift(),M=p.shift(),Y=p.shift(),X=a,le=l,a=p.shift(),l=p.shift(),y="A",g=this.convertEndpointToCenterParameterization(X,le,a,l,M,Y,T,R,D);break;case"a":T=p.shift(),R=p.shift(),D=p.shift(),M=p.shift(),Y=p.shift(),X=a,le=l,a+=p.shift(),l+=p.shift(),y="A",g=this.convertEndpointToCenterParameterization(X,le,a,l,M,Y,T,R,D);break}s.push({command:y||f,points:g,start:{x:b,y:w},pathLength:this.calcLength(b,w,y||f,g)})}(f==="z"||f==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,n,r,i){let s,o,a,l;const c=ze;switch(r){case"L":return c.getLineLength(e,n,i[0],i[1]);case"C":return fd([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return pd([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":s=0;const u=i[4],d=i[5],h=i[4]+d;let f=Math.PI/180;if(Math.abs(u-h)<f&&(f=Math.abs(u-h)),o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),d<0)for(l=u-f;l>h;l-=f)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(l=u+f;l<h;l+=f)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),s}return 0}static convertEndpointToCenterParameterization(e,n,r,i,s,o,a,l,c){const u=c*(Math.PI/180),d=Math.cos(u)*(e-r)/2+Math.sin(u)*(n-i)/2,h=-1*Math.sin(u)*(e-r)/2+Math.cos(u)*(n-i)/2,f=d*d/(a*a)+h*h/(l*l);f>1&&(a*=Math.sqrt(f),l*=Math.sqrt(f));let p=Math.sqrt((a*a*(l*l)-a*a*(h*h)-l*l*(d*d))/(a*a*(h*h)+l*l*(d*d)));s===o&&(p*=-1),isNaN(p)&&(p=0);const m=p*a*h/l,y=p*-l*d/a,g=(e+r)/2+Math.cos(u)*m-Math.sin(u)*y,b=(n+i)/2+Math.sin(u)*m+Math.cos(u)*y,w=function(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])},x=function(M,Y){return(M[0]*Y[0]+M[1]*Y[1])/(w(M)*w(Y))},k=function(M,Y){return(M[0]*Y[1]<M[1]*Y[0]?-1:1)*Math.acos(x(M,Y))},P=k([1,0],[(d-m)/a,(h-y)/l]),T=[(d-m)/a,(h-y)/l],R=[(-1*d-m)/a,(-1*h-y)/l];let D=k(T,R);return x(T,R)<=-1&&(D=Math.PI),x(T,R)>=1&&(D=0),o===0&&D>0&&(D=D-2*Math.PI),o===1&&D<0&&(D=D+2*Math.PI),[g,b,a,l,P,D,u,o]}}ze.prototype.className="Path";ze.prototype._attrsAffectingSize=["data"];Qe(ze);E.addGetterSetter(ze,"data");class Rr extends Gn{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let i=r;const s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());const o=this.pointerLength(),a=r.length;let l,c;if(s){const h=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[a-2],r[a-1]],f=ze.calcLength(i[i.length-4],i[i.length-3],"C",h),p=ze.getPointOnQuadraticBezier(Math.min(1,1-o/f),h[0],h[1],h[2],h[3],h[4],h[5]);l=r[a-2]-p.x,c=r[a-1]-p.y}else l=r[a-2]-r[a-4],c=r[a-1]-r[a-3];const u=(Math.atan2(c,l)+n)%n,d=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(l=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+n)%n),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}Rr.prototype.className="Arrow";Qe(Rr);E.addGetterSetter(Rr,"pointerLength",10,ne());E.addGetterSetter(Rr,"pointerWidth",10,ne());E.addGetterSetter(Rr,"pointerAtBeginning",!1);E.addGetterSetter(Rr,"pointerAtEnding",!0);class mi extends J{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}mi.prototype._centroid=!0;mi.prototype.className="Circle";mi.prototype._attrsAffectingSize=["radius"];Qe(mi);E.addGetterSetter(mi,"radius",0,ne());class lr extends J{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}lr.prototype.className="Ellipse";lr.prototype._centroid=!0;lr.prototype._attrsAffectingSize=["radiusX","radiusY"];Qe(lr);E.addComponentsGetterSetter(lr,"radius",["x","y"]);E.addGetterSetter(lr,"radiusX",0,ne());E.addGetterSetter(lr,"radiusY",0,ne());class $t extends J{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),s=this.attrs.image;let o;if(s){const a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?o=[s,this.cropX(),this.cropY(),a,l,0,0,n,r]:o=[s,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?O.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),s&&(i&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){const n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?O.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n,r;return(r=(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:0}getHeight(){var e,n,r;return(r=(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height)!==null&&r!==void 0?r:0}static fromURL(e,n,r=null){const i=O.createImageElement();i.onload=function(){const s=new $t({image:i});n(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}$t.prototype.className="Image";$t.prototype._attrsAffectingSize=["image"];Qe($t);E.addGetterSetter($t,"cornerRadius",0,Ko(4));E.addGetterSetter($t,"image");E.addComponentsGetterSetter($t,"crop",["x","y","width","height"]);E.addGetterSetter($t,"cropX",0,ne());E.addGetterSetter($t,"cropY",0,ne());E.addGetterSetter($t,"cropWidth",0,ne());E.addGetterSetter($t,"cropHeight",0,ne());const xp=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],i4="Change.konva",s4="none",bl="up",wl="right",xl="down",_l="left",o4=xp.length;class hc extends si{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const i=function(){n._sync()};for(r=0;r<o4;r++)e.on(xp[r]+i4,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,i,s,o,a,l,c;if(e&&n){switch(r=e.width(),i=e.height(),s=n.pointerDirection(),o=n.pointerWidth(),c=n.pointerHeight(),a=0,l=0,s){case bl:a=r/2,l=-1*c;break;case wl:a=r+o,l=i/2;break;case xl:a=r/2,l=i+c;break;case _l:a=-1*o,l=i/2;break}n.setAttrs({x:-1*a,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}}hc.prototype.className="Label";Qe(hc);class Or extends J{_sceneFunc(e){const n=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let l=0,c=0,u=0,d=0;typeof a=="number"?l=c=u=d=Math.min(a,n/2,r/2):(l=Math.min(a[0]||0,n/2,r/2),c=Math.min(a[1]||0,n/2,r/2),d=Math.min(a[2]||0,n/2,r/2),u=Math.min(a[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),i===bl&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*o),e.lineTo((n+s)/2,0)),e.lineTo(n-c,0),e.arc(n-c,c,c,Math.PI*3/2,0,!1),i===wl&&(e.lineTo(n,(r-o)/2),e.lineTo(n+s,r/2),e.lineTo(n,(r+o)/2)),e.lineTo(n,r-d),e.arc(n-d,r-d,d,0,Math.PI/2,!1),i===xl&&(e.lineTo((n+s)/2,r),e.lineTo(n/2,r+o),e.lineTo((n-s)/2,r)),e.lineTo(u,r),e.arc(u,r-u,u,Math.PI/2,Math.PI,!1),i===_l&&(e.lineTo(0,(r+o)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-o)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),o=this.width(),a=this.height();return s===bl?(n-=i,a+=i):s===xl?a+=i:s===_l?(e-=r*1.5,o+=r):s===wl&&(o+=r*1.5),{x:e,y:n,width:o,height:a}}}Or.prototype.className="Tag";Qe(Or);E.addGetterSetter(Or,"pointerDirection",s4);E.addGetterSetter(Or,"pointerWidth",0,ne());E.addGetterSetter(Or,"pointerHeight",0,ne());E.addGetterSetter(Or,"cornerRadius",0,Ko(4));class ys extends J{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?O.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}}ys.prototype.className="Rect";Qe(ys);E.addGetterSetter(ys,"cornerRadius",0,Ko(4));class cr extends J{_sceneFunc(e){const n=this._getPoints(),r=this.radius(),i=this.sides(),s=this.cornerRadius();if(e.beginPath(),s)O.drawRoundedPolygonPath(e,n,i,r,s);else{e.moveTo(n[0].x,n[0].y);for(let o=1;o<n.length;o++)e.lineTo(n[o].x,n[o].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].x,i=e[0].y,s=e[0].y;return e.forEach(o=>{n=Math.min(n,o.x),r=Math.max(r,o.x),i=Math.min(i,o.y),s=Math.max(s,o.y)}),{x:n,y:i,width:r-n,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}cr.prototype.className="RegularPolygon";cr.prototype._centroid=!0;cr.prototype._attrsAffectingSize=["radius"];Qe(cr);E.addGetterSetter(cr,"radius",0,ne());E.addGetterSetter(cr,"sides",0,ne());E.addGetterSetter(cr,"cornerRadius",0,Ko(4));const md=Math.PI*2;class Mr extends J{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,md,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),md,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Mr.prototype.className="Ring";Mr.prototype._centroid=!0;Mr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Qe(Mr);E.addGetterSetter(Mr,"innerRadius",0,ne());E.addGetterSetter(Mr,"outerRadius",0,ne());class wn extends J{constructor(e){super(e),this._updated=!0,this.anim=new Wt(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],o=this.frameOffsets(),a=s[i+0],l=s[i+1],c=s[i+2],u=s[i+3],d=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,u),e.closePath(),e.fillStrokeShape(this)),d)if(o){const h=o[n],f=r*2;e.drawImage(d,a,l,c,u,h[f+0],h[f+1],c,u)}else e.drawImage(d,a,l,c,u,0,0,c,u)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],o=this.frameOffsets(),a=s[i+2],l=s[i+3];if(e.beginPath(),o){const c=o[n],u=r*2;e.rect(c[u+0],c[u+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}wn.prototype.className="Sprite";Qe(wn);E.addGetterSetter(wn,"animation");E.addGetterSetter(wn,"animations");E.addGetterSetter(wn,"frameOffsets");E.addGetterSetter(wn,"image");E.addGetterSetter(wn,"frameIndex",0,ne());E.addGetterSetter(wn,"frameRate",17,ne());E.backCompat(wn,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class ur extends J{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let s=1;s<i*2;s++){const o=s%2===0?r:n,a=o*Math.sin(s*Math.PI/i),l=-1*o*Math.cos(s*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}ur.prototype.className="Star";ur.prototype._centroid=!0;ur.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Qe(ur);E.addGetterSetter(ur,"numPoints",5,ne());E.addGetterSetter(ur,"innerRadius",0,ne());E.addGetterSetter(ur,"outerRadius",0,ne());function Un(t){return[...t].reduce((e,n,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const s=i[r+1];s&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(s)?(e.push(n+s),i[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[r+1]||""))?e.push(n+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const Wr="auto",a4="center",_p="inherit",Pi="justify",l4="Change.konva",c4="2d",yd="-",Sp="left",u4="text",d4="Text",h4="top",f4="bottom",vd="middle",Cp="normal",p4="px ",Ws=" ",g4="right",bd="rtl",m4="word",y4="char",wd="none",Da="",Ep=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],v4=Ep.length;function b4(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let Hs;function La(){return Hs||(Hs=O.createCanvasElement().getContext(c4),Hs)}function w4(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function x4(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function _4(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class Ye extends J{constructor(e){super(_4(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<v4;n++)this.on(Ep[n]+l4,this._setTextData);this._setTextData()}_sceneFunc(e){var n,r;const i=this.textArr,s=i.length;if(!this.text())return;let o=this.padding(),a=this.fontSize(),l=this.lineHeight()*a,c=this.verticalAlign(),u=this.direction(),d=0,h=this.align(),f=this.getWidth(),p=this.letterSpacing(),m=this.charRenderFunc(),y=this.fill(),g=this.textDecoration(),b=g.indexOf("underline")!==-1,w=g.indexOf("line-through")!==-1,x;u=u===_p?e.direction:u;let k=l/2,P=vd;if(!se.legacyTextRendering){const T=this.measureSize("M");P="alphabetic";const R=(n=T.fontBoundingBoxAscent)!==null&&n!==void 0?n:T.actualBoundingBoxAscent,D=(r=T.fontBoundingBoxDescent)!==null&&r!==void 0?r:T.actualBoundingBoxDescent;k=(R-D)/2+l/2}for(u===bd&&e.setAttr("direction",u),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",P),e.setAttr("textAlign",Sp),c===vd?d=(this.getHeight()-s*l-o*2)/2:c===f4&&(d=this.getHeight()-s*l-o*2),e.translate(o,d+o),x=0;x<s;x++){let T=0,R=0;const D=i[x],M=D.text,Y=D.width,X=D.lastInParagraph;if(e.save(),h===g4?T+=f-Y-o*2:h===a4&&(T+=(f-Y-o*2)/2),b){e.save(),e.beginPath();const G=se.legacyTextRendering?Math.round(a/2):Math.round(a/4),z=T,F=k+R+G;e.moveTo(z,F);const Z=h===Pi&&!X?f-o*2:Y;e.lineTo(z+Math.round(Z),F),e.lineWidth=a/15;const N=this._getLinearGradient();e.strokeStyle=N||y,e.stroke(),e.restore()}const le=T;if(u!==bd&&(p!==0||h===Pi||m)){const G=M.split(" ").length-1,z=Un(M);for(let F=0;F<z.length;F++){const Z=z[F];if(Z===" "&&!X&&h===Pi&&(T+=(f-o*2-Y)/G),this._partialTextX=T,this._partialTextY=k+R,this._partialText=Z,m){e.save();const q=i.slice(0,x).reduce((ge,xe)=>ge+Un(xe.text).length,0),he=F+q;m({char:Z,index:he,x:T,y:k+R,lineIndex:x,column:F,isLastInLine:X,width:this.measureSize(Z).width,context:e})}e.fillStrokeShape(this),m&&e.restore(),T+=this.measureSize(Z).width+p}}else p!==0&&e.setAttr("letterSpacing",`${p}px`),this._partialTextX=T,this._partialTextY=k+R,this._partialText=M,e.fillStrokeShape(this);if(w){e.save(),e.beginPath();const G=se.legacyTextRendering?0:-Math.round(a/4),z=le;e.moveTo(z,k+R+G);const F=h===Pi&&!X?f-o*2:Y;e.lineTo(z+Math.round(F),k+R+G),e.lineWidth=a/15;const Z=this._getLinearGradient();e.strokeStyle=Z||y,e.stroke(),e.restore()}e.restore(),s>1&&(k+=l)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=O._isString(e)?e:e==null?"":e+"";return this._setAttr(u4,n),this}getWidth(){return this.attrs.width===Wr||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Wr||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return O.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,i,s,o,a,l,c,u,d,h;let f=La(),p=this.fontSize(),m;f.save(),f.font=this._getContextFont(),m=f.measureText(e),f.restore();const y=p/100;return{actualBoundingBoxAscent:(n=m.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*y,actualBoundingBoxDescent:(r=m.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=m.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*y,actualBoundingBoxRight:(s=m.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*y,alphabeticBaseline:(o=m.alphabeticBaseline)!==null&&o!==void 0?o:0,emHeightAscent:(a=m.emHeightAscent)!==null&&a!==void 0?a:100*y,emHeightDescent:(l=m.emHeightDescent)!==null&&l!==void 0?l:-20*y,fontBoundingBoxAscent:(c=m.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*y,fontBoundingBoxDescent:(u=m.fontBoundingBoxDescent)!==null&&u!==void 0?u:21*y,hangingBaseline:(d=m.hangingBaseline)!==null&&d!==void 0?d:72.80000305175781*y,ideographicBaseline:(h=m.ideographicBaseline)!==null&&h!==void 0?h:-21*y,width:m.width,height:p}}_getContextFont(){return this.fontStyle()+Ws+this.fontVariant()+Ws+(this.fontSize()+p4)+b4(this.fontFamily())}_addTextLine(e){this.align()===Pi&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return La().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,s=this.attrs.width,o=this.attrs.height,a=s!==Wr&&s!==void 0,l=o!==Wr&&o!==void 0,c=this.padding(),u=s-c*2,d=o-c*2,h=0,f=this.wrap(),p=f!==wd,m=f!==y4&&p,y=this.ellipsis();this.textArr=[],La().font=this._getContextFont();const g=y?this._getTextWidth(Da):0;for(let b=0,w=e.length;b<w;++b){let x=e[b],k=this._getTextWidth(x);if(a&&k>u)for(;x.length>0;){let P=0,T=Un(x).length,R="",D=0;for(;P<T;){const M=P+T>>>1,Y=Un(x),X=Y.slice(0,M+1).join(""),le=this._getTextWidth(X);(y&&l&&h+i>d?le+g:le)<=u?(P=M+1,R=X,D=le):T=M}if(R){if(m){const X=Un(x),le=Un(R),G=X[le.length],z=G===Ws||G===yd;let F;if(z&&D<=u)F=le.length;else{const Z=le.lastIndexOf(Ws),N=le.lastIndexOf(yd);F=Math.max(Z,N)+1}F>0&&(P=F,R=X.slice(0,P).join(""),D=this._getTextWidth(R))}if(R=R.trimRight(),this._addTextLine(R),r=Math.max(r,D),h+=i,this._shouldHandleEllipsis(h)){this._tryToAddEllipsisToLastLine();break}if(x=Un(x).slice(P).join("").trimLeft(),x.length>0&&(k=this._getTextWidth(x),k<=u)){this._addTextLine(x),h+=i,r=Math.max(r,k);break}}else break}else this._addTextLine(x),h+=i,r=Math.max(r,k),this._shouldHandleEllipsis(h)&&b<w-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&h+i>d)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,s=i!==Wr&&i!==void 0,o=this.padding(),a=i-o*2;return!(this.wrap()!==wd)||s&&e+r>a}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==Wr&&e!==void 0,r=this.padding(),i=e-r*2,s=this.ellipsis(),o=this.textArr[this.textArr.length-1];!o||!s||(n&&(this._getTextWidth(o.text+Da)<i||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+Da))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}Ye.prototype._fillFunc=w4;Ye.prototype._strokeFunc=x4;Ye.prototype.className=d4;Ye.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Qe(Ye);E.overWriteSetter(Ye,"width",cc());E.overWriteSetter(Ye,"height",cc());E.addGetterSetter(Ye,"direction",_p);E.addGetterSetter(Ye,"fontFamily","Arial");E.addGetterSetter(Ye,"fontSize",12,ne());E.addGetterSetter(Ye,"fontStyle",Cp);E.addGetterSetter(Ye,"fontVariant",Cp);E.addGetterSetter(Ye,"padding",0,ne());E.addGetterSetter(Ye,"align",Sp);E.addGetterSetter(Ye,"verticalAlign",h4);E.addGetterSetter(Ye,"lineHeight",1,ne());E.addGetterSetter(Ye,"wrap",m4);E.addGetterSetter(Ye,"ellipsis",!1,sn());E.addGetterSetter(Ye,"letterSpacing",0,ne());E.addGetterSetter(Ye,"text","",kr());E.addGetterSetter(Ye,"textDecoration","");E.addGetterSetter(Ye,"charRenderFunc",void 0);const S4="",Ap="normal";function Pp(t){t.fillText(this.partialText,0,0)}function kp(t){t.strokeText(this.partialText,0,0)}class st extends J{constructor(e){super(e),this.dummyCanvas=O.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return ze.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:ze.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=ze.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo,o=n.indexOf("underline")!==-1,a=n.indexOf("line-through")!==-1;o&&e.beginPath();for(let l=0;l<s.length;l++){e.save();const c=s[l].p0;e.translate(c.x,c.y),e.rotate(s[l].rotation),this.partialText=s[l].text,e.fillStrokeShape(this),o&&(l===0&&e.moveTo(0,i/2+1),e.lineTo(s[l].width,i/2+1)),e.restore()}if(o&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),a){e.beginPath();for(let l=0;l<s.length;l++){e.save();const c=s[l].p0;e.translate(c.x,c.y),e.rotate(s[l].rotation),l===0&&e.moveTo(0,0),e.lineTo(s[l].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=i/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const i=n[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return O.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Ye.prototype.setText.call(this,e)}_getContextFont(){return Ye.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=Un(this.text()),n=[];let r=0;for(let d=0;d<e.length;d++)n.push({char:e[d],width:this._getTextSize(e[d]).width}),r+=n[d].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const s=this.letterSpacing(),o=this.align(),a=this.kerningFunc(),l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*s,0);let c=0;o==="center"&&(c=Math.max(0,this.pathLength/2-l/2)),o==="right"&&(c=Math.max(0,this.pathLength-l));let u=c;for(let d=0;d<n.length;d++){const h=this._getPointAtLength(u);if(!h)return;const f=n[d].char;let p=n[d].width+s;if(f===" "&&o==="justify"){const x=this.text().split(" ").length-1;p+=(this.pathLength-l)/x}const m=this._getPointAtLength(u+p);if(!m)return;const y=ze.getLineLength(h.x,h.y,m.x,m.y);let g=0;if(a)try{g=a(n[d-1].char,f)*this.fontSize()}catch{g=0}h.x+=g,m.x+=g,this.textWidth+=g;const b=ze.getPointOnLine(g+y/2,h.x,h.y,m.x,m.y),w=Math.atan2(m.y-h.y,m.x-h.x);this.glyphInfo.push({transposeX:b.x,transposeY:b.y,text:e[d],rotation:w,p0:h,p1:m,width:y}),u+=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let n=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,o,a;for(let c=0;c<e.length/2;c++)o=e[c*2],a=e[c*2+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);const l=this.fontSize();return{x:n-l/2,y:i-l/2,width:r-n+l,height:s-i+l}}destroy(){return O.releaseCanvas(this.dummyCanvas),super.destroy()}}st.prototype._fillFunc=Pp;st.prototype._strokeFunc=kp;st.prototype._fillFuncHit=Pp;st.prototype._strokeFuncHit=kp;st.prototype.className="TextPath";st.prototype._attrsAffectingSize=["text","fontSize","data"];Qe(st);E.addGetterSetter(st,"data");E.addGetterSetter(st,"fontFamily","Arial");E.addGetterSetter(st,"fontSize",12,ne());E.addGetterSetter(st,"fontStyle",Ap);E.addGetterSetter(st,"align","left");E.addGetterSetter(st,"letterSpacing",0,ne());E.addGetterSetter(st,"textBaseline","middle");E.addGetterSetter(st,"fontVariant",Ap);E.addGetterSetter(st,"text",S4);E.addGetterSetter(st,"textDecoration","");E.addGetterSetter(st,"kerningFunc",void 0);const Tp="tr-konva",C4=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${Tp}`).join(" "),xd="nodesRect",E4=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],A4={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},P4="ontouchstart"in se._global;function k4(t,e,n){if(t==="rotater")return n;e+=O.degToRad(A4[t]||0);const r=(O.radToDeg(e)%360+360)%360;return O._inRange(r,315+22.5,360)||O._inRange(r,0,22.5)?"ns-resize":O._inRange(r,45-22.5,45+22.5)?"nesw-resize":O._inRange(r,90-22.5,90+22.5)?"ew-resize":O._inRange(r,135-22.5,135+22.5)?"nwse-resize":O._inRange(r,180-22.5,180+22.5)?"ns-resize":O._inRange(r,225-22.5,225+22.5)?"nesw-resize":O._inRange(r,270-22.5,270+22.5)?"ew-resize":O._inRange(r,315-22.5,315+22.5)?"nwse-resize":(O.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const vo=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function T4(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function Rp(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:i}}function R4(t,e){const n=T4(t);return Rp(t,e,n)}function O4(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=se.getAngle(t[i]),o=Math.abs(s-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<n&&(r=s)}return r}let Sl=0;class Re extends si{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(C4,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return O.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Tp+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(O.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const o=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(o,s)}i.on(E4.map(o=>o+`.${this._getEventNamespace()}`).join(" "),s),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),s=i.x-n.x,o=i.y-n.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;const l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+s,y:l.y+o}),a.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(xd),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(xd,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),o=e.getAbsolutePosition(r),a=i.x*s.x-e.offsetX()*s.x,l=i.y*s.y-e.offsetY()*s.y,c=(se.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),u={x:o.x+a*Math.cos(c)+l*Math.sin(-c),y:o.y+l*Math.cos(c)+a*Math.sin(c),width:i.width*s.x,height:i.height*s.y,rotation:c};return Rp(u,-se.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const u=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),d=[{x:u.x,y:u.y},{x:u.x+u.width,y:u.y},{x:u.x+u.width,y:u.y+u.height},{x:u.x,y:u.y+u.height}],h=c.getAbsoluteTransform();d.forEach(function(f){const p=h.point(f);n.push(p)})});const r=new Lt;r.rotate(-se.getAngle(this.rotation()));let i=1/0,s=1/0,o=-1/0,a=-1/0;n.forEach(function(c){const u=r.point(c);i===void 0&&(i=o=u.x,s=a=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}),r.invert();const l=r.point({x:i,y:s});return{x:l.x,y:l.y,width:o-i,height:a-s,rotation:se.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),vo.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new ys({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:P4?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=se.getAngle(this.rotation()),s=this.rotateAnchorCursor(),o=k4(e,i,s);n.getStage().content&&(n.getStage().content.style.cursor=o),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new J({name:"back",width:0,height:0,sceneFunc(n,r){const i=r.getParent(),s=i.padding();n.beginPath(),n.rect(-s,-s,r.width()+s*2,r.height()+s*2),n.moveTo(r.width()/2,-s),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(r.width()/2,-i.rotateAnchorOffset()*O._sign(r.height())-s),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,i=n.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},Sl++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let n,r,i;const s=this.findOne("."+this._movingAnchorName),o=s.getStage();o.setPointersPositions(e);const a=o.getPointerPosition();let l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),s.setAbsolutePosition(l);const u=s.getAbsolutePosition();if(c.x===u.x&&c.y===u.y)return;if(this._movingAnchorName==="rotater"){const b=this._getNodeRect();n=s.x()-b.width/2,r=-s.y()+b.height/2;let w=Math.atan2(-r,n)+Math.PI/2;b.height<0&&(w-=Math.PI);const k=se.getAngle(this.rotation())+w,P=se.getAngle(this.rotationSnapTolerance()),R=O4(this.rotationSnaps(),k,P)-b.rotation,D=R4(b,R);this._fitNodesInto(D,e);return}const d=this.shiftBehavior();let h;d==="inverted"?h=this.keepRatio()&&!e.shiftKey:d==="none"?h=this.keepRatio():h=this.keepRatio()||e.shiftKey;let f=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(h){const b=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(b.x-s.x(),2)+Math.pow(b.y-s.y(),2));const w=this.findOne(".top-left").x()>b.x?-1:1,x=this.findOne(".top-left").y()>b.y?-1:1;n=i*this.cos*w,r=i*this.sin*x,this.findOne(".top-left").x(b.x-n),this.findOne(".top-left").y(b.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(h){const b=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-b.x,2)+Math.pow(b.y-s.y(),2));const w=this.findOne(".top-right").x()<b.x?-1:1,x=this.findOne(".top-right").y()>b.y?-1:1;n=i*this.cos*w,r=i*this.sin*x,this.findOne(".top-right").x(b.x+n),this.findOne(".top-right").y(b.y-r)}var p=s.position();this.findOne(".top-left").y(p.y),this.findOne(".bottom-right").x(p.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(h){const b=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(b.x-s.x(),2)+Math.pow(s.y()-b.y,2));const w=b.x<s.x()?-1:1,x=s.y()<b.y?-1:1;n=i*this.cos*w,r=i*this.sin*x,s.x(b.x-n),s.y(b.y+r)}p=s.position(),this.findOne(".top-left").x(p.x),this.findOne(".bottom-right").y(p.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(h){const b=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-b.x,2)+Math.pow(s.y()-b.y,2));const w=this.findOne(".bottom-right").x()<b.x?-1:1,x=this.findOne(".bottom-right").y()<b.y?-1:1;n=i*this.cos*w,r=i*this.sin*x,this.findOne(".bottom-right").x(b.x+n),this.findOne(".bottom-right").y(b.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(f=this.centeredScaling()||e.altKey,f){const b=this.findOne(".top-left"),w=this.findOne(".bottom-right"),x=b.x(),k=b.y(),P=this.getWidth()-w.x(),T=this.getHeight()-w.y();w.move({x:-x,y:-k}),b.move({x:P,y:T})}const m=this.findOne(".top-left").getAbsolutePosition();n=m.x,r=m.y;const y=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),g=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:y,height:g,rotation:se.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();Sl--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(i=>{var s;i._fire("transformend",{evt:e,target:i}),(s=i.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),i=1;if(O._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(O._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=new Lt;if(s.rotate(se.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const h=s.point({x:-this.padding()*2,y:0});e.x+=h.x,e.y+=h.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const h=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const h=s.point({x:0,y:-this.padding()*2});e.x+=h.x,e.y+=h.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const h=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const h=this.boundBoxFunc()(r,e);h?e=h:O.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,a=new Lt;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/o,r.height/o);const l=new Lt,c=e.width/o,u=e.height/o;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(u))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,u));const d=l.multiply(a.invert());this._nodes.forEach(h=>{var f;if(!h.getStage())return;const p=h.getParent().getAbsoluteTransform(),m=h.getTransform().copy();m.translate(h.offsetX(),h.offsetY());const y=new Lt;y.multiply(p.copy().invert()).multiply(d).multiply(p).multiply(m);const g=y.decompose();h.setAttrs(g),(f=h.getLayer())===null||f===void 0||f.batchDraw()}),this.rotation(O._getRotation(e.rotation)),this._nodes.forEach(h=>{this._fire("transform",{evt:n,target:h}),h._fire("transform",{evt:n,target:h})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(O._getRotation(n.rotation));const r=n.width,i=n.height,s=this.enabledAnchors(),o=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(d=>{d.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:o&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+a,visible:o&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:o&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:o&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-a,visible:o&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-a,visible:o&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*O._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(d=>d.draggable()),x:0,y:0});const u=this.anchorStyleFunc();u&&c.forEach(d=>{u(d)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),si.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return re.prototype.toObject.call(this)}clone(e){return re.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Re.isTransforming=()=>Sl>0;function M4(t){return t instanceof Array||O.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){vo.indexOf(e)===-1&&O.warn("Unknown anchor name: "+e+". Available names are: "+vo.join(", "))}),t||[]}Re.prototype.className="Transformer";Qe(Re);E.addGetterSetter(Re,"enabledAnchors",vo,M4);E.addGetterSetter(Re,"flipEnabled",!0,sn());E.addGetterSetter(Re,"resizeEnabled",!0);E.addGetterSetter(Re,"anchorSize",10,ne());E.addGetterSetter(Re,"rotateEnabled",!0);E.addGetterSetter(Re,"rotateLineVisible",!0);E.addGetterSetter(Re,"rotationSnaps",[]);E.addGetterSetter(Re,"rotateAnchorOffset",50,ne());E.addGetterSetter(Re,"rotateAnchorCursor","crosshair");E.addGetterSetter(Re,"rotationSnapTolerance",5,ne());E.addGetterSetter(Re,"borderEnabled",!0);E.addGetterSetter(Re,"anchorStroke","rgb(0, 161, 255)");E.addGetterSetter(Re,"anchorStrokeWidth",1,ne());E.addGetterSetter(Re,"anchorFill","white");E.addGetterSetter(Re,"anchorCornerRadius",0,ne());E.addGetterSetter(Re,"borderStroke","rgb(0, 161, 255)");E.addGetterSetter(Re,"borderStrokeWidth",1,ne());E.addGetterSetter(Re,"borderDash");E.addGetterSetter(Re,"keepRatio",!0);E.addGetterSetter(Re,"shiftBehavior","default");E.addGetterSetter(Re,"centeredScaling",!1);E.addGetterSetter(Re,"ignoreStroke",!1);E.addGetterSetter(Re,"padding",0,ne());E.addGetterSetter(Re,"nodes");E.addGetterSetter(Re,"node");E.addGetterSetter(Re,"boundBoxFunc");E.addGetterSetter(Re,"anchorDragBoundFunc");E.addGetterSetter(Re,"anchorStyleFunc");E.addGetterSetter(Re,"shouldOverdrawWholeArea",!1);E.addGetterSetter(Re,"useSingleNodeRotation",!0);E.backCompat(Re,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class $n extends J{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,se.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}$n.prototype.className="Wedge";$n.prototype._centroid=!0;$n.prototype._attrsAffectingSize=["radius"];Qe($n);E.addGetterSetter($n,"radius",0,ne());E.addGetterSetter($n,"angle",0,ne());E.addGetterSetter($n,"clockwise",!1);E.backCompat($n,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function _d(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const I4=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],D4=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function L4(t,e){const n=t.data,r=t.width,i=t.height;let s,o,a,l,c,u,d,h,f,p,m,y,g,b,w,x,k,P,T,R;const D=e+e+1,M=r-1,Y=i-1,X=e+1,le=X*(X+1)/2,G=new _d,z=I4[e],F=D4[e];let Z=null,N=G,q=null,he=null;for(let ge=1;ge<D;ge++)N=N.next=new _d,ge===X&&(Z=N);N.next=G,a=o=0;for(let ge=0;ge<i;ge++){y=g=b=w=l=c=u=d=0,h=X*(x=n[o]),f=X*(k=n[o+1]),p=X*(P=n[o+2]),m=X*(T=n[o+3]),l+=le*x,c+=le*k,u+=le*P,d+=le*T,N=G;for(let xe=0;xe<X;xe++)N.r=x,N.g=k,N.b=P,N.a=T,N=N.next;for(let xe=1;xe<X;xe++)s=o+((M<xe?M:xe)<<2),l+=(N.r=x=n[s])*(R=X-xe),c+=(N.g=k=n[s+1])*R,u+=(N.b=P=n[s+2])*R,d+=(N.a=T=n[s+3])*R,y+=x,g+=k,b+=P,w+=T,N=N.next;q=G,he=Z;for(let xe=0;xe<r;xe++)n[o+3]=T=d*z>>F,T!==0?(T=255/T,n[o]=(l*z>>F)*T,n[o+1]=(c*z>>F)*T,n[o+2]=(u*z>>F)*T):n[o]=n[o+1]=n[o+2]=0,l-=h,c-=f,u-=p,d-=m,h-=q.r,f-=q.g,p-=q.b,m-=q.a,s=a+((s=xe+e+1)<M?s:M)<<2,y+=q.r=n[s],g+=q.g=n[s+1],b+=q.b=n[s+2],w+=q.a=n[s+3],l+=y,c+=g,u+=b,d+=w,q=q.next,h+=x=he.r,f+=k=he.g,p+=P=he.b,m+=T=he.a,y-=x,g-=k,b-=P,w-=T,he=he.next,o+=4;a+=r}for(let ge=0;ge<r;ge++){g=b=w=y=c=u=d=l=0,o=ge<<2,h=X*(x=n[o]),f=X*(k=n[o+1]),p=X*(P=n[o+2]),m=X*(T=n[o+3]),l+=le*x,c+=le*k,u+=le*P,d+=le*T,N=G;for(let Ae=0;Ae<X;Ae++)N.r=x,N.g=k,N.b=P,N.a=T,N=N.next;let xe=r;for(let Ae=1;Ae<=e;Ae++)o=xe+ge<<2,l+=(N.r=x=n[o])*(R=X-Ae),c+=(N.g=k=n[o+1])*R,u+=(N.b=P=n[o+2])*R,d+=(N.a=T=n[o+3])*R,y+=x,g+=k,b+=P,w+=T,N=N.next,Ae<Y&&(xe+=r);o=ge,q=G,he=Z;for(let Ae=0;Ae<i;Ae++)s=o<<2,n[s+3]=T=d*z>>F,T>0?(T=255/T,n[s]=(l*z>>F)*T,n[s+1]=(c*z>>F)*T,n[s+2]=(u*z>>F)*T):n[s]=n[s+1]=n[s+2]=0,l-=h,c-=f,u-=p,d-=m,h-=q.r,f-=q.g,p-=q.b,m-=q.a,s=ge+((s=Ae+X)<Y?s:Y)*r<<2,l+=y+=q.r=n[s],c+=g+=q.g=n[s+1],u+=b+=q.b=n[s+2],d+=w+=q.a=n[s+3],q=q.next,h+=x=he.r,f+=k=he.g,p+=P=he.b,m+=T=he.a,y-=x,g-=k,b-=P,w-=T,he=he.next,o+=r}}const N4=function(e){const n=Math.round(this.blurRadius());n>0&&L4(e,n)};E.addGetterSetter(re,"blurRadius",0,ne(),E.afterSetFilter);const B4=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};E.addGetterSetter(re,"brightness",0,ne(),E.afterSetFilter);const F4=function(t){const e=this.brightness(),n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},G4=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let i=150,s=150,o=150;for(let a=0;a<r;a+=4)i=n[a],s=n[a+1],o=n[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,o=o<0?0:o>255?255:o,n[a]=i,n[a+1]=s,n[a+2]=o};E.addGetterSetter(re,"contrast",0,ne(),E.afterSetFilter);const $4=function(t){var e,n,r,i,s,o,a,l,c;const u=t.data,d=t.width,h=t.height,f=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),p=Math.min(1,Math.max(0,(i=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&i!==void 0?i:.5)),y=(a={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(o=(s=this.embossDirection)===null||s===void 0?void 0:s.call(this))!==null&&o!==void 0?o:"top-left"])!==null&&a!==void 0?a:315,g=!!((c=(l=this.embossBlend)===null||l===void 0?void 0:l.call(this))!==null&&c!==void 0&&c),b=f*10,w=p*255,x=y*Math.PI/180,k=Math.cos(x),P=Math.sin(x),T=128/1020*b,R=new Uint8ClampedArray(u),D=new Float32Array(d*h);for(let G=0,z=0;z<u.length;z+=4,G++)D[G]=.2126*R[z]+.7152*R[z+1]+.0722*R[z+2];const M=[-1,0,1,-2,0,2,-1,0,1],Y=[-1,-2,-1,0,0,0,1,2,1],X=[-d-1,-d,-d+1,-1,0,1,d-1,d,d+1],le=G=>G<0?0:G>255?255:G;for(let G=1;G<h-1;G++)for(let z=1;z<d-1;z++){const F=G*d+z;let Z=0,N=0;Z+=D[F+X[0]]*M[0],N+=D[F+X[0]]*Y[0],Z+=D[F+X[1]]*M[1],N+=D[F+X[1]]*Y[1],Z+=D[F+X[2]]*M[2],N+=D[F+X[2]]*Y[2],Z+=D[F+X[3]]*M[3],N+=D[F+X[3]]*Y[3],Z+=D[F+X[5]]*M[5],N+=D[F+X[5]]*Y[5],Z+=D[F+X[6]]*M[6],N+=D[F+X[6]]*Y[6],Z+=D[F+X[7]]*M[7],N+=D[F+X[7]]*Y[7],Z+=D[F+X[8]]*M[8],N+=D[F+X[8]]*Y[8];const q=k*Z+P*N,he=le(w+q*T),ge=F*4;if(g){const xe=he-w;u[ge]=le(R[ge]+xe),u[ge+1]=le(R[ge+1]+xe),u[ge+2]=le(R[ge+2]+xe),u[ge+3]=R[ge+3]}else u[ge]=u[ge+1]=u[ge+2]=he,u[ge+3]=R[ge+3]}for(let G=0;G<d;G++){let z=G*4,F=((h-1)*d+G)*4;u[z]=R[z],u[z+1]=R[z+1],u[z+2]=R[z+2],u[z+3]=R[z+3],u[F]=R[F],u[F+1]=R[F+1],u[F+2]=R[F+2],u[F+3]=R[F+3]}for(let G=1;G<h-1;G++){let z=G*d*4,F=(G*d+(d-1))*4;u[z]=R[z],u[z+1]=R[z+1],u[z+2]=R[z+2],u[z+3]=R[z+3],u[F]=R[F],u[F+1]=R[F+1],u[F+2]=R[F+2],u[F+3]=R[F+3]}return t};E.addGetterSetter(re,"embossStrength",.5,ne(),E.afterSetFilter);E.addGetterSetter(re,"embossWhiteLevel",.5,ne(),E.afterSetFilter);E.addGetterSetter(re,"embossDirection","top-left",void 0,E.afterSetFilter);E.addGetterSetter(re,"embossBlend",!1,void 0,E.afterSetFilter);function Na(t,e,n,r,i){const s=n-e,o=i-r;if(s===0)return r+o/2;if(o===0)return r;let a=(t-e)/s;return a=o*a+r,a}const W4=function(t){const e=t.data,n=e.length;let r=e[0],i=r,s,o=e[1],a=o,l,c=e[2],u=c,d;const h=this.enhance();if(h===0)return;for(let w=0;w<n;w+=4)s=e[w+0],s<r?r=s:s>i&&(i=s),l=e[w+1],l<o?o=l:l>a&&(a=l),d=e[w+2],d<c?c=d:d>u&&(u=d);i===r&&(i=255,r=0),a===o&&(a=255,o=0),u===c&&(u=255,c=0);let f,p,m,y,g,b;if(h>0)f=i+h*(255-i),p=r-h*(r-0),m=a+h*(255-a),y=o-h*(o-0),g=u+h*(255-u),b=c-h*(c-0);else{const w=(i+r)*.5;f=i+h*(i-w),p=r+h*(r-w);const x=(a+o)*.5;m=a+h*(a-x),y=o+h*(o-x);const k=(u+c)*.5;g=u+h*(u-k),b=c+h*(c-k)}for(let w=0;w<n;w+=4)e[w+0]=Na(e[w+0],r,i,p,f),e[w+1]=Na(e[w+1],o,a,y,m),e[w+2]=Na(e[w+2],c,u,b,g)};E.addGetterSetter(re,"enhance",0,ne(),E.afterSetFilter);const H4=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};E.addGetterSetter(re,"hue",0,ne(),E.afterSetFilter);E.addGetterSetter(re,"saturation",0,ne(),E.afterSetFilter);E.addGetterSetter(re,"luminance",0,ne(),E.afterSetFilter);const V4=function(t){const e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=this.luminance()*127,a=r*i*Math.cos(s*Math.PI/180),l=r*i*Math.sin(s*Math.PI/180),c=.299*r+.701*a+.167*l,u=.587*r-.587*a+.33*l,d=.114*r-.114*a-.497*l,h=.299*r-.299*a-.328*l,f=.587*r+.413*a+.035*l,p=.114*r-.114*a+.293*l,m=.299*r-.3*a+1.25*l,y=.587*r-.586*a-1.05*l,g=.114*r+.886*a-.2*l;let b,w,x,k;for(let P=0;P<n;P+=4)b=e[P+0],w=e[P+1],x=e[P+2],k=e[P+3],e[P+0]=c*b+u*w+d*x+o,e[P+1]=h*b+f*w+p*x+o,e[P+2]=m*b+y*w+g*x+o,e[P+3]=k},z4=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=r*i*Math.cos(s*Math.PI/180),a=r*i*Math.sin(s*Math.PI/180),l=.299*r+.701*o+.167*a,c=.587*r-.587*o+.33*a,u=.114*r-.114*o-.497*a,d=.299*r-.299*o-.328*a,h=.587*r+.413*o+.035*a,f=.114*r-.114*o+.293*a,p=.299*r-.3*o+1.25*a,m=.587*r-.586*o-1.05*a,y=.114*r+.886*o-.2*a;for(let g=0;g<n;g+=4){const b=e[g+0],w=e[g+1],x=e[g+2],k=e[g+3];e[g+0]=l*b+c*w+u*x,e[g+1]=d*b+h*w+f*x,e[g+2]=p*b+m*w+y*x,e[g+3]=k}};E.addGetterSetter(re,"hue",0,ne(),E.afterSetFilter);E.addGetterSetter(re,"saturation",0,ne(),E.afterSetFilter);E.addGetterSetter(re,"value",0,ne(),E.afterSetFilter);const j4=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},U4=function(t,e,n){const r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2;let c=Math.sqrt(a*a+l*l),u=s-a,d=o-l;const h=Math.sqrt(u*u+d*d);c=h>c?h:c;const f=o,p=s,m=360/p*Math.PI/180;for(let y=0;y<p;y+=1){const g=Math.sin(y*m),b=Math.cos(y*m);for(let w=0;w<f;w+=1){u=Math.floor(a+c*w/f*b),d=Math.floor(l+c*w/f*g);let x=(d*s+u)*4;const k=r[x+0],P=r[x+1],T=r[x+2],R=r[x+3];x=(y+w*s)*4,i[x+0]=k,i[x+1]=P,i[x+2]=T,i[x+3]=R}}},Y4=function(t,e,n){const r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2;let c=Math.sqrt(a*a+l*l),u=s-a,d=o-l;const h=Math.sqrt(u*u+d*d);c=h>c?h:c;const f=o,p=s,m=0;let y,g;for(u=0;u<s;u+=1)for(d=0;d<o;d+=1){const b=u-a,w=d-l,x=Math.sqrt(b*b+w*w)*f/c;let k=(Math.atan2(w,b)*180/Math.PI+360+m)%360;k=k*p/360,y=Math.floor(k),g=Math.floor(x);let P=(g*s+y)*4;const T=r[P+0],R=r[P+1],D=r[P+2],M=r[P+3];P=(d*s+u)*4,i[P+0]=T,i[P+1]=R,i[P+2]=D,i[P+3]=M}},X4=function(t){const e=t.width,n=t.height;let r,i,s,o,a,l,c,u,d,h,f=Math.round(this.kaleidoscopePower());const p=Math.round(this.kaleidoscopeAngle()),m=Math.floor(e*(p%360)/360);if(f<1)return;const y=O.createCanvasElement();y.width=e,y.height=n;const g=y.getContext("2d").getImageData(0,0,e,n);O.releaseCanvas(y),U4(t,g,{polarCenterX:e/2,polarCenterY:n/2});let b=e/Math.pow(2,f);for(;b<=8;)b=b*2,f-=1;b=Math.ceil(b);let w=b,x=0,k=w,P=1;for(m+b>e&&(x=w,k=0,P=-1),i=0;i<n;i+=1)for(r=x;r!==k;r+=P)s=Math.round(r+m)%e,d=(e*i+s)*4,a=g.data[d+0],l=g.data[d+1],c=g.data[d+2],u=g.data[d+3],h=(e*i+r)*4,g.data[h+0]=a,g.data[h+1]=l,g.data[h+2]=c,g.data[h+3]=u;for(i=0;i<n;i+=1)for(w=Math.floor(b),o=0;o<f;o+=1){for(r=0;r<w+1;r+=1)d=(e*i+r)*4,a=g.data[d+0],l=g.data[d+1],c=g.data[d+2],u=g.data[d+3],h=(e*i+w*2-r-1)*4,g.data[h+0]=a,g.data[h+1]=l,g.data[h+2]=c,g.data[h+3]=u;w*=2}Y4(g,t,{})};E.addGetterSetter(re,"kaleidoscopePower",2,ne(),E.afterSetFilter);E.addGetterSetter(re,"kaleidoscopeAngle",0,ne(),E.afterSetFilter);function Vs(t,e,n){let r=(n*t.width+e)*4;const i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function ki(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function K4(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function q4(t,e){const n=Vs(t,0,0),r=Vs(t,t.width-1,0),i=Vs(t,0,t.height-1),s=Vs(t,t.width-1,t.height-1),o=e||10;if(ki(n,r)<o&&ki(r,s)<o&&ki(s,i)<o&&ki(i,n)<o){const a=K4([r,n,s,i]),l=[];for(let c=0;c<t.width*t.height;c++){const u=ki(a,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=u<o?0:255}return l}}function J4(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function Q4(t,e,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<i;d++)for(let h=0;h<i;h++){const f=a+d-s,p=l+h-s;if(f>=0&&f<n&&p>=0&&p<e){const m=f*e+p,y=r[d*i+h];u+=t[m]*y}}o[c]=u===2040?255:0}return o}function Z4(t,e,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<i;d++)for(let h=0;h<i;h++){const f=a+d-s,p=l+h-s;if(f>=0&&f<n&&p>=0&&p<e){const m=f*e+p,y=r[d*i+h];u+=t[m]*y}}o[c]=u>=1020?255:0}return o}function e6(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<i;d++)for(let h=0;h<i;h++){const f=a+d-s,p=l+h-s;if(f>=0&&f<n&&p>=0&&p<e){const m=f*e+p,y=r[d*i+h];u+=t[m]*y}}o[c]=u}return o}const t6=function(t){const e=this.threshold();let n=q4(t,e);return n&&(n=Q4(n,t.width,t.height),n=Z4(n,t.width,t.height),n=e6(n,t.width,t.height),J4(t,n)),t};E.addGetterSetter(re,"threshold",0,ne(),E.afterSetFilter);const n6=function(t){const e=this.noise()*255,n=t.data,r=n.length,i=e/2;for(let s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()};E.addGetterSetter(re,"noise",.2,ne(),E.afterSetFilter);const r6=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i=Math.ceil(n/e),s=Math.ceil(r/e),o=t.data;if(e<=0){O.error("pixelSize value can not be <= 0");return}for(let a=0;a<i;a+=1)for(let l=0;l<s;l+=1){let c=0,u=0,d=0,h=0;const f=a*e,p=f+e,m=l*e,y=m+e;let g=0;for(let b=f;b<p;b+=1)if(!(b>=n))for(let w=m;w<y;w+=1){if(w>=r)continue;const x=(n*w+b)*4;c+=o[x+0],u+=o[x+1],d+=o[x+2],h+=o[x+3],g+=1}c=c/g,u=u/g,d=d/g,h=h/g;for(let b=f;b<p;b+=1)if(!(b>=n))for(let w=m;w<y;w+=1){if(w>=r)continue;const x=(n*w+b)*4;o[x+0]=c,o[x+1]=u,o[x+2]=d,o[x+3]=h}}};E.addGetterSetter(re,"pixelSize",8,ne(),E.afterSetFilter);const i6=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e;for(let s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i};E.addGetterSetter(re,"levels",.5,ne(),E.afterSetFilter);const s6=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue();for(let o=0;o<n;o+=4){const a=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255;e[o]=a*r,e[o+1]=a*i,e[o+2]=a*s,e[o+3]=e[o+3]}};E.addGetterSetter(re,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});E.addGetterSetter(re,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});E.addGetterSetter(re,"blue",0,ep,E.afterSetFilter);const o6=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),o=this.alpha();for(let a=0;a<n;a+=4){const l=1-o;e[a]=r*o+e[a]*l,e[a+1]=i*o+e[a+1]*l,e[a+2]=s*o+e[a+2]*l}};E.addGetterSetter(re,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});E.addGetterSetter(re,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});E.addGetterSetter(re,"blue",0,ep,E.afterSetFilter);E.addGetterSetter(re,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const a6=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=e[r+0],s=e[r+1],o=e[r+2];e[r+0]=Math.min(255,i*.393+s*.769+o*.189),e[r+1]=Math.min(255,i*.349+s*.686+o*.168),e[r+2]=Math.min(255,i*.272+s*.534+o*.131)}},l6=function(t){const n=t.data;for(let r=0;r<n.length;r+=4){const i=n[r],s=n[r+1],o=n[r+2];.2126*i+.7152*s+.0722*o>=128&&(n[r]=255-i,n[r+1]=255-s,n[r+2]=255-o)}return t},c6=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=1)n[i]=n[i]<e?0:255};E.addGetterSetter(re,"threshold",.5,ne(),E.afterSetFilter);const tt=dd.Util._assign(dd,{Arc:Fn,Arrow:Rr,Circle:mi,Ellipse:lr,Image:$t,Label:hc,Tag:Or,Line:Gn,Path:ze,Rect:ys,RegularPolygon:cr,Ring:Mr,Sprite:wn,Star:ur,Text:Ye,TextPath:st,Transformer:Re,Wedge:$n,Filters:{Blur:N4,Brightness:F4,Brighten:B4,Contrast:G4,Emboss:$4,Enhance:W4,Grayscale:H4,HSL:V4,HSV:z4,Invert:j4,Kaleidoscope:X4,Mask:t6,Noise:n6,Pixelate:r6,Posterize:i6,RGB:s6,RGBA:o6,Sepia:a6,Solarize:l6,Threshold:c6}});class Jo{textureCache=new Map;constructor(){}async generateImage(e){const n=this.getTextureKey(e);if(this.textureCache.has(n))return this.textureCache.get(n);const r=await this.renderToDataUrl(e);return this.textureCache.set(n,r),r}async generateThumbnail(e){return this.generateImage(e)}async renderToDataUrl(e){const n=e.size,r=new tt.Stage({container:document.createElement("div"),width:n,height:n}),i=new tt.Layer;r.add(i),e.layers.forEach(o=>{o.visible!==!1&&this.drawLayer(i,o,n)}),i.draw();const s=r.toDataURL();return r.destroy(),s}getTextureKey(e){if(!e||!e.size||!e.layers)return console.error("Invalid texture description:",e),"fallback-texture";const n={size:e.size,layers:e.layers},r=JSON.stringify(n);return`texture-${this.hashString(r)}`}hashString(e){if(!e||typeof e!="string")return"0";let n=0;for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n.toString(36)}drawLayer(e,n,r){if(n.visible!==!1)switch(n.type){case"circle":this.drawCircle(e,n,r);break;case"rect":this.drawRect(e,n,r);break;case"line":this.drawLine(e,n,r);break;case"pattern":this.drawPattern(e,n,r);break;case"ellipse":this.drawEllipse(e,n,r);break;case"polygon":this.drawPolygon(e,n,r);break;case"path":this.drawPath(e,n,r);break}}drawCircle(e,n,r){const i=Gr(n.color),s=n.x!==void 0?n.x:r/2,o=n.y!==void 0?n.y:r/2,a=n.radius!==void 0?n.radius:Math.floor(r/2),l=new tt.Circle({x:s,y:o,radius:a,fill:this.colorToHex(i),rotation:n.rotation||0});e.add(l)}drawRect(e,n,r){const i=Gr(n.color),s=n.width||0,o=n.height||0,a=n.x!==void 0?n.x:(r-s)/2,l=n.y!==void 0?n.y:(r-o)/2,c=new tt.Rect({x:a+s/2,y:l+o/2,width:s,height:o,fill:this.colorToHex(i),offsetX:s/2,offsetY:o/2,rotation:n.rotation||0});e.add(c)}drawLine(e,n,r){const i=Gr(n.color),s=n.lineWidth||1,o=n.x!==void 0?n.x:0,a=n.y!==void 0?n.y:0,l=n.x2!==void 0?n.x2:r,c=n.y2!==void 0?n.y2:r,u=(o+l)/2,d=(a+c)/2,h=new tt.Line({points:[o,a,l,c],stroke:this.colorToHex(i),strokeWidth:s,rotation:n.rotation||0,x:u,y:d,offsetX:u,offsetY:d});e.add(h)}drawPattern(e,n,r){const{patternType:i,color1:s,x:o=0,y:a=0,width:l=r,height:c=r,rotation:u=0}=n,d=8,h=s?this.colorToHex(s):"#000000",f=new tt.Group({x:o+l/2,y:a+c/2,rotation:u}),p=-l/2,m=-c/2;switch(i){case"checkerboard":for(let g=0;g<l;g+=d)for(let b=0;b<c;b+=d)if((Math.floor(g/d)+Math.floor(b/d))%2===0){const w=new tt.Rect({x:p+g,y:m+b,width:d,height:d,fill:h});f.add(w)}break;case"stripes":for(let g=0;g<l;g+=d){const b=new tt.Rect({x:p+g,y:m,width:d,height:c,fill:h});f.add(b)}break;case"dots":const y=3;for(let g=0;g<l;g+=d)for(let b=0;b<c;b+=d){const w=new tt.Circle({x:p+g+d/2,y:m+b+d/2,radius:y,fill:h});f.add(w)}break}e.add(f)}drawEllipse(e,n,r){const i=Gr(n.color),s=Math.max(0,Math.min(n.x||r/2,r)),o=Math.max(0,Math.min(n.y||r/2,r)),a=Math.max(1,Math.min(n.width||r,r)),l=Math.max(1,Math.min(n.height||r,r)),c=new tt.Ellipse({x:s,y:o,radiusX:a/2,radiusY:l/2,fill:this.colorToHex(i),rotation:n.rotation||0});e.add(c)}drawPolygon(e,n,r){const i=Gr(n.color),s=n.points||[];if(s.length<3)return;const o=[];s.forEach(([l,c])=>{const u=Math.max(0,Math.min(l,r)),d=Math.max(0,Math.min(c,r));o.push(u,d)});const a=new tt.Line({points:o,fill:this.colorToHex(i),closed:!0,rotation:n.rotation||0});n.lineWidth&&n.lineWidth>0&&(a.stroke(this.colorToHex(i)),a.strokeWidth(n.lineWidth)),e.add(a)}drawPath(e,n,r){const i=n.path||"",s=Gr(n.color),o=n.fill!==void 0?n.fill:!0,a=n.lineWidth||1;if(!i)return;const l=[];let c=0;for(;c<i.length;){const u=i[c];if(c++,u==="M"||u==="L"){const d=this.parseNumber(i,c);c+=d.length;const h=this.parseNumber(i,c);c+=h.length;const f=Math.max(0,Math.min(parseFloat(d),r)),p=Math.max(0,Math.min(parseFloat(h),r));l.push(f,p)}}if(l.length>0){const u=new tt.Line({points:l,closed:i.includes("Z"),rotation:n.rotation||0});o&&u.fill(this.colorToHex(s)),a>0&&(u.stroke(this.colorToHex(s)),u.strokeWidth(a)),e.add(u)}}parseNumber(e,n){let r=n;for(;r<e.length&&(/\d|\.|-/.test(e[r])||e[r]===" ");)r++;return e.substring(n,r).trim()}colorToHex(e){return typeof e=="string"?e:"#"+e.toString(16).padStart(6,"0")}}const Qo=Gl("settings",()=>{const t=Xt("openrouter-api-key",""),e=Xt("redraw-speed",1e3),n=Xt("canvas-bg-color","#1f2937");return{apiKey:t,redrawSpeed:e,canvasBackgroundColor:n}}),vs=Gl("ai",()=>{const t=Xt("ai-provider","ollama"),e=Xt("ollama-host","http://localhost:11434"),n=Xt("selected-model","cohere/command-r"),r=Xt("reasoning-effort","low"),i=V([]),s=V(!1),o=V(!1),a=["cohere/command-r"],l=Xt("favorite-models",a),c=V([]),u=y=>a.includes(y)||l.value.includes(y),d=Qo(),h=async()=>{i.value=[];let y;if(t.value==="openrouter"){if(!d.apiKey.trim()){console.error("API key required for OpenRouter");return}try{const g=await fetch("https://openrouter.ai/api/v1/models",{headers:{Authorization:`Bearer ${d.apiKey}`}});if(!g.ok)throw new Error(`Failed to fetch models: ${g.statusText}`);y=(await g.json()).data.map(w=>({id:w.id,name:w.name}))}catch(g){console.error("Error fetching OpenRouter models:",g)}}else if(t.value==="ollama")try{const g=new dl({host:e.value}),{models:b}=await g.list();y=[...b.map(x=>({id:x.name,name:x.name}))]}catch(g){console.error("Error fetching Ollama models:",g)}y&&(i.value.length=0,i.value.push(...y),i.value.sort((g,b)=>{const w=u(g.id),x=u(b.id);return w===x?0:w?-1:1}),c.value.length=0,c.value.push(...i.value.filter(g=>u(g.id))))},f=V(null),p=()=>{f.value&&(f.value.abort(),f.value=null,s.value=!1,o.value=!1)},m=async(y,g,b={temperature:.01})=>{s.value=!0,o.value=!1,f.value=new AbortController;try{let w="";if(t.value==="openrouter"){if(!d.apiKey.trim())throw new Error("API key required for OpenRouter");try{const T=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.apiKey}`},body:JSON.stringify({model:y,messages:g,stream:!0,reasoning:{effort:r.value,exclude:!0},...b}),signal:f.value.signal});if(!T.ok)throw new Error(`API error: ${T.statusText}`);if(!T.body)throw new Error("No response body");const R=T.body.getReader(),D=new TextDecoder;for(;;){const{done:M,value:Y}=await R.read();if(M)break;const le=D.decode(Y,{stream:!0}).split(`
`).filter(G=>G.trim()!=="");for(const G of le)if(G!=="data: [DONE]"){if(G.startsWith(": OPENROUTER PROCESSING")){o.value=!0;continue}if(G.startsWith("data: ")){o.value=!1;try{let F=JSON.parse(G.slice(6)).choices[0]?.delta?.content||"";w+=F,b.onProgress&&b.onProgress(w)}catch(z){console.warn("Error parsing stream chunk",z,G)}}}}}catch(T){if(T.name==="AbortError")return console.log("Generation cancelled"),w;throw console.error("Error generating with OpenRouter:",T),T}}else if(t.value==="ollama")try{const R=await new dl({host:e.value}).chat({model:y,messages:g,format:"json",stream:!0,...b});for await(const D of R){if(f.value?.signal.aborted)break;w+=D.message.content,b.onProgress&&b.onProgress(w)}}catch(T){throw console.error("Error generating with Ollama:",T),T}else throw new Error("Unknown provider");const x=w.split(`
`),k=x.findIndex(T=>T.startsWith("```"));let P=-1;for(let T=x.length-1;T>=0;T--)if(x[T].startsWith("```")){P=T;break}return k!==-1&&P!==-1&&k!==P?x.slice(k+1,P).join(`
`):w}finally{s.value=!1,f.value=null}};return Je(()=>Be(h)),Ce(t,()=>Be(h)),Ce(e,()=>{t.value==="ollama"&&Be(h)}),{provider:t,ollamaHost:e,selectedModel:n,reasoningEffort:r,models:i,isLoading:s,isThinking:o,fetchModels:h,generate:m,cancel:p,favoriteModels:c,favoriteModelIds:l,isFavorite:u}}),u6={class:"flex items-center"},d6=["onClick"],h6=ae({__name:"Combobox",props:{items:{},selectedItem:{}},emits:["update:selectedItem"],setup(t,{emit:e}){const n=t,r=e,i=V(!1),s=vs(),o=c=>{s.isFavorite(c)?s.favoriteModelIds=s.favoriteModelIds.filter(u=>u!==c):s.favoriteModelIds.push(c),s.fetchModels()},a=c=>{r("update:selectedItem",c),i.value=!1},l=j(()=>[...n.items].sort((c,u)=>{const d=s.isFavorite(c.id)?1:0,h=s.isFavorite(u.id)?1:0;return d!==h?h-d:c.name.localeCompare(u.name)}));return(c,u)=>(L(),de(_(y5),{open:i.value,"onUpdate:open":u[0]||(u[0]=d=>i.value=d)},{default:ie(()=>[ee(_(b5),{"as-child":""},{default:ie(()=>[ee(_(a5),{variant:"outline",role:"combobox","aria-expanded":i.value,class:"w-full justify-between"},{default:ie(()=>[Xe(et(t.selectedItem&&t.items.find(d=>d.id===t.selectedItem)?.name||"Select Model...")+" ",1),ee(_(V1),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),ee(_(v5),{class:"w-full p-0 bg-gray-900 border border-gray-700 rounded-md"},{default:ie(()=>[ee(_(c5),{class:"text-gray-300"},{default:ie(()=>[ee(_(f5),{placeholder:"Search model..."}),ee(_(u5),null,{default:ie(()=>[...u[1]||(u[1]=[Xe("No model found.",-1)])]),_:1}),ee(_(m5),null,{default:ie(()=>[ee(_(d5),null,{default:ie(()=>[(L(!0),te(je,null,Mn(l.value,d=>(L(),de(_(p5),{key:d.id,onSelect:h=>a(d.id),value:d.name,class:"flex justify-between cursor-pointer"},{default:ie(()=>[H("div",u6,[ee(_(sf),{class:ht(_(rn)("mr-2 h-4 w-4",t.selectedItem===d.id?"opacity-100":"opacity-0"))},null,8,["class"]),Xe(" "+et(d.name),1)]),H("button",{class:"ml-2 text-yellow-400 hover:text-yellow-300",onClick:Dt(h=>o(d.id),["stop"])},et(_(s).isFavorite(d.id)?"":""),9,d6)]),_:2},1032,["onSelect","value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}});function f6(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}function Zo(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[o=>{const a=Tt(r,o);if(a||a===null)return a;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},o=>(qr(r,o),o)]}function fc(t){return t?t.flatMap(e=>e.type===je?fc(e.children):[e]):[]}const[Op]=Zo("ConfigProvider");function p6(t){return ci()?(cs(t),!0):!1}const Mp=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Sd=()=>{};function g6(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}function m6(t,e={}){let n,r,i=Sd;const s=l=>{clearTimeout(l),i(),i=Sd};let o;return l=>{const c=qt(t),u=qt(e.maxWait);return n&&s(n),c<=0||u!==void 0&&u<=0?(r&&(s(r),r=null),Promise.resolve(l())):new Promise((d,h)=>{i=e.rejectOnCancel?h:d,o=l,u&&!r&&(r=setTimeout(()=>{n&&s(n),r=null,d(o())},u)),n=setTimeout(()=>{r&&s(r),r=null,d(l())},c)})}}function Ip(t,e=200,n={}){return g6(m6(e,n),t)}function y6(t,e,n){const r=Ce(t,(...i)=>(Be(()=>r()),e(...i)),n);return r}const Dp=Mp?window:void 0;function bo(t){var e;const n=qt(t);return(e=n?.$el)!=null?e:n}function v6(){const t=ui(!1),e=At();return e&&Je(()=>{t.value=!0},e),t}function b6(t){const e=v6();return j(()=>(e.value,!!t()))}function oi(t,e,n={}){const{window:r=Dp,...i}=n;let s;const o=b6(()=>r&&"ResizeObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=j(()=>{const d=qt(t);return Array.isArray(d)?d.map(h=>bo(h)):[bo(d)]}),c=Ce(l,d=>{if(a(),o.value&&r){s=new ResizeObserver(e);for(const h of d)h&&s.observe(h,i)}},{immediate:!0,flush:"post"}),u=()=>{a(),c()};return p6(u),{isSupported:o,stop:u}}function w6(t){const e=Op({dir:V("ltr")});return j(()=>t?.value||e.dir?.value||"ltr")}function Ut(){const t=At(),e=V(),n=j(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:bo(e)),r=Object.assign({},t.exposed),i={};for(const o in t.props)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>r[o]});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=i;function s(o){e.value=o,o&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=i)}return{forwardRef:s,currentRef:e,currentElement:n}}function Lp(t,e){const n=V(t);function r(s){return e[n.value][s]??n.value}return{state:n,dispatch:s=>{n.value=r(s)}}}function x6(t,e){const n=V({}),r=V("none"),i=V(t),s=t.value?"mounted":"unmounted";let o;const a=e.value?.ownerDocument.defaultView??Dp,{state:l,dispatch:c}=Lp(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=y=>{if(Mp){const g=new CustomEvent(y,{bubbles:!1,cancelable:!1});e.value?.dispatchEvent(g)}};Ce(t,async(y,g)=>{const b=g!==y;if(await Be(),b){const w=r.value,x=zs(e.value);y?(c("MOUNT"),u("enter"),x==="none"&&u("after-enter")):x==="none"||x==="undefined"||n.value?.display==="none"?(c("UNMOUNT"),u("leave"),u("after-leave")):g&&w!==x?(c("ANIMATION_OUT"),u("leave")):(c("UNMOUNT"),u("after-leave"))}},{immediate:!0});const d=y=>{const g=zs(e.value),b=g.includes(CSS.escape(y.animationName)),w=l.value==="mounted"?"enter":"leave";if(y.target===e.value&&b&&(u(`after-${w}`),c("ANIMATION_END"),!i.value)){const x=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",o=a?.setTimeout(()=>{e.value?.style.animationFillMode==="forwards"&&(e.value.style.animationFillMode=x)})}y.target===e.value&&g==="none"&&c("ANIMATION_END")},h=y=>{y.target===e.value&&(r.value=zs(e.value))},f=Ce(e,(y,g)=>{y?(n.value=getComputedStyle(y),y.addEventListener("animationstart",h),y.addEventListener("animationcancel",d),y.addEventListener("animationend",d)):(c("ANIMATION_END"),o!==void 0&&a?.clearTimeout(o),g?.removeEventListener("animationstart",h),g?.removeEventListener("animationcancel",d),g?.removeEventListener("animationend",d))},{immediate:!0}),p=Ce(l,()=>{const y=zs(e.value);r.value=l.value==="mounted"?y:"none"});return jt(()=>{f(),p()}),{isPresent:j(()=>["mounted","unmountSuspended"].includes(l.value))}}function zs(t){return t&&getComputedStyle(t).animationName||"none"}var pc=ae({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){const{present:r,forceMount:i}=vn(t),s=V(),{isPresent:o}=x6(r,s);n({present:o});let a=e.default({present:o.value});a=fc(a||[]);const l=At();if(a&&a?.length>1){const c=l?.parent?.type.name?`<${l.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${c}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(u=>`  - ${u}`).join(`
`)].join(`
`))}return()=>i.value||r.value||o.value?Et(e.default({present:o.value})[0],{ref:c=>{const u=bo(c);return typeof u?.hasAttribute>"u"||(u?.hasAttribute("data-reka-popper-content-wrapper")?s.value=u.firstElementChild:s.value=u),u}}):null}});const _6=ae({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{if(!n.default)return null;const r=fc(n.default()),i=r.findIndex(l=>l.type!==Qt);if(i===-1)return r;const s=r[i];delete s.props?.ref;const o=s.props?ke(e,s.props):e,a=er({...s,props:{}},o);return r.length===1?a:(r[i]=a,r)}}}),S6=["area","img","input"],ai=ae({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&S6.includes(r)?()=>Et(r,e):r!=="template"?()=>Et(t.as,e,{default:n.default}):()=>Et(_6,e,{default:n.default})}});function C6(t){const e=Op({nonce:V()});return j(()=>t?.value||e.nonce?.value)}const[Yt,E6]=Zo("ScrollAreaRoot");var A6=ae({__name:"ScrollAreaRoot",props:{type:{type:String,required:!1,default:"hover"},dir:{type:String,required:!1},scrollHideDelay:{type:Number,required:!1,default:600},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t,{expose:e}){const n=t,r=V(0),i=V(0),s=V(),o=V(),a=V(),l=V(),c=V(!1),u=V(!1),{type:d,dir:h,scrollHideDelay:f}=vn(n),p=w6(h);function m(){s.value?.scrollTo({top:0})}function y(){s.value?.scrollTo({top:0,left:0})}e({viewport:s,scrollTop:m,scrollTopLeft:y});const{forwardRef:g,currentElement:b}=Ut();return E6({type:d,dir:p,scrollHideDelay:f,scrollArea:b,viewport:s,onViewportChange:w=>{s.value=w||void 0},content:o,onContentChange:w=>{o.value=w},scrollbarX:a,scrollbarXEnabled:c,scrollbarY:l,scrollbarYEnabled:u,onScrollbarXChange:w=>{a.value=w||void 0},onScrollbarYChange:w=>{l.value=w||void 0},onScrollbarXEnabledChange:w=>{c.value=w},onScrollbarYEnabledChange:w=>{u.value=w},onCornerWidthChange:w=>{r.value=w},onCornerHeightChange:w=>{i.value=w}}),(w,x)=>(L(),de(_(ai),{ref:_(g),"as-child":n.asChild,as:w.as,dir:_(p),style:nn({position:"relative","--reka-scroll-area-corner-width":`${r.value}px`,"--reka-scroll-area-corner-height":`${i.value}px`})},{default:ie(()=>[we(w.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),P6=A6,k6=ae({__name:"ScrollAreaCornerImpl",setup(t){const e=Yt(),n=V(0),r=V(0),i=j(()=>!!n.value&&!!r.value);function s(){const a=e.scrollbarX.value?.offsetHeight||0;e.onCornerHeightChange(a),r.value=a}function o(){const a=e.scrollbarY.value?.offsetWidth||0;e.onCornerWidthChange(a),n.value=a}return oi(e.scrollbarX.value,s),oi(e.scrollbarY.value,o),Ce(()=>e.scrollbarX.value,s),Ce(()=>e.scrollbarY.value,o),(a,l)=>i.value?(L(),de(_(ai),ke({key:0,style:{width:`${n.value}px`,height:`${r.value}px`,position:"absolute",right:_(e).dir.value==="ltr"?0:void 0,left:_(e).dir.value==="rtl"?0:void 0,bottom:0}},a.$parent?.$props),{default:ie(()=>[we(a.$slots,"default")]),_:3},16,["style"])):Te("v-if",!0)}}),T6=k6,R6=ae({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{forwardRef:n}=Ut(),r=Yt(),i=j(()=>!!r.scrollbarX.value&&!!r.scrollbarY.value),s=j(()=>r.type.value!=="scroll"&&i.value);return(o,a)=>s.value?(L(),de(T6,ke({key:0},e,{ref:_(n)}),{default:ie(()=>[we(o.$slots,"default")]),_:3},16)):Te("v-if",!0)}}),O6=R6;function Np(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function ea(t){const e=Bp(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Bp(t,e){const n=t/e;return Number.isNaN(n)?0:n}function M6(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)}function Cd(t,e,n="ltr"){const r=ea(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=f6(t,l[0],l[1]);return Np([0,o],[0,a])(c)}function js(t){return t?Number.parseInt(t,10):0}function I6(t,e,n,r="ltr"){const i=ea(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return Np([l,c],d)(t)}function Ed(t,e){return t>0&&t<e}var D6=ae({__name:"ScrollAreaScrollbarX",setup(t){const e=Yt(),n=na(),{forwardRef:r,currentElement:i}=Ut();Je(()=>{i.value&&e.onScrollbarXChange(i.value)});const s=j(()=>n.sizes.value);return(o,a)=>(L(),de(Gp,{ref:_(r),"is-horizontal":!0,"data-orientation":"horizontal",style:nn({bottom:0,left:_(e).dir.value==="rtl"?"var(--reka-scroll-area-corner-width)":0,right:_(e).dir.value==="ltr"?"var(--reka-scroll-area-corner-width)":0,"--reka-scroll-area-thumb-width":s.value?`${_(ea)(s.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=l=>_(n).onDragScroll(l.x))},{default:ie(()=>[we(o.$slots,"default")]),_:3},8,["style"]))}}),L6=D6,N6=ae({__name:"ScrollAreaScrollbarY",setup(t){const e=Yt(),n=na(),{forwardRef:r,currentElement:i}=Ut();Je(()=>{i.value&&e.onScrollbarYChange(i.value)});const s=j(()=>n.sizes.value);return(o,a)=>(L(),de(Gp,{ref:_(r),"is-horizontal":!1,"data-orientation":"vertical",style:nn({top:0,right:_(e).dir.value==="ltr"?0:void 0,left:_(e).dir.value==="rtl"?0:void 0,bottom:"var(--reka-scroll-area-corner-height)","--reka-scroll-area-thumb-height":s.value?`${_(ea)(s.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=l=>_(n).onDragScroll(l.y))},{default:ie(()=>[we(o.$slots,"default")]),_:3},8,["style"]))}}),B6=N6,F6=ae({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=Yt(),n=ta(),{forwardRef:r}=Ut(),i=V(!1),s=Ip(()=>{if(e.viewport.value){const o=e.viewport.value.offsetWidth<e.viewport.value.scrollWidth,a=e.viewport.value.offsetHeight<e.viewport.value.scrollHeight;i.value=n.isHorizontal.value?o:a}},10);return Je(()=>s()),oi(e.viewport,s),oi(e.content,s),(o,a)=>(L(),de(_(pc),{present:o.forceMount||i.value},{default:ie(()=>[ee(gc,ke(o.$attrs,{ref:_(r),"data-state":i.value?"visible":"hidden"}),{default:ie(()=>[we(o.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Fp=F6,G6=ae({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=Yt(),{forwardRef:n}=Ut();let r;const i=V(!1);function s(){window.clearTimeout(r),i.value=!0}function o(){r=window.setTimeout(()=>{i.value=!1},e.scrollHideDelay.value)}return Je(()=>{const a=e.scrollArea.value;a&&(a.addEventListener("pointerenter",s),a.addEventListener("pointerleave",o))}),jt(()=>{const a=e.scrollArea.value;a&&(window.clearTimeout(r),a.removeEventListener("pointerenter",s),a.removeEventListener("pointerleave",o))}),(a,l)=>(L(),de(_(pc),{present:a.forceMount||i.value},{default:ie(()=>[ee(Fp,ke(a.$attrs,{ref:_(n),"data-state":i.value?"visible":"hidden"}),{default:ie(()=>[we(a.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),$6=G6,W6=ae({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=Yt(),n=ta(),{forwardRef:r}=Ut(),{state:i,dispatch:s}=Lp("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}}),o=j(()=>i.value!=="hidden");Gt(l=>{if(i.value==="idle"){const c=window.setTimeout(()=>s("HIDE"),e.scrollHideDelay.value);l(()=>{window.clearTimeout(c)})}});const a=Ip(()=>s("SCROLL_END"),100);return Gt(l=>{const c=e.viewport.value,u=n.isHorizontal.value?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const f=c[u];d!==f&&(s("SCROLL"),a()),d=f};c.addEventListener("scroll",h),l(()=>{c.removeEventListener("scroll",h)})}}),(l,c)=>(L(),de(_(pc),{present:l.forceMount||o.value},{default:ie(()=>[ee(gc,ke(l.$attrs,{ref:_(r),"data-state":o.value?"visible":"hidden"}),{default:ie(()=>[we(l.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),H6=W6;const[ta,V6]=Zo("ScrollAreaScrollbar");var z6=ae({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{type:String,required:!1,default:"vertical"},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const e=t,{forwardRef:n}=Ut(),r=Yt(),i=j(()=>e.orientation==="horizontal");Ce(i,()=>{i.value?r.onScrollbarXEnabledChange(!0):r.onScrollbarYEnabledChange(!0)},{immediate:!0}),jt(()=>{r.onScrollbarXEnabledChange(!1),r.onScrollbarYEnabledChange(!1)});const{orientation:s,forceMount:o,asChild:a,as:l}=vn(e);return V6({orientation:s,forceMount:o,isHorizontal:i,as:l,asChild:a}),(c,u)=>_(r).type.value==="hover"?(L(),de($6,ke({key:0},c.$attrs,{ref:_(n),"force-mount":_(o)}),{default:ie(()=>[we(c.$slots,"default")]),_:3},16,["force-mount"])):_(r).type.value==="scroll"?(L(),de(H6,ke({key:1},c.$attrs,{ref:_(n),"force-mount":_(o)}),{default:ie(()=>[we(c.$slots,"default")]),_:3},16,["force-mount"])):_(r).type.value==="auto"?(L(),de(Fp,ke({key:2},c.$attrs,{ref:_(n),"force-mount":_(o)}),{default:ie(()=>[we(c.$slots,"default")]),_:3},16,["force-mount"])):_(r).type.value==="always"?(L(),de(gc,ke({key:3},c.$attrs,{ref:_(n),"data-state":"visible"}),{default:ie(()=>[we(c.$slots,"default")]),_:3},16)):Te("v-if",!0)}}),j6=z6;const[na,U6]=Zo("ScrollAreaScrollbarVisible");var Y6=ae({__name:"ScrollAreaScrollbarVisible",setup(t){const e=Yt(),n=ta(),{forwardRef:r}=Ut(),i=V({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),s=j(()=>{const g=Bp(i.value.viewport,i.value.content);return g>0&&g<1}),o=V(),a=V(0);function l(g,b){if(f.value){const w=e.viewport.value.scrollLeft+g.deltaY;e.viewport.value.scrollLeft=w,Ed(w,b)&&g.preventDefault()}else{const w=e.viewport.value.scrollTop+g.deltaY;e.viewport.value.scrollTop=w,Ed(w,b)&&g.preventDefault()}}function c(g,b){f.value?a.value=b.x:a.value=b.y}function u(g){a.value=0}function d(g){i.value=g}function h(g,b){return I6(g,a.value,i.value,b)}const f=j(()=>n.isHorizontal.value);function p(g){f.value?e.viewport.value.scrollLeft=h(g,e.dir.value):e.viewport.value.scrollTop=h(g)}function m(){if(f.value){if(e.viewport.value&&o.value){const g=e.viewport.value.scrollLeft,b=Cd(g,i.value,e.dir.value);o.value.style.transform=`translate3d(${b}px, 0, 0)`}}else if(e.viewport.value&&o.value){const g=e.viewport.value.scrollTop,b=Cd(g,i.value);o.value.style.transform=`translate3d(0, ${b}px, 0)`}}function y(g){o.value=g}return U6({sizes:i,hasThumb:s,handleWheelScroll:l,handleThumbDown:c,handleThumbUp:u,handleSizeChange:d,onThumbPositionChange:m,onThumbChange:y,onDragScroll:p}),(g,b)=>f.value?(L(),de(L6,ke({key:0},g.$attrs,{ref:_(r)}),{default:ie(()=>[we(g.$slots,"default")]),_:3},16)):(L(),de(B6,ke({key:1},g.$attrs,{ref:_(r)}),{default:ie(()=>[we(g.$slots,"default")]),_:3},16))}}),gc=Y6,X6=ae({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean,required:!0}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(t,{emit:e}){const n=t,r=e,i=Yt(),s=na(),o=ta(),{forwardRef:a,currentElement:l}=Ut(),c=V(""),u=V();function d(g){if(u.value){const b=g.clientX-u.value?.left,w=g.clientY-u.value?.top;r("onDragScroll",{x:b,y:w})}}function h(g){g.button===0&&(g.target.setPointerCapture(g.pointerId),u.value=l.value.getBoundingClientRect(),c.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",i.viewport&&(i.viewport.value.style.scrollBehavior="auto"),d(g))}function f(g){d(g)}function p(g){const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),document.body.style.webkitUserSelect=c.value,i.viewport&&(i.viewport.value.style.scrollBehavior=""),u.value=void 0}function m(g){const b=g.target,w=l.value?.contains(b),x=s.sizes.value.content-s.sizes.value.viewport;w&&s.handleWheelScroll(g,x)}Je(()=>{document.addEventListener("wheel",m,{passive:!1})}),jt(()=>{document.removeEventListener("wheel",m)});function y(){l.value&&(n.isHorizontal?s.handleSizeChange({content:i.viewport.value?.scrollWidth??0,viewport:i.viewport.value?.offsetWidth??0,scrollbar:{size:l.value.clientWidth??0,paddingStart:js(getComputedStyle(l.value).paddingLeft),paddingEnd:js(getComputedStyle(l.value).paddingRight)}}):s.handleSizeChange({content:i.viewport.value?.scrollHeight??0,viewport:i.viewport.value?.offsetHeight??0,scrollbar:{size:l.value?.clientHeight??0,paddingStart:js(getComputedStyle(l.value).paddingLeft),paddingEnd:js(getComputedStyle(l.value).paddingRight)}}))}return oi(l,y),oi(i.content,y),(g,b)=>(L(),de(_(ai),{ref:_(a),style:{position:"absolute"},"data-scrollbarimpl":"",as:_(o).as.value,"as-child":_(o).asChild.value,onPointerdown:h,onPointermove:f,onPointerup:p},{default:ie(()=>[we(g.$slots,"default")]),_:3},8,["as","as-child"]))}}),Gp=X6,K6=ae({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=Yt(),r=na();function i(h){const p=h.target.getBoundingClientRect(),m=h.clientX-p.left,y=h.clientY-p.top;r.handleThumbDown(h,{x:m,y})}function s(h){r.handleThumbUp(h)}const{forwardRef:o,currentElement:a}=Ut(),l=V(),c=j(()=>n.viewport.value);function u(){if(!l.value){const h=M6(c.value,r.onThumbPositionChange);l.value=h,r.onThumbPositionChange()}}const d=j(()=>r.sizes.value);return y6(d,()=>{r.onThumbChange(a.value),c.value&&(r.onThumbPositionChange(),c.value.addEventListener("scroll",u))}),jt(()=>{c.value.removeEventListener("scroll",u),n.viewport.value?.removeEventListener("scroll",u)}),(h,f)=>(L(),de(_(ai),{ref:_(o),"data-state":_(r).hasThumb?"visible":"hidden",style:{width:"var(--reka-scroll-area-thumb-width)",height:"var(--reka-scroll-area-thumb-height)"},"as-child":e.asChild,as:h.as,onPointerdown:i,onPointerup:s},{default:ie(()=>[we(h.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),q6=K6,J6=ae({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t,{expose:e}){const n=t,{nonce:r}=vn(n),i=C6(r),s=Yt(),o=V();Je(()=>{s.onViewportChange(o.value),s.onContentChange(l.value)}),e({viewportElement:o});const{forwardRef:a,currentElement:l}=Ut();return(c,u)=>(L(),te(je,null,[H("div",ke({ref_key:"viewportElement",ref:o,"data-reka-scroll-area-viewport":"",style:{overflowX:_(s).scrollbarXEnabled.value?"scroll":"hidden",overflowY:_(s).scrollbarYEnabled.value?"scroll":"hidden"}},c.$attrs,{tabindex:0}),[ee(_(ai),{ref:_(a),style:nn({minWidth:_(s).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":n.asChild,as:c.as},{default:ie(()=>[we(c.$slots,"default")]),_:3},8,["style","as-child","as"])],16),ee(_(ai),{as:"style",nonce:_(i)},{default:ie(()=>u[0]||(u[0]=[Xe(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-reka-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),Q6=J6;const Z6=ae({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=j(()=>{const{class:r,...i}=e;return i});return(r,i)=>(L(),de(_(j6),ke(n.value,{class:_(rn)("flex touch-none select-none transition-colors",t.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",t.orientation==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",e.class)}),{default:ie(()=>[ee(_(q6),{class:"relative flex-1 rounded-full bg-border"})]),_:1},16,["class"]))}}),e8=ae({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=j(()=>{const{class:r,...i}=e;return i});return(r,i)=>(L(),de(_(P6),ke(n.value,{class:_(rn)("relative overflow-hidden",e.class)}),{default:ie(()=>[ee(_(Q6),{class:"h-full w-full rounded-[inherit]"},{default:ie(()=>[we(r.$slots,"default")]),_:3}),ee(Z6),ee(_(O6))]),_:3},16,["class"]))}}),t8={class:"bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-700 space-y-4 w-80 mx-auto"},n8=["placeholder"],r8={class:"mb-2"},i8={key:1,class:"relative"},s8={key:0,class:"text-sm text-yellow-400 mb-2"},o8={key:1,class:"text-xs text-green-400 mb-2 flex items-center gap-1"},a8={key:2,class:"mb-2"},l8=["onClick"],$p=ae({__name:"GeneratorForm",props:{placeholder:{}},setup(t,{expose:e}){const n=t,r=vs(),i=Qo();V(!1);const s=Xt(n.placeholder==="Describe your SVG..."?"svg-prompt":"sprite-prompt","");return e({prompt:s}),(o,a)=>{const l=Zi("router-link");return L(),te("div",t8,[Ht(H("textarea",{"onUpdate:modelValue":a[0]||(a[0]=c=>Ke(s)?s.value=c:null),placeholder:t.placeholder,class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"4"},null,8,n8),[[ei,_(s)]]),H("div",r8,[a[6]||(a[6]=H("label",{class:"block text-sm font-bold mb-1"},"AI Provider:",-1)),Ht(H("select",{"onUpdate:modelValue":a[1]||(a[1]=c=>_(r).provider=c),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...a[5]||(a[5]=[H("option",{value:"openrouter"},"OpenRouter",-1),H("option",{value:"ollama"},"Ollama (Local)",-1)])],512),[[fo,_(r).provider]])]),_(r).provider==="ollama"?Ht((L(),te("input",{key:0,"onUpdate:modelValue":a[2]||(a[2]=c=>_(r).ollamaHost=c),placeholder:"Ollama Host (e.g., http://localhost:11434)",class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512)),[[ei,_(r).ollamaHost]]):Te("",!0),_(r).provider==="openrouter"?(L(),te("div",i8,[_(i).apiKey?(L(),te("div",o8,[...a[9]||(a[9]=[H("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[H("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),Xe(" API Key set ",-1)])])):(L(),te("div",s8,[a[8]||(a[8]=Xe(" API Key not set. ",-1)),ee(l,{to:"/settings",class:"underline hover:text-yellow-300"},{default:ie(()=>[...a[7]||(a[7]=[Xe("Go to Settings",-1)])]),_:1})]))])):Te("",!0),_(r).provider==="openrouter"?(L(),te("div",a8,[a[11]||(a[11]=H("label",{class:"block text-sm font-bold mb-1"},"Reasoning Effort (when applicable):",-1)),Ht(H("select",{"onUpdate:modelValue":a[3]||(a[3]=c=>_(r).reasoningEffort=c),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...a[10]||(a[10]=[Nh('<option value="high">High</option><option value="medium">Medium</option><option value="low">Low</option><option value="minimal">Minimal</option><option value="none">None</option>',5)])],512),[[fo,_(r).reasoningEffort]])])):Te("",!0),H("div",null,[a[12]||(a[12]=H("label",{class:"block text-sm font-bold mb-1"},"Choose Model:",-1)),_(r).favoriteModels.length>0?(L(),de(_(e8),{key:0,class:"flex flex-wrap gap-2 mb-2"},{default:ie(()=>[(L(!0),te(je,null,Mn(_(r).favoriteModels,c=>(L(),te("button",{key:c.id,onClick:u=>_(r).selectedModel=c.id,class:ht(["px-3 py-1 text-sm rounded border border-gray-600 bg-gray-700 hover:bg-gray-600",{"bg-blue-600 border-blue-500 text-white":_(r).selectedModel===c.id}])},et(c.name),11,l8))),128))]),_:1})):Te("",!0),ee(h6,{items:_(r).models,selectedItem:_(r).selectedModel,"onUpdate:selectedItem":a[4]||(a[4]=c=>_(r).selectedModel=c)},null,8,["items","selectedItem"])]),we(o.$slots,"button")])}}}),c8="cloud-2",u8=64,d8=[{type:"circle",color:"#F0F8FF",x:32,y:35,radius:20},{type:"circle",color:"#E6E6FA",x:20,y:38,radius:12},{type:"circle",color:"#E6E6FA",x:45,y:38,radius:14},{type:"circle",color:"#FFFFFF",x:32,y:32,radius:18},{type:"circle",color:"#FFFFFF",x:18,y:35,radius:10},{type:"circle",color:"#FFFFFF",x:48,y:35,radius:12},{type:"circle",color:"#FFFFFF",x:35,y:26,radius:12}],h8="a fluffy cloud",f8="cloud-2",Wp={name:c8,size:u8,layers:d8,prompt:h8,id:f8},p8="tree-2",g8=64,m8=[{type:"rect",color:"#8B4513",x:28,y:36,width:8,height:28},{type:"rect",color:"#A0522D",x:29,y:36,width:6,height:28},{type:"circle",color:"#006400",x:32,y:26,radius:22},{type:"circle",color:"#228B22",x:20,y:30,radius:15},{type:"circle",color:"#228B22",x:44,y:30,radius:15},{type:"circle",color:"#556B2F",x:32,y:16,radius:16},{type:"circle",color:"#3CB371",x:32,y:28,radius:12}],y8="a tree",v8="tree-2",Hp={name:p8,size:g8,layers:m8,prompt:y8,id:v8},b8="restaurant-1",w8=128,x8=[{type:"rect",color:"#C0C0C0",x:0,y:115,width:128,height:13},{type:"line",color:"#808080",x:0,y:127,x2:128,y2:127,lineWidth:2},{type:"rect",color:"#A52A2A",x:14,y:50,width:100,height:65},{type:"line",color:"#800000",x:14,y:60,x2:114,y2:60,lineWidth:1},{type:"line",color:"#800000",x:14,y:70,x2:114,y2:70,lineWidth:1},{type:"line",color:"#800000",x:14,y:80,x2:114,y2:80,lineWidth:1},{type:"line",color:"#800000",x:14,y:90,x2:114,y2:90,lineWidth:1},{type:"line",color:"#800000",x:14,y:100,x2:114,y2:100,lineWidth:1},{type:"rect",color:"#DA291C",x:10,y:25,width:108,height:25},{type:"rect",color:"#FFC72C",x:10,y:48,width:108,height:4},{type:"rect",color:"#363636",x:22,y:65,width:40,height:45},{type:"rect",color:"#BDE6F4",x:25,y:68,width:34,height:39},{type:"line",color:"#363636",x:42,y:68,x2:42,y2:107,lineWidth:2},{type:"rect",color:"#363636",x:72,y:65,width:34,height:50},{type:"rect",color:"#BDE6F4",x:75,y:68,width:12,height:47},{type:"rect",color:"#BDE6F4",x:91,y:68,width:12,height:47},{type:"rect",color:"#C0C0C0",x:88,y:88,width:2,height:10}],_8="a detailed restaurant building",S8="restaurant-1",Vp={name:b8,size:w8,layers:x8,prompt:_8,id:S8};function mc(t){t.prompt||(t.prompt=t.name.replace(/-/g," "),console.warn(`Texture ${t.name} has no prompt`));const e=t.layers.map(n=>`    ${JSON.stringify(n)}`).join(`,
`);return`INPUT: ${t.prompt}
OUTPUT:
{
  "name": "${t.name}",
  "size": ${t.size},
  "layers": [
${e}
  ]
}`}const C8=mc(Wp),E8=mc(Hp),A8=mc(Vp),P8=t=>{const e=[];return e.push({role:"system",content:`Assistant's task is to create a new detailed texture based on the INPUT, by using the provided instructions and example(s).

# Texture Schema
{
  "name": "string",
  "size": number,
  "layers": Layer[]
}

Each layer is drawn in order and must have a "type" and "color".
All layers support an optional "rotation" property (in degrees).

## Layer Types
- Rectangle: { "type": "rect", "color": string, "x": number, "y": number, "width": number, "height": number }
- Circle:    { "type": "circle", "color": string, "x": number, "y": number, "radius": number }
- Line:      { "type": "line", "color": string, "x": number, "y": number, "x2": number, "y2": number, "lineWidth": number }
- Ellipse:   { "type": "ellipse", "color": string, "x": number, "y": number, "width": number, "height": number }
- Polygon:   { "type": "polygon", "color": string, "points": [[x,y],...], "lineWidth": number }
- Path:      { "type": "path", "color": string, "path": string, "fill": boolean, "lineWidth": number }

Colors: hex codes ("#FF0000") or names ("red","gray","transparent").

## Rules
1. Base the design on the INPUT concept.
2. Use multiple shapes to build details when desired.
3. Use rotation to add visual interest or create angled shapes.
4. IMPORTANT: Output must be VALID JSON -- for example, there should be no comments.
5. Note that layer order matters -- layers are drawn in order.
6. Any size up to 1024 is acceptable. Larger sizes should be used if needed to create more detail.

## Examples

${C8}

${E8}

${A8}`}),e.push({role:"user",content:`INPUT:

${t}`}),e},k8={id:"game-container",class:"relative mt-2 mx-auto border-2 border-gray-700 shadow-lg rounded-lg overflow-hidden w-full max-w-6xl"},T8=ae({__name:"GameContainer",setup(t){const e=Qo(),n=V();let r=null,i=null,s=null;const o=new Jo;Je(()=>{n.value&&(r=new tt.Stage({container:n.value,width:n.value.clientWidth||800,height:400,draggable:!0}),i=new tt.Layer,r.add(i),s=new tt.Rect({x:-5e3,y:-5e3,width:1e4,height:1e4,fill:e.canvasBackgroundColor||"#00ff00"}),i.add(s),i.draw(),Ce(()=>e.canvasBackgroundColor,u=>{s&&(s.fill(u),i?.batchDraw())}),i.draw(),r.on("wheel",u=>{if(u.evt.preventDefault(),!r)return;const d=1.1,h=r.scaleX(),f=r.getPointerPosition();if(!f)return;const p={x:(f.x-r.x())/h,y:(f.y-r.y())/h};let m=u.evt.deltaY>0?h/d:h*d;m=Math.max(.1,Math.min(m,20)),r.scale({x:m,y:m});const y={x:f.x-p.x*m,y:f.y-p.y*m};r.position(y)}),window.addEventListener("spriteSelected",l),window.addEventListener("spriteCleared",a))}),jt(()=>{window.removeEventListener("spriteSelected",l),window.removeEventListener("spriteCleared",a),r?.destroy()});function a(){if(!r||!i)return;const u=i.children;for(let d=u.length-1;d>0;d--)u[d].destroy();i.batchDraw()}async function l(u){const h=u.detail;if(!r||!i)return;const f=i.children;for(let m=f.length-1;m>0;m--)f[m].destroy();const p=new tt.Group({x:0,y:0});h.layers.forEach(m=>{m.visible!==!1&&o.drawLayer(p,m,h.size)}),i.add(p),c(h.size),i.batchDraw()}function c(u){if(!r)return;const d=r.width(),h=r.height(),f=40,p=(d-f)/u,m=(h-f)/u,y=Math.min(p,m,10),g=(d-u*y)/2,b=(h-u*y)/2;r.scale({x:y,y}),r.position({x:g,y:b})}return(u,d)=>(L(),te("div",k8,[H("div",{ref_key:"containerRef",ref:n,class:"w-full h-full"},null,512)]))}}),yc=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},R8=yc(T8,[["__scopeId","data-v-47c9b89a"]]),O8={class:"flex flex-col xl:flex-row gap-6 h-full"},M8=["disabled"],I8={class:"flex-1 min-w-0 space-y-4"},D8={key:0,class:"h-96 bg-gray-900 rounded-lg border border-gray-700 flex flex-col items-center justify-center text-gray-400"},L8={key:0,class:"text-lg font-medium animate-pulse"},N8={key:1,class:"text-lg font-medium animate-pulse"},B8={key:1,class:"bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-700"},F8={class:"flex items-center justify-between mb-3"},G8=["disabled"],$8={key:0},W8={key:1,class:"flex items-center"},H8={class:"flex items-center gap-4"},V8={class:"bg-gray-900 p-4 rounded-md border border-gray-600"},z8=["src"],j8={class:"flex-1 space-y-3"},U8={class:"text-sm text-gray-300"},Y8={key:0},X8={key:1},K8={class:"flex gap-2"},q8={key:0,class:"text-green-400 text-sm"},J8={class:"mt-4 pt-4 border-t border-gray-700 flex items-center"},Q8={key:0,class:"mt-2 bg-gray-900 rounded-md overflow-hidden text-xs"},Z8=ae({__name:"SpriteGenerator",setup(t){const e=V(),n=vs(),r=Qo(),i=fs(),s=new Jo,o=V(null),a=V(null),l=V(null),c=V(!1),u=V(!1),d=V(!1),h=Xt("formCollapsed",!0),f=Xt("jsonCollapsed",!0),p=j(()=>a.value||o.value),m=j(()=>!!a.value),y=j(()=>l.value?l.value:o.value?.thumbnail?o.value.thumbnail:null),g=j(()=>{if(!p.value)return null;const{thumbnail:D,...M}=p.value;return M?(Object.keys(M).forEach(Y=>{M[Y]===void 0&&delete M[Y]}),M):null}),b=j(()=>{if(n.isLoading)return!1;const D=e.value;return!(!D||!D.prompt)});async function w(){const D=e.value;if(!D)return;const M=D.prompt;if(!(!M.trim()||!n.selectedModel)){a.value=null,l.value=null,o.value=null,c.value=!1,u.value=!1,window.dispatchEvent(new Event("spriteCleared"));try{const{parse:Y}=await tl(async()=>{const{parse:le}=await import("./index-TQGKwJyT.js").then(G=>G.i);return{parse:le}},[],import.meta.url),X=await n.generate(n.selectedModel,P8(M),{temperature:.01,onProgress:async le=>{try{let G=le;const z=G.split(`
`);z[0]?.startsWith("```")&&z.shift(),G=z.join(`
`);const F=Y(G);if(F&&typeof F=="object"){F.size||(F.size=64),F.layers||(F.layers=[]),a.value={...F,prompt:M,id:a.value?.id||el()};try{l.value=await s.generateImage(a.value)}catch{}window.dispatchEvent(new CustomEvent("spriteSelected",{detail:a.value}))}}catch{}}});console.log("Full (parsed) model response",X),a.value&&(l.value=await s.generateImage(a.value),window.dispatchEvent(new CustomEvent("newTexture",{detail:a.value})),window.dispatchEvent(new CustomEvent("spriteSelected",{detail:a.value}))),D.prompt=""}catch(Y){console.error("Error generating sprite:",Y)}}}function x(){if(!p.value)return;const D={...p.value,thumbnail:y.value||void 0,id:p.value.id||el()};i.addGeneratedTexture(D),c.value=!0,u.value=!0,setTimeout(()=>{c.value=!1},3e3)}function k(){R(),window.dispatchEvent(new Event("spriteCleared"))}async function P(){if(!p.value)return;const D=y.value||await s.generateImage(p.value),M=`${p.value.name||p.value.id||"sprite"}.png`,Y=document.createElement("a");Y.href=D,Y.download=M,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)}async function T(){if(!p.value||d.value)return;d.value=!0;const D=p.value,{thumbnail:M,...Y}=D,X=JSON.stringify(Y,null,2);try{const{parse:le}=await tl(async()=>{const{parse:G}=await import("./index-TQGKwJyT.js").then(z=>z.i);return{parse:G}},[],import.meta.url);for(let G=0;G<X.length;G++){const z=X.substring(0,G+1);try{const N=le(z);if(N&&typeof N=="object"){N.size||(N.size=D.size||64),N.layers||(N.layers=[]);const q={...N,id:D.id,prompt:D.prompt};a.value?a.value=q:o.value=q;try{l.value=await s.generateImage(q)}catch{}window.dispatchEvent(new CustomEvent("spriteSelected",{detail:q}))}}catch{}const F=r.redrawSpeed||2500,Z=Math.max(1,Math.min(100,F/X.length));await new Promise(N=>setTimeout(N,Z))}a.value?(l.value=await s.generateImage(a.value),window.dispatchEvent(new CustomEvent("spriteSelected",{detail:a.value}))):o.value&&(l.value=await s.generateImage(o.value),window.dispatchEvent(new CustomEvent("spriteSelected",{detail:o.value})))}catch(le){console.error("Error redrawing sprite:",le)}finally{d.value=!1}}function R(){a.value=null,l.value=null,o.value=null,c.value=!1}return Je(()=>{window.addEventListener("spriteSelected",async D=>{const Y=D.detail;a.value&&a.value.id===Y.id||(a.value=null,l.value=null,o.value=Y,o.value.thumbnail||(o.value.thumbnail=await s.generateImage(o.value)),!(!o.value.prompt||!e.value)&&(e.value.prompt=o.value.prompt))}),window.addEventListener("spriteCleared",()=>{o.value=null})}),(D,M)=>(L(),te("div",O8,[H("div",{class:ht(["flex-shrink-0 transition-all duration-300 ease-in-out",[_(h)?"w-full xl:w-auto":"w-full xl:w-80"]])},[H("button",{onClick:M[0]||(M[0]=Y=>h.value=!_(h)),class:"w-full flex items-center justify-between gap-2 py-2 px-3 bg-gray-800 hover:bg-gray-700 rounded-md transition mb-2 border border-gray-700"},[M[4]||(M[4]=H("span",{class:"text-sm font-medium text-gray-300"},"Generate",-1)),(L(),te("svg",{class:ht(["w-4 h-4 text-gray-400 transition-transform duration-200",{"rotate-180":_(h)}]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...M[3]||(M[3]=[H("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),Ht(H("div",null,[ee($p,{ref_key:"Form",ref:e,placeholder:"Describe your sprite..."},{button:ie(()=>[_(n).isLoading?(L(),te("button",{key:1,onClick:M[1]||(M[1]=(...Y)=>_(n).cancel&&_(n).cancel(...Y)),class:"w-full bg-red-600 text-white p-2 rounded-md hover:bg-red-700 transition flex items-center justify-center"},[M[5]||(M[5]=H("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},null,-1)),ee(_(Z1),{class:"w-4 h-4 mr-2"}),M[6]||(M[6]=Xe(" Stop Generating ",-1))])):(L(),te("button",{key:0,disabled:!b.value,onClick:w,class:"w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 transition disabled:opacity-50"}," Generate Sprite ",8,M8))]),_:1},512)],512),[[Vi,!_(h)]])],2),H("div",I8,[_(n).isLoading&&(!p.value||_(n).isThinking)?(L(),te("div",D8,[M[7]||(M[7]=H("div",{class:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"},null,-1)),_(n).isLoading&&!_(n).isThinking?(L(),te("p",L8,"Loading...")):Te("",!0),_(n).isThinking?(L(),te("p",N8,"Thinking...")):Te("",!0)])):Te("",!0),Ht(ee(R8,null,null,512),[[Vi,p.value&&!_(n).isThinking]]),p.value?(L(),te("div",B8,[H("div",F8,[M[9]||(M[9]=H("h3",{class:"text-lg font-bold text-white"},"Sprite Preview",-1)),H("button",{onClick:T,disabled:d.value,class:"px-3 py-1 text-sm bg-gray-600 text-white rounded-md hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed"},[d.value?(L(),te("span",W8,[...M[8]||(M[8]=[H("div",{class:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-1"},null,-1),Xe(" Redrawing... ",-1)])])):(L(),te("span",$8," Draw Again"))],8,G8)]),H("div",H8,[H("div",V8,[y.value?(L(),te("img",{key:0,src:y.value,alt:"Sprite preview",class:"w-32 h-32 pixelated"},null,8,z8)):Te("",!0)]),H("div",j8,[H("div",U8,[p.value.prompt?(L(),te("p",Y8,[M[10]||(M[10]=H("strong",null,"Prompt:",-1)),Xe(" "+et(p.value.prompt),1)])):Te("",!0),p.value.name?(L(),te("p",X8,[M[11]||(M[11]=H("strong",null,"Name:",-1)),Xe(" "+et(p.value.name),1)])):Te("",!0),H("p",null,[M[12]||(M[12]=H("strong",null,"Size:",-1)),Xe(" "+et(p.value.size)+"x"+et(p.value.size)+"px",1)]),H("p",null,[M[13]||(M[13]=H("strong",null,"Layers:",-1)),Xe(" "+et(p.value.layers.length),1)])]),H("div",K8,[m.value&&!u.value?(L(),te("button",{key:0,onClick:x,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition"}," Save ")):Te("",!0),m.value&&!u.value?(L(),te("button",{key:1,onClick:k,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition"}," Discard ")):Te("",!0),H("button",{onClick:P,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition"}," Download ")]),c.value?(L(),te("p",q8," Sprite saved successfully!")):Te("",!0)])]),H("div",J8,[ee(G2,{data:g.value,class:"mr-4"},null,8,["data"]),H("button",{onClick:M[2]||(M[2]=Y=>f.value=!_(f)),class:"flex items-center gap-2 text-sm font-medium text-gray-400 hover:text-white transition-colors w-full"},[(L(),te("svg",{class:ht(["w-4 h-4 transition-transform duration-200",{"-rotate-90":_(f)}]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...M[14]||(M[14]=[H("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2)),M[15]||(M[15]=Xe(" JSON Data ",-1))])]),g.value!==void 0&&g.value!==null?Ht((L(),te("div",Q8,[ee(_(F2),{data:g.value},null,8,["data"])],512)),[[Vi,!_(f)]]):Te("",!0)])):Te("",!0)])]))}}),ew=yc(Z8,[["__scopeId","data-v-29b30fe6"]]),tw="brown-bear-2",nw=128,rw=[{type:"ellipse",color:"#8B4513",x:64,y:82,width:55,height:75},{type:"rect",color:"#8B4513",x:42,y:90,width:20,height:41},{type:"rect",color:"#8B4513",x:67,y:96,width:20,height:35},{type:"ellipse",color:"#654321",x:52,y:125,width:24,height:10},{type:"ellipse",color:"#654321",x:76,y:125,width:24,height:10},{type:"circle",color:"#A0522D",x:64,y:50,radius:25},{type:"circle",color:"#A0522D",x:46,y:30,radius:10},{type:"circle",color:"#A0522D",x:82,y:30,radius:10},{type:"circle",color:"#D2B48C",x:47,y:31,radius:6},{type:"circle",color:"#D2B48C",x:81,y:31,radius:6},{type:"ellipse",color:"#A0522D",x:42,y:75,width:20,height:40,rotation:25},{type:"ellipse",color:"#A0522D",x:86,y:75,width:20,height:40,rotation:-25},{type:"circle",color:"#654321",x:32,y:92,radius:9},{type:"circle",color:"#654321",x:96,y:92,radius:9},{type:"ellipse",color:"#D2B48C",x:64,y:85,width:30,height:45},{type:"ellipse",color:"#D2B48C",x:64,y:58,width:30,height:24},{type:"circle",color:"#2F1B0C",x:64,y:54,radius:5},{type:"circle",color:"#000000",x:54,y:48,radius:3},{type:"circle",color:"#000000",x:74,y:48,radius:3}],iw="brown bear standing on its hind legs",sw="brown-bear-2",ow={name:tw,size:nw,layers:rw,prompt:iw,id:sw},aw="fence-2",lw=128,cw=[{type:"rect",color:"#3CB371",x:0,y:100,width:128,height:28},{type:"rect",color:"#2E8B57",x:0,y:110,width:128,height:18},{type:"rect",color:"#8B4513",x:0,y:55,width:128,height:10},{type:"rect",color:"#A0522D",x:0,y:56,width:128,height:8},{type:"rect",color:"#8B4513",x:0,y:85,width:128,height:10},{type:"rect",color:"#A0522D",x:0,y:86,width:128,height:8},{type:"rect",color:"#DEB887",x:14,y:50,width:14,height:52},{type:"polygon",color:"#DEB887",points:[[14,50],[28,50],[21,40]]},{type:"line",color:"#A0522D",x:18,y:52,x2:18,y2:98,lineWidth:1},{type:"circle",color:"#696969",x:21,y:60,radius:1},{type:"circle",color:"#696969",x:21,y:90,radius:1},{type:"rect",color:"#DEB887",x:34,y:50,width:14,height:52},{type:"polygon",color:"#DEB887",points:[[34,50],[48,50],[41,40]]},{type:"line",color:"#A0522D",x:39,y:54,x2:39,y2:99,lineWidth:1},{type:"circle",color:"#696969",x:41,y:60,radius:1},{type:"circle",color:"#696969",x:41,y:90,radius:1},{type:"rect",color:"#DEB887",x:54,y:50,width:14,height:52},{type:"polygon",color:"#DEB887",points:[[54,50],[68,50],[61,40]]},{type:"line",color:"#A0522D",x:58,y:52,x2:58,y2:98,lineWidth:1},{type:"circle",color:"#696969",x:61,y:60,radius:1},{type:"circle",color:"#696969",x:61,y:90,radius:1},{type:"rect",color:"#DEB887",x:74,y:50,width:14,height:52},{type:"polygon",color:"#DEB887",points:[[74,50],[88,50],[81,40]]},{type:"line",color:"#A0522D",x:79,y:54,x2:79,y2:99,lineWidth:1},{type:"circle",color:"#696969",x:81,y:60,radius:1},{type:"circle",color:"#696969",x:81,y:90,radius:1},{type:"rect",color:"#DEB887",x:94,y:50,width:14,height:52},{type:"polygon",color:"#DEB887",points:[[94,50],[108,50],[101,40]]},{type:"line",color:"#A0522D",x:98,y:52,x2:98,y2:98,lineWidth:1},{type:"circle",color:"#696969",x:101,y:60,radius:1},{type:"circle",color:"#696969",x:101,y:90,radius:1},{type:"rect",color:"#8B4513",x:4,y:45,width:10,height:60},{type:"rect",color:"#A0522D",x:5,y:45,width:8,height:60},{type:"rect",color:"#654321",x:3,y:43,width:12,height:4},{type:"rect",color:"#8B4513",x:3,y:43,width:12,height:2},{type:"rect",color:"#8B4513",x:114,y:45,width:10,height:60},{type:"rect",color:"#A0522D",x:115,y:45,width:8,height:60},{type:"rect",color:"#654321",x:113,y:43,width:12,height:4},{type:"rect",color:"#8B4513",x:113,y:43,width:12,height:2}],uw="a detailed fence",dw="fence-2",hw={name:aw,size:lw,layers:cw,prompt:uw,id:dw},fw="gory-rotting-zombie",pw="gory-rotting-zombie",gw=64,mw=[{type:"circle",color:"#3A5A22",x:32,y:32,radius:24},{type:"circle",color:"black",x:22,y:26,radius:5},{type:"circle",color:"black",x:42,y:26,radius:5},{type:"circle",color:"white",x:42,y:26,radius:3},{type:"circle",color:"red",x:42,y:26,radius:1},{type:"rect",color:"black",x:24,y:42,width:16,height:6},{type:"line",color:"red",x:24,y:48,x2:40,y2:48,lineWidth:2},{type:"line",color:"#9E9E9E",x:18,y:14,x2:28,y2:18,lineWidth:2},{type:"rect",color:"red",x:36,y:10,width:8,height:6},{type:"line",color:"red",x:28,y:48,x2:28,y2:58,lineWidth:2},{type:"line",color:"red",x:36,y:48,x2:36,y2:56,lineWidth:2},{type:"rect",color:"red",x:20,y:36,width:6,height:4},{type:"rect",color:"red",x:40,y:38,width:5,height:3},{type:"rect",color:"#5B7C3A",x:28,y:18,width:6,height:4},{type:"rect",color:"#5B7C3A",x:38,y:24,width:5,height:3},{type:"rect",color:"#5B7C3A",x:28,y:18,width:6,height:4},{type:"rect",color:"#5B7C3A",x:38,y:24,width:5,height:3}],yw={id:fw,name:pw,size:gw,layers:mw},vw="house-1",bw="house-1",ww=64,xw=[{type:"rect",color:"#8B4513",x:8,y:8,width:48,height:20},{type:"rect",color:"#A52A2A",x:4,y:16,width:56,height:12},{type:"rect",color:"#DEB887",x:12,y:28,width:40,height:32},{type:"rect",color:"#8B4513",x:24,y:40,width:16,height:20},{type:"rect",color:"#87CEEB",x:16,y:32,width:8,height:8},{type:"rect",color:"#87CEEB",x:40,y:32,width:8,height:8}],_w={id:vw,name:bw,size:ww,layers:xw},Sw="treasure-chest-2",Cw=128,Ew=[{type:"rect",color:"#A0522D",x:16,y:50,width:96,height:15},{type:"ellipse",color:"#A0522D",x:64,y:50,width:96,height:50},{type:"rect",color:"#8B5A2B",x:20,y:65,width:88,height:45},{type:"line",color:"#654321",x:45,y:65,x2:45,y2:110,lineWidth:1},{type:"line",color:"#654321",x:64,y:65,x2:64,y2:110,lineWidth:1},{type:"line",color:"#654321",x:83,y:65,x2:83,y2:110,lineWidth:1},{type:"rect",color:"#FFD700",x:16,y:60,width:96,height:5},{type:"path",color:"#FFD700",path:"M 32 62 A 32 25 0 0 1 32 28",fill:!1,lineWidth:8},{type:"path",color:"#FFD700",path:"M 96 62 A 32 25 0 0 0 96 28",fill:!1,lineWidth:8},{type:"rect",color:"#FFD700",x:20,y:105,width:88,height:5},{type:"rect",color:"#FFD700",x:16,y:65,width:4,height:45},{type:"rect",color:"#FFD700",x:108,y:65,width:4,height:45},{type:"rect",color:"#FFC72C",x:56,y:55,width:16,height:20},{type:"rect",color:"#DAA520",x:58,y:62,width:12,height:10},{type:"circle",color:"#B8860B",x:32,y:58,radius:1.5},{type:"circle",color:"#B8860B",x:32,y:38,radius:1.5},{type:"circle",color:"#B8860B",x:96,y:58,radius:1.5},{type:"circle",color:"#B8860B",x:96,y:38,radius:1.5},{type:"circle",color:"#B8860B",x:18,y:70,radius:1.5},{type:"circle",color:"#B8860B",x:18,y:100,radius:1.5},{type:"circle",color:"#B8860B",x:110,y:70,radius:1.5},{type:"circle",color:"#B8860B",x:110,y:100,radius:1.5},{type:"circle",color:"#B8860B",x:59,y:58,radius:1},{type:"circle",color:"#B8860B",x:69,y:58,radius:1},{type:"circle",color:"#B8860B",x:59,y:72,radius:1},{type:"circle",color:"#B8860B",x:69,y:72,radius:1},{type:"path",color:"#B99075",path:"M 30 35 Q 64 25, 98 35",fill:!1,lineWidth:5}],Aw="treasure chest",Pw="treasure-chest-2",kw={name:Sw,size:Cw,layers:Ew,prompt:Aw,id:Pw},Tw="villager-1",Rw="villager-1",Ow=64,Mw=[{type:"rect",color:"#8B4000",x:10,y:36,width:44,height:22},{type:"rect",color:"#CD853F",x:12,y:34,width:40,height:22},{type:"circle",color:"#A0522D",radius:18,x:32,y:24},{type:"circle",color:"#FFE4C4",radius:16,x:32,y:24},{type:"circle",color:"black",radius:2,x:26,y:22},{type:"circle",color:"black",radius:2,x:38,y:22},{type:"rect",color:"#D2691E",x:28,y:28,width:8,height:2},{type:"rect",color:"#8B4513",x:16,y:6,width:32,height:8},{type:"rect",color:"#654321",x:22,y:4,width:20,height:6}],Iw={id:Tw,name:Rw,size:Ow,layers:Mw},Dw="abandoned-warehouse-1",Lw="abandoned-warehouse",Nw=128,Bw=[{type:"rect",color:"#8b4343",x:10,y:20,width:108,height:90},{type:"rect",color:"#696969",x:8,y:100,width:112,height:10},{type:"rect",color:"#4a4a4a",x:5,y:15,width:118,height:15},{type:"line",color:"#363636",x:5,y:18,x2:123,y2:18,lineWidth:1},{type:"line",color:"#363636",x:5,y:22,x2:123,y2:22,lineWidth:1},{type:"line",color:"#363636",x:5,y:26,x2:123,y2:26,lineWidth:1},{type:"rect",color:"#595959",x:30,y:60,width:40,height:40},{type:"line",color:"#333333",x:30,y:60,x2:70,y2:100,lineWidth:2},{type:"line",color:"#333333",x:30,y:100,x2:70,y2:60,lineWidth:2},{type:"rect",color:"#4d4d4d",x:85,y:75,width:15,height:25},{type:"rect",color:"#1a1a1a",x:20,y:35,width:15,height:10},{type:"rect",color:"#1a1a1a",x:45,y:35,width:15,height:10},{type:"rect",color:"#1a1a1a",x:70,y:35,width:15,height:10},{type:"rect",color:"#1a1a1a",x:95,y:35,width:15,height:10},{type:"line",color:"#4a5660",x:20,y:35,x2:35,y2:45,lineWidth:1},{type:"line",color:"#4a5660",x:95,y:35,x2:110,y2:45,lineWidth:1},{type:"rect",color:"#6b3939",x:15,y:45,width:25,height:40},{type:"rect",color:"#6b3939",x:75,y:50,width:30,height:35},{type:"line",color:"#c4c4c4",x:90,y:60,x2:105,y2:70,lineWidth:3},{type:"circle",color:"#6b2727",x:25,y:85,radius:5},{type:"circle",color:"#6b2727",x:100,y:65,radius:6},{type:"rect",color:"#8b6b4a",x:110,y:30,width:4,height:70}],Fw={id:Dw,name:Lw,size:Nw,layers:Bw},Gw="zombie-1",$w="zombie-1",Ww=64,Hw=[{type:"rect",color:"#94a183",x:16,y:8,width:32,height:48},{type:"rect",color:"#737b63",x:20,y:28,width:24,height:20},{type:"circle",color:"#8b9677",x:32,y:16,radius:8},{type:"circle",color:"#3d3f34",x:28,y:14,radius:2},{type:"circle",color:"#2a2b24",x:36,y:14,radius:3},{type:"rect",color:"#2a2b24",x:28,y:18,width:8,height:3},{type:"rect",color:"#656b57",x:12,y:28,width:8,height:20},{type:"rect",color:"#656b57",x:44,y:28,width:8,height:24},{type:"circle",color:"#e8e4d9",x:24,y:36,radius:3},{type:"circle",color:"#e8e4d9",x:40,y:42,radius:2},{type:"circle",color:"#8b3f3f",x:28,y:32,radius:4},{type:"circle",color:"#732525",x:36,y:46,radius:3},{type:"line",color:"#5c6150",x:20,y:24,x2:28,y2:30,lineWidth:2},{type:"line",color:"#5c6150",x:36,y:28,x2:44,y2:34,lineWidth:2}],Vw={id:Gw,name:$w,size:Ww,layers:Hw},zw="robot-head",jw=64,Uw=[{type:"rect",color:"#707070",x:12,y:12,width:6,height:40},{type:"rect",color:"#B0B0B0",x:12,y:12,width:40,height:40},{type:"rect",color:"#D0D0D0",x:46,y:12,width:6,height:40},{type:"rect",color:"#87CEFA",x:17,y:20,width:10,height:10},{type:"rect",color:"#87CEFA",x:37,y:20,width:10,height:10},{type:"rect",color:"#606060",x:23,y:38,width:18,height:5},{type:"rect",color:"#B0B0B0",x:24,y:39,width:16,height:1},{type:"rect",color:"#B0B0B0",x:25,y:40,width:14,height:1},{type:"rect",color:"#B0B0B0",x:24,y:41,width:16,height:1},{type:"rect",color:"#1E90FF",x:19,y:22,width:6,height:6},{type:"rect",color:"#1E90FF",x:39,y:22,width:6,height:6},{type:"rect",color:"#909090",x:21,y:6,width:2,height:8},{type:"rect",color:"#909090",x:41,y:6,width:2,height:8},{type:"circle",color:"#A0A0A0",x:22,y:5,radius:2},{type:"circle",color:"#A0A0A0",x:42,y:5,radius:2}],Yw="A square metallic robot head with glowing blue square eyes, two antennas on top, and a small mouth grill.",Xw="robot-head",Kw={name:zw,size:jw,layers:Uw,prompt:Yw,id:Xw},qw="wizard-hat",Jw=64,Qw=[{type:"ellipse",color:"#2c3e50",x:32,y:52,width:58,height:14},{type:"polygon",color:"#34495e",points:[[12,50],[52,50],[32,8]]},{type:"polygon",color:"#f1c40f",points:[[32,18],[34,22],[38,23],[35,26],[36,30],[32,28],[28,30],[29,26],[26,23],[30,22]]},{type:"polygon",color:"#f1c40f",points:[[42,38],[43,41],[46,41],[44,43],[45,46],[42,45],[39,46],[40,43],[38,41],[41,41]]},{type:"polygon",color:"#f1c40f",points:[[22,35],[23,38],[26,38],[24,40],[25,43],[22,42],[19,43],[20,40],[18,38],[21,38]]}],Zw="A tall, pointed blue wizard hat with a wide brim and yellow star patterns scattered on it.",ex="wizard-hat-2",tx={name:qw,size:Jw,layers:Qw,prompt:Zw,id:ex},nx="retro-pc-1",rx=256,ix=[{type:"rect",color:"#4F4A41",x:0,y:210,width:256,height:46},{type:"rect",color:"#D4CABD",x:160,y:70,width:76,height:140},{type:"rect",color:"#EAE3D5",x:165,y:75,width:66,height:130},{type:"rect",color:"#333333",x:172,y:90,width:52,height:10},{type:"line",color:"#555555",x:172,y:95,x2:224,y2:95,lineWidth:1},{type:"rect",color:"#333333",x:172,y:105,width:52,height:20},{type:"rect",color:"#888888",x:175,y:140,width:15,height:15},{type:"circle",color:"#FF0000",x:215,y:147,radius:3},{type:"rect",color:"#BFB6A8",x:50,y:190,width:90,height:20},{type:"rect",color:"#D4CABD",x:20,y:50,width:150,height:140},{type:"rect",color:"#EAE3D5",x:30,y:60,width:130,height:120},{type:"rect",color:"#0A1A0A",x:45,y:70,width:100,height:80},{type:"line",color:"#32CD32",x:52,y:80,x2:90,y2:80,lineWidth:2},{type:"line",color:"#32CD32",x:52,y:88,x2:135,y2:88,lineWidth:2},{type:"line",color:"#32CD32",x:52,y:96,x2:120,y2:96,lineWidth:2},{type:"line",color:"#32CD32",x:52,y:104,x2:138,y2:104,lineWidth:2},{type:"line",color:"#32CD32",x:52,y:112,x2:105,y2:112,lineWidth:2},{type:"line",color:"#32CD32",x:52,y:120,x2:130,y2:120,lineWidth:2},{type:"line",color:"#32CD32",x:52,y:128,x2:80,y2:128,lineWidth:2},{type:"rect",color:"#32CD32",x:84,y:125,width:6,height:8},{type:"circle",color:"#888888",x:60,y:165,radius:6},{type:"circle",color:"#888888",x:80,y:165,radius:6},{type:"line",color:"#666666",x:60,y:160,x2:60,y2:170,lineWidth:1,rotation:45}],sx="A beige retro computer monitor with a bulky casing and tower, the screen is a green monochrome screen displaying lines of text.",ox="retro-pc-1",ax={name:nx,size:rx,layers:ix,prompt:sx,id:ox},lx="campfire-1",cx=64,ux=[{type:"rect",color:"#654321",x:20,y:48,width:24,height:8},{type:"rect",color:"#8B4513",x:16,y:40,width:32,height:8,rotation:15},{type:"rect",color:"#A0522D",x:16,y:40,width:32,height:8,rotation:-15},{type:"ellipse",color:"#FF8C00",x:32,y:32,width:28,height:40},{type:"ellipse",color:"#FFA500",x:32,y:36,width:22,height:35},{type:"ellipse",color:"#FFD700",x:32,y:40,width:16,height:25},{type:"ellipse",color:"#FFFF00",x:32,y:44,width:10,height:15},{type:"ellipse",color:"#FFA500",x:25,y:28,width:8,height:20,rotation:-20},{type:"ellipse",color:"#FFD700",x:38,y:30,width:6,height:18,rotation:15}],dx="A small campfire with brown logs arranged in a circle and bright orange and yellow flames rising up.",hx="campfire-1",fx={name:lx,size:cx,layers:ux,prompt:dx,id:hx},px={id:"pattern-1",name:"pattern-texture",size:64,layers:[{type:"pattern",patternType:"checkerboard",color1:"#FFFFFF",color2:"#000000",x:0,y:0,width:64,height:64}]},vc=[Wp,ow,hw,_w,kw,Hp,Iw,Fw,Vw,px,yw,Kw,tx,Vp,ax,fx],gx={class:"sprite-list flex flex-col items-center overflow-y-auto h-full border-r border-gray-700"},mx=["onClick"],yx={key:0,class:"w-16 h-16 rounded flex-shrink-0"},vx=["src","alt"],bx={key:1,class:"w-16 h-16 bg-gray-600 flex items-center justify-center rounded flex-shrink-0"},wx={class:"text-xs text-center px-1"},xx={class:"flex-1 ml-2 text-sm"},_x={key:0},Sx=["onBlur","onKeyup"],Cx={key:1},Ex=["onClick"],Ax=["onClick","disabled"],Px=["onClick"],kx=["onClick"],Tx=["onClick","title"],Rx=ae({__name:"SpriteList",props:{mode:{default:"generate"}},setup(t){const e=t,n=fs(),r=vs(),i=k1(),s=Wo(),o=V(!0),a=V(null),l=V(""),c=V(null);Ce(()=>s.params.id,x=>{x?c.value=x:c.value=null},{immediate:!0});const u=new Jo,d=j(()=>e.mode==="edit");Je(()=>{const x=localStorage.getItem("showPresets");x!==null&&(o.value=JSON.parse(x))});function h(){o.value=!o.value,localStorage.setItem("showPresets",JSON.stringify(o.value))}const f=j(()=>{const x=new Map(n.generatedTextures.map(P=>[P.id,P]));let k=[];return o.value&&(k=vc.map(P=>{if(x.has(P.id)){const T=x.get(P.id);return x.delete(P.id),T}return n.presetThumbnails[P.id]?{...P,thumbnail:n.presetThumbnails[P.id]}:P})),k=[...k,...x.values()],k});Ce(()=>f.value,async x=>{for(const k of x)k.thumbnail||u.generateThumbnail(k).then(P=>{k.thumbnail=P,k.generated?n.updateGeneratedTexture(k.id,k):n.savePresetThumbnail(k.id,P)})},{immediate:!0,deep:!0});function p(x){x.generated&&x.id===a.value||(d.value?(i.push({name:"sprite-edit",params:{id:x.id}}),window.dispatchEvent(new CustomEvent("editSprite",{detail:x}))):(i.push({name:"sprite-generation",params:{id:x.id}}),c.value=x.id,window.dispatchEvent(new CustomEvent("spriteSelected",{detail:x}))))}function m(x){x.prompt&&window.dispatchEvent(new CustomEvent("regenerateTexture",{detail:{id:x.id,prompt:x.prompt}}))}function y(x,k){a.value=x,l.value=k}function g(x){a.value===x&&l.value.trim()&&b()}function b(){a.value&&(n.updateTextureName(a.value,l.value),a.value=null)}function w(x){window.dispatchEvent(new CustomEvent("editSprite",{detail:x})),i.push({name:"sprite-edit",params:{id:x.id}})}return(x,k)=>(L(),te("div",gx,[H("button",{onClick:h,class:"w-full bg-gray-700 text-white p-2 rounded-md hover:bg-gray-600 mb-2"},et(o.value?"Hide Presets":"Show Presets"),1),(L(!0),te(je,null,Mn(f.value,P=>(L(),te("div",{key:`texture-${P.id}`,class:ht(["sprite-item flex items-center space-x-2 p-2 cursor-pointer",{"bg-gray-700":c.value===P.id||_(s).params.id===P.id}]),onClick:T=>p(P)},[P.thumbnail?(L(),te("div",yx,[H("img",{src:P.thumbnail,alt:P.name,class:"w-16 h-16 object-contain rounded"},null,8,vx)])):(L(),te("div",bx,[H("span",wx,et(P.name),1)])),H("div",xx,[P.generated&&P.id===a.value?(L(),te("span",_x,[Ht(H("input",{"onUpdate:modelValue":k[0]||(k[0]=T=>l.value=T),onBlur:T=>g(P.id),onKeyup:Qs(T=>g(P.id),["enter"]),class:"bg-transparent text-white border-none focus:outline-none w-full",autofocus:""},null,40,Sx),[[ei,l.value]])])):(L(),te("span",Cx,et(P.name),1))]),P.generated&&P.id===a.value?(L(),te("button",{key:2,onClick:Dt(T=>g(P.id),["stop"]),class:"ml-2 text-yellow-400 hover:text-yellow-600 text-lg",title:"Confirm Name Change"},[ee(_(sf),{class:"w-4 h-4"})],8,Ex)):Te("",!0),!d.value&&P.generated&&P.prompt?(L(),te("button",{key:3,onClick:Dt(T=>m(P),["stop"]),disabled:_(r).isLoading,class:"ml-2 text-green-400 hover:text-green-600 text-lg disabled:opacity-50",title:"Regenerate Sprite"},[ee(_(K1),{class:"w-4 h-4"})],8,Ax)):Te("",!0),!d.value&&P.generated&&P.id!==a.value?(L(),te("button",{key:4,onClick:Dt(T=>y(P.id,P.name),["stop"]),class:"ml-2 text-blue-400 hover:text-blue-600 text-lg",title:"Edit Sprite Name"},[ee(_(Y1),{class:"w-4 h-4"})],8,Px)):Te("",!0),d.value?Te("",!0):(L(),te("button",{key:5,onClick:Dt(T=>w(P),["stop"]),class:"ml-2 text-green-400 hover:text-green-600 text-lg",title:"Edit Sprite"},[ee(_(Q1),{class:"w-4 h-4"})],8,kx)),P.generated?(L(),te("button",{key:6,onClick:Dt(T=>_(n).removeGeneratedTexture(P.id),["stop"]),class:"ml-2 text-red-400 hover:text-red-600 text-xl font-bold",title:P.generated?"Remove Sprite":"Reset Modified Preset"},[ee(_(of),{class:"w-5 h-5"})],8,Tx)):Te("",!0)],10,mx))),128))]))}}),zp=yc(Rx,[["__scopeId","data-v-8058e06c"]]),Ox={class:"flex flex-row gap-4"},Mx={class:"flex flex-col flex-1 space-y-4"},Ix=ae({__name:"SpriteGenerationView",setup(t){const e=Wo(),n=fs();Je(()=>{r()}),Ce(()=>e.params.id,()=>{r()});function r(){const i=e.params.id;if(i){const s=n.generatedTextures.find(o=>o.id===i)||vc.find(o=>o.id===i);s&&window.dispatchEvent(new CustomEvent("spriteSelected",{detail:s}))}}return(i,s)=>(L(),te("div",Ox,[ee(zp),H("div",Mx,[ee(ew)])]))}});function Dx(t){const e=V([]),n=V(-1),r=j(()=>n.value>0),i=j(()=>n.value<e.value.length-1);function s(c){n.value<e.value.length-1&&(e.value=e.value.slice(0,n.value+1));const u=JSON.parse(JSON.stringify(c));e.value.push(u),n.value++}function o(){return r.value?(n.value--,JSON.parse(JSON.stringify(e.value[n.value]))):null}function a(){return i.value?(n.value++,JSON.parse(JSON.stringify(e.value[n.value]))):null}function l(c){const u=JSON.parse(JSON.stringify(c));e.value=[u],n.value=0}return{history:e,index:n,canUndo:r,canRedo:i,record:s,undo:o,redo:a,reset:l}}const Ad={circle:{type:"circle",color:"#FFFFFF",x:32,y:32,radius:16,visible:!0},rect:{type:"rect",color:"#FFFFFF",x:0,y:0,width:32,height:32,visible:!0},line:{type:"line",color:"#FFFFFF",x:0,y:0,x2:64,y2:64,lineWidth:2,visible:!0},gradient:{type:"gradient",colorStart:"#FFFFFF",colorEnd:"#000000",direction:"vertical",x:0,y:0,width:64,height:64,visible:!0},pattern:{type:"pattern",color1:"#FFFFFF",color2:"#CCCCCC",patternType:"checkerboard",x:0,y:0,width:64,height:64,visible:!0},ellipse:{type:"ellipse",color:"#FFFFFF",x:32,y:32,width:40,height:20,visible:!0},polygon:{type:"polygon",color:"#FFFFFF",points:[[10,10],[50,10],[30,50]],lineWidth:0,visible:!0},path:{type:"path",color:"#FFFFFF",path:"M10 10 L50 10 L30 50 Z",fill:!0,lineWidth:0,visible:!0}},Lx={class:"draggable-number-input w-full flex flex-col gap-1 my-2"},Nx=["value"],ot=ae({__name:"DraggableNumberInput",props:{modelValue:{},label:{default:void 0},step:{default:1},min:{},max:{},sensitivity:{default:.5},inputClass:{default:"w-full p-2 bg-gray-700 text-white rounded"}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,i=V(null),s=V(!1),o=V(0),a=V(0);j(()=>n.label?.toLowerCase().replace(/ /g,"-"));function l(f){const p=f.target,m=parseFloat(p.value)||0;r("update:modelValue",m)}function c(f){f.button===0&&(s.value=!1,o.value=n.modelValue,a.value=f.clientX,document.addEventListener("mousemove",u),document.addEventListener("mouseup",d),f.preventDefault())}function u(f){const p=f.clientX-a.value;if(!s.value&&Math.abs(p)>5&&(s.value=!0),!s.value)return;const m=p*n.sensitivity*n.step;let y=o.value+m;n.min!==void 0&&(y=Math.max(n.min,y)),n.max!==void 0&&(y=Math.min(n.max,y)),r("update:modelValue",Math.round(y/n.step)*n.step)}function d(){!s.value&&i.value&&i.value.focus(),s.value=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d)}function h(f){}return(f,p)=>(L(),te("div",Lx,[t.label?(L(),te("label",{key:0,class:"cursor-ew-resize select-none",onMousedown:c},et(t.label),33)):Te("",!0),H("input",{ref_key:"inputRef",ref:i,value:t.modelValue,type:"number",class:ht(t.inputClass+" cursor-ew-resize"),onInput:l,onMousedown:c,onWheel:h},null,42,Nx)]))}}),Bx={class:"space-y-4"},Fx=ae({__name:"CircleProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(L(),te("div",Bx,[ee(ot,{modelValue:t.layer.radius,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.radius=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"Radius",step:1,min:1,max:t.spriteSize/2},null,8,["modelValue","max"])]))}}),Gx={class:"space-y-4"},$x=ae({__name:"RectProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(L(),te("div",Gx,[ee(ot,{modelValue:t.layer.width,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.width=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),ee(ot,{modelValue:t.layer.height,"onUpdate:modelValue":[r[2]||(r[2]=i=>t.layer.height=i),r[3]||(r[3]=i=>n.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),Wx={class:"gap-4 flex items-stretch"},Hx=ae({__name:"LineProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(L(),te(je,null,[H("div",Wx,[ee(ot,{modelValue:t.layer.x2,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.x2=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"X2",step:1,min:0,max:t.spriteSize},null,8,["modelValue","max"]),ee(ot,{modelValue:t.layer.y2,"onUpdate:modelValue":[r[2]||(r[2]=i=>t.layer.y2=i),r[3]||(r[3]=i=>n.$emit("update:layer",t.layer))],label:"Y2",step:1,min:0,max:t.spriteSize},null,8,["modelValue","max"])]),ee(ot,{modelValue:t.layer.lineWidth,"onUpdate:modelValue":[r[4]||(r[4]=i=>t.layer.lineWidth=i),r[5]||(r[5]=i=>n.$emit("update:layer",t.layer))],label:"Line Width",step:1,min:1,max:20},null,8,["modelValue"])],64))}}),Vx={class:"space-y-4"},zx=ae({__name:"EllipseProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(L(),te("div",Vx,[ee(ot,{modelValue:t.layer.width,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.width=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),ee(ot,{modelValue:t.layer.height,"onUpdate:modelValue":[r[2]||(r[2]=i=>t.layer.height=i),r[3]||(r[3]=i=>n.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),jx={class:"space-y-4"},Ux=["value"],Yx=["value"],Xx=["value"],Kx=ae({__name:"PatternProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e;function i(a){const l=a.target,c={...n.layer,patternType:l.value};r("update:layer",c)}function s(a){const l=a.target,c={...n.layer,color1:l.value};r("update:layer",c)}function o(a){const l=a.target,c={...n.layer,color2:l.value};r("update:layer",c)}return(a,l)=>(L(),te("div",jx,[H("div",null,[l[8]||(l[8]=H("label",{class:"block text-sm font-medium text-gray-300"},"Pattern Type",-1)),H("select",{value:t.layer.patternType,class:"w-full p-2 bg-gray-700 text-white rounded",onChange:l[0]||(l[0]=c=>i(c))},[...l[7]||(l[7]=[H("option",{value:"checkerboard"},"Checkerboard",-1),H("option",{value:"stripes"},"Stripes",-1),H("option",{value:"dots"},"Dots",-1)])],40,Ux)]),H("div",null,[l[9]||(l[9]=H("label",{class:"block text-sm font-medium text-gray-300"},"Color 1",-1)),H("input",{value:t.layer.color1,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[1]||(l[1]=c=>s(c))},null,40,Yx)]),H("div",null,[l[10]||(l[10]=H("label",{class:"block text-sm font-medium text-gray-300"},"Color 2",-1)),H("input",{value:t.layer.color2,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[2]||(l[2]=c=>o(c))},null,40,Xx)]),ee(ot,{modelValue:t.layer.width,"onUpdate:modelValue":[l[3]||(l[3]=c=>t.layer.width=c),l[4]||(l[4]=c=>a.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),ee(ot,{modelValue:t.layer.height,"onUpdate:modelValue":[l[5]||(l[5]=c=>t.layer.height=c),l[6]||(l[6]=c=>a.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),qx={class:"space-y-4"},Jx=["value"],Qx=["value"],Zx=["value"],e9=ae({__name:"GradientProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e;function i(a){const l=a.target,c={...n.layer,colorStart:l.value};r("update:layer",c)}function s(a){const l=a.target,c={...n.layer,colorEnd:l.value};r("update:layer",c)}function o(a){const l=a.target,c={...n.layer,direction:l.value};r("update:layer",c)}return(a,l)=>(L(),te("div",qx,[H("div",null,[l[7]||(l[7]=H("label",{class:"block text-sm font-medium text-gray-300"},"Color Start",-1)),H("input",{value:t.layer.colorStart,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[0]||(l[0]=c=>i(c))},null,40,Jx)]),H("div",null,[l[8]||(l[8]=H("label",{class:"block text-sm font-medium text-gray-300"},"Color End",-1)),H("input",{value:t.layer.colorEnd,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[1]||(l[1]=c=>s(c))},null,40,Qx)]),H("div",null,[l[10]||(l[10]=H("label",{class:"block text-sm font-medium text-gray-300"},"Direction",-1)),H("select",{value:t.layer.direction,class:"w-full p-2 bg-gray-700 text-white rounded",onChange:l[2]||(l[2]=c=>o(c))},[...l[9]||(l[9]=[H("option",{value:"horizontal"},"Horizontal",-1),H("option",{value:"vertical"},"Vertical",-1)])],40,Zx)]),ee(ot,{modelValue:t.layer.width,"onUpdate:modelValue":[l[3]||(l[3]=c=>t.layer.width=c),l[4]||(l[4]=c=>a.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),ee(ot,{modelValue:t.layer.height,"onUpdate:modelValue":[l[5]||(l[5]=c=>t.layer.height=c),l[6]||(l[6]=c=>a.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),t9={class:"space-y-4"},n9=["value"],r9=ae({__name:"PolygonProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e,i=j(()=>n.layer.points?.map(o=>`[${o[0]},${o[1]}]`).join(",")||"");function s(o){const l=o.target.value;let c=[];try{c=l.split(",").map(h=>{const f=h.trim().match(/\[(\d+),(\d+)\]/);return f?[parseInt(f[1]),parseInt(f[2])]:null}).filter(h=>h)}catch{c=n.layer.points||[]}const u={...n.layer,points:c};r("update:layer",u)}return(o,a)=>(L(),te("div",t9,[H("div",null,[a[3]||(a[3]=H("label",{class:"block text-sm font-medium text-gray-300"},"Points",-1)),H("textarea",{value:i.value,class:"w-full p-2 bg-gray-700 text-white rounded",rows:"3",placeholder:"e.g., [10,10],[50,10],[30,50]",onInput:a[0]||(a[0]=l=>s(l))},null,40,n9)]),ee(ot,{modelValue:t.layer.lineWidth,"onUpdate:modelValue":[a[1]||(a[1]=l=>t.layer.lineWidth=l),a[2]||(a[2]=l=>o.$emit("update:layer",t.layer))],label:"Line Width",step:1,min:0,max:20},null,8,["modelValue"])]))}}),i9={class:"space-y-4"},s9=["value"],o9={class:"flex items-center"},a9=["checked"],l9=ae({__name:"PathProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e;function i(o){const a=o.target,l={...n.layer,path:a.value};r("update:layer",l)}function s(o){const a=o.target,l={...n.layer,fill:a.checked};r("update:layer",l)}return(o,a)=>(L(),te("div",i9,[H("div",null,[a[4]||(a[4]=H("label",{class:"block text-sm font-medium text-gray-300"},"Path Data",-1)),H("textarea",{value:t.layer.path,class:"w-full p-2 bg-gray-700 text-white rounded",rows:"3",placeholder:"e.g., M10 10 L50 10 L30 50 Z",onInput:a[0]||(a[0]=l=>i(l))},null,40,s9)]),H("div",o9,[H("input",{checked:t.layer.fill,type:"checkbox",class:"mr-2",onChange:a[1]||(a[1]=l=>s(l))},null,40,a9),a[5]||(a[5]=H("label",{class:"text-sm font-medium text-gray-300"},"Fill",-1))]),ee(ot,{modelValue:t.layer.lineWidth,"onUpdate:modelValue":[a[2]||(a[2]=l=>t.layer.lineWidth=l),a[3]||(a[3]=l=>o.$emit("update:layer",t.layer))],label:"Line Width",step:1,min:0,max:20},null,8,["modelValue"])]))}}),c9={class:"sprite-editor flex h-full"},u9={key:0,class:"flex-1 flex items-center justify-center text-gray-400"},d9={class:"layer-panel w-64 bg-gray-800 p-4 border-r border-gray-700 overflow-y-auto"},h9={class:"flex items-center justify-between mb-4"},f9={class:"flex space-x-1"},p9=["disabled"],g9=["disabled"],m9={class:"space-y-2"},y9=["onClick"],v9={class:"mx-2 flex-1 text-sm text-white"},b9=["onClick"],w9=["onClick"],x9={class:"mt-4"},_9={class:"editor-main flex-1 flex flex-col"},S9={class:"properties-panel bg-gray-800 p-4 border-t border-gray-700"},C9={key:0,class:"space-y-4"},E9={class:"grid grid-cols-2 gap-4"},A9={key:1,class:"text-gray-400"},P9=ae({__name:"SpriteEditor",props:{spriteData:{}},emits:["spriteUpdated"],setup(t,{emit:e}){const n=t,r=e,i=V(),s=V(),o=V(),a=V(),l=V(null),c=V(n.spriteData?.size||64),u=new Jo,{canUndo:d,canRedo:h,record:f,undo:p,redo:m,reset:y}=Dx();function g(v,C){let A=null,I=null;const B=(...U)=>{I=U,A&&clearTimeout(A),A=setTimeout(()=>{v(...U),A=null,I=null},C)};return B.flush=()=>{A&&I&&(clearTimeout(A),v(...I),A=null,I=null)},B}const b=g(f,300),w=V(null),x=V(1),k=V({x:0,y:0}),P=j(()=>l.value!==null&&n.spriteData?n.spriteData.layers[l.value]:null),T=j(()=>{if(!P.value)return null;switch(P.value.type){case"circle":return Fx;case"rect":return $x;case"line":return Hx;case"gradient":return e9;case"pattern":return Kx;case"ellipse":return zx;case"polygon":return r9;case"path":return l9;default:return null}});function R(){if(!P.value||l.value===null||!n.spriteData)return;const v=P.value.type,C={x:P.value.x,y:P.value.y,color:P.value.color,visible:P.value.visible,rotation:P.value.rotation},A={...Ad[v],...C,type:v};z(l.value,A)}function D(v,C,A=!1){if(!P.value||l.value===null)return;const I={...P.value,[v]:C};z(l.value,I,A)}function M(v){l.value!==null&&z(l.value,v,!0)}function Y(v,C=!1){r("spriteUpdated",v),C?b(v):(b.flush(),f(v))}function X(){const v=p();v&&r("spriteUpdated",v)}function le(){const v=m();v&&r("spriteUpdated",v)}function G(){w.value&&Y(w.value)}function z(v,C,A=!1){if(!n.spriteData)return;const I=[...n.spriteData.layers];I[v]=C;const B={...n.spriteData,layers:I};Y(B,A)}Je(()=>{i.value&&_2(i,v=>{const C=v[0],{width:A,height:I}=C.contentRect;A>0&&I>0&&(!s.value&&n.spriteData?Z():s.value&&(s.value.width(A),s.value.height(I),N()))}),window.addEventListener("keydown",F)}),jt(()=>{s.value?.destroy(),window.removeEventListener("keydown",F)});function F(v){(v.metaKey||v.ctrlKey)&&v.key==="z"?(v.preventDefault(),v.shiftKey?le():X()):(v.metaKey||v.ctrlKey)&&v.key==="y"&&(v.preventDefault(),le())}function Z(){!i.value||!n.spriteData||i.value.clientWidth===0||i.value.clientHeight===0||(s.value=new tt.Stage({container:i.value,width:i.value.clientWidth,height:i.value.clientHeight,draggable:!0}),o.value=new tt.Layer,s.value.add(o.value),a.value=new tt.Transformer({nodes:[],ignoreStroke:!0,rotateEnabled:!0,rotateAnchorOffset:30,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],boundBoxFunc:(v,C)=>C.width<5||C.height<5?v:C}),o.value.add(a.value),s.value.on("click tap",v=>{(v.target===s.value||v.target===o.value)&&he(-1)}),s.value.on("wheel",v=>{if(v.evt.preventDefault(),!s.value)return;const C=1.05,A=s.value.scaleX(),I=s.value.getPointerPosition();if(!I)return;const B={x:(I.x-s.value.x())/A,y:(I.y-s.value.y())/A};let U=v.evt.deltaY>0?A/C:A*C;U=Math.max(.1,Math.min(U,20)),s.value.scale({x:U,y:U});const K={x:I.x-B.x*U,y:I.y-B.y*U};s.value.position(K),x.value=U,k.value=K}),N(),$(n.spriteData,!0))}function N(){if(!s.value||!o.value||!n.spriteData)return;const v=s.value.width(),C=s.value.height(),A=n.spriteData.size,I=40,B=(v-I)/A,U=(C-I)/A,K=Math.min(B,U,10);x.value=K;const Q=(v-A*K)/2,W=(C-A*K)/2;k.value={x:Q,y:W},s.value.scale({x:K,y:K}),s.value.position({x:Q,y:W}),o.value.x(0),o.value.y(0),o.value.scale({x:1,y:1})}function q(v,C){return`${v.type} ${C+1}`}function he(v){l.value=v===-1?null:v,ge()}function ge(){if(!a.value||!o.value)return;if(l.value===null){a.value.nodes([]);return}const v=o.value.findOne(`#layer-${l.value}`);v?a.value.nodes([v]):a.value.nodes([])}function xe(v){if(!n.spriteData)return;const C=n.spriteData.layers[v],A={...C,visible:C.visible===!1};z(v,A)}function Ae(){if(!n.spriteData)return;const v={...Ad.rect,type:"rect",x:n.spriteData.size/2-10,y:n.spriteData.size/2-10,width:20,height:20},C={...n.spriteData,layers:[...n.spriteData.layers,v]};Y(C)}function Ue(v){if(n.spriteData&&n.spriteData.layers.length>1){const C=n.spriteData.layers.filter((I,B)=>B!==v),A={...n.spriteData,layers:C};l.value===v?l.value=null:l.value&&l.value>v&&l.value--,Y(A)}}function pt(v,C=!1){if(!n.spriteData)return;const A=JSON.parse(JSON.stringify(n.spriteData));Y(A,C)}function at(v){if(!n.spriteData)return;const C={...n.spriteData,size:v};Y(C,!0)}async function $(v,C=!1){if(!s.value||!o.value)return;const A=o.value.find("Group");a.value&&a.value.nodes([]),A.forEach(U=>{U!==a.value&&U.destroy()}),v.layers.forEach((U,K)=>{if(U.visible===!1)return;const Q=ue(U,v.size),W=new tt.Group({id:`layer-${K}`,draggable:!0,x:Q.x,y:Q.y,offsetX:Q.x,offsetY:Q.y,rotation:U.rotation||0}),ye={...U,rotation:0};u.drawLayer(W,ye,v.size),W.on("click tap",oe=>{oe.cancelBubble=!0,he(K)}),W.on("dragend",oe=>{ce(K,oe.target)}),W.on("transformend",oe=>{me(K,oe.target)}),o.value?.add(W),a.value&&a.value.getLayer()&&a.value.moveToTop()}),ge();const I=o.value.findOne("#sprite-border");I&&I.destroy();const B=new tt.Rect({id:"sprite-border",x:0,y:0,width:v.size,height:v.size,stroke:"#444",strokeWidth:1/(x.value||1),listening:!1});if(o.value.add(B),B.moveToBottom(),C&&N(),!C){const U=await u.generateImage(v);if(v.thumbnail!==U){const K={...v,thumbnail:U};r("spriteUpdated",K)}}}function ue(v,C){if(v.type==="circle"||v.type==="ellipse"){const A=v.x!==void 0?v.x:C/2,I=v.y!==void 0?v.y:C/2;return{x:A,y:I}}else if(v.type==="line"){const A=v.x!==void 0?v.x:0,I=v.y!==void 0?v.y:0,B=v.x2!==void 0?v.x2:C,U=v.y2!==void 0?v.y2:C;return{x:(A+B)/2,y:(I+U)/2}}else{const A=v.width||0,I=v.height||0,B=v.x!==void 0?v.x:(C-A)/2,U=v.y!==void 0?v.y:(C-I)/2;return{x:B+A/2,y:U+I/2}}}function ce(v,C){if(!n.spriteData)return;const A=n.spriteData.layers[v],I=C.x(),B=C.y(),U=ue(A,n.spriteData.size),K=I-U.x,Q=B-U.y;C.position({x:I,y:B});const W={...A};A.x!==void 0&&(W.x=Math.round((A.x||0)+K)),A.y!==void 0&&(W.y=Math.round((A.y||0)+Q)),A.type==="line"&&(A.x2!==void 0&&(W.x2=Math.round((A.x2||0)+K)),A.y2!==void 0&&(W.y2=Math.round((A.y2||0)+Q))),z(v,W)}function me(v,C){if(!n.spriteData)return;const A=n.spriteData.layers[v],I=C.scaleX(),B=C.scaleY(),U=C.rotation(),K=C.x(),Q=C.y();C.scaleX(1),C.scaleY(1);const W={...A};if(W.rotation=U,A.type==="circle")A.radius&&(W.radius=Math.round(A.radius*((I+B)/2))),W.x=Math.round(K),W.y=Math.round(Q);else if(A.type==="ellipse")A.width&&(W.width=Math.round((A.width||0)*I)),A.height&&(W.height=Math.round((A.height||0)*B)),W.x=Math.round(K),W.y=Math.round(Q);else if(A.type==="line"){A.lineWidth&&(W.lineWidth=Math.round(A.lineWidth*((I+B)/2)));const ye=ue(A,n.spriteData.size),oe=K-ye.x,ve=Q-ye.y;A.x!==void 0&&(W.x=Math.round((A.x||0)+oe)),A.y!==void 0&&(W.y=Math.round((A.y||0)+ve)),A.x2!==void 0&&(W.x2=Math.round((A.x2||0)+oe)),A.y2!==void 0&&(W.y2=Math.round((A.y2||0)+ve))}else{const ye=Math.round((A.width||0)*I),oe=Math.round((A.height||0)*B);W.width=ye,W.height=oe,W.x=Math.round(K-ye/2),W.y=Math.round(Q-oe/2),A.radius&&(W.radius=Math.round((A.radius||0)*((I+B)/2)))}z(v,W)}const Ee=V(null),S=V("");return Ce(()=>n.spriteData,(v,C)=>{if(v){c.value=v.size;const A=u.getTextureKey(v),I=C?.generated&&!v.generated,B=v.id!==Ee.value||I;if(!B&&A===S.value)return;Ee.value=v.id,S.value=A,!s.value&&i.value?Z():$(v,B),B&&(y(v),w.value=JSON.parse(JSON.stringify(v)))}else Ee.value=null,S.value="",s.value?.destroy(),s.value=void 0},{deep:!0,flush:"post"}),(v,C)=>(L(),te("div",c9,[t.spriteData?(L(),te(je,{key:1},[H("div",d9,[H("div",h9,[C[9]||(C[9]=H("h3",{class:"text-lg font-bold text-white"},"Layers",-1)),H("div",f9,[H("button",{onClick:X,disabled:!_(d),class:"p-1 rounded hover:bg-gray-700 text-gray-400 hover:text-white disabled:opacity-30 disabled:hover:bg-transparent",title:"Undo (Cmd+Z)"},[ee(_(e2),{class:"w-4 h-4"})],8,p9),H("button",{onClick:le,disabled:!_(h),class:"p-1 rounded hover:bg-gray-700 text-gray-400 hover:text-white disabled:opacity-30 disabled:hover:bg-transparent",title:"Redo (Cmd+Shift+Z)"},[ee(_(X1),{class:"w-4 h-4"})],8,g9),H("button",{onClick:G,class:"p-1 rounded hover:bg-gray-700 text-gray-400 hover:text-white",title:"Revert All Changes"},[ee(_(q1),{class:"w-4 h-4"})])])]),H("div",m9,[(L(!0),te(je,null,Mn(t.spriteData.layers,(A,I)=>(L(),te("div",{key:I,class:ht(["layer-item flex items-center p-2 bg-gray-700 rounded cursor-pointer",{"bg-blue-600":l.value===I}]),onClick:B=>he(I)},[H("div",{class:"layer-preview w-8 h-8 border border-gray-600 rounded flex-shrink-0",style:nn({backgroundColor:A.color||"#ccc"})},null,4),H("span",v9,et(q(A,I)),1),H("button",{onClick:Dt(B=>xe(I),["stop"]),class:"mr-2 text-gray-400 hover:text-white"},[A.visible!==!1?(L(),de(_(U1),{key:0,class:"w-4 h-4"})):(L(),de(_(j1),{key:1,class:"w-4 h-4"}))],8,b9),H("button",{onClick:Dt(B=>Ue(I),["stop"]),class:"text-red-400 hover:text-red-600"},[ee(_(of),{class:"w-4 h-4"})],8,w9)],10,y9))),128))]),H("button",{onClick:Ae,class:"w-full mt-4 bg-green-600 text-white py-2 rounded hover:bg-green-700"},"+ Layer "),H("div",x9,[ee(ot,{modelValue:c.value,"onUpdate:modelValue":[C[0]||(C[0]=A=>c.value=A),at],label:"Texture Size",step:1,min:16,max:512},null,8,["modelValue"])])]),H("div",_9,[H("div",{class:"canvas-container flex-1 min-h-96",ref_key:"canvasContainer",ref:i},null,512),H("div",S9,[C[12]||(C[12]=H("h3",{class:"text-lg font-bold mb-4 text-white"},"Properties",-1)),P.value?(L(),te("div",C9,[H("div",null,[Ht(H("select",{"onUpdate:modelValue":C[1]||(C[1]=A=>P.value.type=A),class:"w-full p-2 bg-gray-700 text-white rounded",onChange:R},[...C[10]||(C[10]=[Nh('<option value="circle">Circle</option><option value="rect">Rectangle</option><option value="line">Line</option><option value="gradient">Gradient</option><option value="pattern">Pattern</option><option value="ellipse">Ellipse</option><option value="polygon">Polygon</option><option value="path">Path</option>',8)])],544),[[fo,P.value.type]])]),H("div",E9,[ee(ot,{modelValue:P.value.x,"onUpdate:modelValue":[C[2]||(C[2]=A=>P.value.x=A),C[3]||(C[3]=A=>pt(A,!0))],label:"X",step:1,min:0,max:t.spriteData.size},null,8,["modelValue","max"]),ee(ot,{modelValue:P.value.y,"onUpdate:modelValue":[C[4]||(C[4]=A=>P.value.y=A),C[5]||(C[5]=A=>pt(A,!0))],label:"Y",step:1,min:0,max:t.spriteData.size},null,8,["modelValue","max"])]),H("div",null,[ee(ot,{"model-value":P.value.rotation||0,label:"Rotation",step:1,min:0,max:360,"onUpdate:modelValue":C[6]||(C[6]=A=>D("rotation",A,!0))},null,8,["model-value"])]),H("div",null,[C[11]||(C[11]=H("label",{class:"block text-sm font-medium text-gray-300"},"Color",-1)),Ht(H("input",{"onUpdate:modelValue":C[7]||(C[7]=A=>P.value.color=A),type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onChange:pt},null,544),[[ei,P.value.color]])]),(L(),de(ao(T.value),{layer:P.value,"sprite-size":t.spriteData.size,"onUpdate:layer":M},null,40,["layer","sprite-size"]))])):(L(),te("div",A9,"Select a layer to edit properties"))])])],64)):(L(),te("div",u9,[...C[8]||(C[8]=[H("div",{class:"text-center"},[H("p",{class:"text-xl mb-2"},"Select a sprite to edit"),H("p",{class:"text-sm"},"Choose a sprite from the list on the left")],-1)])]))]))}}),k9={class:"flex flex-row gap-4 h-[calc(100vh-150px)]"},T9={class:"flex-1 h-full"},R9=ae({__name:"SpriteEditView",setup(t){const e=Wo(),n=V(null),r=fs();function i(a){r.generatedTextures.some(c=>c.id===a.id)?r.updateGeneratedTexture(a.id,a):r.addGeneratedTexture(a),n.value=a}function s(a){const l=a;n.value=l.detail}Je(()=>{window.addEventListener("editSprite",s),o()}),jt(()=>{window.removeEventListener("editSprite",s)}),Ce(()=>e.params.id,()=>{o()}),Ce(()=>r.generatedTextures,()=>{o()},{deep:!0});function o(){const a=e.params.id;if(a){const l=r.generatedTextures.find(c=>c.id===a)||vc.find(c=>c.id===a);l?n.value=l:n.value=null}else n.value=null}return(a,l)=>(L(),te("div",k9,[ee(zp,{mode:"edit"}),H("div",T9,[ee(P9,{spriteData:n.value,onSpriteUpdated:i},null,8,["spriteData"])])]))}}),O9=`<svg viewBox="0 0 100 150" xmlns="http://www.w3.org/2000/svg">
  <!-- Balloon shape -->
  <ellipse cx="50" cy="50" rx="30" ry="40" fill="red" />

  <!-- Balloon highlight -->
  <ellipse cx="40" cy="40" rx="10" ry="15" fill="white" opacity="0.5" />

  <!-- Balloon string -->
  <path d="M50,90 C50,110 40,130 50,150" stroke="gray" stroke-width="2" fill="none" />
</svg>`,M9=[O9],I9={class:"flex items-center gap-4"},D9={class:"max-w-sm"},L9=["disabled"],N9={key:0},B9={key:1,class:"flex items-center"},F9={key:0,class:"w-full px-2 whitespace-pre-line max-h-32 overflow-auto bg-gray-800 p-1 rounded-md shadow-md mt-2"},G9={key:1,class:"w-full px-2 whitespace-pre-line max-h-32 overflow-auto bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-700 space-y-4 w-80 mx-auto"},$9={key:0},W9={class:"flex flex-wrap gap-4"},H9=["innerHTML","onClick"],V9=["innerHTML","onClick"],z9=ae({__name:"SvgGenerator",setup(t){const e=V(),n=V([]),r=V(""),i=vs(),s=j(()=>{if(i.isLoading)return!1;const u=e.value;return!(!u||!u.prompt)}),o=M9;function a(u){return[{role:"system",content:`You are an SVG generator. Create SVG code based on text descriptions. Follow these rules:
  - Generate valid, working SVG code
  - Use viewBox instead of fixed width/height
  - Keep the SVG simple and clean
  - Use basic shapes (rect, circle, path, etc.)
  - Add comments to explain the main elements
  - Return ONLY the SVG code with no markdown or other text`},{role:"user",content:u}]}async function l(){const u=e.value;if(!u)return;const d=u.prompt;if(!(!d.trim()||!i.selectedModel))try{const h=await i.generate(i.selectedModel,a(d),{temperature:.01});n.value.push(h),u.prompt="",r.value=h}catch(h){console.error("Error generating SVG:",h)}}function c(){const u=new Blob([r.value],{type:"image/svg+xml"}),d=URL.createObjectURL(u),h=document.createElement("a");h.href=d,h.download="generated.svg",document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(d)}return(u,d)=>(L(),te("div",I9,[H("div",D9,[ee($p,{ref_key:"Form",ref:e,placeholder:"Describe your SVG..."},{button:ie(()=>[H("button",{disabled:!s.value,onClick:l,class:"w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 transition disabled:opacity-50"},[_(i).isLoading?(L(),te("span",B9,[...d[0]||(d[0]=[H("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},null,-1),Xe(" Generating... ",-1)])])):(L(),te("span",N9,"Generate SVG"))],8,L9)]),_:1},512),r.value?(L(),te("p",F9," Selected SVG ")):Te("",!0),r.value?(L(),te("p",G9,et(r.value),1)):Te("",!0),r.value?(L(),te("button",{key:2,onClick:c,class:"w-full mt-2 bg-green-500 text-white p-2 rounded-md hover:bg-green-600 transition"}," Download SVG ")):Te("",!0)]),n.value.length||_(o).length?(L(),te("div",$9,[d[1]||(d[1]=H("h3",{class:"text-lg font-bold mb-2"},"SVG Gallery",-1)),H("div",W9,[(L(!0),te(je,null,Mn(_(o),(h,f)=>(L(),te("div",{key:"preset-"+f,class:"border p-2 rounded overflow-hidden"},[H("div",{innerHTML:h,class:"w-64 h-64",onClick:p=>r.value=h},null,8,H9)]))),128)),(L(!0),te(je,null,Mn(n.value,(h,f)=>(L(),te("div",{key:"generated-"+f,class:"border p-2 rounded overflow-hidden"},[H("div",{innerHTML:h,class:"w-64 h-64",onClick:p=>r.value=h},null,8,V9)]))),128))])])):Te("",!0)]))}}),j9=ae({__name:"SvgGenerationView",setup(t){return(e,n)=>(L(),de(z9))}}),U9=P1({history:s1("./"),routes:[{path:"/",redirect:"/view"},{path:"/view/:id?",name:"sprite-generation",component:Ix},{path:"/edit/:id?",name:"sprite-edit",component:R9},{path:"/svg",name:"svg-generation",component:j9},{path:"/settings",name:"settings",component:()=>tl(()=>import("./SettingsView-YyflPAJW.js"),[],import.meta.url)}]}),bc=hm(F1);bc.use(gm());bc.use(U9);bc.mount("#app");export{je as F,H as a,Xe as b,te as c,ae as d,_ as e,ei as f,Mn as g,ht as h,nn as n,L as o,V as r,et as t,Qo as u,Y9 as v,Ht as w};
