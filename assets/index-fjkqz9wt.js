(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Va(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Re={},Rr=[],Jt=()=>{},Eu=()=>!1,qs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ja=t=>t.startsWith("onUpdate:"),at=Object.assign,Ua=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Of=Object.prototype.hasOwnProperty,Te=(t,e)=>Of.call(t,e),me=Array.isArray,Mr=t=>Ni(t)==="[object Map]",Js=t=>Ni(t)==="[object Set]",Gl=t=>Ni(t)==="[object Date]",ye=t=>typeof t=="function",ze=t=>typeof t=="string",Lt=t=>typeof t=="symbol",Oe=t=>t!==null&&typeof t=="object",Pu=t=>(Oe(t)||ye(t))&&ye(t.then)&&ye(t.catch),Tu=Object.prototype.toString,Ni=t=>Tu.call(t),Rf=t=>Ni(t).slice(8,-1),ku=t=>Ni(t)==="[object Object]",Ya=t=>ze(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,gi=Va(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qs=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Mf=/-\w/g,yt=Qs(t=>t.replace(Mf,e=>e.slice(1).toUpperCase())),If=/\B([A-Z])/g,$n=Qs(t=>t.replace(If,"-$1").toLowerCase()),Zs=Qs(t=>t.charAt(0).toUpperCase()+t.slice(1)),xs=Qs(t=>t?`on${Zs(t)}`:""),Ln=(t,e)=>!Object.is(t,e),Ss=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Ou=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},eo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let $l;const to=()=>$l||($l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Nt(t){if(me(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=ze(r)?Bf(r):Nt(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(ze(t)||Oe(t))return t}const Lf=/;(?![^(]*\))/g,Df=/:([^]+)/,Ff=/\/\*[^]*?\*\//g;function Bf(t){const e={};return t.replace(Ff,"").split(Lf).forEach(n=>{if(n){const r=n.split(Df);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Tt(t){let e="";if(ze(t))e=t;else if(me(t))for(let n=0;n<t.length;n++){const r=Tt(t[n]);r&&(e+=r+" ")}else if(Oe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function no(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ze(e)&&(t.class=Tt(e)),n&&(t.style=Nt(n)),t}const Nf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gf=Va(Nf);function Ru(t){return!!t||t===""}function $f(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ro(t[r],e[r]);return n}function ro(t,e){if(t===e)return!0;let n=Gl(t),r=Gl(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Lt(t),r=Lt(e),n||r)return t===e;if(n=me(t),r=me(e),n||r)return n&&r?$f(t,e):!1;if(n=Oe(t),r=Oe(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ro(t[o],e[o]))return!1}}return String(t)===String(e)}function Hf(t,e){return t.findIndex(n=>ro(n,e))}const Mu=t=>!!(t&&t.__v_isRef===!0),Je=t=>ze(t)?t:t==null?"":me(t)||Oe(t)&&(t.toString===Tu||!ye(t.toString))?Mu(t)?Je(t.value):JSON.stringify(t,Iu,2):String(t),Iu=(t,e)=>Mu(e)?Iu(t,e.value):Mr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Mo(r,s)+" =>"]=i,n),{})}:Js(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Mo(n))}:Lt(e)?Mo(e):Oe(e)&&!me(e)&&!ku(e)?String(e):e,Mo=(t,e="")=>{var n;return Lt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let it;class Lu{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=it,!e&&it&&(this.index=(it.scopes||(it.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=it;try{return it=this,e()}finally{it=n}}}on(){++this._on===1&&(this.prevScope=it,it=this)}off(){this._on>0&&--this._on===0&&(it=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function io(t){return new Lu(t)}function zr(){return it}function Gi(t,e=!1){it&&it.cleanups.push(t)}let Fe;const Io=new WeakSet;class Du{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,it&&it.active&&it.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Io.has(this)&&(Io.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Bu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Hl(this),Nu(this);const e=Fe,n=Mt;Fe=this,Mt=!0;try{return this.fn()}finally{Gu(this),Fe=e,Mt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)qa(e);this.deps=this.depsTail=void 0,Hl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Io.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){la(this)&&this.run()}get dirty(){return la(this)}}let Fu=0,mi,yi;function Bu(t,e=!1){if(t.flags|=8,e){t.next=yi,yi=t;return}t.next=mi,mi=t}function Xa(){Fu++}function Ka(){if(--Fu>0)return;if(yi){let e=yi;for(yi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;mi;){let e=mi;for(mi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Nu(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Gu(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),qa(r),Wf(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function la(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&($u(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function $u(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ti)||(t.globalVersion=Ti,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!la(t))))return;t.flags|=2;const e=t.dep,n=Fe,r=Mt;Fe=t,Mt=!0;try{Nu(t);const i=t.fn(t._value);(e.version===0||Ln(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Fe=n,Mt=r,Gu(t),t.flags&=-3}}function qa(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)qa(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Wf(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Mt=!0;const Hu=[];function gn(){Hu.push(Mt),Mt=!1}function mn(){const t=Hu.pop();Mt=t===void 0?!0:t}function Hl(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Fe;Fe=void 0;try{e()}finally{Fe=n}}}let Ti=0;class zf{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class so{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Fe||!Mt||Fe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Fe)n=this.activeLink=new zf(Fe,this),Fe.deps?(n.prevDep=Fe.depsTail,Fe.depsTail.nextDep=n,Fe.depsTail=n):Fe.deps=Fe.depsTail=n,Wu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Fe.depsTail,n.nextDep=void 0,Fe.depsTail.nextDep=n,Fe.depsTail=n,Fe.deps===n&&(Fe.deps=r)}return n}trigger(e){this.version++,Ti++,this.notify(e)}notify(e){Xa();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ka()}}}function Wu(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Wu(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Rs=new WeakMap,ir=Symbol(""),ca=Symbol(""),ki=Symbol("");function st(t,e,n){if(Mt&&Fe){let r=Rs.get(t);r||Rs.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new so),i.map=r,i.key=n),i.track()}}function hn(t,e,n,r,i,s){const o=Rs.get(t);if(!o){Ti++;return}const a=l=>{l&&l.trigger()};if(Xa(),e==="clear")o.forEach(a);else{const l=me(t),c=l&&Ya(n);if(l&&n==="length"){const u=Number(r);o.forEach((d,h)=>{(h==="length"||h===ki||!Lt(h)&&h>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(ki)),e){case"add":l?c&&a(o.get("length")):(a(o.get(ir)),Mr(t)&&a(o.get(ca)));break;case"delete":l||(a(o.get(ir)),Mr(t)&&a(o.get(ca)));break;case"set":Mr(t)&&a(o.get(ir));break}}Ka()}function Vf(t,e){const n=Rs.get(t);return n&&n.get(e)}function vr(t){const e=Ee(t);return e===t?e:(st(e,"iterate",ki),kt(t)?e:e.map(Ze))}function oo(t){return st(t=Ee(t),"iterate",ki),t}const jf={__proto__:null,[Symbol.iterator](){return Lo(this,Symbol.iterator,Ze)},concat(...t){return vr(this).concat(...t.map(e=>me(e)?vr(e):e))},entries(){return Lo(this,"entries",t=>(t[1]=Ze(t[1]),t))},every(t,e){return an(this,"every",t,e,void 0,arguments)},filter(t,e){return an(this,"filter",t,e,n=>n.map(Ze),arguments)},find(t,e){return an(this,"find",t,e,Ze,arguments)},findIndex(t,e){return an(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return an(this,"findLast",t,e,Ze,arguments)},findLastIndex(t,e){return an(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return an(this,"forEach",t,e,void 0,arguments)},includes(...t){return Do(this,"includes",t)},indexOf(...t){return Do(this,"indexOf",t)},join(t){return vr(this).join(t)},lastIndexOf(...t){return Do(this,"lastIndexOf",t)},map(t,e){return an(this,"map",t,e,void 0,arguments)},pop(){return Qr(this,"pop")},push(...t){return Qr(this,"push",t)},reduce(t,...e){return Wl(this,"reduce",t,e)},reduceRight(t,...e){return Wl(this,"reduceRight",t,e)},shift(){return Qr(this,"shift")},some(t,e){return an(this,"some",t,e,void 0,arguments)},splice(...t){return Qr(this,"splice",t)},toReversed(){return vr(this).toReversed()},toSorted(t){return vr(this).toSorted(t)},toSpliced(...t){return vr(this).toSpliced(...t)},unshift(...t){return Qr(this,"unshift",t)},values(){return Lo(this,"values",Ze)}};function Lo(t,e,n){const r=oo(t),i=r[e]();return r!==t&&!kt(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=n(s.value)),s}),i}const Uf=Array.prototype;function an(t,e,n,r,i,s){const o=oo(t),a=o!==t&&!kt(t),l=o[e];if(l!==Uf[e]){const d=l.apply(t,s);return a?Ze(d):d}let c=n;o!==t&&(a?c=function(d,h){return n.call(this,Ze(d),h,t)}:n.length>2&&(c=function(d,h){return n.call(this,d,h,t)}));const u=l.call(o,c,r);return a&&i?i(u):u}function Wl(t,e,n,r){const i=oo(t);let s=n;return i!==t&&(kt(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,Ze(a),l,t)}),i[e](s,...r)}function Do(t,e,n){const r=Ee(t);st(r,"iterate",ki);const i=r[e](...n);return(i===-1||i===!1)&&Ja(n[0])?(n[0]=Ee(n[0]),r[e](...n)):i}function Qr(t,e,n=[]){gn(),Xa();const r=Ee(t)[e].apply(t,n);return Ka(),mn(),r}const Yf=Va("__proto__,__v_isRef,__isVue"),zu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Lt));function Xf(t){Lt(t)||(t=String(t));const e=Ee(this);return st(e,"has",t),e.hasOwnProperty(t)}class Vu{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?qu:Ku:s?Xu:Yu).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=me(e);if(!i){let l;if(o&&(l=jf[n]))return l;if(n==="hasOwnProperty")return Xf}const a=Reflect.get(e,n,We(e)?e:r);if((Lt(n)?zu.has(n):Yf(n))||(i||st(e,"get",n),s))return a;if(We(a)){const l=o&&Ya(n)?a:a.value;return i&&Oe(l)?Nr(l):l}return Oe(a)?i?Nr(a):Vr(a):a}}class ju extends Vu{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Fn(s);if(!kt(r)&&!Fn(r)&&(s=Ee(s),r=Ee(r)),!me(e)&&We(s)&&!We(r))return l||(s.value=r),!0}const o=me(e)&&Ya(n)?Number(n)<e.length:Te(e,n),a=Reflect.set(e,n,r,We(e)?e:i);return e===Ee(i)&&(o?Ln(r,s)&&hn(e,"set",n,r):hn(e,"add",n,r)),a}deleteProperty(e,n){const r=Te(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&hn(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Lt(n)||!zu.has(n))&&st(e,"has",n),r}ownKeys(e){return st(e,"iterate",me(e)?"length":ir),Reflect.ownKeys(e)}}class Uu extends Vu{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Kf=new ju,qf=new Uu,Jf=new ju(!0),Qf=new Uu(!0),ua=t=>t,qi=t=>Reflect.getPrototypeOf(t);function Zf(t,e,n){return function(...r){const i=this.__v_raw,s=Ee(i),o=Mr(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),u=n?ua:e?Ms:Ze;return!e&&st(s,"iterate",l?ca:ir),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Ji(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ep(t,e){const n={get(i){const s=this.__v_raw,o=Ee(s),a=Ee(i);t||(Ln(i,a)&&st(o,"get",i),st(o,"get",a));const{has:l}=qi(o),c=e?ua:t?Ms:Ze;if(l.call(o,i))return c(s.get(i));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&st(Ee(i),"iterate",ir),i.size},has(i){const s=this.__v_raw,o=Ee(s),a=Ee(i);return t||(Ln(i,a)&&st(o,"has",i),st(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=Ee(a),c=e?ua:t?Ms:Ze;return!t&&st(l,"iterate",ir),a.forEach((u,d)=>i.call(s,c(u),c(d),o))}};return at(n,t?{add:Ji("add"),set:Ji("set"),delete:Ji("delete"),clear:Ji("clear")}:{add(i){!e&&!kt(i)&&!Fn(i)&&(i=Ee(i));const s=Ee(this);return qi(s).has.call(s,i)||(s.add(i),hn(s,"add",i,i)),this},set(i,s){!e&&!kt(s)&&!Fn(s)&&(s=Ee(s));const o=Ee(this),{has:a,get:l}=qi(o);let c=a.call(o,i);c||(i=Ee(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,s),c?Ln(s,u)&&hn(o,"set",i,s):hn(o,"add",i,s),this},delete(i){const s=Ee(this),{has:o,get:a}=qi(s);let l=o.call(s,i);l||(i=Ee(i),l=o.call(s,i)),a&&a.call(s,i);const c=s.delete(i);return l&&hn(s,"delete",i,void 0),c},clear(){const i=Ee(this),s=i.size!==0,o=i.clear();return s&&hn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Zf(i,t,e)}),n}function ao(t,e){const n=ep(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Te(n,i)&&i in r?n:r,i,s)}const tp={get:ao(!1,!1)},np={get:ao(!1,!0)},rp={get:ao(!0,!1)},ip={get:ao(!0,!0)},Yu=new WeakMap,Xu=new WeakMap,Ku=new WeakMap,qu=new WeakMap;function sp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function op(t){return t.__v_skip||!Object.isExtensible(t)?0:sp(Rf(t))}function Vr(t){return Fn(t)?t:lo(t,!1,Kf,tp,Yu)}function ap(t){return lo(t,!1,Jf,np,Xu)}function Nr(t){return lo(t,!0,qf,rp,Ku)}function br(t){return lo(t,!0,Qf,ip,qu)}function lo(t,e,n,r,i){if(!Oe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=op(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function Dn(t){return Fn(t)?Dn(t.__v_raw):!!(t&&t.__v_isReactive)}function Fn(t){return!!(t&&t.__v_isReadonly)}function kt(t){return!!(t&&t.__v_isShallow)}function Ja(t){return t?!!t.__v_raw:!1}function Ee(t){const e=t&&t.__v_raw;return e?Ee(e):t}function co(t){return!Te(t,"__v_skip")&&Object.isExtensible(t)&&Ou(t,"__v_skip",!0),t}const Ze=t=>Oe(t)?Vr(t):t,Ms=t=>Oe(t)?Nr(t):t;function We(t){return t?t.__v_isRef===!0:!1}function G(t){return Ju(t,!1)}function $i(t){return Ju(t,!0)}function Ju(t,e){return We(t)?t:new lp(t,e)}class lp{constructor(e,n){this.dep=new so,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ee(e),this._value=n?e:Ze(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||kt(e)||Fn(e);e=r?e:Ee(e),Ln(e,n)&&(this._rawValue=e,this._value=r?e:Ze(e),this.dep.trigger())}}function _(t){return We(t)?t.value:t}function It(t){return ye(t)?t():_(t)}const cp={get:(t,e,n)=>e==="__v_raw"?t:_(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return We(i)&&!We(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Qu(t){return Dn(t)?t:new Proxy(t,cp)}class up{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new so,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function dp(t){return new up(t)}function nn(t){const e=me(t)?new Array(t.length):{};for(const n in t)e[n]=ed(t,n);return e}class hp{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Vf(Ee(this._object),this._key)}}class fp{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Zu(t,e,n){return We(t)?t:ye(t)?new fp(t):Oe(t)&&arguments.length>1?ed(t,e,n):G(t)}function ed(t,e,n){const r=t[e];return We(r)?r:new hp(t,e,n)}class pp{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new so(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ti-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return Bu(this,!0),!0}get value(){const e=this.dep.track();return $u(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function gp(t,e,n=!1){let r,i;return ye(t)?r=t:(r=t.get,i=t.set),new pp(r,i,n)}const Qi={},Is=new WeakMap;let Qn;function mp(t,e=!1,n=Qn){if(n){let r=Is.get(n);r||Is.set(n,r=[]),r.push(t)}}function yp(t,e,n=Re){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,c=w=>i?w:kt(w)||i===!1||i===0?fn(w,1):fn(w);let u,d,h,f,p=!1,g=!1;if(We(t)?(d=()=>t.value,p=kt(t)):Dn(t)?(d=()=>c(t),p=!0):me(t)?(g=!0,p=t.some(w=>Dn(w)||kt(w)),d=()=>t.map(w=>{if(We(w))return w.value;if(Dn(w))return c(w);if(ye(w))return l?l(w,2):w()})):ye(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){gn();try{h()}finally{mn()}}const w=Qn;Qn=u;try{return l?l(t,3,[f]):t(f)}finally{Qn=w}}:d=Jt,e&&i){const w=d,C=i===!0?1/0:i;d=()=>fn(w(),C)}const y=zr(),m=()=>{u.stop(),y&&y.active&&Ua(y.effects,u)};if(s&&e){const w=e;e=(...C)=>{w(...C),m()}}let b=g?new Array(t.length).fill(Qi):Qi;const v=w=>{if(!(!(u.flags&1)||!u.dirty&&!w))if(e){const C=u.run();if(i||p||(g?C.some((R,O)=>Ln(R,b[O])):Ln(C,b))){h&&h();const R=Qn;Qn=u;try{const O=[C,b===Qi?void 0:g&&b[0]===Qi?[]:b,f];b=C,l?l(e,3,O):e(...O)}finally{Qn=R}}}else u.run()};return a&&a(v),u=new Du(d),u.scheduler=o?()=>o(v,!1):v,f=w=>mp(w,!1,u),h=u.onStop=()=>{const w=Is.get(u);if(w){if(l)l(w,4);else for(const C of w)C();Is.delete(u)}},e?r?v(!0):b=u.run():o?o(v.bind(null,!0),!0):u.run(),m.pause=u.pause.bind(u),m.resume=u.resume.bind(u),m.stop=m,m}function fn(t,e=1/0,n){if(e<=0||!Oe(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,We(t))fn(t.value,e,n);else if(me(t))for(let r=0;r<t.length;r++)fn(t[r],e,n);else if(Js(t)||Mr(t))t.forEach(r=>{fn(r,e,n)});else if(ku(t)){for(const r in t)fn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&fn(t[r],e,n)}return t}function Hi(t,e,n,r){try{return r?t(...r):t()}catch(i){uo(i,e,n)}}function Zt(t,e,n,r){if(ye(t)){const i=Hi(t,e,n,r);return i&&Pu(i)&&i.catch(s=>{uo(s,e,n)}),i}if(me(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Zt(t[s],e,n,r));return i}}function uo(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Re;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(s){gn(),Hi(s,null,10,[t,l,c]),mn();return}}vp(t,n,i,r,o)}function vp(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const ht=[];let Xt=-1;const Ir=[];let Rn=null,Pr=0;const td=Promise.resolve();let Ls=null;function Me(t){const e=Ls||td;return t?e.then(this?t.bind(this):t):e}function bp(t){let e=Xt+1,n=ht.length;for(;e<n;){const r=e+n>>>1,i=ht[r],s=Oi(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function Qa(t){if(!(t.flags&1)){const e=Oi(t),n=ht[ht.length-1];!n||!(t.flags&2)&&e>=Oi(n)?ht.push(t):ht.splice(bp(e),0,t),t.flags|=1,nd()}}function nd(){Ls||(Ls=td.then(id))}function wp(t){me(t)?Ir.push(...t):Rn&&t.id===-1?Rn.splice(Pr+1,0,t):t.flags&1||(Ir.push(t),t.flags|=1),nd()}function zl(t,e,n=Xt+1){for(;n<ht.length;n++){const r=ht[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ht.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function rd(t){if(Ir.length){const e=[...new Set(Ir)].sort((n,r)=>Oi(n)-Oi(r));if(Ir.length=0,Rn){Rn.push(...e);return}for(Rn=e,Pr=0;Pr<Rn.length;Pr++){const n=Rn[Pr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Rn=null,Pr=0}}const Oi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function id(t){try{for(Xt=0;Xt<ht.length;Xt++){const e=ht[Xt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Hi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Xt<ht.length;Xt++){const e=ht[Xt];e&&(e.flags&=-2)}Xt=-1,ht.length=0,rd(),Ls=null,(ht.length||Ir.length)&&id()}}let tt=null,sd=null;function Ds(t){const e=tt;return tt=t,sd=t&&t.type.__scopeId||null,e}function ee(t,e=tt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Gs(-1);const s=Ds(e);let o;try{o=t(...i)}finally{Ds(s),r._d&&Gs(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function pn(t,e){if(tt===null)return t;const n=mo(tt),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=Re]=e[i];s&&(ye(s)&&(s={mounted:s,updated:s}),s.deep&&fn(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Xn(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(gn(),Zt(l,n,8,[t.el,a,t,e]),mn())}}const od=Symbol("_vte"),_p=t=>t.__isTeleport,vi=t=>t&&(t.disabled||t.disabled===""),Vl=t=>t&&(t.defer||t.defer===""),jl=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ul=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,da=(t,e)=>{const n=t&&t.to;return ze(n)?e?e(n):null:n},ad={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:g,createComment:y}}=c,m=vi(e.props);let{shapeFlag:b,children:v,dynamicChildren:w}=e;if(t==null){const C=e.el=g(""),R=e.anchor=g("");f(C,n,r),f(R,n,r);const O=(T,k)=>{b&16&&u(v,T,k,i,s,o,a,l)},A=()=>{const T=e.target=da(e.props,p),k=ld(T,e,g,f);T&&(o!=="svg"&&jl(T)?o="svg":o!=="mathml"&&Ul(T)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(T),m||(O(T,k),Cs(e,!1)))};m&&(O(n,R),Cs(e,!0)),Vl(e.props)?(e.el.__isMounted=!1,ut(()=>{A(),delete e.el.__isMounted},s)):A()}else{if(Vl(e.props)&&t.el.__isMounted===!1){ut(()=>{ad.process(t,e,n,r,i,s,o,a,l,c)},s);return}e.el=t.el,e.targetStart=t.targetStart;const C=e.anchor=t.anchor,R=e.target=t.target,O=e.targetAnchor=t.targetAnchor,A=vi(t.props),T=A?n:R,k=A?C:O;if(o==="svg"||jl(R)?o="svg":(o==="mathml"||Ul(R))&&(o="mathml"),w?(h(t.dynamicChildren,w,T,i,s,o,a),rl(t,e,!0)):l||d(t,e,T,k,i,s,o,a,!1),m)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Zi(e,n,C,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const $=e.target=da(e.props,p);$&&Zi(e,$,null,c,0)}else A&&Zi(e,R,O,c,1);Cs(e,m)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:h}=t;if(d&&(i(c),i(u)),s&&i(l),o&16){const f=s||!vi(h);for(let p=0;p<a.length;p++){const g=a[p];r(g,e,n,f,!!g.dynamicChildren)}}},move:Zi,hydrate:xp};function Zi(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=s===2;if(d&&r(o,e,n),(!d||vi(u))&&l&16)for(let h=0;h<c.length;h++)i(c[h],e,n,2);d&&r(a,e,n)}function xp(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){function h(g,y,m,b){y.anchor=d(o(g),y,a(g),n,r,i,s),y.targetStart=m,y.targetAnchor=b}const f=e.target=da(e.props,l),p=vi(e.props);if(f){const g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)h(t,e,g,g&&o(g));else{e.anchor=o(t);let y=g;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")e.targetStart=y;else if(y.data==="teleport anchor"){e.targetAnchor=y,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}y=o(y)}e.targetAnchor||ld(f,e,u,c),d(g&&o(g),e,f,n,r,i,s)}Cs(e,p)}else p&&e.shapeFlag&16&&h(t,e,t,o(t));return e.anchor&&o(e.anchor)}const Sp=ad;function Cs(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function ld(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[od]=s,t&&(r(i,t),r(s,t)),s}const Cp=Symbol("_leaveCb");function Za(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Za(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ie(t,e){return ye(t)?at({name:t.name},e,{setup:t}):t}function Yl(){const t=pt();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function cd(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Fs=new WeakMap;function bi(t,e,n,r,i=!1){if(me(t)){t.forEach((p,g)=>bi(p,e&&(me(e)?e[g]:e),n,r,i));return}if(Lr(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&bi(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?mo(r.component):r.el,o=i?null:s,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Re?a.refs={}:a.refs,d=a.setupState,h=Ee(d),f=d===Re?Eu:p=>Te(h,p);if(c!=null&&c!==l){if(Xl(e),ze(c))u[c]=null,f(c)&&(d[c]=null);else if(We(c)){c.value=null;const p=e;p.k&&(u[p.k]=null)}}if(ye(l))Hi(l,a,12,[o,u]);else{const p=ze(l),g=We(l);if(p||g){const y=()=>{if(t.f){const m=p?f(l)?d[l]:u[l]:l.value;if(i)me(m)&&Ua(m,s);else if(me(m))m.includes(s)||m.push(s);else if(p)u[l]=[s],f(l)&&(d[l]=u[l]);else{const b=[s];l.value=b,t.k&&(u[t.k]=b)}}else p?(u[l]=o,f(l)&&(d[l]=o)):g&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const m=()=>{y(),Fs.delete(t)};m.id=-1,Fs.set(t,m),ut(m,n)}else Xl(t),y()}}}function Xl(t){const e=Fs.get(t);e&&(e.flags|=8,Fs.delete(t))}to().requestIdleCallback;to().cancelIdleCallback;const Lr=t=>!!t.type.__asyncLoader,ud=t=>t.type.__isKeepAlive;function Ap(t,e){dd(t,"a",e)}function Ep(t,e){dd(t,"da",e)}function dd(t,e,n=ot){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ho(e,r,n),n){let i=n.parent;for(;i&&i.parent;)ud(i.parent.vnode)&&Pp(r,e,n,i),i=i.parent}}function Pp(t,e,n,r){const i=ho(e,t,r,!0);Gt(()=>{Ua(r[e],i)},n)}function ho(t,e,n=ot,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{gn();const a=zi(n),l=Zt(e,n,t,o);return a(),mn(),l});return r?i.unshift(s):i.push(s),s}}const bn=t=>(e,n=ot)=>{(!Ii||t==="sp")&&ho(t,(...r)=>e(...r),n)},Tp=bn("bm"),je=bn("m"),kp=bn("bu"),Op=bn("u"),hd=bn("bum"),Gt=bn("um"),Rp=bn("sp"),Mp=bn("rtg"),Ip=bn("rtc");function Lp(t,e=ot){ho("ec",t,e)}const Dp="components",fd=Symbol.for("v-ndc");function Bs(t){return ze(t)?Fp(Dp,t,!1)||t:t||fd}function Fp(t,e,n=!0,r=!1){const i=tt||ot;if(i){const s=i.type;{const a=E0(s,!1);if(a&&(a===e||a===yt(e)||a===Zs(yt(e))))return s}const o=Kl(i[t]||s[t],e)||Kl(i.appContext[t],e);return!o&&r?s:o}}function Kl(t,e){return t&&(t[e]||t[yt(e)]||t[Zs(yt(e))])}function ar(t,e,n,r){let i;const s=n,o=me(t);if(o||ze(t)){const a=o&&Dn(t);let l=!1,c=!1;a&&(l=!kt(t),c=Fn(t),t=oo(t)),i=new Array(t.length);for(let u=0,d=t.length;u<d;u++)i[u]=e(l?c?Ms(Ze(t[u])):Ze(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(Oe(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,s)}}else i=[];return i}function pe(t,e,n={},r,i){if(tt.ce||tt.parent&&Lr(tt.parent)&&tt.parent.ce){const c=Object.keys(n).length>0;return e!=="default"&&(n.name=e),I(),ae($e,null,[ne("slot",n,r&&r())],c?-2:64)}let s=t[e];s&&s._c&&(s._d=!1),I();const o=s&&pd(s(n)),a=n.key||o&&o.key,l=ae($e,{key:(a&&!Lt(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function pd(t){return t.some(e=>Mi(e)?!(e.type===Dt||e.type===$e&&!pd(e.children)):!0)?t:null}const ha=t=>t?Md(t)?mo(t):ha(t.parent):null,wi=at(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ha(t.parent),$root:t=>ha(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>md(t),$forceUpdate:t=>t.f||(t.f=()=>{Qa(t.update)}),$nextTick:t=>t.n||(t.n=Me.bind(t.proxy)),$watch:t=>a0.bind(t)}),Fo=(t,e)=>t!==Re&&!t.__isScriptSetup&&Te(t,e),Bp={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Fo(r,e))return o[e]=1,r[e];if(i!==Re&&Te(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Te(c,e))return o[e]=3,s[e];if(n!==Re&&Te(n,e))return o[e]=4,n[e];pa&&(o[e]=0)}}const u=wi[e];let d,h;if(u)return e==="$attrs"&&st(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Re&&Te(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Te(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Fo(i,e)?(i[e]=n,!0):r!==Re&&Te(r,e)?(r[e]=n,!0):Te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s,type:o}},a){let l,c;return!!(n[a]||t!==Re&&a[0]!=="$"&&Te(t,a)||Fo(e,a)||(l=s[0])&&Te(l,a)||Te(r,a)||Te(wi,a)||Te(i.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Te(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function fa(t){return me(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Np(t,e){const n=fa(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?me(i)||ye(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}let pa=!0;function Gp(t){const e=md(t),n=t.proxy,r=t.ctx;pa=!1,e.beforeCreate&&ql(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:g,deactivated:y,beforeDestroy:m,beforeUnmount:b,destroyed:v,unmounted:w,render:C,renderTracked:R,renderTriggered:O,errorCaptured:A,serverPrefetch:T,expose:k,inheritAttrs:$,components:B,directives:se,filters:F}=e;if(c&&$p(c,r,null),o)for(const J in o){const M=o[J];ye(M)&&(r[J]=M.bind(n))}if(i){const J=i.call(n,n);Oe(J)&&(t.data=Vr(J))}if(pa=!0,s)for(const J in s){const M=s[J],X=ye(M)?M.bind(n,n):ye(M.get)?M.get.bind(n,n):Jt,de=!ye(M)&&ye(M.set)?M.set.bind(n):Jt,he=U({get:X,set:de});Object.defineProperty(r,J,{enumerable:!0,configurable:!0,get:()=>he.value,set:be=>he.value=be})}if(a)for(const J in a)gd(a[J],r,n,J);if(l){const J=ye(l)?l.call(n):l;Reflect.ownKeys(J).forEach(M=>{el(M,J[M])})}u&&ql(u,t,"c");function L(J,M){me(M)?M.forEach(X=>J(X.bind(n))):M&&J(M.bind(n))}if(L(Tp,d),L(je,h),L(kp,f),L(Op,p),L(Ap,g),L(Ep,y),L(Lp,A),L(Ip,R),L(Mp,O),L(hd,b),L(Gt,w),L(Rp,T),me(k))if(k.length){const J=t.exposed||(t.exposed={});k.forEach(M=>{Object.defineProperty(J,M,{get:()=>n[M],set:X=>n[M]=X,enumerable:!0})})}else t.exposed||(t.exposed={});C&&t.render===Jt&&(t.render=C),$!=null&&(t.inheritAttrs=$),B&&(t.components=B),se&&(t.directives=se),T&&cd(t)}function $p(t,e,n=Jt){me(t)&&(t=ga(t));for(const r in t){const i=t[r];let s;Oe(i)?"default"in i?s=or(i.from||r,i.default,!0):s=or(i.from||r):s=or(i),We(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function ql(t,e,n){Zt(me(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function gd(t,e,n,r){let i=r.includes(".")?Pd(n,r):()=>n[r];if(ze(t)){const s=e[t];ye(s)&&xe(i,s)}else if(ye(t))xe(i,t.bind(n));else if(Oe(t))if(me(t))t.forEach(s=>gd(s,e,n,r));else{const s=ye(t.handler)?t.handler.bind(n):e[t.handler];ye(s)&&xe(i,s,t)}}function md(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>Ns(l,c,o,!0)),Ns(l,e,o)),Oe(e)&&s.set(e,l),l}function Ns(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Ns(t,s,n,!0),i&&i.forEach(o=>Ns(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Hp[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Hp={data:Jl,props:Ql,emits:Ql,methods:li,computed:li,beforeCreate:ct,created:ct,beforeMount:ct,mounted:ct,beforeUpdate:ct,updated:ct,beforeDestroy:ct,beforeUnmount:ct,destroyed:ct,unmounted:ct,activated:ct,deactivated:ct,errorCaptured:ct,serverPrefetch:ct,components:li,directives:li,watch:zp,provide:Jl,inject:Wp};function Jl(t,e){return e?t?function(){return at(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function Wp(t,e){return li(ga(t),ga(e))}function ga(t){if(me(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ct(t,e){return t?[...new Set([].concat(t,e))]:e}function li(t,e){return t?at(Object.create(null),t,e):e}function Ql(t,e){return t?me(t)&&me(e)?[...new Set([...t,...e])]:at(Object.create(null),fa(t),fa(e??{})):e}function zp(t,e){if(!t)return e;if(!e)return t;const n=at(Object.create(null),t);for(const r in e)n[r]=ct(t[r],e[r]);return n}function yd(){return{app:null,config:{isNativeTag:Eu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vp=0;function jp(t,e){return function(r,i=null){ye(r)||(r=at({},r)),i!=null&&!Oe(i)&&(i=null);const s=yd(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:Vp++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:T0,get config(){return s.config},set config(u){},use(u,...d){return o.has(u)||(u&&ye(u.install)?(o.add(u),u.install(c,...d)):ye(u)&&(o.add(u),u(c,...d))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,d){return d?(s.components[u]=d,c):s.components[u]},directive(u,d){return d?(s.directives[u]=d,c):s.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||ne(r,i);return f.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,mo(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Zt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return s.provides[u]=d,c},runWithContext(u){const d=sr;sr=c;try{return u()}finally{sr=d}}};return c}}let sr=null;function el(t,e){if(ot){let n=ot.provides;const r=ot.parent&&ot.parent.provides;r===n&&(n=ot.provides=Object.create(r)),n[t]=e}}function or(t,e,n=!1){const r=pt();if(r||sr){let i=sr?sr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ye(e)?e.call(r&&r.proxy):e}}function Up(){return!!(pt()||sr)}const vd={},bd=()=>Object.create(vd),wd=t=>Object.getPrototypeOf(t)===vd;function Yp(t,e,n,r=!1){const i={},s=bd();t.propsDefaults=Object.create(null),_d(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:ap(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Xp(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Ee(i),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(fo(t.emitsOptions,h))continue;const f=e[h];if(l)if(Te(s,h))f!==s[h]&&(s[h]=f,c=!0);else{const p=yt(h);i[p]=ma(l,a,p,f,t,!1)}else f!==s[h]&&(s[h]=f,c=!0)}}}else{_d(t,e,i,s)&&(c=!0);let u;for(const d in a)(!e||!Te(e,d)&&((u=$n(d))===d||!Te(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=ma(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!Te(e,d))&&(delete s[d],c=!0)}c&&hn(t.attrs,"set","")}function _d(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(gi(l))continue;const c=e[l];let u;i&&Te(i,u=yt(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:fo(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=Ee(n),c=a||Re;for(let u=0;u<s.length;u++){const d=s[u];n[d]=ma(i,l,d,c[d],t,!Te(c,d))}}return o}function ma(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Te(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ye(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=zi(i);r=c[n]=l.call(null,e),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===$n(n))&&(r=!0))}return r}const Kp=new WeakMap;function xd(t,e,n=!1){const r=n?Kp:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!ye(t)){const u=d=>{l=!0;const[h,f]=xd(d,e,!0);at(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return Oe(t)&&r.set(t,Rr),Rr;if(me(s))for(let u=0;u<s.length;u++){const d=yt(s[u]);Zl(d)&&(o[d]=Re)}else if(s)for(const u in s){const d=yt(u);if(Zl(d)){const h=s[u],f=o[d]=me(h)||ye(h)?{type:h}:at({},h),p=f.type;let g=!1,y=!0;if(me(p))for(let m=0;m<p.length;++m){const b=p[m],v=ye(b)&&b.name;if(v==="Boolean"){g=!0;break}else v==="String"&&(y=!1)}else g=ye(p)&&p.name==="Boolean";f[0]=g,f[1]=y,(g||Te(f,"default"))&&a.push(d)}}const c=[o,a];return Oe(t)&&r.set(t,c),c}function Zl(t){return t[0]!=="$"&&!gi(t)}const tl=t=>t==="_"||t==="_ctx"||t==="$stable",nl=t=>me(t)?t.map(Kt):[Kt(t)],qp=(t,e,n)=>{if(e._n)return e;const r=ee((...i)=>nl(e(...i)),n);return r._c=!1,r},Sd=(t,e,n)=>{const r=t._ctx;for(const i in t){if(tl(i))continue;const s=t[i];if(ye(s))e[i]=qp(i,s,r);else if(s!=null){const o=nl(s);e[i]=()=>o}}},Cd=(t,e)=>{const n=nl(e);t.slots.default=()=>n},Ad=(t,e,n)=>{for(const r in e)(n||!tl(r))&&(t[r]=e[r])},Jp=(t,e,n)=>{const r=t.slots=bd();if(t.vnode.shapeFlag&32){const i=e._;i?(Ad(r,e,n),n&&Ou(r,"_",i,!0)):Sd(e,r)}else e&&Cd(t,e)},Qp=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Re;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:Ad(i,e,n):(s=!e.$stable,Sd(e,i)),o=e}else e&&(Cd(t,e),o={default:1});if(s)for(const a in i)!tl(a)&&o[a]==null&&delete i[a]},ut=g0;function Zp(t){return e0(t)}function e0(t,e){const n=to();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=Jt,insertStaticContent:p}=t,g=(S,E,D,Y=null,H=null,W=null,re=void 0,te=null,Z=!!E.dynamicChildren)=>{if(S===E)return;S&&!Zr(S,E)&&(Y=He(S),be(S,H,W,!0),S=null),E.patchFlag===-2&&(Z=!1,E.dynamicChildren=null);const{type:V,ref:ge,shapeFlag:oe}=E;switch(V){case po:y(S,E,D,Y);break;case Dt:m(S,E,D,Y);break;case As:S==null&&b(E,D,Y,re);break;case $e:B(S,E,D,Y,H,W,re,te,Z);break;default:oe&1?C(S,E,D,Y,H,W,re,te,Z):oe&6?se(S,E,D,Y,H,W,re,te,Z):(oe&64||oe&128)&&V.process(S,E,D,Y,H,W,re,te,Z,zt)}ge!=null&&H?bi(ge,S&&S.ref,W,E||S,!E):ge==null&&S&&S.ref!=null&&bi(S.ref,null,W,S,!0)},y=(S,E,D,Y)=>{if(S==null)r(E.el=a(E.children),D,Y);else{const H=E.el=S.el;E.children!==S.children&&c(H,E.children)}},m=(S,E,D,Y)=>{S==null?r(E.el=l(E.children||""),D,Y):E.el=S.el},b=(S,E,D,Y)=>{[S.el,S.anchor]=p(S.children,E,D,Y,S.el,S.anchor)},v=({el:S,anchor:E},D,Y)=>{let H;for(;S&&S!==E;)H=h(S),r(S,D,Y),S=H;r(E,D,Y)},w=({el:S,anchor:E})=>{let D;for(;S&&S!==E;)D=h(S),i(S),S=D;i(E)},C=(S,E,D,Y,H,W,re,te,Z)=>{if(E.type==="svg"?re="svg":E.type==="math"&&(re="mathml"),S==null)R(E,D,Y,H,W,re,te,Z);else{const V=S.el&&S.el._isVueCE?S.el:null;try{V&&V._beginPatch(),T(S,E,H,W,re,te,Z)}finally{V&&V._endPatch()}}},R=(S,E,D,Y,H,W,re,te)=>{let Z,V;const{props:ge,shapeFlag:oe,transition:fe,dirs:ve}=S;if(Z=S.el=o(S.type,W,ge&&ge.is,ge),oe&8?u(Z,S.children):oe&16&&A(S.children,Z,null,Y,H,Bo(S,W),re,te),ve&&Xn(S,null,Y,"created"),O(Z,S,S.scopeId,re,Y),ge){for(const Le in ge)Le!=="value"&&!gi(Le)&&s(Z,Le,null,ge[Le],W,Y);"value"in ge&&s(Z,"value",null,ge.value,W),(V=ge.onVnodeBeforeMount)&&Yt(V,Y,S)}ve&&Xn(S,null,Y,"beforeMount");const Ce=t0(H,fe);Ce&&fe.beforeEnter(Z),r(Z,E,D),((V=ge&&ge.onVnodeMounted)||Ce||ve)&&ut(()=>{V&&Yt(V,Y,S),Ce&&fe.enter(Z),ve&&Xn(S,null,Y,"mounted")},H)},O=(S,E,D,Y,H)=>{if(D&&f(S,D),Y)for(let W=0;W<Y.length;W++)f(S,Y[W]);if(H){let W=H.subTree;if(E===W||kd(W.type)&&(W.ssContent===E||W.ssFallback===E)){const re=H.vnode;O(S,re,re.scopeId,re.slotScopeIds,H.parent)}}},A=(S,E,D,Y,H,W,re,te,Z=0)=>{for(let V=Z;V<S.length;V++){const ge=S[V]=te?Mn(S[V]):Kt(S[V]);g(null,ge,E,D,Y,H,W,re,te)}},T=(S,E,D,Y,H,W,re)=>{const te=E.el=S.el;let{patchFlag:Z,dynamicChildren:V,dirs:ge}=E;Z|=S.patchFlag&16;const oe=S.props||Re,fe=E.props||Re;let ve;if(D&&Kn(D,!1),(ve=fe.onVnodeBeforeUpdate)&&Yt(ve,D,E,S),ge&&Xn(E,S,D,"beforeUpdate"),D&&Kn(D,!0),(oe.innerHTML&&fe.innerHTML==null||oe.textContent&&fe.textContent==null)&&u(te,""),V?k(S.dynamicChildren,V,te,D,Y,Bo(E,H),W):re||M(S,E,te,null,D,Y,Bo(E,H),W,!1),Z>0){if(Z&16)$(te,oe,fe,D,H);else if(Z&2&&oe.class!==fe.class&&s(te,"class",null,fe.class,H),Z&4&&s(te,"style",oe.style,fe.style,H),Z&8){const Ce=E.dynamicProps;for(let Le=0;Le<Ce.length;Le++){const ke=Ce[Le],gt=oe[ke],mt=fe[ke];(mt!==gt||ke==="value")&&s(te,ke,gt,mt,H,D)}}Z&1&&S.children!==E.children&&u(te,E.children)}else!re&&V==null&&$(te,oe,fe,D,H);((ve=fe.onVnodeUpdated)||ge)&&ut(()=>{ve&&Yt(ve,D,E,S),ge&&Xn(E,S,D,"updated")},Y)},k=(S,E,D,Y,H,W,re)=>{for(let te=0;te<E.length;te++){const Z=S[te],V=E[te],ge=Z.el&&(Z.type===$e||!Zr(Z,V)||Z.shapeFlag&198)?d(Z.el):D;g(Z,V,ge,null,Y,H,W,re,!0)}},$=(S,E,D,Y,H)=>{if(E!==D){if(E!==Re)for(const W in E)!gi(W)&&!(W in D)&&s(S,W,E[W],null,H,Y);for(const W in D){if(gi(W))continue;const re=D[W],te=E[W];re!==te&&W!=="value"&&s(S,W,te,re,H,Y)}"value"in D&&s(S,"value",E.value,D.value,H)}},B=(S,E,D,Y,H,W,re,te,Z)=>{const V=E.el=S?S.el:a(""),ge=E.anchor=S?S.anchor:a("");let{patchFlag:oe,dynamicChildren:fe,slotScopeIds:ve}=E;ve&&(te=te?te.concat(ve):ve),S==null?(r(V,D,Y),r(ge,D,Y),A(E.children||[],D,ge,H,W,re,te,Z)):oe>0&&oe&64&&fe&&S.dynamicChildren?(k(S.dynamicChildren,fe,D,H,W,re,te),(E.key!=null||H&&E===H.subTree)&&rl(S,E,!0)):M(S,E,D,ge,H,W,re,te,Z)},se=(S,E,D,Y,H,W,re,te,Z)=>{E.slotScopeIds=te,S==null?E.shapeFlag&512?H.ctx.activate(E,D,Y,re,Z):F(E,D,Y,H,W,re,Z):j(S,E,Z)},F=(S,E,D,Y,H,W,re)=>{const te=S.component=_0(S,Y,H);if(ud(S)&&(te.ctx.renderer=zt),x0(te,!1,re),te.asyncDep){if(H&&H.registerDep(te,L,re),!S.el){const Z=te.subTree=ne(Dt);m(null,Z,E,D),S.placeholder=Z.el}}else L(te,S,E,D,H,W,re)},j=(S,E,D)=>{const Y=E.component=S.component;if(f0(S,E,D))if(Y.asyncDep&&!Y.asyncResolved){J(Y,E,D);return}else Y.next=E,Y.update();else E.el=S.el,Y.vnode=E},L=(S,E,D,Y,H,W,re)=>{const te=()=>{if(S.isMounted){let{next:oe,bu:fe,u:ve,parent:Ce,vnode:Le}=S;{const jt=Ed(S);if(jt){oe&&(oe.el=Le.el,J(S,oe,re)),jt.asyncDep.then(()=>{S.isUnmounted||te()});return}}let ke=oe,gt;Kn(S,!1),oe?(oe.el=Le.el,J(S,oe,re)):oe=Le,fe&&Ss(fe),(gt=oe.props&&oe.props.onVnodeBeforeUpdate)&&Yt(gt,Ce,oe,Le),Kn(S,!0);const mt=tc(S),Vt=S.subTree;S.subTree=mt,g(Vt,mt,d(Vt.el),He(Vt),S,H,W),oe.el=mt.el,ke===null&&p0(S,mt.el),ve&&ut(ve,H),(gt=oe.props&&oe.props.onVnodeUpdated)&&ut(()=>Yt(gt,Ce,oe,Le),H)}else{let oe;const{el:fe,props:ve}=E,{bm:Ce,m:Le,parent:ke,root:gt,type:mt}=S,Vt=Lr(E);Kn(S,!1),Ce&&Ss(Ce),!Vt&&(oe=ve&&ve.onVnodeBeforeMount)&&Yt(oe,ke,E),Kn(S,!0);{gt.ce&&gt.ce._def.shadowRoot!==!1&&gt.ce._injectChildStyle(mt);const jt=S.subTree=tc(S);g(null,jt,D,Y,S,H,W),E.el=jt.el}if(Le&&ut(Le,H),!Vt&&(oe=ve&&ve.onVnodeMounted)){const jt=E;ut(()=>Yt(oe,ke,jt),H)}(E.shapeFlag&256||ke&&Lr(ke.vnode)&&ke.vnode.shapeFlag&256)&&S.a&&ut(S.a,H),S.isMounted=!0,E=D=Y=null}};S.scope.on();const Z=S.effect=new Du(te);S.scope.off();const V=S.update=Z.run.bind(Z),ge=S.job=Z.runIfDirty.bind(Z);ge.i=S,ge.id=S.uid,Z.scheduler=()=>Qa(ge),Kn(S,!0),V()},J=(S,E,D)=>{E.component=S;const Y=S.vnode.props;S.vnode=E,S.next=null,Xp(S,E.props,Y,D),Qp(S,E.children,D),gn(),zl(S),mn()},M=(S,E,D,Y,H,W,re,te,Z=!1)=>{const V=S&&S.children,ge=S?S.shapeFlag:0,oe=E.children,{patchFlag:fe,shapeFlag:ve}=E;if(fe>0){if(fe&128){de(V,oe,D,Y,H,W,re,te,Z);return}else if(fe&256){X(V,oe,D,Y,H,W,re,te,Z);return}}ve&8?(ge&16&&An(V,H,W),oe!==V&&u(D,oe)):ge&16?ve&16?de(V,oe,D,Y,H,W,re,te,Z):An(V,H,W,!0):(ge&8&&u(D,""),ve&16&&A(oe,D,Y,H,W,re,te,Z))},X=(S,E,D,Y,H,W,re,te,Z)=>{S=S||Rr,E=E||Rr;const V=S.length,ge=E.length,oe=Math.min(V,ge);let fe;for(fe=0;fe<oe;fe++){const ve=E[fe]=Z?Mn(E[fe]):Kt(E[fe]);g(S[fe],ve,D,null,H,W,re,te,Z)}V>ge?An(S,H,W,!0,!1,oe):A(E,D,Y,H,W,re,te,Z,oe)},de=(S,E,D,Y,H,W,re,te,Z)=>{let V=0;const ge=E.length;let oe=S.length-1,fe=ge-1;for(;V<=oe&&V<=fe;){const ve=S[V],Ce=E[V]=Z?Mn(E[V]):Kt(E[V]);if(Zr(ve,Ce))g(ve,Ce,D,null,H,W,re,te,Z);else break;V++}for(;V<=oe&&V<=fe;){const ve=S[oe],Ce=E[fe]=Z?Mn(E[fe]):Kt(E[fe]);if(Zr(ve,Ce))g(ve,Ce,D,null,H,W,re,te,Z);else break;oe--,fe--}if(V>oe){if(V<=fe){const ve=fe+1,Ce=ve<ge?E[ve].el:Y;for(;V<=fe;)g(null,E[V]=Z?Mn(E[V]):Kt(E[V]),D,Ce,H,W,re,te,Z),V++}}else if(V>fe)for(;V<=oe;)be(S[V],H,W,!0),V++;else{const ve=V,Ce=V,Le=new Map;for(V=Ce;V<=fe;V++){const vt=E[V]=Z?Mn(E[V]):Kt(E[V]);vt.key!=null&&Le.set(vt.key,V)}let ke,gt=0;const mt=fe-Ce+1;let Vt=!1,jt=0;const Jr=new Array(mt);for(V=0;V<mt;V++)Jr[V]=0;for(V=ve;V<=oe;V++){const vt=S[V];if(gt>=mt){be(vt,H,W,!0);continue}let Ut;if(vt.key!=null)Ut=Le.get(vt.key);else for(ke=Ce;ke<=fe;ke++)if(Jr[ke-Ce]===0&&Zr(vt,E[ke])){Ut=ke;break}Ut===void 0?be(vt,H,W,!0):(Jr[Ut-Ce]=V+1,Ut>=jt?jt=Ut:Vt=!0,g(vt,E[Ut],D,null,H,W,re,te,Z),gt++)}const Fl=Vt?n0(Jr):Rr;for(ke=Fl.length-1,V=mt-1;V>=0;V--){const vt=Ce+V,Ut=E[vt],Bl=E[vt+1],Nl=vt+1<ge?Bl.el||Bl.placeholder:Y;Jr[V]===0?g(null,Ut,D,Nl,H,W,re,te,Z):Vt&&(ke<0||V!==Fl[ke]?he(Ut,D,Nl,2):ke--)}}},he=(S,E,D,Y,H=null)=>{const{el:W,type:re,transition:te,children:Z,shapeFlag:V}=S;if(V&6){he(S.component.subTree,E,D,Y);return}if(V&128){S.suspense.move(E,D,Y);return}if(V&64){re.move(S,E,D,zt);return}if(re===$e){r(W,E,D);for(let oe=0;oe<Z.length;oe++)he(Z[oe],E,D,Y);r(S.anchor,E,D);return}if(re===As){v(S,E,D);return}if(Y!==2&&V&1&&te)if(Y===0)te.beforeEnter(W),r(W,E,D),ut(()=>te.enter(W),H);else{const{leave:oe,delayLeave:fe,afterLeave:ve}=te,Ce=()=>{S.ctx.isUnmounted?i(W):r(W,E,D)},Le=()=>{W._isLeaving&&W[Cp](!0),oe(W,()=>{Ce(),ve&&ve()})};fe?fe(W,Ce,Le):Le()}else r(W,E,D)},be=(S,E,D,Y=!1,H=!1)=>{const{type:W,props:re,ref:te,children:Z,dynamicChildren:V,shapeFlag:ge,patchFlag:oe,dirs:fe,cacheIndex:ve}=S;if(oe===-2&&(H=!1),te!=null&&(gn(),bi(te,null,D,S,!0),mn()),ve!=null&&(E.renderCache[ve]=void 0),ge&256){E.ctx.deactivate(S);return}const Ce=ge&1&&fe,Le=!Lr(S);let ke;if(Le&&(ke=re&&re.onVnodeBeforeUnmount)&&Yt(ke,E,S),ge&6)mr(S.component,D,Y);else{if(ge&128){S.suspense.unmount(D,Y);return}Ce&&Xn(S,null,E,"beforeUnmount"),ge&64?S.type.remove(S,E,D,zt,Y):V&&!V.hasOnce&&(W!==$e||oe>0&&oe&64)?An(V,E,D,!1,!0):(W===$e&&oe&384||!H&&ge&16)&&An(Z,E,D),Y&&Ae(S)}(Le&&(ke=re&&re.onVnodeUnmounted)||Ce)&&ut(()=>{ke&&Yt(ke,E,S),Ce&&Xn(S,null,E,"unmounted")},D)},Ae=S=>{const{type:E,el:D,anchor:Y,transition:H}=S;if(E===$e){Ke(D,Y);return}if(E===As){w(S);return}const W=()=>{i(D),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(S.shapeFlag&1&&H&&!H.persisted){const{leave:re,delayLeave:te}=H,Z=()=>re(D,W);te?te(S.el,W,Z):Z()}else W()},Ke=(S,E)=>{let D;for(;S!==E;)D=h(S),i(S),S=D;i(E)},mr=(S,E,D)=>{const{bum:Y,scope:H,job:W,subTree:re,um:te,m:Z,a:V}=S;ec(Z),ec(V),Y&&Ss(Y),H.stop(),W&&(W.flags|=8,be(re,S,E,D)),te&&ut(te,E),ut(()=>{S.isUnmounted=!0},E)},An=(S,E,D,Y=!1,H=!1,W=0)=>{for(let re=W;re<S.length;re++)be(S[re],E,D,Y,H)},He=S=>{if(S.shapeFlag&6)return He(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const E=h(S.anchor||S.el),D=E&&E[od];return D?h(D):E};let yr=!1;const Yn=(S,E,D)=>{S==null?E._vnode&&be(E._vnode,null,null,!0):g(E._vnode||null,S,E,null,null,null,D),E._vnode=S,yr||(yr=!0,zl(),rd(),yr=!1)},zt={p:g,um:be,m:he,r:Ae,mt:F,mc:A,pc:M,pbc:k,n:He,o:t};return{render:Yn,hydrate:void 0,createApp:jp(Yn)}}function Bo({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Kn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function t0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function rl(t,e,n=!1){const r=t.children,i=e.children;if(me(r)&&me(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Mn(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&rl(o,a)),a.type===po&&a.patchFlag!==-1&&(a.el=o.el),a.type===Dt&&!a.el&&(a.el=o.el)}}function n0(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Ed(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ed(e)}function ec(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const r0=Symbol.for("v-scx"),i0=()=>or(r0);function Et(t,e){return Wi(t,null,e)}function s0(t,e){return Wi(t,null,{flush:"post"})}function o0(t,e){return Wi(t,null,{flush:"sync"})}function xe(t,e,n){return Wi(t,e,n)}function Wi(t,e,n=Re){const{immediate:r,deep:i,flush:s,once:o}=n,a=at({},n),l=e&&r||!e&&s!=="post";let c;if(Ii){if(s==="sync"){const f=i0();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Jt,f.resume=Jt,f.pause=Jt,f}}const u=ot;a.call=(f,p,g)=>Zt(f,u,p,g);let d=!1;s==="post"?a.scheduler=f=>{ut(f,u&&u.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(f,p)=>{p?f():Qa(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=yp(t,e,a);return Ii&&(c?c.push(h):l&&h()),h}function a0(t,e,n){const r=this.proxy,i=ze(t)?t.includes(".")?Pd(r,t):()=>r[t]:t.bind(r,r);let s;ye(e)?s=e:(s=e.handler,n=e);const o=zi(this),a=Wi(i,s.bind(r),n);return o(),a}function Pd(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const l0=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${yt(e)}Modifiers`]||t[`${$n(e)}Modifiers`];function c0(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Re;let i=n;const s=e.startsWith("update:"),o=s&&l0(r,e.slice(7));o&&(o.trim&&(i=n.map(u=>ze(u)?u.trim():u)),o.number&&(i=n.map(eo)));let a,l=r[a=xs(e)]||r[a=xs(yt(e))];!l&&s&&(l=r[a=xs($n(e))]),l&&Zt(l,t,6,i);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Zt(c,t,6,i)}}const u0=new WeakMap;function Td(t,e,n=!1){const r=n?u0:e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!ye(t)){const l=c=>{const u=Td(c,e,!0);u&&(a=!0,at(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Oe(t)&&r.set(t,null),null):(me(s)?s.forEach(l=>o[l]=null):at(o,s),Oe(t)&&r.set(t,o),o)}function fo(t,e){return!t||!qs(e)?!1:(e=e.slice(2).replace(/Once$/,""),Te(t,e[0].toLowerCase()+e.slice(1))||Te(t,$n(e))||Te(t,e))}function tc(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:p,inheritAttrs:g}=t,y=Ds(t);let m,b;try{if(n.shapeFlag&4){const w=i||r,C=w;m=Kt(c.call(C,w,u,d,f,h,p)),b=a}else{const w=e;m=Kt(w.length>1?w(d,{attrs:a,slots:o,emit:l}):w(d,null)),b=e.props?a:d0(a)}}catch(w){_i.length=0,uo(w,t,1),m=ne(Dt)}let v=m;if(b&&g!==!1){const w=Object.keys(b),{shapeFlag:C}=v;w.length&&C&7&&(s&&w.some(ja)&&(b=h0(b,s)),v=Bn(v,b,!1,!0))}return n.dirs&&(v=Bn(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&Za(v,n.transition),m=v,Ds(y),m}const d0=t=>{let e;for(const n in t)(n==="class"||n==="style"||qs(n))&&((e||(e={}))[n]=t[n]);return e},h0=(t,e)=>{const n={};for(const r in t)(!ja(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function f0(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?nc(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==r[h]&&!fo(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?nc(r,o,c):!0:!!o;return!1}function nc(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!fo(n,s))return!0}return!1}function p0({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const kd=t=>t.__isSuspense;function g0(t,e){e&&e.pendingBranch?me(t)?e.effects.push(...t):e.effects.push(t):wp(t)}const $e=Symbol.for("v-fgt"),po=Symbol.for("v-txt"),Dt=Symbol.for("v-cmt"),As=Symbol.for("v-stc"),_i=[];let xt=null;function I(t=!1){_i.push(xt=t?null:[])}function m0(){_i.pop(),xt=_i[_i.length-1]||null}let Ri=1;function Gs(t,e=!1){Ri+=t,t<0&&xt&&e&&(xt.hasOnce=!0)}function Od(t){return t.dynamicChildren=Ri>0?xt||Rr:null,m0(),Ri>0&&xt&&xt.push(t),t}function ue(t,e,n,r,i,s){return Od(N(t,e,n,r,i,s,!0))}function ae(t,e,n,r,i){return Od(ne(t,e,n,r,i,!0))}function Mi(t){return t?t.__v_isVNode===!0:!1}function Zr(t,e){return t.type===e.type&&t.key===e.key}const Rd=({key:t})=>t??null,Es=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ze(t)||We(t)||ye(t)?{i:tt,r:t,k:e,f:!!n}:t:null);function N(t,e=null,n=null,r=0,i=null,s=t===$e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Rd(e),ref:e&&Es(e),scopeId:sd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:tt};return a?(il(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=ze(n)?8:16),Ri>0&&!o&&xt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&xt.push(l),l}const ne=y0;function y0(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===fd)&&(t=Dt),Mi(t)){const a=Bn(t,e,!0);return n&&il(a,n),Ri>0&&!s&&xt&&(a.shapeFlag&6?xt[xt.indexOf(t)]=a:xt.push(a)),a.patchFlag=-2,a}if(P0(t)&&(t=t.__vccOpts),e){e=go(e);let{class:a,style:l}=e;a&&!ze(a)&&(e.class=Tt(a)),Oe(l)&&(Ja(l)&&!me(l)&&(l=at({},l)),e.style=Nt(l))}const o=ze(t)?1:kd(t)?128:_p(t)?64:Oe(t)?4:ye(t)?2:0;return N(t,e,n,r,i,o,s,!0)}function go(t){return t?Ja(t)||wd(t)?at({},t):t:null}function Bn(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?_e(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Rd(c),ref:e&&e.ref?n&&s?me(s)?s.concat(Es(e)):[s,Es(e)]:Es(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==$e?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Bn(t.ssContent),ssFallback:t.ssFallback&&Bn(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Za(u,l.clone(u)),u}function ft(t=" ",e=0){return ne(po,null,t,e)}function v0(t,e){const n=ne(As,null,t);return n.staticCount=e,n}function Ne(t="",e=!1){return e?(I(),ae(Dt,null,t)):ne(Dt,null,t)}function Kt(t){return t==null||typeof t=="boolean"?ne(Dt):me(t)?ne($e,null,t.slice()):Mi(t)?Mn(t):ne(po,null,String(t))}function Mn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Bn(t)}function il(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(me(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),il(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!wd(e)?e._ctx=tt:i===3&&tt&&(tt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:tt},n=32):(e=String(e),r&64?(n=16,e=[ft(e)]):n=8);t.children=e,t.shapeFlag|=n}function _e(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Tt([e.class,r.class]));else if(i==="style")e.style=Nt([e.style,r.style]);else if(qs(i)){const s=e[i],o=r[i];o&&s!==o&&!(me(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Yt(t,e,n,r=null){Zt(t,e,7,[n,r])}const b0=yd();let w0=0;function _0(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||b0,s={uid:w0++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Lu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xd(r,i),emitsOptions:Td(r,i),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:r.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=c0.bind(null,s),t.ce&&t.ce(s),s}let ot=null;const pt=()=>ot||tt;let $s,ya;{const t=to(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};$s=e("__VUE_INSTANCE_SETTERS__",n=>ot=n),ya=e("__VUE_SSR_SETTERS__",n=>Ii=n)}const zi=t=>{const e=ot;return $s(t),t.scope.on(),()=>{t.scope.off(),$s(e)}},rc=()=>{ot&&ot.scope.off(),$s(null)};function Md(t){return t.vnode.shapeFlag&4}let Ii=!1;function x0(t,e=!1,n=!1){e&&ya(e);const{props:r,children:i}=t.vnode,s=Md(t);Yp(t,r,s,e),Jp(t,i,n||e);const o=s?S0(t,e):void 0;return e&&ya(!1),o}function S0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Bp);const{setup:r}=n;if(r){gn();const i=t.setupContext=r.length>1?A0(t):null,s=zi(t),o=Hi(r,t,0,[t.props,i]),a=Pu(o);if(mn(),s(),(a||t.sp)&&!Lr(t)&&cd(t),a){if(o.then(rc,rc),e)return o.then(l=>{ic(t,l)}).catch(l=>{uo(l,t,0)});t.asyncDep=o}else ic(t,o)}else Id(t)}function ic(t,e,n){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Oe(e)&&(t.setupState=Qu(e)),Id(t)}function Id(t,e,n){const r=t.type;t.render||(t.render=r.render||Jt);{const i=zi(t);gn();try{Gp(t)}finally{mn(),i()}}}const C0={get(t,e){return st(t,"get",""),t[e]}};function A0(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,C0),slots:t.slots,emit:t.emit,expose:e}}function mo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Qu(co(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in wi)return wi[n](t)},has(e,n){return n in e||n in wi}})):t.proxy}function E0(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function P0(t){return ye(t)&&"__vccOpts"in t}const U=(t,e)=>gp(t,e,Ii);function St(t,e,n){try{Gs(-1);const r=arguments.length;return r===2?Oe(e)&&!me(e)?Mi(e)?ne(t,null,[e]):ne(t,e):ne(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Mi(n)&&(n=[n]),ne(t,e,n))}finally{Gs(1)}}const T0="3.5.24";let va;const sc=typeof window<"u"&&window.trustedTypes;if(sc)try{va=sc.createPolicy("vue",{createHTML:t=>t})}catch{}const Ld=va?t=>va.createHTML(t):t=>t,k0="http://www.w3.org/2000/svg",O0="http://www.w3.org/1998/Math/MathML",dn=typeof document<"u"?document:null,oc=dn&&dn.createElement("template"),R0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?dn.createElementNS(k0,t):e==="mathml"?dn.createElementNS(O0,t):n?dn.createElement(t,{is:n}):dn.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>dn.createTextNode(t),createComment:t=>dn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>dn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{oc.innerHTML=Ld(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=oc.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},M0=Symbol("_vtc");function I0(t,e,n){const r=t[M0];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Hs=Symbol("_vod"),Dd=Symbol("_vsh"),Fd={name:"show",beforeMount(t,{value:e},{transition:n}){t[Hs]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ei(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),ei(t,!0),r.enter(t)):r.leave(t,()=>{ei(t,!1)}):ei(t,e))},beforeUnmount(t,{value:e}){ei(t,e)}};function ei(t,e){t.style.display=e?t[Hs]:"none",t[Dd]=!e}const L0=Symbol(""),D0=/(?:^|;)\s*display\s*:/;function F0(t,e,n){const r=t.style,i=ze(n);let s=!1;if(n&&!i){if(e)if(ze(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Ps(r,a,"")}else for(const o in e)n[o]==null&&Ps(r,o,"");for(const o in n)o==="display"&&(s=!0),Ps(r,o,n[o])}else if(i){if(e!==n){const o=r[L0];o&&(n+=";"+o),r.cssText=n,s=D0.test(n)}}else e&&t.removeAttribute("style");Hs in t&&(t[Hs]=s?r.display:"",t[Dd]&&(r.display="none"))}const ac=/\s*!important$/;function Ps(t,e,n){if(me(n))n.forEach(r=>Ps(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=B0(t,e);ac.test(n)?t.setProperty($n(r),n.replace(ac,""),"important"):t[r]=n}}const lc=["Webkit","Moz","ms"],No={};function B0(t,e){const n=No[e];if(n)return n;let r=yt(e);if(r!=="filter"&&r in t)return No[e]=r;r=Zs(r);for(let i=0;i<lc.length;i++){const s=lc[i]+r;if(s in t)return No[e]=s}return e}const cc="http://www.w3.org/1999/xlink";function uc(t,e,n,r,i,s=Gf(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(cc,e.slice(6,e.length)):t.setAttributeNS(cc,e,n):n==null||s&&!Ru(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Lt(n)?String(n):n)}function dc(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Ld(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Ru(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Zn(t,e,n,r){t.addEventListener(e,n,r)}function N0(t,e,n,r){t.removeEventListener(e,n,r)}const hc=Symbol("_vei");function G0(t,e,n,r,i=null){const s=t[hc]||(t[hc]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=$0(e);if(r){const c=s[e]=z0(r,i);Zn(t,a,c,l)}else o&&(N0(t,a,o,l),s[e]=void 0)}}const fc=/(?:Once|Passive|Capture)$/;function $0(t){let e;if(fc.test(t)){e={};let r;for(;r=t.match(fc);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):$n(t.slice(2)),e]}let Go=0;const H0=Promise.resolve(),W0=()=>Go||(H0.then(()=>Go=0),Go=Date.now());function z0(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Zt(V0(r,n.value),e,5,[r])};return n.value=t,n.attached=W0(),n}function V0(t,e){if(me(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const pc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,j0=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?I0(t,r,o):e==="style"?F0(t,n,r):qs(e)?ja(e)||G0(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):U0(t,e,r,o))?(dc(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&uc(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ze(r))?dc(t,yt(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),uc(t,e,r,o))};function U0(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&pc(e)&&ye(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return pc(e)&&ze(n)?!1:e in t}const Ws=t=>{const e=t.props["onUpdate:modelValue"]||!1;return me(e)?n=>Ss(e,n):e};function Y0(t){t.target.composing=!0}function gc(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Dr=Symbol("_assign");function mc(t,e,n){return e&&(t=t.trim()),n&&(t=eo(t)),t}const xi={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Dr]=Ws(i);const s=r||i.props&&i.props.type==="number";Zn(t,e?"change":"input",o=>{o.target.composing||t[Dr](mc(t.value,n,s))}),(n||s)&&Zn(t,"change",()=>{t.value=mc(t.value,n,s)}),e||(Zn(t,"compositionstart",Y0),Zn(t,"compositionend",gc),Zn(t,"change",gc))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[Dr]=Ws(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?eo(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},Bd={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Js(e);Zn(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?eo(zs(o)):zs(o));t[Dr](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Me(()=>{t._assigning=!1})}),t[Dr]=Ws(r)},mounted(t,{value:e}){yc(t,e)},beforeUpdate(t,e,n){t[Dr]=Ws(n)},updated(t,{value:e}){t._assigning||yc(t,e)}};function yc(t,e){const n=t.multiple,r=me(e);if(!(n&&!r&&!Js(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=zs(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Hf(e,a)>-1}else o.selected=e.has(a);else if(ro(zs(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function zs(t){return"_value"in t?t._value:t.value}const X0=["ctrl","shift","alt","meta"],K0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>X0.some(n=>t[`${n}Key`]&&!e.includes(n))},bt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((i,...s)=>{for(let o=0;o<e.length;o++){const a=K0[e[o]];if(a&&a(i,e))return}return t(i,...s)}))},q0={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ts=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(i=>{if(!("key"in i))return;const s=$n(i.key);if(e.some(o=>o===s||q0[o]===s))return t(i)}))},J0=at({patchProp:j0},R0);let vc;function Q0(){return vc||(vc=Zp(J0))}const Z0=((...t)=>{const e=Q0().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=tg(r);if(!i)return;const s=e._component;!ye(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,eg(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function eg(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function tg(t){return ze(t)?document.querySelector(t):t}let Nd;const yo=t=>Nd=t,Gd=Symbol();function ba(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Si;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Si||(Si={}));function ng(){const t=io(!0),e=t.run(()=>G({}));let n=[],r=[];const i=co({install(s){yo(i),i._a=s,s.provide(Gd,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return this._a?n.push(s):r.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const $d=()=>{};function bc(t,e,n,r=$d){t.add(e);const i=()=>{t.delete(e)&&r()};return!n&&zr()&&Gi(i),i}function wr(t,...e){t.forEach(n=>{n(...e)})}const rg=t=>t(),wc=Symbol(),$o=Symbol();function wa(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];ba(i)&&ba(r)&&t.hasOwnProperty(n)&&!We(r)&&!Dn(r)?t[n]=wa(i,r):t[n]=r}return t}const ig=Symbol();function sg(t){return!ba(t)||!Object.prototype.hasOwnProperty.call(t,ig)}const{assign:Pn}=Object;function og(t){return!!(We(t)&&t.effect)}function ag(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=nn(n.state.value[t]);return Pn(u,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=co(U(()=>{yo(n);const f=n._s.get(t);return o[h].call(f,f)})),d),{}))}return l=Hd(t,c,e,n,r,!0),l}function Hd(t,e,n={},r,i,s){let o;const a=Pn({actions:{}},n),l={deep:!0};let c,u,d=new Set,h=new Set,f;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),G({});let g;function y(A){let T;c=u=!1,typeof A=="function"?(A(r.state.value[t]),T={type:Si.patchFunction,storeId:t,events:f}):(wa(r.state.value[t],A),T={type:Si.patchObject,payload:A,storeId:t,events:f});const k=g=Symbol();Me().then(()=>{g===k&&(c=!0)}),u=!0,wr(d,T,r.state.value[t])}const m=s?function(){const{state:T}=n,k=T?T():{};this.$patch($=>{Pn($,k)})}:$d;function b(){o.stop(),d.clear(),h.clear(),r._s.delete(t)}const v=(A,T="")=>{if(wc in A)return A[$o]=T,A;const k=function(){yo(r);const $=Array.from(arguments),B=new Set,se=new Set;function F(J){B.add(J)}function j(J){se.add(J)}wr(h,{args:$,name:k[$o],store:C,after:F,onError:j});let L;try{L=A.apply(this&&this.$id===t?this:C,$)}catch(J){throw wr(se,J),J}return L instanceof Promise?L.then(J=>(wr(B,J),J)).catch(J=>(wr(se,J),Promise.reject(J))):(wr(B,L),L)};return k[wc]=!0,k[$o]=T,k},w={_p:r,$id:t,$onAction:bc.bind(null,h),$patch:y,$reset:m,$subscribe(A,T={}){const k=bc(d,A,T.detached,()=>$()),$=o.run(()=>xe(()=>r.state.value[t],B=>{(T.flush==="sync"?u:c)&&A({storeId:t,type:Si.direct,events:f},B)},Pn({},l,T)));return k},$dispose:b},C=Vr(w);r._s.set(t,C);const O=(r._a&&r._a.runWithContext||rg)(()=>r._e.run(()=>(o=io()).run(()=>e({action:v}))));for(const A in O){const T=O[A];if(We(T)&&!og(T)||Dn(T))s||(p&&sg(T)&&(We(T)?T.value=p[A]:wa(T,p[A])),r.state.value[t][A]=T);else if(typeof T=="function"){const k=v(T,A);O[A]=k,a.actions[A]=T}}return Pn(C,O),Pn(Ee(C),O),Object.defineProperty(C,"$state",{get:()=>r.state.value[t],set:A=>{y(T=>{Pn(T,A)})}}),r._p.forEach(A=>{Pn(C,o.run(()=>A({store:C,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(C.$state,p),c=!0,u=!0,C}function Wd(t,e,n){let r;const i=typeof e=="function";r=i?n:e;function s(o,a){const l=Up();return o=o||(l?or(Gd,null):null),o&&yo(o),o=Nd,o._s.has(t)||(i?Hd(t,e,r,o):ag(t,r,o)),o._s.get(t)}return s.$id=t,s}const Qe=[];for(let t=0;t<256;++t)Qe.push((t+256).toString(16).slice(1));function lg(t,e=0){return(Qe[t[e+0]]+Qe[t[e+1]]+Qe[t[e+2]]+Qe[t[e+3]]+"-"+Qe[t[e+4]]+Qe[t[e+5]]+"-"+Qe[t[e+6]]+Qe[t[e+7]]+"-"+Qe[t[e+8]]+Qe[t[e+9]]+"-"+Qe[t[e+10]]+Qe[t[e+11]]+Qe[t[e+12]]+Qe[t[e+13]]+Qe[t[e+14]]+Qe[t[e+15]]).toLowerCase()}let Ho;const cg=new Uint8Array(16);function ug(){if(!Ho){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ho=crypto.getRandomValues.bind(crypto)}return Ho(cg)}const dg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_c={randomUUID:dg};function hg(t,e,n){t=t||{};const r=t.random??t.rng?.()??ug();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,lg(r)}function _a(t,e,n){return _c.randomUUID&&!t?_c.randomUUID():hg(t)}function zd(t,e){return zr()?(Gi(t,e),!0):!1}const fg=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const pg=Object.prototype.toString,gg=t=>pg.call(t)==="[object Object]",mg=()=>{};function yg(...t){if(t.length!==1)return Zu(...t);const e=t[0];return typeof e=="function"?Nr(dp(()=>({get:e,set:mg}))):G(e)}function vg(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}const Vd=t=>t();function bg(t=Vd,e={}){const{initialState:n="active"}=e,r=yg(n==="active");function i(){r.value=!1}function s(){r.value=!0}const o=(...a)=>{r.value&&t(...a)};return{isActive:Nr(r),pause:i,resume:s,eventFilter:o}}function Wo(t){return Array.isArray(t)?t:[t]}function wg(t){return pt()}function _g(t,e,n={}){const{eventFilter:r=Vd,...i}=n;return xe(t,vg(r,e),i)}function xg(t,e,n={}){const{eventFilter:r,initialState:i="active",...s}=n,{eventFilter:o,pause:a,resume:l,isActive:c}=bg(r,{initialState:i});return{stop:_g(t,e,{...s,eventFilter:o}),pause:a,resume:l,isActive:c}}const Sg=xg;function Cg(t,e=!0,n){wg()?je(t,n):e?t():Me(t)}function Ag(t,e,n){return xe(t,e,{...n,immediate:!0})}const tr=fg?window:void 0;function xa(t){var e;const n=It(t);return(e=n?.$el)!==null&&e!==void 0?e:n}function xc(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},r=(a,l,c,u)=>(a.addEventListener(l,c,u),()=>a.removeEventListener(l,c,u)),i=U(()=>{const a=Wo(It(t[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),s=Ag(()=>{var a,l;return[(a=(l=i.value)===null||l===void 0?void 0:l.map(c=>xa(c)))!==null&&a!==void 0?a:[tr].filter(c=>c!=null),Wo(It(i.value?t[1]:t[0])),Wo(_(i.value?t[2]:t[1])),It(i.value?t[3]:t[2])]},([a,l,c,u])=>{if(n(),!a?.length||!l?.length||!c?.length)return;const d=gg(u)?{...u}:u;e.push(...a.flatMap(h=>l.flatMap(f=>c.map(p=>r(h,f,p,d)))))},{flush:"post"}),o=()=>{s(),n()};return zd(n),o}function Eg(){const t=$i(!1),e=pt();return e&&je(()=>{t.value=!0},e),t}function Pg(t){const e=Eg();return U(()=>(e.value,!!t()))}const es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ts="__vueuse_ssr_handlers__",Tg=kg();function kg(){return ts in es||(es[ts]=es[ts]||{}),es[ts]}function Og(t,e){return Tg[t]||e}function Rg(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const Mg={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},Sc="vueuse-storage";function Ig(t,e,n,r={}){var i;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:u,window:d=tr,eventFilter:h,onError:f=F=>{console.error(F)},initOnMounted:p}=r,g=(u?$i:G)(typeof e=="function"?e():e),y=U(()=>It(t));if(!n)try{n=Og("getDefaultStorage",()=>tr?.localStorage)()}catch(F){f(F)}if(!n)return g;const m=It(e),b=Rg(m),v=(i=r.serializer)!==null&&i!==void 0?i:Mg[b],{pause:w,resume:C}=Sg(g,F=>k(F),{flush:s,deep:o,eventFilter:h});xe(y,()=>B(),{flush:s});let R=!1;const O=F=>{p&&!R||B(F)},A=F=>{p&&!R||se(F)};d&&a&&(n instanceof Storage?xc(d,"storage",O,{passive:!0}):xc(d,Sc,A)),p?Cg(()=>{R=!0,B()}):B();function T(F,j){if(d){const L={key:y.value,oldValue:F,newValue:j,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",L):new CustomEvent(Sc,{detail:L}))}}function k(F){try{const j=n.getItem(y.value);if(F==null)T(j,null),n.removeItem(y.value);else{const L=v.write(F);j!==L&&(n.setItem(y.value,L),T(j,L))}}catch(j){f(j)}}function $(F){const j=F?F.newValue:n.getItem(y.value);if(j==null)return l&&m!=null&&n.setItem(y.value,v.write(m)),m;if(!F&&c){const L=v.read(j);return typeof c=="function"?c(L,m):b==="object"&&!Array.isArray(L)?{...m,...L}:L}else return typeof j!="string"?j:v.read(j)}function B(F){if(!(F&&F.storageArea!==n)){if(F&&F.key==null){g.value=m;return}if(!(F&&F.key!==y.value)){w();try{const j=v.write(g.value);(F===void 0||F?.newValue!==j)&&(g.value=$(F))}catch(j){f(j)}finally{F?Me(C):C()}}}}function se(F){B(F.detail)}return g}function Lg(t,e,n={}){const{window:r=tr,...i}=n;let s;const o=Pg(()=>r&&"ResizeObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=xe(U(()=>{const u=It(t);return Array.isArray(u)?u.map(d=>xa(d)):[xa(u)]}),u=>{if(a(),o.value&&r){s=new ResizeObserver(e);for(const d of u)d&&s.observe(d,i)}},{immediate:!0,flush:"post"}),c=()=>{a(),l()};return zd(c),{isSupported:o,stop:c}}function Tr(t,e,n={}){const{window:r=tr}=n;return Ig(t,e,r?.localStorage,n)}function jd(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=jd(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ud(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=jd(t))&&(r&&(r+=" "),r+=e);return r}const Cc=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ac=Ud,Dg=(t,e)=>n=>{var r;if(e?.variants==null)return Ac(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n?.[c],d=s?.[c];if(u===null)return null;const h=Cc(u)||Cc(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(p=>{let[g,y]=p;return Array.isArray(y)?y.includes({...s,...a}[g]):{...s,...a}[g]===y})?[...c,d,h]:c},[]);return Ac(t,o,l,n?.class,n?.className)},Fg=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Bg=(t,e)=>({classGroupId:t,validator:e}),Yd=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Vs="-",Ec=[],Ng="arbitrary..",Gg=t=>{const e=Hg(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return $g(o);const a=o.split(Vs),l=a[0]===""&&a.length>1?1:0;return Xd(a,l,e)},getConflictingClassGroupIds:(o,a)=>{if(a){const l=r[o],c=n[o];return l?c?Fg(c,l):l:c||Ec}return n[o]||Ec}}},Xd=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const c=Xd(t,e+1,s);if(c)return c}const o=n.validators;if(o===null)return;const a=e===0?t.join(Vs):t.slice(e).join(Vs),l=o.length;for(let c=0;c<l;c++){const u=o[c];if(u.validator(a))return u.classGroupId}},$g=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?Ng+r:void 0})(),Hg=t=>{const{theme:e,classGroups:n}=t;return Wg(n,e)},Wg=(t,e)=>{const n=Yd();for(const r in t){const i=t[r];sl(i,n,r,e)}return n},sl=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const o=t[s];zg(o,e,n,r)}},zg=(t,e,n,r)=>{if(typeof t=="string"){Vg(t,e,n);return}if(typeof t=="function"){jg(t,e,n,r);return}Ug(t,e,n,r)},Vg=(t,e,n)=>{const r=t===""?e:Kd(e,t);r.classGroupId=n},jg=(t,e,n,r)=>{if(Yg(t)){sl(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Bg(n,t))},Ug=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];sl(l,Kd(e,a),n,r)}},Kd=(t,e)=>{let n=t;const r=e.split(Vs),i=r.length;for(let s=0;s<i;s++){const o=r[s];let a=n.nextPart.get(o);a||(a=Yd(),n.nextPart.set(o,a)),n=a}return n},Yg=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Xg=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,o)=>{n[s]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let o=n[s];if(o!==void 0)return o;if((o=r[s])!==void 0)return i(s,o),o},set(s,o){s in n?n[s]=o:i(s,o)}}},Sa="!",Pc=":",Kg=[],Tc=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),qg=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,c;const u=i.length;for(let g=0;g<u;g++){const y=i[g];if(o===0&&a===0){if(y===Pc){s.push(i.slice(l,g)),l=g+1;continue}if(y==="/"){c=g;continue}}y==="["?o++:y==="]"?o--:y==="("?a++:y===")"&&a--}const d=s.length===0?i:i.slice(l);let h=d,f=!1;d.endsWith(Sa)?(h=d.slice(0,-1),f=!0):d.startsWith(Sa)&&(h=d.slice(1),f=!0);const p=c&&c>l?c-l:void 0;return Tc(s,f,h,p)};if(e){const i=e+Pc,s=r;r=o=>o.startsWith(i)?s(o.slice(i.length)):Tc(Kg,!1,o,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},Jg=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const o=n[s],a=o[0]==="[",l=e.has(o);a||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},Qg=t=>({cache:Xg(t.cacheSize),parseClassName:qg(t),sortModifiers:Jg(t),...Gg(t)}),Zg=/\s+/,em=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(Zg);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let y=!!g,m=r(y?p.substring(0,g):p);if(!m){if(!y){l=u+(l.length>0?" "+l:l);continue}if(m=r(p),!m){l=u+(l.length>0?" "+l:l);continue}y=!1}const b=h.length===0?"":h.length===1?h[0]:s(h).join(":"),v=f?b+Sa:b,w=v+m;if(o.indexOf(w)>-1)continue;o.push(w);const C=i(m,y);for(let R=0;R<C.length;++R){const O=C[R];o.push(v+O)}l=u+(l.length>0?" "+l:l)}return l},tm=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=qd(n))&&(i&&(i+=" "),i+=r);return i},qd=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=qd(t[r]))&&(n&&(n+=" "),n+=e);return n},nm=(t,...e)=>{let n,r,i,s;const o=l=>{const c=e.reduce((u,d)=>d(u),t());return n=Qg(c),r=n.cache.get,i=n.cache.set,s=a,a(l)},a=l=>{const c=r(l);if(c)return c;const u=em(l,n);return i(l,u),u};return s=o,(...l)=>s(tm(...l))},rm=[],Ue=t=>{const e=n=>n[t]||rm;return e.isThemeGetter=!0,e},Jd=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Qd=/^\((?:(\w[\w-]*):)?(.+)\)$/i,im=/^\d+\/\d+$/,sm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,om=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,am=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,lm=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_r=t=>im.test(t),we=t=>!!t&&!Number.isNaN(Number(t)),En=t=>!!t&&Number.isInteger(Number(t)),zo=t=>t.endsWith("%")&&we(t.slice(0,-1)),ln=t=>sm.test(t),um=()=>!0,dm=t=>om.test(t)&&!am.test(t),Zd=()=>!1,hm=t=>lm.test(t),fm=t=>cm.test(t),pm=t=>!le(t)&&!ce(t),gm=t=>jr(t,nh,Zd),le=t=>Jd.test(t),qn=t=>jr(t,rh,dm),Vo=t=>jr(t,wm,we),kc=t=>jr(t,eh,Zd),mm=t=>jr(t,th,fm),ns=t=>jr(t,ih,hm),ce=t=>Qd.test(t),ti=t=>Ur(t,rh),ym=t=>Ur(t,_m),Oc=t=>Ur(t,eh),vm=t=>Ur(t,nh),bm=t=>Ur(t,th),rs=t=>Ur(t,ih,!0),jr=(t,e,n)=>{const r=Jd.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ur=(t,e,n=!1)=>{const r=Qd.exec(t);return r?r[1]?e(r[1]):n:!1},eh=t=>t==="position"||t==="percentage",th=t=>t==="image"||t==="url",nh=t=>t==="length"||t==="size"||t==="bg-size",rh=t=>t==="length",wm=t=>t==="number",_m=t=>t==="family-name",ih=t=>t==="shadow",xm=()=>{const t=Ue("color"),e=Ue("font"),n=Ue("text"),r=Ue("font-weight"),i=Ue("tracking"),s=Ue("leading"),o=Ue("breakpoint"),a=Ue("container"),l=Ue("spacing"),c=Ue("radius"),u=Ue("shadow"),d=Ue("inset-shadow"),h=Ue("text-shadow"),f=Ue("drop-shadow"),p=Ue("blur"),g=Ue("perspective"),y=Ue("aspect"),m=Ue("ease"),b=Ue("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...w(),ce,le],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],A=()=>[ce,le,l],T=()=>[_r,"full","auto",...A()],k=()=>[En,"none","subgrid",ce,le],$=()=>["auto",{span:["full",En,ce,le]},En,ce,le],B=()=>[En,"auto",ce,le],se=()=>["auto","min","max","fr",ce,le],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],j=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...A()],J=()=>[_r,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],M=()=>[t,ce,le],X=()=>[...w(),Oc,kc,{position:[ce,le]}],de=()=>["no-repeat",{repeat:["","x","y","space","round"]}],he=()=>["auto","cover","contain",vm,gm,{size:[ce,le]}],be=()=>[zo,ti,qn],Ae=()=>["","none","full",c,ce,le],Ke=()=>["",we,ti,qn],mr=()=>["solid","dashed","dotted","double"],An=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],He=()=>[we,zo,Oc,kc],yr=()=>["","none",p,ce,le],Yn=()=>["none",we,ce,le],zt=()=>["none",we,ce,le],Ki=()=>[we,ce,le],S=()=>[_r,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ln],breakpoint:[ln],color:[um],container:[ln],"drop-shadow":[ln],ease:["in","out","in-out"],font:[pm],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ln],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ln],shadow:[ln],spacing:["px",we],text:[ln],"text-shadow":[ln],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_r,le,ce,y]}],container:["container"],columns:[{columns:[we,le,ce,a]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[En,"auto",ce,le]}],basis:[{basis:[_r,"full","auto",a,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[we,_r,"auto","initial","none",le]}],grow:[{grow:["",we,ce,le]}],shrink:[{shrink:["",we,ce,le]}],order:[{order:[En,"first","last","none",ce,le]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...j(),"normal"]}],"justify-self":[{"justify-self":["auto",...j()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...j(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...j(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...j(),"baseline"]}],"place-self":[{"place-self":["auto",...j()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[a,"screen",...J()]}],"min-w":[{"min-w":[a,"screen","none",...J()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",n,ti,qn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ce,Vo]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zo,le]}],"font-family":[{font:[ym,le,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ce,le]}],"line-clamp":[{"line-clamp":[we,"none",ce,Vo]}],leading:[{leading:[s,...A()]}],"list-image":[{"list-image":["none",ce,le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...mr(),"wavy"]}],"text-decoration-thickness":[{decoration:[we,"from-font","auto",ce,qn]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[we,"auto",ce,le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:de()}],"bg-size":[{bg:he()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},En,ce,le],radial:["",ce,le],conic:[En,ce,le]},bm,mm]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:be()}],"gradient-via-pos":[{via:be()}],"gradient-to-pos":[{to:be()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:Ae()}],"rounded-s":[{"rounded-s":Ae()}],"rounded-e":[{"rounded-e":Ae()}],"rounded-t":[{"rounded-t":Ae()}],"rounded-r":[{"rounded-r":Ae()}],"rounded-b":[{"rounded-b":Ae()}],"rounded-l":[{"rounded-l":Ae()}],"rounded-ss":[{"rounded-ss":Ae()}],"rounded-se":[{"rounded-se":Ae()}],"rounded-ee":[{"rounded-ee":Ae()}],"rounded-es":[{"rounded-es":Ae()}],"rounded-tl":[{"rounded-tl":Ae()}],"rounded-tr":[{"rounded-tr":Ae()}],"rounded-br":[{"rounded-br":Ae()}],"rounded-bl":[{"rounded-bl":Ae()}],"border-w":[{border:Ke()}],"border-w-x":[{"border-x":Ke()}],"border-w-y":[{"border-y":Ke()}],"border-w-s":[{"border-s":Ke()}],"border-w-e":[{"border-e":Ke()}],"border-w-t":[{"border-t":Ke()}],"border-w-r":[{"border-r":Ke()}],"border-w-b":[{"border-b":Ke()}],"border-w-l":[{"border-l":Ke()}],"divide-x":[{"divide-x":Ke()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ke()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...mr(),"hidden","none"]}],"divide-style":[{divide:[...mr(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...mr(),"none","hidden"]}],"outline-offset":[{"outline-offset":[we,ce,le]}],"outline-w":[{outline:["",we,ti,qn]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",u,rs,ns]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",d,rs,ns]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:Ke()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[we,qn]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":Ke()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",h,rs,ns]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[we,ce,le]}],"mix-blend":[{"mix-blend":[...An(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":An()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[we]}],"mask-image-linear-from-pos":[{"mask-linear-from":He()}],"mask-image-linear-to-pos":[{"mask-linear-to":He()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":He()}],"mask-image-t-to-pos":[{"mask-t-to":He()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":He()}],"mask-image-r-to-pos":[{"mask-r-to":He()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":He()}],"mask-image-b-to-pos":[{"mask-b-to":He()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":He()}],"mask-image-l-to-pos":[{"mask-l-to":He()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":He()}],"mask-image-x-to-pos":[{"mask-x-to":He()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":He()}],"mask-image-y-to-pos":[{"mask-y-to":He()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[ce,le]}],"mask-image-radial-from-pos":[{"mask-radial-from":He()}],"mask-image-radial-to-pos":[{"mask-radial-to":He()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[we]}],"mask-image-conic-from-pos":[{"mask-conic-from":He()}],"mask-image-conic-to-pos":[{"mask-conic-to":He()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:de()}],"mask-size":[{mask:he()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,le]}],filter:[{filter:["","none",ce,le]}],blur:[{blur:yr()}],brightness:[{brightness:[we,ce,le]}],contrast:[{contrast:[we,ce,le]}],"drop-shadow":[{"drop-shadow":["","none",f,rs,ns]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",we,ce,le]}],"hue-rotate":[{"hue-rotate":[we,ce,le]}],invert:[{invert:["",we,ce,le]}],saturate:[{saturate:[we,ce,le]}],sepia:[{sepia:["",we,ce,le]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,le]}],"backdrop-blur":[{"backdrop-blur":yr()}],"backdrop-brightness":[{"backdrop-brightness":[we,ce,le]}],"backdrop-contrast":[{"backdrop-contrast":[we,ce,le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",we,ce,le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[we,ce,le]}],"backdrop-invert":[{"backdrop-invert":["",we,ce,le]}],"backdrop-opacity":[{"backdrop-opacity":[we,ce,le]}],"backdrop-saturate":[{"backdrop-saturate":[we,ce,le]}],"backdrop-sepia":[{"backdrop-sepia":["",we,ce,le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[we,"initial",ce,le]}],ease:[{ease:["linear","initial",m,ce,le]}],delay:[{delay:[we,ce,le]}],animate:[{animate:["none",b,ce,le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,ce,le]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:Yn()}],"rotate-x":[{"rotate-x":Yn()}],"rotate-y":[{"rotate-y":Yn()}],"rotate-z":[{"rotate-z":Yn()}],scale:[{scale:zt()}],"scale-x":[{"scale-x":zt()}],"scale-y":[{"scale-y":zt()}],"scale-z":[{"scale-z":zt()}],"scale-3d":["scale-3d"],skew:[{skew:Ki()}],"skew-x":[{"skew-x":Ki()}],"skew-y":[{"skew-y":Ki()}],transform:[{transform:[ce,le,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:S()}],"translate-x":[{"translate-x":S()}],"translate-y":[{"translate-y":S()}],"translate-z":[{"translate-z":S()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,le]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[we,ti,qn,Vo]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Sm=nm(xm);function $t(...t){return Sm(Ud(t))}const Cm=["top","right","bottom","left"],Nn=Math.min,wt=Math.max,js=Math.round,is=Math.floor,Qt=t=>({x:t,y:t}),Am={left:"right",right:"left",bottom:"top",top:"bottom"},Em={start:"end",end:"start"};function Ca(t,e,n){return wt(t,Nn(e,n))}function yn(t,e){return typeof t=="function"?t(e):t}function vn(t){return t.split("-")[0]}function Yr(t){return t.split("-")[1]}function ol(t){return t==="x"?"y":"x"}function al(t){return t==="y"?"height":"width"}const Pm=new Set(["top","bottom"]);function qt(t){return Pm.has(vn(t))?"y":"x"}function ll(t){return ol(qt(t))}function Tm(t,e,n){n===void 0&&(n=!1);const r=Yr(t),i=ll(t),s=al(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Us(o)),[o,Us(o)]}function km(t){const e=Us(t);return[Aa(t),e,Aa(e)]}function Aa(t){return t.replace(/start|end/g,e=>Em[e])}const Rc=["left","right"],Mc=["right","left"],Om=["top","bottom"],Rm=["bottom","top"];function Mm(t,e,n){switch(t){case"top":case"bottom":return n?e?Mc:Rc:e?Rc:Mc;case"left":case"right":return e?Om:Rm;default:return[]}}function Im(t,e,n,r){const i=Yr(t);let s=Mm(vn(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Aa)))),s}function Us(t){return t.replace(/left|right|bottom|top/g,e=>Am[e])}function Lm(t){return{top:0,right:0,bottom:0,left:0,...t}}function sh(t){return typeof t!="number"?Lm(t):{top:t,right:t,bottom:t,left:t}}function Ys(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Ic(t,e,n){let{reference:r,floating:i}=t;const s=qt(e),o=ll(e),a=al(o),l=vn(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Yr(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}const Dm=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=Ic(c,r,l),h=r,f={},p=0;for(let g=0;g<a.length;g++){const{name:y,fn:m}=a[g],{x:b,y:v,data:w,reset:C}=await m({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=b??u,d=v??d,f={...f,[y]:{...f[y],...w}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:u,y:d}=Ic(c,h,l)),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function Li(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=yn(e,t),p=sh(f),y=a[h?d==="floating"?"reference":"floating":d],m=Ys(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},C=Ys(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:v,strategy:l}):b);return{top:(m.top-C.top+p.top)/w.y,bottom:(C.bottom-m.bottom+p.bottom)/w.y,left:(m.left-C.left+p.left)/w.x,right:(C.right-m.right+p.right)/w.x}}const Fm=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=yn(t,e)||{};if(c==null)return{};const d=sh(u),h={x:n,y:r},f=ll(i),p=al(f),g=await o.getDimensions(c),y=f==="y",m=y?"top":"left",b=y?"bottom":"right",v=y?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[f]-h[f]-s.floating[p],C=h[f]-s.reference[f],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let O=R?R[v]:0;(!O||!await(o.isElement==null?void 0:o.isElement(R)))&&(O=a.floating[v]||s.floating[p]);const A=w/2-C/2,T=O/2-g[p]/2-1,k=Nn(d[m],T),$=Nn(d[b],T),B=k,se=O-g[p]-$,F=O/2-g[p]/2+A,j=Ca(B,F,se),L=!l.arrow&&Yr(i)!=null&&F!==j&&s.reference[p]/2-(F<B?k:$)-g[p]/2<0,J=L?F<B?F-B:F-se:0;return{[f]:h[f]+J,data:{[f]:j,centerOffset:F-j-J,...L&&{alignmentOffset:J}},reset:L}}}),Bm=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...y}=yn(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=vn(i),b=qt(a),v=vn(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(v||!g?[Us(a)]:km(a)),R=p!=="none";!h&&R&&C.push(...Im(a,g,p,w));const O=[a,...C],A=await Li(e,y),T=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&T.push(A[m]),d){const F=Tm(i,o,w);T.push(A[F[0]],A[F[1]])}if(k=[...k,{placement:i,overflows:T}],!T.every(F=>F<=0)){var $,B;const F=((($=s.flip)==null?void 0:$.index)||0)+1,j=O[F];if(j&&(!(d==="alignment"?b!==qt(j):!1)||k.every(M=>qt(M.placement)===b?M.overflows[0]>0:!0)))return{data:{index:F,overflows:k},reset:{placement:j}};let L=(B=k.filter(J=>J.overflows[0]<=0).sort((J,M)=>J.overflows[1]-M.overflows[1])[0])==null?void 0:B.placement;if(!L)switch(f){case"bestFit":{var se;const J=(se=k.filter(M=>{if(R){const X=qt(M.placement);return X===b||X==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(X=>X>0).reduce((X,de)=>X+de,0)]).sort((M,X)=>M[1]-X[1])[0])==null?void 0:se[0];J&&(L=J);break}case"initialPlacement":L=a;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function Lc(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Dc(t){return Cm.some(e=>t[e]>=0)}const Nm=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=yn(t,e);switch(r){case"referenceHidden":{const s=await Li(e,{...i,elementContext:"reference"}),o=Lc(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Dc(o)}}}case"escaped":{const s=await Li(e,{...i,altBoundary:!0}),o=Lc(s,n.floating);return{data:{escapedOffsets:o,escaped:Dc(o)}}}default:return{}}}}},oh=new Set(["left","top"]);async function Gm(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=vn(n),a=Yr(n),l=qt(n)==="y",c=oh.has(o)?-1:1,u=s&&l?-1:1,d=yn(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const $m=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Gm(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Hm=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:m,y:b}=y;return{x:m,y:b}}},...l}=yn(t,e),c={x:n,y:r},u=await Li(e,l),d=qt(vn(i)),h=ol(d);let f=c[h],p=c[d];if(s){const y=h==="y"?"top":"left",m=h==="y"?"bottom":"right",b=f+u[y],v=f-u[m];f=Ca(b,f,v)}if(o){const y=d==="y"?"top":"left",m=d==="y"?"bottom":"right",b=p+u[y],v=p-u[m];p=Ca(b,p,v)}const g=a.fn({...e,[h]:f,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[d]:o}}}}}},Wm=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=yn(t,e),u={x:n,y:r},d=qt(i),h=ol(d);let f=u[h],p=u[d];const g=yn(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const v=h==="y"?"height":"width",w=s.reference[h]-s.floating[v]+y.mainAxis,C=s.reference[h]+s.reference[v]-y.mainAxis;f<w?f=w:f>C&&(f=C)}if(c){var m,b;const v=h==="y"?"width":"height",w=oh.has(vn(i)),C=s.reference[d]-s.floating[v]+(w&&((m=o.offset)==null?void 0:m[d])||0)+(w?0:y.crossAxis),R=s.reference[d]+s.reference[v]+(w?0:((b=o.offset)==null?void 0:b[d])||0)-(w?y.crossAxis:0);p<C?p=C:p>R&&(p=R)}return{[h]:f,[d]:p}}}},zm=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=yn(t,e),u=await Li(e,c),d=vn(i),h=Yr(i),f=qt(i)==="y",{width:p,height:g}=s.floating;let y,m;d==="top"||d==="bottom"?(y=d,m=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=d,y=h==="end"?"top":"bottom");const b=g-u.top-u.bottom,v=p-u.left-u.right,w=Nn(g-u[y],b),C=Nn(p-u[m],v),R=!e.middlewareData.shift;let O=w,A=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=b),R&&!h){const k=wt(u.left,0),$=wt(u.right,0),B=wt(u.top,0),se=wt(u.bottom,0);f?A=p-2*(k!==0||$!==0?k+$:wt(u.left,u.right)):O=g-2*(B!==0||se!==0?B+se:wt(u.top,u.bottom))}await l({...e,availableWidth:A,availableHeight:O});const T=await o.getDimensions(a.floating);return p!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function vo(){return typeof window<"u"}function ur(t){return cl(t)?(t.nodeName||"").toLowerCase():"#document"}function Ct(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rn(t){var e;return(e=(cl(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cl(t){return vo()?t instanceof Node||t instanceof Ct(t).Node:!1}function Ft(t){return vo()?t instanceof Element||t instanceof Ct(t).Element:!1}function en(t){return vo()?t instanceof HTMLElement||t instanceof Ct(t).HTMLElement:!1}function Fc(t){return!vo()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ct(t).ShadowRoot}const Vm=new Set(["inline","contents"]);function Vi(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Bt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Vm.has(i)}const jm=new Set(["table","td","th"]);function Um(t){return jm.has(ur(t))}const Ym=[":popover-open",":modal"];function bo(t){return Ym.some(e=>{try{return t.matches(e)}catch{return!1}})}const Xm=["transform","translate","scale","rotate","perspective"],Km=["transform","translate","scale","rotate","perspective","filter"],qm=["paint","layout","strict","content"];function ul(t){const e=dl(),n=Ft(t)?Bt(t):t;return Xm.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Km.some(r=>(n.willChange||"").includes(r))||qm.some(r=>(n.contain||"").includes(r))}function Jm(t){let e=Gn(t);for(;en(e)&&!Gr(e);){if(ul(e))return e;if(bo(e))return null;e=Gn(e)}return null}function dl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Qm=new Set(["html","body","#document"]);function Gr(t){return Qm.has(ur(t))}function Bt(t){return Ct(t).getComputedStyle(t)}function wo(t){return Ft(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gn(t){if(ur(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Fc(t)&&t.host||rn(t);return Fc(e)?e.host:e}function ah(t){const e=Gn(t);return Gr(e)?t.ownerDocument?t.ownerDocument.body:t.body:en(e)&&Vi(e)?e:ah(e)}function Di(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ah(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ct(i);if(s){const a=Ea(o);return e.concat(o,o.visualViewport||[],Vi(i)?i:[],a&&n?Di(a):[])}return e.concat(i,Di(i,[],n))}function Ea(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lh(t){const e=Bt(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=en(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=js(n)!==s||js(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function hl(t){return Ft(t)?t:t.contextElement}function Fr(t){const e=hl(t);if(!en(e))return Qt(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=lh(e);let o=(s?js(n.width):n.width)/r,a=(s?js(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Zm=Qt(0);function ch(t){const e=Ct(t);return!dl()||!e.visualViewport?Zm:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function e1(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ct(t)?!1:e}function lr(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=hl(t);let o=Qt(1);e&&(r?Ft(r)&&(o=Fr(r)):o=Fr(t));const a=e1(s,n,r)?ch(s):Qt(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Ct(s),f=r&&Ft(r)?Ct(r):r;let p=h,g=Ea(p);for(;g&&r&&f!==p;){const y=Fr(g),m=g.getBoundingClientRect(),b=Bt(g),v=m.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,w=m.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=v,c+=w,p=Ct(g),g=Ea(p)}}return Ys({width:u,height:d,x:l,y:c})}function _o(t,e){const n=wo(t).scrollLeft;return e?e.left+n:lr(rn(t)).left+n}function uh(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-_o(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function t1(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=rn(r),a=e?bo(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Qt(1);const u=Qt(0),d=en(r);if((d||!d&&!s)&&((ur(r)!=="body"||Vi(o))&&(l=wo(r)),en(r))){const f=lr(r);c=Fr(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!d&&!s?uh(o,l):Qt(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function n1(t){return Array.from(t.getClientRects())}function r1(t){const e=rn(t),n=wo(t),r=t.ownerDocument.body,i=wt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=wt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_o(t);const a=-n.scrollTop;return Bt(r).direction==="rtl"&&(o+=wt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const Bc=25;function i1(t,e){const n=Ct(t),r=rn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=dl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=_o(r);if(c<=0){const u=r.ownerDocument,d=u.body,h=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-f);p<=Bc&&(s-=p)}else c<=Bc&&(s+=c);return{width:s,height:o,x:a,y:l}}const s1=new Set(["absolute","fixed"]);function o1(t,e){const n=lr(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=en(t)?Fr(t):Qt(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function Nc(t,e,n){let r;if(e==="viewport")r=i1(t,n);else if(e==="document")r=r1(rn(t));else if(Ft(e))r=o1(e,n);else{const i=ch(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ys(r)}function dh(t,e){const n=Gn(t);return n===e||!Ft(n)||Gr(n)?!1:Bt(n).position==="fixed"||dh(n,e)}function a1(t,e){const n=e.get(t);if(n)return n;let r=Di(t,[],!1).filter(a=>Ft(a)&&ur(a)!=="body"),i=null;const s=Bt(t).position==="fixed";let o=s?Gn(t):t;for(;Ft(o)&&!Gr(o);){const a=Bt(o),l=ul(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&s1.has(i.position)||Vi(o)&&!l&&dh(t,o))?r=r.filter(u=>u!==o):i=a,o=Gn(o)}return e.set(t,r),r}function l1(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?bo(e)?[]:a1(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=Nc(e,u,i);return c.top=wt(d.top,c.top),c.right=Nn(d.right,c.right),c.bottom=Nn(d.bottom,c.bottom),c.left=wt(d.left,c.left),c},Nc(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function c1(t){const{width:e,height:n}=lh(t);return{width:e,height:n}}function u1(t,e,n){const r=en(e),i=rn(e),s=n==="fixed",o=lr(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Qt(0);function c(){l.x=_o(i)}if(r||!r&&!s)if((ur(e)!=="body"||Vi(i))&&(a=wo(e)),r){const f=lr(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?uh(i,a):Qt(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function jo(t){return Bt(t).position==="static"}function Gc(t,e){if(!en(t)||Bt(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return rn(t)===n&&(n=n.ownerDocument.body),n}function hh(t,e){const n=Ct(t);if(bo(t))return n;if(!en(t)){let i=Gn(t);for(;i&&!Gr(i);){if(Ft(i)&&!jo(i))return i;i=Gn(i)}return n}let r=Gc(t,e);for(;r&&Um(r)&&jo(r);)r=Gc(r,e);return r&&Gr(r)&&jo(r)&&!ul(r)?n:r||Jm(t)||n}const d1=async function(t){const e=this.getOffsetParent||hh,n=this.getDimensions,r=await n(t.floating);return{reference:u1(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function h1(t){return Bt(t).direction==="rtl"}const f1={convertOffsetParentRelativeRectToViewportRelativeRect:t1,getDocumentElement:rn,getClippingRect:l1,getOffsetParent:hh,getElementRects:d1,getClientRects:n1,getDimensions:c1,getScale:Fr,isElement:Ft,isRTL:h1};function fh(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function p1(t,e){let n=null,r;const i=rn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const p=is(d),g=is(i.clientWidth-(u+h)),y=is(i.clientHeight-(d+f)),m=is(u),v={rootMargin:-p+"px "+-g+"px "+-y+"px "+-m+"px",threshold:wt(0,Nn(1,l))||1};let w=!0;function C(R){const O=R[0].intersectionRatio;if(O!==l){if(!w)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!fh(c,t.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(C,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,v)}n.observe(t)}return o(!0),s}function g1(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=hl(t),u=i||s?[...c?Di(c):[],...Di(e)]:[];u.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const d=c&&a?p1(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(m=>{let[b]=m;b&&b.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=f)==null||v.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let p,g=l?lr(t):null;l&&y();function y(){const m=lr(t);g&&!fh(g,m)&&n(),g=m,p=requestAnimationFrame(y)}return n(),()=>{var m;u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d?.(),(m=f)==null||m.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const m1=$m,y1=Hm,$c=Bm,v1=zm,b1=Nm,w1=Fm,_1=Wm,x1=(t,e,n)=>{const r=new Map,i={platform:f1,...n},s={...i.platform,_c:r};return Dm(t,e,{...i,platform:s})};function S1(t){return t!=null&&typeof t=="object"&&"$el"in t}function Pa(t){if(S1(t)){const e=t.$el;return cl(e)&&ur(e)==="#comment"?null:e}return t}function kr(t){return typeof t=="function"?t():_(t)}function C1(t){return{name:"arrow",options:t,fn(e){const n=Pa(kr(t.element));return n==null?{}:w1({element:n,padding:t.padding}).fn(e)}}}function ph(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Hc(t,e){const n=ph(t);return Math.round(e*n)/n}function A1(t,e,n){n===void 0&&(n={});const r=n.whileElementsMounted,i=U(()=>{var O;return(O=kr(n.open))!=null?O:!0}),s=U(()=>kr(n.middleware)),o=U(()=>{var O;return(O=kr(n.placement))!=null?O:"bottom"}),a=U(()=>{var O;return(O=kr(n.strategy))!=null?O:"absolute"}),l=U(()=>{var O;return(O=kr(n.transform))!=null?O:!0}),c=U(()=>Pa(t.value)),u=U(()=>Pa(e.value)),d=G(0),h=G(0),f=G(a.value),p=G(o.value),g=$i({}),y=G(!1),m=U(()=>{const O={position:f.value,left:"0",top:"0"};if(!u.value)return O;const A=Hc(u.value,d.value),T=Hc(u.value,h.value);return l.value?{...O,transform:"translate("+A+"px, "+T+"px)",...ph(u.value)>=1.5&&{willChange:"transform"}}:{position:f.value,left:A+"px",top:T+"px"}});let b;function v(){if(c.value==null||u.value==null)return;const O=i.value;x1(c.value,u.value,{middleware:s.value,placement:o.value,strategy:a.value}).then(A=>{d.value=A.x,h.value=A.y,f.value=A.strategy,p.value=A.placement,g.value=A.middlewareData,y.value=O!==!1})}function w(){typeof b=="function"&&(b(),b=void 0)}function C(){if(w(),r===void 0){v();return}if(c.value!=null&&u.value!=null){b=r(c.value,u.value,v);return}}function R(){i.value||(y.value=!1)}return xe([s,o,a,i],v,{flush:"sync"}),xe([c,u],C,{flush:"sync"}),xe(i,R,{flush:"sync"}),zr()&&Gi(w),{x:br(d),y:br(h),strategy:br(f),placement:br(p),middlewareData:br(g),isPositioned:br(y),floatingStyles:m,update:v}}function wn(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[i=>{const s=or(r,i);if(s||s===null)return s;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},i=>(el(r,i),i)]}function fl(t,e,n){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),r.dispatchEvent(i)}function E1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P1=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const nr=E1(P1);function T1(t,e){var n;const r=$i();return Et(()=>{r.value=t()},{...e,flush:(n=void 0)!=null?n:"sync"}),Nr(r)}function pl(t){return zr()?(Gi(t),!0):!1}function k1(t){let e=!1,n;const r=io(!0);return(...i)=>(e||(n=r.run(()=>t(...i)),e=!0),n)}function O1(t){let e=0,n,r;const i=()=>{e-=1,r&&e<=0&&(r.stop(),n=void 0,r=void 0)};return(...s)=>(e+=1,n||(r=io(!0),n=r.run(()=>t(...s))),pl(i),n)}function ji(t){return typeof t=="function"?t():_(t)}const Hn=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const R1=t=>typeof t<"u",M1=t=>t!=null,I1=Object.prototype.toString,L1=t=>I1.call(t)==="[object Object]",D1=()=>{},Wc=F1();function F1(){var t,e;return Hn&&((t=window?.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window?.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function B1(t){return pt()}function N1(t,e){B1()&&hd(t,e)}function Wn(t){var e;const n=ji(t);return(e=n?.$el)!=null?e:n}const xo=Hn?window:void 0;function gh(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=xo):[e,n,r,i]=t,!e)return D1;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],o=()=>{s.forEach(u=>u()),s.length=0},a=(u,d,h,f)=>(u.addEventListener(d,h,f),()=>u.removeEventListener(d,h,f)),l=xe(()=>[Wn(e),ji(i)],([u,d])=>{if(o(),!u)return;const h=L1(d)?{...d}:d;s.push(...n.flatMap(f=>r.map(p=>a(u,f,p,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return pl(c),c}function G1(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function $1(...t){let e,n,r={};t.length===3?(e=t[0],n=t[1],r=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],r=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:i=xo,eventName:s="keydown",passive:o=!1,dedupe:a=!1}=r,l=G1(e);return gh(i,s,c=>{c.repeat&&ji(a)||l(c)&&n(c)},o)}function mh(){const t=G(!1),e=pt();return e&&je(()=>{t.value=!0},e),t}function H1(t){const e=mh();return U(()=>(e.value,!!t()))}function W1(t,e,n={}){const{window:r=xo,...i}=n;let s;const o=H1(()=>r&&"MutationObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=U(()=>{const h=ji(t),f=(Array.isArray(h)?h:[h]).map(Wn).filter(M1);return new Set(f)}),c=xe(()=>l.value,h=>{a(),o.value&&h.size&&(s=new MutationObserver(e),h.forEach(f=>s.observe(f,i)))},{immediate:!0,flush:"post"}),u=()=>s?.takeRecords(),d=()=>{a(),c()};return pl(d),{isSupported:o,stop:d,takeRecords:u}}function z1(t){return JSON.parse(JSON.stringify(t))}function ci(t,e,n,r={}){var i,s,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:h}=r,f=pt(),p=n||f?.emit||((i=f?.$emit)==null?void 0:i.bind(f))||((o=(s=f?.proxy)==null?void 0:s.$emit)==null?void 0:o.bind(f?.proxy));let g=c;e||(e="modelValue"),g=g||`update:${e.toString()}`;const y=v=>a?typeof a=="function"?a(v):z1(v):v,m=()=>R1(t[e])?y(t[e]):d,b=v=>{h?h(v)&&p(g,v):p(g,v)};if(l){const v=m(),w=G(v);let C=!1;return xe(()=>t[e],R=>{C||(C=!0,w.value=y(R),Me(()=>C=!1))}),xe(w,R=>{!C&&(R!==t[e]||u)&&b(R)},{deep:u}),w}else return U({get(){return m()},set(v){b(v)}})}function gl(t){return t?t.flatMap(e=>e.type===$e?gl(e.children):[e]):[]}function Br(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function Uo(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Ta(t,e,n=".",r){if(!Uo(e))return Ta(t,{},n);const i=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const o=t[s];o!=null&&(Array.isArray(o)&&Array.isArray(i[s])?i[s]=[...o,...i[s]]:Uo(o)&&Uo(i[s])?i[s]=Ta(o,i[s],(n?`${n}.`:"")+s.toString()):i[s]=o)}return i}function V1(t){return(...e)=>e.reduce((n,r)=>Ta(n,r,""),{})}const j1=V1(),[ml]=wn("ConfigProvider");let U1="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Y1=(t=21)=>{let e="",n=t;for(;n--;)e+=U1[Math.random()*64|0];return e};const X1=O1(()=>{const t=G(new Map),e=G(),n=U(()=>{for(const o of t.value.values())if(o)return!0;return!1}),r=ml({scrollBody:G(!0)});let i=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",Wc&&i?.(),e.value=void 0};return xe(n,(o,a)=>{var l;if(!Hn)return;if(!o){a&&s();return}e.value===void 0&&(e.value=document.body.style.overflow);const c=window.innerWidth-document.documentElement.clientWidth,u={padding:c,margin:0},d=(l=r.scrollBody)!=null&&l.value?typeof r.scrollBody.value=="object"?j1({padding:r.scrollBody.value.padding===!0?c:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?c:r.scrollBody.value.margin},u):u:{padding:0,margin:0};c>0&&(document.body.style.paddingRight=typeof d.padding=="number"?`${d.padding}px`:String(d.padding),document.body.style.marginRight=typeof d.margin=="number"?`${d.margin}px`:String(d.margin),document.body.style.setProperty("--scrollbar-width",`${c}px`),document.body.style.overflow="hidden"),Wc&&(i=gh(document,"touchmove",h=>K1(h),{passive:!1})),Me(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function yh(t){const e=Y1(6),n=X1();n.value.set(e,t??!1);const r=U({get:()=>n.value.get(e)??!1,set:i=>n.value.set(e,i)});return N1(()=>{n.value.delete(e)}),r}function vh(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:vh(n)}}function K1(t){const e=t||window.event,n=e.target;return n instanceof Element&&vh(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.cancelable&&e.preventDefault(),!1)}function q1(t){const e=ml({dir:G("ltr")});return U(()=>{var n;return t?.value||((n=e.dir)==null?void 0:n.value)||"ltr"})}function J1(t){const e=pt(),n=e?.type.emits,r={};return n!=null&&n.length||console.warn(`No emitted event found. Please check component: ${e?.type.__name}`),n?.forEach(i=>{r[xs(yt(i))]=(...s)=>t(i,...s)}),r}let Yo=0;function Q1(){Et(t=>{if(!Hn)return;const e=document.querySelectorAll("[data-radix-focus-guard]");document.body.insertAdjacentElement("afterbegin",e[0]??zc()),document.body.insertAdjacentElement("beforeend",e[1]??zc()),Yo++,t(()=>{Yo===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Yo--})})}function zc(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function Z1(t){return U(()=>{var e;return ji(t)?!!((e=Wn(t))!=null&&e.closest("form")):!0})}function So(t){const e=pt(),n=Object.keys(e?.type.props??{}).reduce((i,s)=>{const o=(e?.type.props[s]).default;return o!==void 0&&(i[s]=o),i},{}),r=Zu(t);return U(()=>{const i={},s=e?.vnode.props??{};return Object.keys(s).forEach(o=>{i[yt(o)]=s[o]}),Object.keys({...n,...i}).reduce((o,a)=>(r.value[a]!==void 0&&(o[a]=r.value[a]),o),{})})}function _n(t,e){const n=So(t),r=e?J1(e):{};return U(()=>({...n.value,...r}))}function rt(){const t=pt(),e=G(),n=U(()=>{var o,a;return["#text","#comment"].includes((o=e.value)==null?void 0:o.$el.nodeName)?(a=e.value)==null?void 0:a.$el.nextElementSibling:Wn(e)}),r=Object.assign({},t.exposed),i={};for(const o in t.props)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>r[o]});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=i;function s(o){e.value=o,o&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=i)}return{forwardRef:s,currentRef:e,currentElement:n}}var e2=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xr=new WeakMap,ss=new WeakMap,os={},Xo=0,bh=function(t){return t&&(t.host||bh(t.parentNode))},t2=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=bh(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},n2=function(t,e,n,r){var i=t2(e,Array.isArray(t)?t:[t]);os[n]||(os[n]=new WeakMap);var s=os[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var f=h.getAttribute(r),p=f!==null&&f!=="false",g=(xr.get(h)||0)+1,y=(s.get(h)||0)+1;xr.set(h,g),s.set(h,y),o.push(h),g===1&&p&&ss.set(h,!0),y===1&&h.setAttribute(n,"true"),p||h.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return u(e),a.clear(),Xo++,function(){o.forEach(function(d){var h=xr.get(d)-1,f=s.get(d)-1;xr.set(d,h),s.set(d,f),h||(ss.has(d)||d.removeAttribute(r),ss.delete(d)),f||d.removeAttribute(n)}),Xo--,Xo||(xr=new WeakMap,xr=new WeakMap,ss=new WeakMap,os={})}},r2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e2(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),n2(r,i,n,"aria-hidden")):function(){return null}};function wh(t){let e;xe(()=>Wn(t),n=>{n?e=r2(n):e&&e()}),Gt(()=>{e&&e()})}let i2=0;function Fi(t,e="radix"){const n=ml({useId:void 0});return Yl?`${e}-${Yl()}`:n.useId?`${e}-${n.useId()}`:`${e}-${++i2}`}function s2(t){const e=G(),n=U(()=>{var i;return((i=e.value)==null?void 0:i.width)??0}),r=U(()=>{var i;return((i=e.value)==null?void 0:i.height)??0});return je(()=>{const i=Wn(t);if(i){e.value={width:i.offsetWidth,height:i.offsetHeight};const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,c;if("borderBoxSize"in a){const u=a.borderBoxSize,d=Array.isArray(u)?u[0]:u;l=d.inlineSize,c=d.blockSize}else l=i.offsetWidth,c=i.offsetHeight;e.value={width:l,height:c}});return s.observe(i,{box:"border-box"}),()=>s.unobserve(i)}else e.value=void 0}),{width:n,height:r}}function o2(t,e){const n=G(t);function r(i){return e[n.value][i]??n.value}return{state:n,dispatch:i=>{n.value=r(i)}}}const yl=ie({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{var r,i;if(!n.default)return null;const s=gl(n.default()),o=s.findIndex(u=>u.type!==Dt);if(o===-1)return s;const a=s[o];(r=a.props)==null||delete r.ref;const l=a.props?_e(e,a.props):e;e.class&&(i=a.props)!=null&&i.class&&delete a.props.class;const c=Bn(a,l);for(const u in l)u.startsWith("on")&&(c.props||(c.props={}),c.props[u]=l[u]);return s.length===1?c:(s[o]=c,s)}}}),lt=ie({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&["area","img","input"].includes(r)?()=>St(r,e):r!=="template"?()=>St(t.as,e,{default:n.default}):()=>St(yl,e,{default:n.default})}});function _h(){const t=G(),e=U(()=>{var n,r;return["#text","#comment"].includes((n=t.value)==null?void 0:n.$el.nodeName)?(r=t.value)==null?void 0:r.$el.nextElementSibling:Wn(t)});return{primitiveElement:t,currentElement:e}}function a2(t,e){var n;const r=G({}),i=G("none"),s=G(t),o=t.value?"mounted":"unmounted";let a;const l=((n=e.value)==null?void 0:n.ownerDocument.defaultView)??xo,{state:c,dispatch:u}=o2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),d=y=>{var m;if(Hn){const b=new CustomEvent(y,{bubbles:!1,cancelable:!1});(m=e.value)==null||m.dispatchEvent(b)}};xe(t,async(y,m)=>{var b;const v=m!==y;if(await Me(),v){const w=i.value,C=as(e.value);y?(u("MOUNT"),d("enter"),C==="none"&&d("after-enter")):C==="none"||((b=r.value)==null?void 0:b.display)==="none"?(u("UNMOUNT"),d("leave"),d("after-leave")):m&&w!==C?(u("ANIMATION_OUT"),d("leave")):(u("UNMOUNT"),d("after-leave"))}},{immediate:!0});const h=y=>{const m=as(e.value),b=m.includes(y.animationName),v=c.value==="mounted"?"enter":"leave";if(y.target===e.value&&b&&(d(`after-${v}`),u("ANIMATION_END"),!s.value)){const w=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",a=l?.setTimeout(()=>{var C;((C=e.value)==null?void 0:C.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=w)})}y.target===e.value&&m==="none"&&u("ANIMATION_END")},f=y=>{y.target===e.value&&(i.value=as(e.value))},p=xe(e,(y,m)=>{y?(r.value=getComputedStyle(y),y.addEventListener("animationstart",f),y.addEventListener("animationcancel",h),y.addEventListener("animationend",h)):(u("ANIMATION_END"),a!==void 0&&l?.clearTimeout(a),m?.removeEventListener("animationstart",f),m?.removeEventListener("animationcancel",h),m?.removeEventListener("animationend",h))},{immediate:!0}),g=xe(c,()=>{const y=as(e.value);i.value=c.value==="mounted"?y:"none"});return Gt(()=>{p(),g()}),{isPresent:U(()=>["mounted","unmountSuspended"].includes(c.value))}}function as(t){return t&&getComputedStyle(t).animationName||"none"}const xh=ie({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){var r;const{present:i,forceMount:s}=nn(t),o=G(),{isPresent:a}=a2(i,o);n({present:a});let l=e.default({present:a});l=gl(l||[]);const c=pt();if(l&&l?.length>1){const u=(r=c?.parent)!=null&&r.type.name?`<${c.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(d=>`  - ${d}`).join(`
`)].join(`
`))}return()=>s.value||i.value||a.value?St(e.default({present:a})[0],{ref:u=>{const d=Wn(u);return typeof d?.hasAttribute>"u"||(d!=null&&d.hasAttribute("data-radix-popper-content-wrapper")?o.value=d.firstElementChild:o.value=d),d}}):null}}),l2=ie({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=mh();return(n,r)=>_(e)||n.forceMount?(I(),ae(Sp,{key:0,to:n.to,disabled:n.disabled},[pe(n.$slots,"default")],8,["to","disabled"])):Ne("",!0)}}),c2="dismissableLayer.pointerDownOutside",u2="dismissableLayer.focusOutside";function Sh(t,e){const n=e.closest("[data-dismissable-layer]"),r=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),i=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&r===n||i.indexOf(r)<i.indexOf(n))}function d2(t,e){var n;const r=((n=e?.value)==null?void 0:n.ownerDocument)??globalThis?.document,i=G(!1),s=G(()=>{});return Et(o=>{if(!Hn)return;const a=async c=>{const u=c.target;if(e!=null&&e.value){if(Sh(e.value,u)){i.value=!1;return}if(c.target&&!i.value){let d=function(){fl(c2,t,h)};const h={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",s.value),s.value=d,r.addEventListener("click",s.value,{once:!0})):d()}else r.removeEventListener("click",s.value);i.value=!1}},l=window.setTimeout(()=>{r.addEventListener("pointerdown",a)},0);o(()=>{window.clearTimeout(l),r.removeEventListener("pointerdown",a),r.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>i.value=!0}}function h2(t,e){var n;const r=((n=e?.value)==null?void 0:n.ownerDocument)??globalThis?.document,i=G(!1);return Et(s=>{if(!Hn)return;const o=async a=>{e!=null&&e.value&&(await Me(),!(!e.value||Sh(e.value,a.target))&&a.target&&!i.value&&fl(u2,t,{originalEvent:a}))};r.addEventListener("focusin",o),s(()=>r.removeEventListener("focusin",o))}),{onFocusCapture:()=>i.value=!0,onBlurCapture:()=>i.value=!1}}const cn=Vr({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ch=ie({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:i,currentElement:s}=rt(),o=U(()=>{var p;return((p=s.value)==null?void 0:p.ownerDocument)??globalThis.document}),a=U(()=>cn.layersRoot),l=U(()=>s.value?Array.from(a.value).indexOf(s.value):-1),c=U(()=>cn.layersWithOutsidePointerEventsDisabled.size>0),u=U(()=>{const p=Array.from(a.value),[g]=[...cn.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g);return l.value>=y}),d=d2(async p=>{const g=[...cn.branches].some(y=>y?.contains(p.target));!u.value||g||(r("pointerDownOutside",p),r("interactOutside",p),await Me(),p.defaultPrevented||r("dismiss"))},s),h=h2(p=>{[...cn.branches].some(g=>g?.contains(p.target))||(r("focusOutside",p),r("interactOutside",p),p.defaultPrevented||r("dismiss"))},s);$1("Escape",p=>{l.value===a.value.size-1&&(r("escapeKeyDown",p),p.defaultPrevented||r("dismiss"))});let f;return Et(p=>{s.value&&(n.disableOutsidePointerEvents&&(cn.layersWithOutsidePointerEventsDisabled.size===0&&(f=o.value.body.style.pointerEvents,o.value.body.style.pointerEvents="none"),cn.layersWithOutsidePointerEventsDisabled.add(s.value)),a.value.add(s.value),p(()=>{n.disableOutsidePointerEvents&&cn.layersWithOutsidePointerEventsDisabled.size===1&&(o.value.body.style.pointerEvents=f)}))}),Et(p=>{p(()=>{s.value&&(a.value.delete(s.value),cn.layersWithOutsidePointerEventsDisabled.delete(s.value))})}),(p,g)=>(I(),ae(_(lt),{ref:_(i),"as-child":p.asChild,as:p.as,"data-dismissable-layer":"",style:Nt({pointerEvents:c.value?u.value?"auto":"none":void 0}),onFocusCapture:_(h).onFocusCapture,onBlurCapture:_(h).onBlurCapture,onPointerdownCapture:_(d).onPointerDownCapture},{default:ee(()=>[pe(p.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),Ko="focusScope.autoFocusOnMount",qo="focusScope.autoFocusOnUnmount",Vc={bubbles:!1,cancelable:!0};function f2(t,{select:e=!1}={}){const n=Br();for(const r of t)if(Tn(r,{select:e}),Br()!==n)return!0}function p2(t){const e=Ah(t),n=jc(e,t),r=jc(e.reverse(),t);return[n,r]}function Ah(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jc(t,e){for(const n of t)if(!g2(n,{upTo:e}))return n}function g2(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function m2(t){return t instanceof HTMLInputElement&&"select"in t}function Tn(t,{select:e=!1}={}){if(t&&t.focus){const n=Br();t.focus({preventScroll:!0}),t!==n&&m2(t)&&e&&t.select()}}const y2=k1(()=>G([]));function v2(){const t=y2();return{add(e){const n=t.value[0];e!==n&&n?.pause(),t.value=Uc(t.value,e),t.value.unshift(e)},remove(e){var n;t.value=Uc(t.value,e),(n=t.value[0])==null||n.resume()}}}function Uc(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function b2(t){return t.filter(e=>e.tagName!=="A")}const w2=ie({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:e}){const n=t,r=e,{currentRef:i,currentElement:s}=rt(),o=G(null),a=v2(),l=Vr({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});Et(u=>{if(!Hn)return;const d=s.value;if(!n.trapped)return;function h(y){if(l.paused||!d)return;const m=y.target;d.contains(m)?o.value=m:Tn(o.value,{select:!0})}function f(y){if(l.paused||!d)return;const m=y.relatedTarget;m!==null&&(d.contains(m)||Tn(o.value,{select:!0}))}function p(y){d.contains(o.value)||Tn(d)}document.addEventListener("focusin",h),document.addEventListener("focusout",f);const g=new MutationObserver(p);d&&g.observe(d,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",f),g.disconnect()})}),Et(async u=>{const d=s.value;if(await Me(),!d)return;a.add(l);const h=Br();if(!d.contains(h)){const f=new CustomEvent(Ko,Vc);d.addEventListener(Ko,p=>r("mountAutoFocus",p)),d.dispatchEvent(f),f.defaultPrevented||(f2(b2(Ah(d)),{select:!0}),Br()===h&&Tn(d))}u(()=>{d.removeEventListener(Ko,g=>r("mountAutoFocus",g));const f=new CustomEvent(qo,Vc),p=g=>{r("unmountAutoFocus",g)};d.addEventListener(qo,p),d.dispatchEvent(f),setTimeout(()=>{f.defaultPrevented||Tn(h??document.body,{select:!0}),d.removeEventListener(qo,p),a.remove(l)},0)})});function c(u){if(!n.loop&&!n.trapped||l.paused)return;const d=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,h=Br();if(d&&h){const f=u.currentTarget,[p,g]=p2(f);p&&g?!u.shiftKey&&h===g?(u.preventDefault(),n.loop&&Tn(p,{select:!0})):u.shiftKey&&h===p&&(u.preventDefault(),n.loop&&Tn(g,{select:!0})):h===f&&u.preventDefault()}}return(u,d)=>(I(),ae(_(lt),{ref_key:"currentRef",ref:i,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:c},{default:ee(()=>[pe(u.$slots,"default")]),_:3},8,["as-child","as"]))}}),[Eh,_2]=wn("PopperRoot"),Ph=ie({inheritAttrs:!1,__name:"PopperRoot",setup(t){const e=G();return _2({anchor:e,onAnchorChange:n=>e.value=n}),(n,r)=>pe(n.$slots,"default")}}),x2=ie({__name:"PopperAnchor",props:{element:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n,currentElement:r}=rt(),i=Eh();return Et(()=>{i.onAnchorChange(e.element??r.value)}),(s,o)=>(I(),ae(_(lt),{ref:_(n),as:s.as,"as-child":s.asChild},{default:ee(()=>[pe(s.$slots,"default")]),_:3},8,["as","as-child"]))}});function S2(t){return t!==null}function C2(t){return{name:"transformOrigin",options:t,fn(e){var n,r,i;const{placement:s,rects:o,middlewareData:a}=e,l=((n=a.arrow)==null?void 0:n.centerOffset)!==0,c=l?0:t.arrowWidth,u=l?0:t.arrowHeight,[d,h]=ka(s),f={start:"0%",center:"50%",end:"100%"}[h],p=(((r=a.arrow)==null?void 0:r.x)??0)+c/2,g=(((i=a.arrow)==null?void 0:i.y)??0)+u/2;let y="",m="";return d==="bottom"?(y=l?f:`${p}px`,m=`${-u}px`):d==="top"?(y=l?f:`${p}px`,m=`${o.floating.height+u}px`):d==="right"?(y=`${-u}px`,m=l?f:`${g}px`):d==="left"&&(y=`${o.floating.width+u}px`,m=l?f:`${g}px`),{data:{x:y,y:m}}}}}function ka(t){const[e,n="center"]=t.split("-");return[e,n]}const A2={side:"bottom",sideOffset:0,align:"center",alignOffset:0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,updatePositionStrategy:"optimized",prioritizePosition:!1},[p6,E2]=wn("PopperContent"),Oa=ie({inheritAttrs:!1,__name:"PopperContent",props:Np({side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},{...A2}),emits:["placed"],setup(t,{emit:e}){const n=t,r=e,i=Eh(),{forwardRef:s,currentElement:o}=rt(),a=G(),l=G(),{width:c,height:u}=s2(l),d=U(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),h=U(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),f=U(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),p=U(()=>({padding:h.value,boundary:f.value.filter(S2),altBoundary:f.value.length>0})),g=T1(()=>[m1({mainAxis:n.sideOffset+u.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&$c({...p.value}),n.avoidCollisions&&y1({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?_1():void 0,...p.value}),!n.prioritizePosition&&n.avoidCollisions&&$c({...p.value}),v1({...p.value,apply:({elements:k,rects:$,availableWidth:B,availableHeight:se})=>{const{width:F,height:j}=$.reference,L=k.floating.style;L.setProperty("--radix-popper-available-width",`${B}px`),L.setProperty("--radix-popper-available-height",`${se}px`),L.setProperty("--radix-popper-anchor-width",`${F}px`),L.setProperty("--radix-popper-anchor-height",`${j}px`)}}),l.value&&C1({element:l.value,padding:n.arrowPadding}),C2({arrowWidth:c.value,arrowHeight:u.value}),n.hideWhenDetached&&b1({strategy:"referenceHidden",...p.value})]),{floatingStyles:y,placement:m,isPositioned:b,middlewareData:v}=A1(i.anchor,a,{strategy:"fixed",placement:d,whileElementsMounted:(...k)=>g1(...k,{animationFrame:n.updatePositionStrategy==="always"}),middleware:g}),w=U(()=>ka(m.value)[0]),C=U(()=>ka(m.value)[1]);s0(()=>{b.value&&r("placed")});const R=U(()=>{var k;return((k=v.value.arrow)==null?void 0:k.centerOffset)!==0}),O=G("");Et(()=>{o.value&&(O.value=window.getComputedStyle(o.value).zIndex)});const A=U(()=>{var k;return((k=v.value.arrow)==null?void 0:k.x)??0}),T=U(()=>{var k;return((k=v.value.arrow)==null?void 0:k.y)??0});return E2({placedSide:w,onArrowChange:k=>l.value=k,arrowX:A,arrowY:T,shouldHideArrow:R}),(k,$)=>{var B,se,F;return I(),ue("div",{ref_key:"floatingRef",ref:a,"data-radix-popper-content-wrapper":"",style:Nt({..._(y),transform:_(b)?_(y).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O.value,"--radix-popper-transform-origin":[(B=_(v).transformOrigin)==null?void 0:B.x,(se=_(v).transformOrigin)==null?void 0:se.y].join(" "),...((F=_(v).hide)==null?void 0:F.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[ne(_(lt),_e({ref:_(s)},k.$attrs,{"as-child":n.asChild,as:k.as,"data-side":w.value,"data-align":C.value,style:{animation:_(b)?void 0:"none"}}),{default:ee(()=>[pe(k.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}}),P2=ie({__name:"VisuallyHidden",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){return rt(),(e,n)=>(I(),ae(_(lt),{as:e.as,"as-child":e.asChild,style:{position:"absolute",border:0,width:"1px",display:"inline-block",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:ee(()=>[pe(e.$slots,"default")]),_:3},8,["as","as-child"]))}}),T2=ie({__name:"VisuallyHiddenInput",props:{name:{},value:{},required:{type:Boolean},disabled:{type:Boolean}},setup(t){const e=t,n=U(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((r,i)=>typeof r=="object"?Object.entries(r).map(([s,o])=>({name:`[${i}][${e.name}][${s}]`,value:o})):{name:`[${e.name}][${i}]`,value:r}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([r,i])=>({name:`[${e.name}][${r}]`,value:i})):[]);return(r,i)=>(I(!0),ue($e,null,ar(n.value,s=>(I(),ae(P2,{key:s.name,as:"input",type:"hidden",hidden:"",readonly:"",name:s.name,value:s.value,required:r.required,disabled:r.disabled},null,8,["name","value","required","disabled"]))),128))}}),k2="data-radix-vue-collection-item",[vl,O2]=wn("CollectionProvider");function R2(t=k2){const e=G(new Map),n=G(),r=O2({collectionRef:n,itemMap:e,attrName:t}),{getItems:i}=L2(r),s=U(()=>Array.from(r.itemMap.value.values())),o=U(()=>r.itemMap.value.size);return{getItems:i,reactiveItems:s,itemMapSize:o}}const M2=ie({name:"CollectionSlot",setup(t,{slots:e}){const n=vl(),{primitiveElement:r,currentElement:i}=_h();return xe(i,()=>{n.collectionRef.value=i.value}),()=>St(yl,{ref:r},e)}}),I2=ie({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(t,{slots:e,attrs:n}){const r=vl(),{primitiveElement:i,currentElement:s}=_h();return Et(o=>{if(s.value){const a=co(s.value);r.itemMap.value.set(a,{ref:s.value,value:t.value}),o(()=>r.itemMap.value.delete(a))}}),()=>St(yl,{...n,[r.attrName]:"",ref:i},e)}});function L2(t){const e=t??vl();return{getItems:()=>{const n=e.collectionRef.value;if(!n)return[];const r=Array.from(n.querySelectorAll(`[${e.attrName}]`));return Array.from(e.itemMap.value.values()).sort((i,s)=>r.indexOf(i.ref)-r.indexOf(s.ref))}}}const[Xr,D2]=wn("ComboboxRoot"),F2=ie({__name:"ComboboxRoot",props:{modelValue:{},defaultValue:{},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},searchTerm:{},selectedValue:{},multiple:{type:Boolean},disabled:{type:Boolean},name:{},dir:{},filterFunction:{},displayValue:{},resetSearchTermOnBlur:{type:Boolean,default:!0},resetSearchTermOnSelect:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:modelValue","update:open","update:searchTerm","update:selectedValue"],setup(t,{emit:e}){const n=t,r=e,{multiple:i,disabled:s,dir:o}=nn(n),a=q1(o),l=ci(n,"searchTerm",r,{defaultValue:"",passive:n.searchTerm===void 0}),c=ci(n,"modelValue",r,{defaultValue:n.defaultValue??i.value?[]:void 0,passive:n.modelValue===void 0,deep:!0}),u=ci(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),d=ci(n,"selectedValue",r,{defaultValue:void 0,passive:n.selectedValue===void 0});async function h(X){var de,he;u.value=X,await Me(),X?(c.value&&(Array.isArray(c.value)&&i.value?d.value=(de=v().find(be=>{var Ae,Ke;return((Ke=(Ae=be.ref)==null?void 0:Ae.dataset)==null?void 0:Ke.state)==="checked"}))==null?void 0:de.value:d.value=c.value),await Me(),(he=g.value)==null||he.focus(),se()):(p.value=!1,n.resetSearchTermOnBlur&&A("blur"))}function f(X){if(Array.isArray(c.value)&&i.value){const de=c.value.findIndex(be=>nr(be,X)),he=[...c.value];de===-1?he.push(X):he.splice(de,1),c.value=he}else c.value=X,h(!1)}const p=G(!1),g=G(),y=G(),{forwardRef:m,currentElement:b}=rt(),{getItems:v,reactiveItems:w,itemMapSize:C}=R2("data-radix-vue-combobox-item"),R=G([]);xe(()=>C.value,()=>{R.value=v().map(X=>X.value)},{immediate:!0,flush:"post"});const O=U(()=>{if(p.value){if(n.filterFunction)return n.filterFunction(R.value,l.value);const X=R.value.filter(de=>typeof de=="string");if(X.length)return X.filter(de=>{var he;return de.toLowerCase().includes((he=l.value)==null?void 0:he.toLowerCase())})}return R.value});function A(X){const de=X==="blur"||X==="select"&&n.resetSearchTermOnSelect;!i.value&&c.value&&!Array.isArray(c.value)?n.displayValue?l.value=n.displayValue(c.value):typeof c.value!="object"?l.value=c.value.toString():de&&(l.value=""):de&&(l.value="")}const T=U(()=>O.value.findIndex(X=>nr(X,d.value))),k=U(()=>{var X;return(X=w.value.find(de=>nr(de.value,d.value)))==null?void 0:X.ref}),$=U(()=>JSON.stringify(c.value));xe($,async()=>{await Me(),await Me(),A("select")},{immediate:!n.searchTerm}),xe(()=>[O.value.length,l.value.length],async([X,de],[he,be])=>{await Me(),await Me(),X&&(be>de||T.value===-1)&&(d.value=O.value[0])});const B=Z1(b);function se(){var X;k.value instanceof Element&&((X=k.value)==null||X.scrollIntoView({block:"nearest"}))}function F(){k.value instanceof Element&&k.value.focus&&k.value.focus()}const j=G(!1);function L(){j.value=!0}function J(){requestAnimationFrame(()=>{j.value=!1})}async function M(X){var de;O.value.length&&d.value&&k.value instanceof Element&&(X.preventDefault(),X.stopPropagation(),j.value||(de=k.value)==null||de.click())}return D2({searchTerm:l,modelValue:c,onValueChange:f,isUserInputted:p,multiple:i,disabled:s,open:u,onOpenChange:h,filteredOptions:O,contentId:"",inputElement:g,selectedElement:k,onInputElementChange:X=>g.value=X,onInputNavigation:async X=>{const de=T.value;de===0&&X==="up"||de===O.value.length-1&&X==="down"||(de===-1&&O.value.length||X==="home"?d.value=O.value[0]:X==="end"?d.value=O.value[O.value.length-1]:d.value=O.value[X==="up"?de-1:de+1],await Me(),se(),F(),Me(()=>{var he;return(he=g.value)==null?void 0:he.focus({preventScroll:!0})}))},onInputEnter:M,onCompositionEnd:J,onCompositionStart:L,selectedValue:d,onSelectedValueChange:X=>d.value=X,parentElement:b,contentElement:y,onContentElementChange:X=>y.value=X}),(X,de)=>(I(),ae(_(Ph),null,{default:ee(()=>[ne(_(lt),_e({ref:_(m),style:{pointerEvents:_(u)?"auto":void 0},as:X.as,"as-child":X.asChild,dir:_(a)},X.$attrs),{default:ee(()=>[pe(X.$slots,"default",{open:_(u),modelValue:_(c)}),_(B)&&n.name?(I(),ae(_(T2),{key:0,name:n.name,value:_(c)},null,8,["name","value"])):Ne("",!0)]),_:3},16,["style","as","as-child","dir"])]),_:3}))}}),B2=ie({__name:"ComboboxInput",props:{type:{default:"text"},disabled:{type:Boolean},autoFocus:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},setup(t){const e=t,n=Xr(),{forwardRef:r,currentElement:i}=rt();je(()=>{const u=i.value.nodeName==="INPUT"?i.value:i.value.querySelector("input");u&&(n.onInputElementChange(u),setTimeout(()=>{e.autoFocus&&u?.focus()},1))});const s=U(()=>e.disabled||n.disabled.value||!1),o=G();o0(()=>{var u;return o.value=(u=n.selectedElement.value)==null?void 0:u.id});function a(u){n.open.value?n.onInputNavigation(u.key==="ArrowUp"?"up":"down"):n.onOpenChange(!0)}function l(u){n.open.value&&n.onInputNavigation(u.key==="Home"?"home":"end")}function c(u){var d;n.searchTerm.value=(d=u.target)==null?void 0:d.value,n.open.value||n.onOpenChange(!0),n.isUserInputted.value=!0}return(u,d)=>(I(),ae(_(lt),{ref:_(r),as:u.as,"as-child":u.asChild,type:u.type,disabled:s.value,value:_(n).searchTerm.value,"aria-expanded":_(n).open.value,"aria-controls":_(n).contentId,"aria-disabled":s.value??void 0,"aria-activedescendant":o.value,"aria-autocomplete":"list",role:"combobox",autocomplete:"false",onInput:c,onKeydown:[Ts(bt(a,["prevent"]),["down","up"]),Ts(_(n).onInputEnter,["enter"]),Ts(bt(l,["prevent"]),["home","end"])],onCompositionstart:_(n).onCompositionStart,onCompositionend:_(n).onCompositionEnd},{default:ee(()=>[pe(u.$slots,"default")]),_:3},8,["as","as-child","type","disabled","value","aria-expanded","aria-controls","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),[Th,N2]=wn("ComboboxGroup"),G2=ie({__name:"ComboboxGroup",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,{currentRef:n,currentElement:r}=rt(),i=Fi(void 0,"radix-vue-combobox-group"),s=Xr(),o=G(!1);function a(){if(!r.value)return;const l=r.value.querySelectorAll("[data-radix-vue-combobox-item]:not([data-hidden])");o.value=!!l.length}return W1(r,()=>{Me(()=>{a()})},{childList:!0}),xe(()=>s.searchTerm.value,()=>{Me(()=>{a()})},{immediate:!0}),N2({id:i}),(l,c)=>pn((I(),ae(_(lt),_e(e,{ref_key:"currentRef",ref:n,role:"group","aria-labelledby":_(i)}),{default:ee(()=>[pe(l.$slots,"default")]),_:3},16,["aria-labelledby"])),[[Fd,o.value]])}}),$2=ie({__name:"ComboboxLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t;rt();const n=Th({id:""});return(r,i)=>(I(),ae(_(lt),_e(e,{id:_(n).id}),{default:ee(()=>[pe(r.$slots,"default")]),_:3},16,["id"]))}}),[g6,H2]=wn("ComboboxContent"),W2=ie({__name:"ComboboxContentImpl",props:{position:{default:"inline"},bodyLock:{type:Boolean},dismissable:{type:Boolean,default:!0},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(t,{emit:e}){const n=t,r=e,{position:i}=nn(n),s=Xr();yh(n.bodyLock);const{forwardRef:o,currentElement:a}=rt();wh(s.parentElement);const l=U(()=>n.position==="popper"?n:{}),c=So(l.value);function u(h){s.onSelectedValueChange("")}je(()=>{s.onContentElementChange(a.value)});const d={boxSizing:"border-box","--radix-combobox-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-combobox-content-available-width":"var(--radix-popper-available-width)","--radix-combobox-content-available-height":"var(--radix-popper-available-height)","--radix-combobox-trigger-width":"var(--radix-popper-anchor-width)","--radix-combobox-trigger-height":"var(--radix-popper-anchor-height)"};return H2({position:i}),(h,f)=>(I(),ae(_(M2),null,{default:ee(()=>[h.dismissable?(I(),ae(_(Ch),{key:0,"as-child":"","disable-outside-pointer-events":h.disableOutsidePointerEvents,onDismiss:f[0]||(f[0]=p=>_(s).onOpenChange(!1)),onFocusOutside:f[1]||(f[1]=p=>{var g;(g=_(s).parentElement.value)!=null&&g.contains(p.target)&&p.preventDefault(),r("focusOutside",p)}),onInteractOutside:f[2]||(f[2]=p=>r("interactOutside",p)),onEscapeKeyDown:f[3]||(f[3]=p=>r("escapeKeyDown",p)),onPointerDownOutside:f[4]||(f[4]=p=>{var g;(g=_(s).parentElement.value)!=null&&g.contains(p.target)&&p.preventDefault(),r("pointerDownOutside",p)})},{default:ee(()=>[(I(),ae(Bs(_(i)==="popper"?_(Oa):_(lt)),_e({...h.$attrs,..._(c)},{id:_(s).contentId,ref:_(o),role:"listbox","data-state":_(s).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",..._(i)==="popper"?d:{}},onPointerleave:u}),{default:ee(()=>[pe(h.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])):(I(),ae(Bs(_(i)==="popper"?_(Oa):_(lt)),_e({key:1},{...h.$attrs,...l.value},{id:_(s).contentId,ref:_(o),role:"listbox","data-state":_(s).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",..._(i)==="popper"?d:{}},onPointerleave:u}),{default:ee(()=>[pe(h.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3}))}}),z2=ie({__name:"ComboboxContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},dismissable:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(t,{emit:e}){const n=_n(t,e),{forwardRef:r}=rt(),i=Xr();return i.contentId||(i.contentId=Fi(void 0,"radix-vue-combobox-content")),(s,o)=>(I(),ae(_(xh),{present:s.forceMount||_(i).open.value},{default:ee(()=>[ne(W2,_e({..._(n),...s.$attrs},{ref:_(r)}),{default:ee(()=>[pe(s.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),V2=ie({__name:"ComboboxEmpty",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;rt();const n=Xr(),r=U(()=>n.filteredOptions.value.length===0);return(i,s)=>r.value?(I(),ae(_(lt),no(_e({key:0},e)),{default:ee(()=>[pe(i.$slots,"default",{},()=>[ft("No options")])]),_:3},16)):Ne("",!0)}}),[m6,j2]=wn("ComboboxItem"),U2="combobox.select",Y2=ie({__name:"ComboboxItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,r=e,{disabled:i}=nn(n),s=Xr();Th({id:"",options:G([])});const{forwardRef:o}=rt(),a=U(()=>{var g,y;return s.multiple.value&&Array.isArray(s.modelValue.value)?(g=s.modelValue.value)==null?void 0:g.some(m=>nr(m,n.value)):nr((y=s.modelValue)==null?void 0:y.value,n.value)}),l=U(()=>nr(s.selectedValue.value,n.value)),c=Fi(void 0,"radix-vue-combobox-item"),u=Fi(void 0,"radix-vue-combobox-option"),d=U(()=>s.isUserInputted.value?s.searchTerm.value===""||!!s.filteredOptions.value.find(g=>nr(g,n.value)):!0);async function h(g){r("select",g),!(g!=null&&g.defaultPrevented)&&!i.value&&g&&s.onValueChange(n.value)}function f(g){if(!g)return;const y={originalEvent:g,value:n.value};fl(U2,h,y)}async function p(g){await Me(),!g.defaultPrevented&&s.onSelectedValueChange(n.value)}if(n.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");return j2({isSelected:a}),(g,y)=>(I(),ae(_(I2),{value:g.value},{default:ee(()=>[pn(ne(_(lt),{id:_(u),ref:_(o),role:"option",tabindex:"-1","aria-labelledby":_(c),"data-highlighted":l.value?"":void 0,"aria-selected":a.value,"data-state":a.value?"checked":"unchecked","aria-disabled":_(i)||void 0,"data-disabled":_(i)?"":void 0,as:g.as,"as-child":g.asChild,"data-hidden":d.value?void 0:!0,onClick:f,onPointermove:p},{default:ee(()=>[pe(g.$slots,"default",{},()=>[ft(Je(g.value),1)])]),_:3},8,["id","aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","as","as-child","data-hidden"]),[[Fd,d.value]])]),_:3},8,["value"]))}}),[Ui,X2]=wn("PopoverRoot"),K2=ie({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=e,{modal:i}=nn(n),s=ci(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),o=G(),a=G(!1);return X2({contentId:"",modal:i,open:s,onOpenChange:l=>{s.value=l},onOpenToggle:()=>{s.value=!s.value},triggerElement:o,hasCustomAnchor:a}),(l,c)=>(I(),ae(_(Ph),null,{default:ee(()=>[pe(l.$slots,"default",{open:_(s)})]),_:3}))}}),q2=ie({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=Ui(),{forwardRef:r,currentElement:i}=rt();return je(()=>{n.triggerElement.value=i.value}),(s,o)=>(I(),ae(Bs(_(n).hasCustomAnchor.value?_(lt):_(x2)),{"as-child":""},{default:ee(()=>[ne(_(lt),{ref:_(r),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":_(n).open.value,"aria-controls":_(n).contentId,"data-state":_(n).open.value?"open":"closed",as:s.as,"as-child":e.asChild,onClick:_(n).onOpenToggle},{default:ee(()=>[pe(s.$slots,"default")]),_:3},8,["type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),J2=ie({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,r)=>(I(),ae(_(l2),no(go(e)),{default:ee(()=>[pe(n.$slots,"default")]),_:3},16))}}),kh=ie({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=So(n),{forwardRef:s}=rt(),o=Ui();return Q1(),(a,l)=>(I(),ae(_(w2),{"as-child":"",loop:"",trapped:a.trapFocus,onMountAutoFocus:l[5]||(l[5]=c=>r("openAutoFocus",c)),onUnmountAutoFocus:l[6]||(l[6]=c=>r("closeAutoFocus",c))},{default:ee(()=>[ne(_(Ch),{"as-child":"","disable-outside-pointer-events":a.disableOutsidePointerEvents,onPointerDownOutside:l[0]||(l[0]=c=>r("pointerDownOutside",c)),onInteractOutside:l[1]||(l[1]=c=>r("interactOutside",c)),onEscapeKeyDown:l[2]||(l[2]=c=>r("escapeKeyDown",c)),onFocusOutside:l[3]||(l[3]=c=>r("focusOutside",c)),onDismiss:l[4]||(l[4]=c=>_(o).onOpenChange(!1))},{default:ee(()=>[ne(_(Oa),_e(_(i),{id:_(o).contentId,ref:_(s),"data-state":_(o).open.value?"open":"closed",role:"dialog",style:{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}),{default:ee(()=>[pe(a.$slots,"default")]),_:3},16,["id","data-state"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Q2=ie({__name:"PopoverContentModal",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=Ui(),s=G(!1);yh(!0);const o=_n(n,r),{forwardRef:a,currentElement:l}=rt();return wh(l),(c,u)=>(I(),ae(kh,_e(_(o),{ref:_(a),"trap-focus":_(i).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:u[0]||(u[0]=bt(d=>{var h;r("closeAutoFocus",d),s.value||(h=_(i).triggerElement.value)==null||h.focus()},["prevent"])),onPointerDownOutside:u[1]||(u[1]=d=>{r("pointerDownOutside",d);const h=d.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,p=h.button===2||f;s.value=p}),onFocusOutside:u[2]||(u[2]=bt(()=>{},["prevent"]))}),{default:ee(()=>[pe(c.$slots,"default")]),_:3},16,["trap-focus"]))}}),Z2=ie({__name:"PopoverContentNonModal",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=Ui(),s=G(!1),o=G(!1),a=_n(n,r);return(l,c)=>(I(),ae(kh,_e(_(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=u=>{var d;r("closeAutoFocus",u),u.defaultPrevented||(s.value||(d=_(i).triggerElement.value)==null||d.focus(),u.preventDefault()),s.value=!1,o.value=!1}),onInteractOutside:c[1]||(c[1]=async u=>{var d;r("interactOutside",u),u.defaultPrevented||(s.value=!0,u.detail.originalEvent.type==="pointerdown"&&(o.value=!0));const h=u.target;(d=_(i).triggerElement.value)!=null&&d.contains(h)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&o.value&&u.preventDefault()})}),{default:ee(()=>[pe(l.$slots,"default")]),_:3},16))}}),ey=ie({__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=Ui(),s=_n(n,r),{forwardRef:o}=rt();return i.contentId||(i.contentId=Fi(void 0,"radix-vue-popover-content")),(a,l)=>(I(),ae(_(xh),{present:a.forceMount||_(i).open.value},{default:ee(()=>[_(i).modal.value?(I(),ae(Q2,_e({key:0},_(s),{ref:_(o)}),{default:ee(()=>[pe(a.$slots,"default")]),_:3},16)):(I(),ae(Z2,_e({key:1},_(s),{ref:_(o)}),{default:ee(()=>[pe(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}});function ty(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}ty();const ny=ie({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;return(n,r)=>(I(),ae(_(lt),{as:t.as,"as-child":t.asChild,class:Tt(_($t)(_(ry)({variant:t.variant,size:t.size}),e.class))},{default:ee(()=>[pe(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),ry=Dg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),iy=ie({__name:"Command",props:{modelValue:{default:""},defaultValue:{},open:{type:Boolean,default:!0},defaultOpen:{type:Boolean},searchTerm:{},selectedValue:{},multiple:{type:Boolean},disabled:{type:Boolean},name:{},dir:{},filterFunction:{},displayValue:{},resetSearchTermOnBlur:{type:Boolean},resetSearchTermOnSelect:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:open","update:searchTerm","update:selectedValue"],setup(t,{emit:e}){const n=t,r=e,i=U(()=>{const{class:o,...a}=n;return a}),s=_n(i,r);return(o,a)=>(I(),ae(_(F2),_e(_(s),{class:_($t)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n.class)}),{default:ee(()=>[pe(o.$slots,"default")]),_:3},16,["class"]))}});const sy=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var ls={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const oy=({size:t,strokeWidth:e=2,absoluteStrokeWidth:n,color:r,iconNode:i,name:s,class:o,...a},{slots:l})=>St("svg",{...ls,width:t||ls.width,height:t||ls.height,stroke:r||ls.stroke,"stroke-width":n?Number(e)*24/Number(t):e,class:["lucide",`lucide-${sy(s??"icon")}`],...a},[...i.map(c=>St(...c)),...l.default?[l.default()]:[]]);const sn=(t,e)=>(n,{slots:r})=>St(oy,{...n,iconNode:e,name:t},r);const Oh=sn("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const ay=sn("ChevronsUpDownIcon",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);const ly=sn("ClipboardIcon",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);const cy=sn("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const uy=sn("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const dy=sn("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const hy=sn("RefreshCwIcon",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const fy=sn("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const py=sn("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const Rh=sn("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gy=ie({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=U(()=>{const{class:r,...i}=e;return i});return(r,i)=>(I(),ae(_(V2),_e(n.value,{class:_($t)("py-6 text-center text-sm",e.class)}),{default:ee(()=>[pe(r.$slots,"default")]),_:3},16,["class"]))}}),my=ie({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(t){const e=t,n=U(()=>{const{class:r,...i}=e;return i});return(r,i)=>(I(),ae(_(G2),_e(n.value,{class:_($t)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e.class)}),{default:ee(()=>[t.heading?(I(),ae(_($2),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:ee(()=>[ft(Je(t.heading),1)]),_:1})):Ne("",!0),pe(r.$slots,"default")]),_:3},16,["class"]))}}),yy={class:"flex items-center border-b px-3","cmdk-input-wrapper":""},vy=ie({inheritAttrs:!1,__name:"CommandInput",props:{type:{},disabled:{type:Boolean},autoFocus:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=U(()=>{const{class:i,...s}=e;return s}),r=So(n);return(i,s)=>(I(),ue("div",yy,[ne(_(fy),{class:"mr-2 h-4 w-4 shrink-0 opacity-50"}),ne(_(B2),_e({..._(r),...i.$attrs},{"auto-focus":"",class:_($t)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e.class)}),null,16,["class"])]))}}),by=ie({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(t,{emit:e}){const n=t,r=e,i=U(()=>{const{class:o,...a}=n;return a}),s=_n(i,r);return(o,a)=>(I(),ae(_(Y2),_e(_(s),{class:_($t)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.class)}),{default:ee(()=>[pe(o.$slots,"default")]),_:3},16,["class"]))}}),wy={role:"presentation"},_y=ie({__name:"CommandList",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},dismissable:{type:Boolean,default:!1},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(t,{emit:e}){const n=t,r=e,i=U(()=>{const{class:o,...a}=n;return a}),s=_n(i,r);return(o,a)=>(I(),ae(_(z2),_e(_(s),{class:_($t)("max-h-[300px] overflow-y-auto overflow-x-hidden",n.class)}),{default:ee(()=>[N("div",wy,[pe(o.$slots,"default")])]),_:3},16,["class"]))}}),xy=ie({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const i=_n(t,e);return(s,o)=>(I(),ae(_(K2),no(go(_(i))),{default:ee(()=>[pe(s.$slots,"default")]),_:3},16))}}),Sy=ie({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=U(()=>{const{class:o,...a}=n;return a}),s=_n(i,r);return(o,a)=>(I(),ae(_(J2),null,{default:ee(()=>[ne(_(ey),_e({..._(s),...o.$attrs},{class:_($t)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:ee(()=>[pe(o.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Cy=ie({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(I(),ae(_(q2),no(go(e)),{default:ee(()=>[pe(n.$slots,"default")]),_:3},16))}});var et=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},dt={searchParams:"URLSearchParams"in et,iterable:"Symbol"in et&&"iterator"in Symbol,blob:"FileReader"in et&&"Blob"in et&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in et,arrayBuffer:"ArrayBuffer"in et};function Ay(t){return t&&DataView.prototype.isPrototypeOf(t)}if(dt.arrayBuffer)var Ey=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Py=ArrayBuffer.isView||function(t){return t&&Ey.indexOf(Object.prototype.toString.call(t))>-1};function Kr(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function bl(t){return typeof t!="string"&&(t=String(t)),t}function wl(t){var e={next:function(){var n=t.shift();return{done:n===void 0,value:n}}};return dt.iterable&&(e[Symbol.iterator]=function(){return e}),e}function Ye(t){this.map={},t instanceof Ye?t.forEach(function(e,n){this.append(n,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}Ye.prototype.append=function(t,e){t=Kr(t),e=bl(e);var n=this.map[t];this.map[t]=n?n+", "+e:e};Ye.prototype.delete=function(t){delete this.map[Kr(t)]};Ye.prototype.get=function(t){return t=Kr(t),this.has(t)?this.map[t]:null};Ye.prototype.has=function(t){return this.map.hasOwnProperty(Kr(t))};Ye.prototype.set=function(t,e){this.map[Kr(t)]=bl(e)};Ye.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};Ye.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),wl(t)};Ye.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),wl(t)};Ye.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),wl(t)};dt.iterable&&(Ye.prototype[Symbol.iterator]=Ye.prototype.entries);function Jo(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function Mh(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function Ty(t){var e=new FileReader,n=Mh(e);return e.readAsArrayBuffer(t),n}function ky(t){var e=new FileReader,n=Mh(e),r=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=r?r[1]:"utf-8";return e.readAsText(t,i),n}function Oy(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function Yc(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Ih(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:dt.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:dt.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:dt.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():dt.arrayBuffer&&dt.blob&&Ay(t)?(this._bodyArrayBuffer=Yc(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):dt.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||Py(t))?this._bodyArrayBuffer=Yc(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):dt.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},dt.blob&&(this.blob=function(){var t=Jo(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=Jo(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(dt.blob)return this.blob().then(Ty);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=Jo(this);if(t)return t;if(this._bodyBlob)return ky(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Oy(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},dt.formData&&(this.formData=function(){return this.text().then(Iy)}),this.json=function(){return this.text().then(JSON.parse)},this}var Ry=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function My(t){var e=t.toUpperCase();return Ry.indexOf(e)>-1?e:t}function cr(t,e){if(!(this instanceof cr))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var n=e.body;if(t instanceof cr){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new Ye(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!n&&t._bodyInit!=null&&(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new Ye(e.headers)),this.method=My(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||(function(){if("AbortController"in et){var s=new AbortController;return s.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}cr.prototype.clone=function(){return new cr(this,{body:this._bodyInit})};function Iy(t){var e=new FormData;return t.trim().split("&").forEach(function(n){if(n){var r=n.split("="),i=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(s))}}),e}function Ly(t){var e=new Ye,n=t.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var i=r.split(":"),s=i.shift().trim();if(s){var o=i.join(":").trim();try{e.append(s,o)}catch(a){console.warn("Response "+a.message)}}}),e}Ih.call(cr.prototype);function tn(t,e){if(!(this instanceof tn))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new Ye(e.headers),this.url=e.url||"",this._initBody(t)}Ih.call(tn.prototype);tn.prototype.clone=function(){return new tn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Ye(this.headers),url:this.url})};tn.error=function(){var t=new tn(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var Dy=[301,302,303,307,308];tn.redirect=function(t,e){if(Dy.indexOf(e)===-1)throw new RangeError("Invalid status code");return new tn(null,{status:e,headers:{location:t}})};var er=et.DOMException;try{new er}catch{er=function(e,n){this.message=e,this.name=n;var r=Error(e);this.stack=r.stack},er.prototype=Object.create(Error.prototype),er.prototype.constructor=er}function Lh(t,e){return new Promise(function(n,r){var i=new cr(t,e);if(i.signal&&i.signal.aborted)return r(new er("Aborted","AbortError"));var s=new XMLHttpRequest;function o(){s.abort()}s.onload=function(){var c={statusText:s.statusText,headers:Ly(s.getAllResponseHeaders()||"")};i.url.indexOf("file://")===0&&(s.status<200||s.status>599)?c.status=200:c.status=s.status,c.url="responseURL"in s?s.responseURL:c.headers.get("X-Request-URL");var u="response"in s?s.response:s.responseText;setTimeout(function(){n(new tn(u,c))},0)},s.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},s.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"))},0)},s.onabort=function(){setTimeout(function(){r(new er("Aborted","AbortError"))},0)};function a(c){try{return c===""&&et.location.href?et.location.href:c}catch{return c}}if(s.open(i.method,a(i.url),!0),i.credentials==="include"?s.withCredentials=!0:i.credentials==="omit"&&(s.withCredentials=!1),"responseType"in s&&(dt.blob?s.responseType="blob":dt.arrayBuffer&&(s.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof Ye||et.Headers&&e.headers instanceof et.Headers)){var l=[];Object.getOwnPropertyNames(e.headers).forEach(function(c){l.push(Kr(c)),s.setRequestHeader(c,bl(e.headers[c]))}),i.headers.forEach(function(c,u){l.indexOf(u)===-1&&s.setRequestHeader(u,c)})}else i.headers.forEach(function(c,u){s.setRequestHeader(u,c)});i.signal&&(i.signal.addEventListener("abort",o),s.onreadystatechange=function(){s.readyState===4&&i.signal.removeEventListener("abort",o)}),s.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}Lh.polyfill=!0;et.fetch||(et.fetch=Lh,et.Headers=Ye,et.Request=cr,et.Response=tn);const Dh="11434",Fh=`http://127.0.0.1:${Dh}`,Fy="0.5.18";var By=Object.defineProperty,Ny=(t,e,n)=>e in t?By(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qo=(t,e,n)=>(Ny(t,typeof e!="symbol"?e+"":e,n),n);class _l extends Error{constructor(e,n){super(e),this.error=e,this.status_code=n,this.name="ResponseError",Error.captureStackTrace&&Error.captureStackTrace(this,_l)}}class Gy{constructor(e,n,r){Qo(this,"abortController"),Qo(this,"itr"),Qo(this,"doneCallback"),this.abortController=e,this.itr=n,this.doneCallback=r}abort(){this.abortController.abort()}async*[Symbol.asyncIterator](){for await(const e of this.itr){if("error"in e)throw new Error(e.error);if(yield e,e.done||e.status==="success"){this.doneCallback();return}}throw new Error("Did not receive done or success response in stream.")}}const xl=async t=>{if(t.ok)return;let e=`Error ${t.status}: ${t.statusText}`,n=null;if(t.headers.get("content-type")?.includes("application/json"))try{n=await t.json(),e=n.error||e}catch{console.log("Failed to parse error response as JSON")}else try{console.log("Getting text from response"),e=await t.text()||e}catch{console.log("Failed to get text from error response")}throw new _l(e,t.status)};function $y(){if(typeof window<"u"&&window.navigator){const t=navigator;return"userAgentData"in t&&t.userAgentData?.platform?`${t.userAgentData.platform.toLowerCase()} Browser/${navigator.userAgent};`:navigator.platform?`${navigator.platform.toLowerCase()} Browser/${navigator.userAgent};`:`unknown Browser/${navigator.userAgent};`}else if(typeof process<"u")return`${process.arch} ${process.platform} Node.js/${process.version}`;return""}function Hy(t){if(t instanceof Headers){const e={};return t.forEach((n,r)=>{e[r]=n}),e}else return Array.isArray(t)?Object.fromEntries(t):t||{}}const Sl=async(t,e,n={})=>{const r={"Content-Type":"application/json",Accept:"application/json","User-Agent":`ollama-js/${Fy} (${$y()})`};n.headers=Hy(n.headers);const i=Object.fromEntries(Object.entries(n.headers).filter(([s])=>!Object.keys(r).some(o=>o.toLowerCase()===s.toLowerCase())));return n.headers={...r,...i},t(e,n)},Xc=async(t,e,n)=>{const r=await Sl(t,e,{headers:n?.headers});return await xl(r),r},Sr=async(t,e,n,r)=>{const s=(a=>a!==null&&typeof a=="object"&&!Array.isArray(a))(n)?JSON.stringify(n):n,o=await Sl(t,e,{method:"POST",body:s,signal:r?.signal,headers:r?.headers});return await xl(o),o},Wy=async(t,e,n,r)=>{const i=await Sl(t,e,{method:"DELETE",body:JSON.stringify(n),headers:r?.headers});return await xl(i),i},zy=async function*(t){const e=new TextDecoder("utf-8");let n="";const r=t.getReader();for(;;){const{done:i,value:s}=await r.read();if(i)break;n+=e.decode(s);const o=n.split(`
`);n=o.pop()??"";for(const a of o)try{yield JSON.parse(a)}catch{console.warn("invalid json: ",a)}}for(const i of n.split(`
`).filter(s=>s!==""))try{yield JSON.parse(i)}catch{console.warn("invalid json: ",i)}},Vy=t=>{if(!t)return Fh;let e=t.includes("://");t.startsWith(":")&&(t=`http://127.0.0.1${t}`,e=!0),e||(t=`http://${t}`);const n=new URL(t);let r=n.port;r||(e?r=n.protocol==="https:"?"443":"80":r=Dh);let i="";n.username&&(i=n.username,n.password&&(i+=`:${n.password}`),i+="@");let s=`${n.protocol}//${i}${n.hostname}:${r}${n.pathname}`;return s.endsWith("/")&&(s=s.slice(0,-1)),s};var jy=Object.defineProperty,Uy=(t,e,n)=>e in t?jy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zo=(t,e,n)=>(Uy(t,typeof e!="symbol"?e+"":e,n),n);let Ra=class{constructor(e){Zo(this,"config"),Zo(this,"fetch"),Zo(this,"ongoingStreamedRequests",[]),this.config={host:"",headers:e?.headers},e?.proxy||(this.config.host=Vy(e?.host??Fh)),this.fetch=e?.fetch??fetch}abort(){for(const e of this.ongoingStreamedRequests)e.abort();this.ongoingStreamedRequests.length=0}async processStreamableRequest(e,n){n.stream=n.stream??!1;const r=`${this.config.host}/api/${e}`;if(n.stream){const s=new AbortController,o=await Sr(this.fetch,r,n,{signal:s.signal,headers:this.config.headers});if(!o.body)throw new Error("Missing body");const a=zy(o.body),l=new Gy(s,a,()=>{const c=this.ongoingStreamedRequests.indexOf(l);c>-1&&this.ongoingStreamedRequests.splice(c,1)});return this.ongoingStreamedRequests.push(l),l}return await(await Sr(this.fetch,r,n,{headers:this.config.headers})).json()}async encodeImage(e){if(typeof e!="string"){const n=new Uint8Array(e);let r="";const i=n.byteLength;for(let s=0;s<i;s++)r+=String.fromCharCode(n[s]);return btoa(r)}return e}async generate(e){return e.images&&(e.images=await Promise.all(e.images.map(this.encodeImage.bind(this)))),this.processStreamableRequest("generate",e)}async chat(e){if(e.messages)for(const n of e.messages)n.images&&(n.images=await Promise.all(n.images.map(this.encodeImage.bind(this))));return this.processStreamableRequest("chat",e)}async create(e){return this.processStreamableRequest("create",{...e})}async pull(e){return this.processStreamableRequest("pull",{name:e.model,stream:e.stream,insecure:e.insecure})}async push(e){return this.processStreamableRequest("push",{name:e.model,stream:e.stream,insecure:e.insecure})}async delete(e){return await Wy(this.fetch,`${this.config.host}/api/delete`,{name:e.model},{headers:this.config.headers}),{status:"success"}}async copy(e){return await Sr(this.fetch,`${this.config.host}/api/copy`,{...e},{headers:this.config.headers}),{status:"success"}}async list(){return await(await Xc(this.fetch,`${this.config.host}/api/tags`,{headers:this.config.headers})).json()}async show(e){return await(await Sr(this.fetch,`${this.config.host}/api/show`,{...e},{headers:this.config.headers})).json()}async embed(e){return await(await Sr(this.fetch,`${this.config.host}/api/embed`,{...e},{headers:this.config.headers})).json()}async embeddings(e){return await(await Sr(this.fetch,`${this.config.host}/api/embeddings`,{...e},{headers:this.config.headers})).json()}async ps(){return await(await Xc(this.fetch,`${this.config.host}/api/ps`,{headers:this.config.headers})).json()}};new Ra;function Cr(t){return t.startsWith("#")?parseInt(t.replace("#","0x")):{red:16711680,green:65280,blue:255,white:16777215,black:0,yellow:16776960,transparent:0}[t.toLowerCase()]||16777215}const Yy=Math.PI/180;function Xy(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const rr=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Q={_global:rr,version:"10.0.12",isBrowser:Xy(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Q.angleDeg?t*Yy:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Q.DD.isDragging},isTransforming(){var t,e;return(e=(t=Q.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Q.DD.node},releaseCanvasOnDestroy:!0,document:rr.document,_injectGlobal(t){typeof rr.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),rr.Konva=t}},Ve=t=>{Q[t.prototype.getClassName()]=t};Q._injectGlobal(Q);const Ky=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,Kc=()=>{if(typeof document>"u")throw new Error(Ky)};class _t{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new _t(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.m[0]*n+this.m[2]*r,s=this.m[1]*n+this.m[3]*r,o=this.m[0]*-r+this.m[2]*n,a=this.m[1]*-r+this.m[3]*n;return this.m[0]=i,this.m[1]=s,this.m[2]=o,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const r=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,s=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=s,this.m[3]=o,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],s=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=a,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,s=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=a,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],s=this.m[4],o=this.m[5],a=e*i-n*r,l={x:s,y:o,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const c=Math.sqrt(e*e+n*n);l.rotation=n>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=a/c,l.skewX=(e*r+n*i)/a,l.skewY=0}else if(r!=0||i!=0){const c=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/c):-Math.acos(r/c)),l.scaleX=a/c,l.scaleY=c,l.skewX=0,l.skewY=(e*r+n*i)/a}return l.rotation=P._getRotation(l.rotation),l}}const qy="[object Array]",Jy="[object Number]",Qy="[object String]",Zy="[object Boolean]",ev=Math.PI/180,tv=180/Math.PI,ni="#",nv="",rv="0",iv="Konva warning: ",qc="Konva error: ",sv="rgb(",ea={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},ov=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let cs=[],ri=null;const av=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},P={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===qy},_isNumber(t){return Object.prototype.toString.call(t)===Jy&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===Qy},_isBoolean(t){return Object.prototype.toString.call(t)===Zy},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){cs.push(t),cs.length===1&&av(function(){const e=cs;cs=[],e.forEach(function(n){n()})})},createCanvasElement(){Kc();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return Kc(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=P.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(ni,nv);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=rv+t;return ni+t},isCanvasFarblingActive(){if(ri!==null)return ri;if(typeof document>"u")return ri=!1,!1;const t=this.createCanvasElement();t.width=10,t.height=10;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,10,10),e.fillStyle="#282828",e.fillRect(0,0,10,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=0;i<100;i++)if(n[i*4]!==40||n[i*4+1]!==40||n[i*4+2]!==40||n[i*4+3]!==255){r=!0;break}return ri=r,this.releaseCanvas(t),ri},getHitColor(){const t=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(t):t},getHitColorKey(t,e,n){return this.isCanvasFarblingActive()&&(t=Math.round(t/5)*5,e=Math.round(e/5)*5,n=Math.round(n/5)*5),ni+this._rgbToHex(t,e,n)},getSnappedHexColor(t){const e=this._hexToRgb(t);return ni+this._rgbToHex(Math.round(e.r/5)*5,Math.round(e.g/5)*5,Math.round(e.b/5)*5)},getRGB(t){let e;return t in ea?(e=ea[t],{r:e[0],g:e[1],b:e[2]}):t[0]===ni?this._hexToRgb(t.substring(1)):t.substr(0,4)===sv?(e=ov.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",P._namedColorToRBA(t)||P._hex3ColorToRGBA(t)||P._hex4ColorToRGBA(t)||P._hex6ColorToRGBA(t)||P._hex8ColorToRGBA(t)||P._rgbColorToRGBA(t)||P._rgbaColorToRGBA(t)||P._hslColorToRGBA(t)},_namedColorToRBA(t){const e=ea[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,i=Number(n[1])/100,s=Number(n[2])/100;let o,a,l;if(i===0)return l=s*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};s<.5?o=s*(1+i):o=s+i-s*i;const c=2*s-o,u=[0,0,0];for(let d=0;d<3;d++)a=r+1/3*-(d-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(o-c)*6*a:2*a<1?l=o:3*a<2?l=c+(o-c)*(2/3-a)*6:l=c,u[d]=l*255;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*ev},radToDeg(t){return t*tv},_degToRad(t){return P.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),P.degToRad(t)},_radToDeg(t){return P.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),P.radToDeg(t)},_getRotation(t){return Q.angleDeg?P.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(qc+t)},error(t){console.error(qc+t)},warn(t){Q.showWarnings&&console.warn(iv+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,i,s){let o,a,l;const c=(t-n)*(t-n)+(e-r)*(e-r);if(c==0)o=t,a=e,l=(i-n)*(i-n)+(s-r)*(s-r);else{const u=((i-t)*(n-t)+(s-e)*(r-e))/c;u<0?(o=t,a=e,l=(t-i)*(t-i)+(e-s)*(e-s)):u>1?(o=n,a=r,l=(n-i)*(n-i)+(r-s)*(r-s)):(o=t+u*(n-t),a=e+u*(r-e),l=(o-i)*(o-i)+(a-s)*(a-s))}return[o,a,l]},_getProjectionToLine(t,e,n){const r=P.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(s,o){if(!n&&o===e.length-1)return;const a=e[(o+1)%e.length],l=P._getProjectionToSegment(s.x,s.y,a.x,a.y,t.x,t.y),c=l[0],u=l[1],d=l[2];d<i&&(r.x=c,r.y=u,i=d)}),r},_prepareArrayForTween(t,e,n){const r=[],i=[];if(t.length>e.length){const o=e;e=t,t=o}for(let o=0;o<t.length;o+=2)r.push({x:t[o],y:t[o+1]});for(let o=0;o<e.length;o+=2)i.push({x:e[o],y:e[o+1]});const s=[];return i.forEach(function(o){const a=P._getProjectionToLine(o,r,n);s.push(a.x),s.push(a.y)}),s},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||P._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(P._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Q.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let i=e<0?e:0,s=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let o=0,a=0,l=0,c=0;typeof r=="number"?o=a=l=c=Math.min(r,e/2,n/2):(o=Math.min(r[0]||0,e/2,n/2),a=Math.min(r[1]||0,e/2,n/2),c=Math.min(r[2]||0,e/2,n/2),l=Math.min(r[3]||0,e/2,n/2)),t.moveTo(i+o,s),t.lineTo(i+e-a,s),t.arc(i+e-a,s+a,a,Math.PI*3/2,0,!1),t.lineTo(i+e,s+n-c),t.arc(i+e-c,s+n-c,c,0,Math.PI/2,!1),t.lineTo(i+l,s+n),t.arc(i+l,s+n-l,l,Math.PI/2,Math.PI,!1),t.lineTo(i,s+o),t.arc(i+o,s+o,o,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,r,i){r=Math.abs(r);for(let s=0;s<n;s++){const o=e[(s-1+n)%n],a=e[s],l=e[(s+1)%n],c={x:a.x-o.x,y:a.y-o.y},u={x:l.x-a.x,y:l.y-a.y},d=Math.hypot(c.x,c.y),h=Math.hypot(u.x,u.y);let f;typeof i=="number"?f=i:f=s<i.length?i[s]:0,f=r*Math.cos(Math.PI/n)*Math.min(1,f/r*2);const g={x:c.x/d,y:c.y/d},y={x:u.x/h,y:u.y/h},m={x:a.x-g.x*f,y:a.y-g.y*f},b={x:a.x+y.x*f,y:a.y+y.y*f};s===0?t.moveTo(m.x,m.y):t.lineTo(m.x,m.y),t.arcTo(a.x,a.y,b.x,b.y,f)}}};function lv(t){const e=[],n=t.length,r=P;for(let i=0;i<n;i++){let s=t[i];r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s+""),e.push(s)}return e}const Jc=",",cv="(",uv=")",dv="([",hv="])",fv=";",pv="()",gv="=",Qc=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],mv=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],yv=100;let us=null;function Zc(){if(us!==null)return us;try{const e=P.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(us=!1,!1)}catch{return us=!1,!1}}class Co{constructor(e){this.canvas=e,Q.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,i=r.length,s="",o,a,l,c;for(o=0;o<i;o++)a=r[o],l=a.method,l?(c=a.args,s+=l,e?s+=pv:P._isArray(c[0])?s+=dv+c.join(Jc)+hv:(n&&(c=c.map(u=>typeof u=="number"?Math.floor(u):u)),s+=cv+c.join(Jc)+uv)):(s+=a.property,e||(s+=gv+a.val)),s+=fv;return s}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=yv&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,s,o){this._context.arc(e,n,r,i,s,o)}arcTo(e,n,r,i,s){this._context.arcTo(e,n,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,s,o){this._context.bezierCurveTo(e,n,r,i,s,o)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,s,o){return this._context.createRadialGradient(e,n,r,i,s,o)}drawImage(e,n,r,i,s,o,a,l,c){const u=arguments,d=this._context;u.length===3?d.drawImage(e,n,r):u.length===5?d.drawImage(e,n,r,i,s):u.length===9&&d.drawImage(e,n,r,i,s,o,a,l,c)}ellipse(e,n,r,i,s,o,a,l){this._context.ellipse(e,n,r,i,s,o,a,l)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}roundRect(e,n,r,i,s){this._context.roundRect(e,n,r,i,s)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,s,o){this._context.setTransform(e,n,r,i,s,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,s,o){this._context.transform(e,n,r,i,s,o)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=Qc.length,r=this.setAttr,i,s;const o=function(a){let l=e[a],c;e[a]=function(){return s=lv(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:s}),c}};for(i=0;i<n;i++)o(Qc[i]);e.setAttr=function(){r.apply(e,arguments);const a=arguments[0];let l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}mv.forEach(function(t){Object.defineProperty(Co.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class vv extends Co{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}const s=e.getFillLinearGradientColorStops();if(s&&r==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(let o=0;o<i.length;o+=2)s.addColorStop(i[o],i[o+1]);this.setAttr("strokeStyle",s)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i;const s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",o=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),u=l.x*c,d=l.y*c;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",o*Math.min(Math.abs(u),Math.abs(d))),this.setAttr("shadowOffsetX",a.x*u),this.setAttr("shadowOffsetY",a.y*d)}}class bv extends Co{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let ds;function wv(){if(ds)return ds;const t=P.createCanvasElement(),e=t.getContext("2d");return ds=(function(){const n=Q._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r})(),P.releaseCanvas(t),ds}class Cl{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||Q.pixelRatio||wv();this.pixelRatio=r,this._canvas=P.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return P.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class In extends Cl{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new vv(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}class Al extends Cl{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new bv(this),this.setSize(e.width,e.height)}}const Pe={get isDragging(){let t=!1;return Pe._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return Pe._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];Pe._dragElements.forEach((n,r)=>{const{node:i}=n,s=i.getStage();s.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=P._getFirstPointerId(t));const o=s._changedPointerPositions.find(a=>a.id===n.pointerId);if(o){if(n.dragStatus!=="dragging"){const a=i.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<a||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];Pe._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(a=>a.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(Pe.justDragged=!0,Q._mouseListenClick=!1,Q._touchListenClick=!1,Q._pointerListenClick=!1,n.dragStatus="stopped");const o=n.node.getLayer()||n.node instanceof Q.Stage&&n.node;o&&e.indexOf(o)===-1&&e.push(o)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){Pe._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&Pe._dragElements.delete(n)})}};Q.isBrowser&&(window.addEventListener("mouseup",Pe._endDragBefore,!0),window.addEventListener("touchend",Pe._endDragBefore,!0),window.addEventListener("touchcancel",Pe._endDragBefore,!0),window.addEventListener("mousemove",Pe._drag),window.addEventListener("touchmove",Pe._drag),window.addEventListener("mouseup",Pe._endDragAfter,!1),window.addEventListener("touchend",Pe._endDragAfter,!1),window.addEventListener("touchcancel",Pe._endDragAfter,!1));function zn(t){return P._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||P._isBoolean(t)?t:Object.prototype.toString.call(t)}function Bh(t){return t>255?255:t<0?0:Math.round(t)}function K(){if(Q.isUnminified)return function(t,e){return P._isNumber(t)||P.warn(zn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Ao(t){if(Q.isUnminified)return function(e,n){let r=P._isNumber(e),i=P._isArray(e)&&e.length==t;return!r&&!i&&P.warn(zn(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function El(){if(Q.isUnminified)return function(t,e){return P._isNumber(t)||t==="auto"||P.warn(zn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function dr(){if(Q.isUnminified)return function(t,e){return P._isString(t)||P.warn(zn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function Nh(){if(Q.isUnminified)return function(t,e){const n=P._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||P.warn(zn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function _v(){if(Q.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(P._isArray(t)?t.forEach(function(r){P._isNumber(r)||P.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):P.warn(zn(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Ht(){if(Q.isUnminified)return function(t,e){return t===!0||t===!1||P.warn(zn(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function xv(t){if(Q.isUnminified)return function(e,n){return e==null||P.isObject(e)||P.warn(zn(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const ii="get",si="set",x={addGetterSetter(t,e,n,r,i){x.addGetter(t,e,n),x.addSetter(t,e,r,i),x.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const r=ii+P._capitalize(e);t.prototype[r]=t.prototype[r]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,r){const i=si+P._capitalize(e);t.prototype[i]||x.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){const i=si+P._capitalize(e);t.prototype[i]=function(s){return n&&s!==void 0&&s!==null&&(s=n.call(this,s,e)),this._setAttr(e,s),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,i){const s=n.length,o=P._capitalize,a=ii+o(e),l=si+o(e);t.prototype[a]=function(){const u={};for(let d=0;d<s;d++){const h=n[d];u[h]=this.getAttr(e+o(h))}return u};const c=xv(n);t.prototype[l]=function(u){const d=this.attrs[e];r&&(u=r.call(this,u,e)),c&&c.call(this,u,e);for(const h in u)u.hasOwnProperty(h)&&this._setAttr(e+o(h),u[h]);return u||n.forEach(h=>{this._setAttr(e+o(h),void 0)}),this._fireChangeEvent(e,d,u),i&&i.call(this),this},x.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=P._capitalize(e),r=si+n,i=ii+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,r){P.error("Adding deprecated "+e);const i=ii+P._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){P.error(s);const o=this.attrs[e];return o===void 0?n:o},x.addSetter(t,e,r,function(){P.error(s)}),x.addOverloadedGetterSetter(t,e)},backCompat(t,e){P.each(e,function(n,r){const i=t.prototype[r],s=ii+P._capitalize(n),o=si+P._capitalize(n);function a(){i.apply(this,arguments),P.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=a,t.prototype[s]=a,t.prototype[o]=a})},afterSetFilter(){this._filterUpToDate=!1}};function Sv(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,r,i]=n;switch(r){case"blur":{const s=parseFloat(i.replace("px",""));return function(o){this.blurRadius(s*.5);const a=Q.Filters;a&&a.Blur&&a.Blur.call(this,o)}}case"brightness":{const s=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(o){this.brightness(s);const a=Q.Filters;a&&a.Brightness&&a.Brightness.call(this,o)}}case"contrast":{const s=parseFloat(i);return function(o){const a=100*(Math.sqrt(s)-1);this.contrast(a);const l=Q.Filters;l&&l.Contrast&&l.Contrast.call(this,o)}}case"grayscale":return function(s){const o=Q.Filters;o&&o.Grayscale&&o.Grayscale.call(this,s)};case"sepia":return function(s){const o=Q.Filters;o&&o.Sepia&&o.Sepia.call(this,s)};case"invert":return function(s){const o=Q.Filters;o&&o.Invert&&o.Invert.call(this,s)};default:P.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const ks="absoluteOpacity",hs="allEventListeners",un="absoluteTransform",eu="absoluteScale",Jn="canvas",Cv="Change",Av="children",Ev="konva",Ma="listening",Pv="mouseenter",Tv="mouseleave",kv="pointerenter",Ov="pointerleave",Rv="touchenter",Mv="touchleave",tu="set",nu="Shape",Os=" ",ru="stage",kn="transform",Iv="Stage",Ia="visible",Lv=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Os);let Dv=1,q=class La{constructor(e){this._id=Dv++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===kn||e===un)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===kn||e===un)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(s=>s+"Change.konva").join(Os);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Jn)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===un&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Jn)){const{scene:e,filter:n,hit:r,buffer:i}=this._cache.get(Jn);P.releaseCanvas(e,n,r,i),this._cache.delete(Jn)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||r.width),s=Math.ceil(n.height||r.height),o=n.pixelRatio,a=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,c=n.offset||0,u=n.drawBorder||!1,d=n.hitCanvasPixelRatio||1;if(!i||!s){P.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const h=Math.abs(Math.round(r.x)-a)>.5?1:0,f=Math.abs(Math.round(r.y)-l)>.5?1:0;i+=c*2+h,s+=c*2+f,a-=c,l-=c;const p=new In({pixelRatio:o,width:i,height:s}),g=new In({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),y=new Al({pixelRatio:d,width:i,height:s}),m=p.getContext(),b=y.getContext(),v=new In({width:p.width/p.pixelRatio+Math.abs(a),height:p.height/p.pixelRatio+Math.abs(l),pixelRatio:p.pixelRatio}),w=v.getContext();return y.isCache=!0,p.isCache=!0,this._cache.delete(Jn),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(p.getContext()._context.imageSmoothingEnabled=!1,g.getContext()._context.imageSmoothingEnabled=!1),m.save(),b.save(),w.save(),m.translate(-a,-l),b.translate(-a,-l),w.translate(-a,-l),v.x=a,v.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(ks),this._clearSelfAndDescendantCache(eu),this.drawScene(p,this,v),this.drawHit(y,this),this._isUnderCache=!1,m.restore(),b.restore(),u&&(m.save(),m.beginPath(),m.rect(0,0,i,s),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set(Jn,{scene:p,filter:g,hit:y,buffer:v,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Jn)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,s=1/0,o=-1/0,a=-1/0;const l=this.getAbsoluteTransform(n);return r.forEach(function(c){const u=l.point(c);i===void 0&&(i=o=u.x,s=a=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}),{x:i,y:s,width:o-i,height:a-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,s=i.getContext(),o,a,l,c;if(!e||e.length===0)return r;if(this._filterUpToDate)return i;let u=!0;for(let h=0;h<e.length;h++)if(typeof e[h]=="string"&&Zc(),typeof e[h]!="string"||!Zc()){u=!1;break}const d=r.pixelRatio;if(i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),u){const h=e.join(" ");return s.save(),s.setAttr("filter",h),s.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),s.restore(),this._filterUpToDate=!0,i}try{for(o=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),a=s.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<o;l++)c=e[l],typeof c=="string"&&(c=Sv(c)),c.call(this,a),s.putImageData(a,0,0)}catch(h){P.error("Unable to apply filter. "+h.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(hs),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(Os);for(let i=0;i<r.length;i++){const o=r[i].split("."),a=o[0],l=o[1]||"";this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:l,handler:n})}return this}off(e,n){let r=(e||"").split(Os),i=r.length,s,o,a,l,c,u;if(this._cache&&this._cache.delete(hs),!e)for(o in this.eventListeners)this._off(o);for(s=0;s<i;s++)if(a=r[s],l=a.split("."),c=l[0],u=l[1],c)this.eventListeners[c]&&this._off(c,u,n);else for(o in this.eventListeners)this._off(o,u,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const i=this;this.on(e,function(s){const o=s.target.findAncestors(n,!0,i);for(let a=0;a<o.length;a++)s=P.cloneObject(s),s.currentTarget=o[a],r.call(o[a],s)})}remove(){return this.isDragging()&&this.stopDrag(),Pe._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(un),this._clearSelfAndDescendantCache(ks),this._clearSelfAndDescendantCache(eu),this._clearSelfAndDescendantCache(ru),this._clearSelfAndDescendantCache(Ia),this._clearSelfAndDescendantCache(Ma)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+P._capitalize(e);return P._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==Av&&(r=tu+P._capitalize(n),P._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Ma,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(Ia,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let i=!1;Pe._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===r)&&(i=!0)});const s=!n&&!Q.hitOnDragEnabled&&(i||Q.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,i,s,o,a;function l(u){for(i=[],s=u.length,o=0;o<s;o++)a=u[o],r++,a.nodeType!==nu&&(i=i.concat(a.getChildren().slice())),a._id===n._id&&(o=s);i.length>0&&i[0].getDepth()<=e&&l(i)}const c=this.getStage();return n.nodeType!==Iv&&c&&l(c.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(kn),this._clearSelfAndDescendantCache(un)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),s=new _t,o=this.offset();return s.m=i.slice(),s.translate(o.x,o.y),s.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(kn);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(kn),this._clearSelfAndDescendantCache(un),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,i=this.x(),s=this.y();return n!==void 0&&(i+=n),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,n){let r=[],i=this.getParent(),s,o;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(s=r.length,o=0;o<s;o++)e(r[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return P.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return P.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return P.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return P.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return P.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&P.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(ks,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,i,s,o;const a={attrs:{},className:this.getClassName()};for(n in e)r=e[n],o=P.isObject(r)&&!P._isPlainObject(r)&&!P._isArray(r),!o&&(i=typeof this[n]=="function"&&this[n],delete e[n],s=i?i.call(this):null,e[n]=r,s!==r&&(a.attrs[n]=r));return P._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const i=[];n&&this._isMatch(e)&&i.push(this);let s=this.parent;for(;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,i,s;for(i=0;i<r;i++)if(s=n[i],P.isValidSelector(s)||(P.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),P.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),P.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(ru,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(un,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new _t,this._eachAncestorReverse(function(r){const i=r.transformsEnabled();i==="all"?n.multiply(r.getTransform()):i==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(un)||new _t,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,o=this.attrs.offsetX||0,a=this.attrs.offsetY||0;n.translate(i-o,s-a)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(kn,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(kn)||new _t;r.reset();const i=this.x(),s=this.y(),o=Q.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,u=this.attrs.skewY||0,d=this.attrs.offsetX||0,h=this.attrs.offsetY||0;return(i!==0||s!==0)&&r.translate(i,s),o!==0&&r.rotate(o),(c!==0||u!==0)&&r.skew(c,u),(a!==1||l!==1)&&r.scale(a,l),(d!==0||h!==0)&&r.translate(-1*d,-1*h),r.dirty=!1,r}clone(e){let n=P.cloneObject(this.attrs),r,i,s,o,a;for(r in e)n[r]=e[r];const l=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],s=i.length,o=0;o<s;o++)a=i[o],a.name.indexOf(Ev)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(a));return l}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),o=e.pixelRatio||1,a=new In({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:o}),l=a.getContext(),c=new In({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(s),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||s)&&l.translate(-1*i,-1*s),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,P._urlToImage(this.toDataURL(e),function(s){n(s),i?.(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),i?.(s)},e?.mimeType,e?.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Q.dragDistance}_off(e,n,r){let i=this.eventListeners[e],s,o,a;for(s=0;s<i.length;s++)if(o=i[s].name,a=i[s].handler,(o!=="konva"||n==="konva")&&(!n||o===n)&&(!r||r===a)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,r){this._fire(e+Cv,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[tu+P._capitalize(e)];return P._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Q.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!P.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===nu&&(n.target=this);const i=[Pv,Tv,kv,Ov,Rv,Mv];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const o=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!o&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,i;const s=(n=this._cache.get(hs))!==null&&n!==void 0?n:{};let o=s?.[e];if(o===void 0){o=[];let a=Object.getPrototypeOf(this);for(;a;){const l=(i=(r=a.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];o.push(...l),a=Object.getPrototypeOf(a)}s[e]=o,this._cache.set(hs,s)}return o}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let s=0;s<r.length;s++)r[s].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let s=0;s<i.length;s++)i[s].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;const s=r._getPointerById(n)||r._changedPointerPositions[0]||i;Pe._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Pe._dragElements.has(this._id)||this._createDragElement(e);const r=Pe._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let i={x:r.x-n.offset.x,y:r.y-n.offset.y};const s=this.dragBoundFunc();if(s!==void 0){const o=s.call(this,i,e);o?i=o:P.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=Pe._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Pe._endDragBefore(e),Pe._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Pe._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Q.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;Pe._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Pe._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&Pe._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return P.haveIntersection(r,this.getClientRect())}static create(e,n){return P._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=La.prototype.getClassName.call(e),i=e.children,s,o,a;n&&(e.attrs.container=n),Q[r]||(P.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=Q[r];if(s=new l(e.attrs),i)for(o=i.length,a=0;a<o;a++)s.add(La._createNode(i[a]));return s}};q.prototype.nodeType="Node";q.prototype._attrsAffectingSize=[];q.prototype.eventListeners={};q.prototype.on.call(q.prototype,Lv,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(kn),this._clearSelfAndDescendantCache(un)});q.prototype.on.call(q.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Ia)});q.prototype.on.call(q.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Ma)});q.prototype.on.call(q.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(ks)});const Ie=x.addGetterSetter;Ie(q,"zIndex");Ie(q,"absolutePosition");Ie(q,"position");Ie(q,"x",0,K());Ie(q,"y",0,K());Ie(q,"globalCompositeOperation","source-over",dr());Ie(q,"opacity",1,K());Ie(q,"name","",dr());Ie(q,"id","",dr());Ie(q,"rotation",0,K());x.addComponentsGetterSetter(q,"scale",["x","y"]);Ie(q,"scaleX",1,K());Ie(q,"scaleY",1,K());x.addComponentsGetterSetter(q,"skew",["x","y"]);Ie(q,"skewX",0,K());Ie(q,"skewY",0,K());x.addComponentsGetterSetter(q,"offset",["x","y"]);Ie(q,"offsetX",0,K());Ie(q,"offsetY",0,K());Ie(q,"dragDistance",void 0,K());Ie(q,"width",0,K());Ie(q,"height",0,K());Ie(q,"listening",!0,Ht());Ie(q,"preventDefault",!0,Ht());Ie(q,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Ie(q,"visible",!0,Ht());Ie(q,"transformsEnabled","all",dr());Ie(q,"size");Ie(q,"dragBoundFunc");Ie(q,"draggable",!1,Ht());x.backCompat(q,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class At extends q{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!!(s&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=q.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=q.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas(),o=s&&s.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=s&&s.isCache;if(!this.isVisible()&&!c)return this;if(l){o.save();const u=this.getAbsoluteTransform(n).getMatrix();o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",s,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),o=this._getCanvasCache();if(o&&o.hit){s.save();const l=this.getAbsoluteTransform(n).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r,i){var s;const o=n&&n.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),u=typeof a=="number"&&typeof l=="number"||c,d=r===this;if(u){o.save();const f=this.getAbsoluteTransform(r);let p=f.getMatrix();o.transform(p[0],p[1],p[2],p[3],p[4],p[5]),o.beginPath();let g;if(c)g=c.call(this,o,this);else{const y=this.clipX(),m=this.clipY();o.rect(y||0,m||0,a,l)}o.clip.apply(o,g),p=f.copy().invert().getMatrix(),o.transform(p[0],p[1],p[2],p[3],p[4],p[5])}const h=!d&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";h&&(o.save(),o._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(f){f[e](n,r,i)}),h&&o.restore(),u&&o.restore()}getClientRect(e={}){var n;const r=e.skipTransform,i=e.relativeTo;let s,o,a,l,c={x:1/0,y:1/0,width:0,height:0};const u=this;(n=this.children)===null||n===void 0||n.forEach(function(f){if(!f.visible())return;const p=f.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});p.width===0&&p.height===0||(s===void 0?(s=p.x,o=p.y,a=p.x+p.width,l=p.y+p.height):(s=Math.min(s,p.x),o=Math.min(o,p.y),a=Math.max(a,p.x+p.width),l=Math.max(l,p.y+p.height)))});const d=this.find("Shape");let h=!1;for(let f=0;f<d.length;f++)if(d[f]._isVisible(this)){h=!0;break}return h&&s!==void 0?c={x:s,y:o,width:a-s,height:l-o}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}}x.addComponentsGetterSetter(At,"clip",["x","y","width","height"]);x.addGetterSetter(At,"clipX",void 0,K());x.addGetterSetter(At,"clipY",void 0,K());x.addGetterSetter(At,"clipWidth",void 0,K());x.addGetterSetter(At,"clipHeight",void 0,K());x.addGetterSetter(At,"clipFunc");const Bi=new Map,Gh=Q._global.PointerEvent!==void 0;function ta(t){return Bi.get(t)}function Pl(t){return{evt:t,pointerId:t.pointerId}}function $h(t,e){return Bi.get(t)===e}function Hh(t,e){Ci(t),e.getStage()&&(Bi.set(t,e),Gh&&e._fire("gotpointercapture",Pl(new PointerEvent("gotpointercapture"))))}function Ci(t,e){const n=Bi.get(t);if(!n)return;const r=n.getStage();r&&r.content,Bi.delete(t),Gh&&n._fire("lostpointercapture",Pl(new PointerEvent("lostpointercapture")))}const Fv="Stage",Bv="string",iu="px",Nv="mouseout",Wh="mouseleave",zh="mouseover",Vh="mouseenter",jh="mousemove",Uh="mousedown",Yh="mouseup",ui="pointermove",di="pointerdown",Or="pointerup",hi="pointercancel",Gv="lostpointercapture",fs="pointerout",fi="pointerleave",ps="pointerover",gs="pointerenter",Da="contextmenu",Xh="touchstart",Kh="touchend",qh="touchmove",Jh="touchcancel",Fa="wheel",$v=5,Hv=[[Vh,"_pointerenter"],[Uh,"_pointerdown"],[jh,"_pointermove"],[Yh,"_pointerup"],[Wh,"_pointerleave"],[Xh,"_pointerdown"],[qh,"_pointermove"],[Kh,"_pointerup"],[Jh,"_pointercancel"],[zh,"_pointerover"],[Fa,"_wheel"],[Da,"_contextmenu"],[di,"_pointerdown"],[ui,"_pointermove"],[Or,"_pointerup"],[hi,"_pointercancel"],[fi,"_pointerleave"],[Gv,"_lostpointercapture"]],na={mouse:{[fs]:Nv,[fi]:Wh,[ps]:zh,[gs]:Vh,[ui]:jh,[di]:Uh,[Or]:Yh,[hi]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[fs]:"touchout",[fi]:"touchleave",[ps]:"touchover",[gs]:"touchenter",[ui]:qh,[di]:Xh,[Or]:Kh,[hi]:Jh,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[fs]:fs,[fi]:fi,[ps]:ps,[gs]:gs,[ui]:ui,[di]:di,[Or]:Or,[hi]:hi,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},pi=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",Ar=t=>{const e=pi(t);if(e==="pointer")return Q.pointerEventsEnabled&&na.pointer;if(e==="touch")return na.touch;if(e==="mouse")return na.mouse};function su(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&P.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const Wv="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Ai=[];class Eo extends At{constructor(e){super(su(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Ai.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{su(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||P.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===Bv){let n;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),At.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&P._isInDocument(e)&&this.container().removeChild(e);const n=Ai.indexOf(this);return n>-1&&Ai.splice(n,1),P.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(P.warn(Wv),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new In({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(s){if(!s.isVisible())return;const o=s._toKonvaCanvas(e);r.drawImage(o._canvas,e.x,e.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,r=n.length,i=r-1;for(let s=i;s>=0;s--){const o=n[s].getIntersection(e);if(o)return o}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+iu,this.content.style.height=n+iu),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const r=this.children.length;return r>$v&&P.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Q.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return $h(e,this)}setPointerCapture(e){Hh(e,this)}releaseCapture(e){Ci(e)}getLayers(){return this.children}_bindContentEvents(){Q.isBrowser&&Hv.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=Ar(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=Ar(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=Ar(e.type),r=pi(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(r),s=!(Q.isDragging()||Q.isTransforming())||Q.hitOnDragEnabled;i&&s?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):s&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=Ar(e.type),r=pi(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(s=>{const o=this.getIntersection(s);if(Pe.justDragged=!1,Q["_"+r+"ListenClick"]=!0,!o||!o.isListening()){this[r+"ClickStartShape"]=void 0;return}Q.capturePointerEventsEnabled&&o.setPointerCapture(s.id),this[r+"ClickStartShape"]=o,o._fireAndBubble(n.pointerdown,{evt:e,pointerId:s.id}),i=!0;const a=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=Ar(e.type),r=pi(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Q.isDragging()&&Pe.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(Q.isDragging()||Q.isTransforming())||Q.hitOnDragEnabled))return;const o={};let a=!1;const l=this._getTargetShape(r);this._changedPointerPositions.forEach(c=>{const u=ta(c.id)||this.getIntersection(c),d=c.id,h={evt:e,pointerId:d},f=l!==u;if(f&&l&&(l._fireAndBubble(n.pointerout,{...h},u),l._fireAndBubble(n.pointerleave,{...h},u)),u){if(o[u._id])return;o[u._id]=!0}u&&u.isListening()?(a=!0,f&&(u._fireAndBubble(n.pointerover,{...h},l),u._fireAndBubble(n.pointerenter,{...h},l),this[r+"targetShape"]=u),u._fireAndBubble(n.pointermove,{...h})):l&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:d}),this[r+"targetShape"]=null)}),a||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=Ar(e.type),r=pi(e.type);if(!n)return;this.setPointersPositions(e);const i=this[r+"ClickStartShape"],s=this[r+"ClickEndShape"],o={};let a=!1;this._changedPointerPositions.forEach(l=>{const c=ta(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),o[c._id])return;o[c._id]=!0}const u=l.id,d={evt:e,pointerId:u};let h=!1;Q["_"+r+"InDblClickWindow"]?(h=!0,clearTimeout(this[r+"DblTimeout"])):Pe.justDragged||(Q["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Q["_"+r+"InDblClickWindow"]=!1},Q.dblClickWindow),c&&c.isListening()?(a=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(n.pointerup,{...d}),Q["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(n.pointerclick,{...d}),h&&s&&s===c&&c._fireAndBubble(n.pointerdblclick,{...d}))):(this[r+"ClickEndShape"]=null,a||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a=!0),Q["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:u}),h&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:u}))}),a||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Q["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Da,{evt:e}):this._fire(Da,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Fa,{evt:e}):this._fire(Fa,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=ta(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Or,Pl(e)),Ci(e.pointerId)}_lostpointercapture(e){Ci(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,s=>{this._pointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,s=>{this._changedPointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:P._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:P._getFirstPointerId(e)}])}_setPointerPosition(e){P.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new In({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Al({pixelRatio:1,width:this.width(),height:this.height()}),!Q.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return P.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}Eo.prototype.nodeType=Fv;Ve(Eo);x.addGetterSetter(Eo,"container");Q.isBrowser&&document.addEventListener("visibilitychange",()=>{Ai.forEach(t=>{t.batchDraw()})});const Qh="hasShadow",Zh="shadowRGBA",ef="patternImage",tf="linearGradient",nf="radialGradient";let ms;function ra(){return ms||(ms=P.createCanvasElement().getContext("2d"),ms)}const Ei={};function zv(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function Vv(t){t.stroke()}function jv(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function Uv(t){t.stroke()}function Yv(){this._clearCache(Qh)}function Xv(){this._clearCache(Zh)}function Kv(){this._clearCache(ef)}function qv(){this._clearCache(tf)}function Jv(){this._clearCache(nf)}class z extends q{constructor(e){super(e);let n,r=0;for(;n=P.getHitColor(),!(n&&!(n in Ei));)if(r++,r>=1e4){P.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),n=P.getRandomColor();break}this.colorKey=n,Ei[n]=this}getContext(){return P.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return P.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Qh,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(ef,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=ra().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new _t;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Q.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),s=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(s)}return n}}_getLinearGradient(){return this._getCache(tf,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=ra(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),s=n.createLinearGradient(r.x,r.y,i.x,i.y);for(let o=0;o<e.length;o+=2)s.addColorStop(e[o],e[o+1]);return s}}_getRadialGradient(){return this._getCache(nf,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=ra(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),s=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let o=0;o<e.length;o+=2)s.addColorStop(e[o],e[o+1]);return s}}getShadowRGBA(){return this._getCache(Zh,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=P.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return q.prototype.destroy.call(this),delete Ei[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),s=this.hasStroke(),o=this.getAbsoluteOpacity()!==1;if(i&&s&&o)return!0;const a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&s&&a&&l)}setStrokeHitEnabled(e){P.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}const i=e.skipTransform,s=e.relativeTo||n&&this.getStage()||void 0,o=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,c=o.width+l,u=o.height+l,d=!e.skipShadow&&this.hasShadow(),h=d?this.shadowOffsetX():0,f=d?this.shadowOffsetY():0,p=c+Math.abs(h),g=u+Math.abs(f),y=d&&this.shadowBlur()||0,m=p+y*2,b=g+y*2,v={width:m,height:b,x:-(l/2+y)+Math.min(h,0)+o.x,y:-(l/2+y)+Math.min(f,0)+o.y};return i?v:this._transformedRect(v,s)}drawScene(e,n,r){const i=this.getLayer(),s=e||i.getCanvas(),o=s.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow();let u;const d=n===this;if(!this.isVisible()&&!d)return this;if(a){o.save();const h=this.getAbsoluteTransform(n).getMatrix();return o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!l)return this;if(o.save(),this._useBufferCanvas()){u=this.getStage();const h=r||u.bufferCanvas,f=h.getContext();f.clear(),f.save(),f._applyLineJoin(this),f._applyMiterLimit(this);const p=this.getAbsoluteTransform(n).getMatrix();f.transform(p[0],p[1],p[2],p[3],p[4],p[5]),l.call(this,f,this),f.restore();const g=h.pixelRatio;c&&o._applyShadow(this),d||(o._applyOpacity(this),o._applyGlobalCompositeOperation(this)),o.drawImage(h._canvas,h.x||0,h.y||0,h.width/g,h.height/g)}else{if(o._applyLineJoin(this),o._applyMiterLimit(this),!d){const h=this.getAbsoluteTransform(n).getMatrix();o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}c&&o._applyShadow(this),l.call(this,o,this)}return o.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;const i=this.getLayer(),s=e||i.hitCanvas,o=s&&s.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||P.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){o.save();const d=this.getAbsoluteTransform(n).getMatrix();return o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!a)return this;if(o.save(),o._applyLineJoin(this),o._applyMiterLimit(this),!(this===n)){const d=this.getAbsoluteTransform(n).getMatrix();o.transform(d[0],d[1],d[2],d[3],d[4],d[5])}return a.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,s=i.getContext(),o=i.getWidth(),a=i.getHeight();s.clear(),s.drawImage(r._canvas,0,0,o,a);try{const l=s.getImageData(0,0,o,a),c=l.data,u=c.length,d=P._hexToRgb(this.colorKey);for(let h=0;h<u;h+=4)c[h+3]>e?(c[h]=d.r,c[h+1]=d.g,c[h+2]=d.b,c[h+3]=255):c[h+3]=0;s.putImageData(l,0,0)}catch(l){P.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return $h(e,this)}setPointerCapture(e){Hh(e,this)}releaseCapture(e){Ci(e)}}z.prototype._fillFunc=zv;z.prototype._strokeFunc=Vv;z.prototype._fillFuncHit=jv;z.prototype._strokeFuncHit=Uv;z.prototype._centroid=!1;z.prototype.nodeType="Shape";Ve(z);z.prototype.eventListeners={};z.prototype.on.call(z.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Yv);z.prototype.on.call(z.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Xv);z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",Kv);z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",qv);z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",Jv);x.addGetterSetter(z,"stroke",void 0,Nh());x.addGetterSetter(z,"strokeWidth",2,K());x.addGetterSetter(z,"fillAfterStrokeEnabled",!1);x.addGetterSetter(z,"hitStrokeWidth","auto",El());x.addGetterSetter(z,"strokeHitEnabled",!0,Ht());x.addGetterSetter(z,"perfectDrawEnabled",!0,Ht());x.addGetterSetter(z,"shadowForStrokeEnabled",!0,Ht());x.addGetterSetter(z,"lineJoin");x.addGetterSetter(z,"lineCap");x.addGetterSetter(z,"miterLimit");x.addGetterSetter(z,"sceneFunc");x.addGetterSetter(z,"hitFunc");x.addGetterSetter(z,"dash");x.addGetterSetter(z,"dashOffset",0,K());x.addGetterSetter(z,"shadowColor",void 0,dr());x.addGetterSetter(z,"shadowBlur",0,K());x.addGetterSetter(z,"shadowOpacity",1,K());x.addComponentsGetterSetter(z,"shadowOffset",["x","y"]);x.addGetterSetter(z,"shadowOffsetX",0,K());x.addGetterSetter(z,"shadowOffsetY",0,K());x.addGetterSetter(z,"fillPatternImage");x.addGetterSetter(z,"fill",void 0,Nh());x.addGetterSetter(z,"fillPatternX",0,K());x.addGetterSetter(z,"fillPatternY",0,K());x.addGetterSetter(z,"fillLinearGradientColorStops");x.addGetterSetter(z,"strokeLinearGradientColorStops");x.addGetterSetter(z,"fillRadialGradientStartRadius",0);x.addGetterSetter(z,"fillRadialGradientEndRadius",0);x.addGetterSetter(z,"fillRadialGradientColorStops");x.addGetterSetter(z,"fillPatternRepeat","repeat");x.addGetterSetter(z,"fillEnabled",!0);x.addGetterSetter(z,"strokeEnabled",!0);x.addGetterSetter(z,"shadowEnabled",!0);x.addGetterSetter(z,"dashEnabled",!0);x.addGetterSetter(z,"strokeScaleEnabled",!0);x.addGetterSetter(z,"fillPriority","color");x.addComponentsGetterSetter(z,"fillPatternOffset",["x","y"]);x.addGetterSetter(z,"fillPatternOffsetX",0,K());x.addGetterSetter(z,"fillPatternOffsetY",0,K());x.addComponentsGetterSetter(z,"fillPatternScale",["x","y"]);x.addGetterSetter(z,"fillPatternScaleX",1,K());x.addGetterSetter(z,"fillPatternScaleY",1,K());x.addComponentsGetterSetter(z,"fillLinearGradientStartPoint",["x","y"]);x.addComponentsGetterSetter(z,"strokeLinearGradientStartPoint",["x","y"]);x.addGetterSetter(z,"fillLinearGradientStartPointX",0);x.addGetterSetter(z,"strokeLinearGradientStartPointX",0);x.addGetterSetter(z,"fillLinearGradientStartPointY",0);x.addGetterSetter(z,"strokeLinearGradientStartPointY",0);x.addComponentsGetterSetter(z,"fillLinearGradientEndPoint",["x","y"]);x.addComponentsGetterSetter(z,"strokeLinearGradientEndPoint",["x","y"]);x.addGetterSetter(z,"fillLinearGradientEndPointX",0);x.addGetterSetter(z,"strokeLinearGradientEndPointX",0);x.addGetterSetter(z,"fillLinearGradientEndPointY",0);x.addGetterSetter(z,"strokeLinearGradientEndPointY",0);x.addComponentsGetterSetter(z,"fillRadialGradientStartPoint",["x","y"]);x.addGetterSetter(z,"fillRadialGradientStartPointX",0);x.addGetterSetter(z,"fillRadialGradientStartPointY",0);x.addComponentsGetterSetter(z,"fillRadialGradientEndPoint",["x","y"]);x.addGetterSetter(z,"fillRadialGradientEndPointX",0);x.addGetterSetter(z,"fillRadialGradientEndPointY",0);x.addGetterSetter(z,"fillPatternRotation",0);x.addGetterSetter(z,"fillRule",void 0,dr());x.backCompat(z,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const Qv="beforeDraw",Zv="draw",rf=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],eb=rf.length;class hr extends At{constructor(e){super(e),this.canvas=new In,this.hitCanvas=new Al({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){q.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!q.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(q.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(q.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return q.prototype.remove.call(this),e&&e.parentNode&&P._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&P.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),q.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){P.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){P.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,P.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let i=0;i<eb;i++){const s=rf[i],o=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),a=o.shape;if(a)return a;if(r=!!o.antialiased,!o.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const s=P.getHitColorKey(r[0],r[1],r[2]),o=Ei[s];return o?{shape:o}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas();return this._fire(Qv,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),At.prototype.drawScene.call(this,s,n,r),this._fire(Zv,{node:this}),this}drawHit(e,n){const r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),At.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){P.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return P.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return P.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}hr.prototype.nodeType="Layer";Ve(hr);x.addGetterSetter(hr,"imageSmoothingEnabled",!0);x.addGetterSetter(hr,"clearBeforeDraw",!0);x.addGetterSetter(hr,"hitGraphEnabled",!0,Ht());class Tl extends hr{constructor(e){super(e),this.listening(!1),P.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Tl.prototype.nodeType="FastLayer";Ve(Tl);class $r extends At{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&P.throw("You may only add groups and shapes to groups.")}}$r.prototype.nodeType="Group";Ve($r);const ia=(function(){return rr.performance&&rr.performance.now?function(){return rr.performance.now()}:function(){return new Date().getTime()}})();class Pt{constructor(e,n){this.id=Pt.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:ia(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Pt.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=ia(),Pt._addAnimation(this),this}stop(){return Pt._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,i=r.length;for(let s=0;s<i;s++)if(r[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const i=n[r],s=i.layers,o=i.func;i._updateFrameObject(ia());const a=s.length;let l;if(o?l=o.call(i,i.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){const u=s[c];u._id!==void 0&&(e[u._id]=u)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=Pt;e.animations.length?(e._runFrames(),P.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,P.requestAnimFrame(this._animationLoop))}}Pt.animations=[];Pt.animIdCounter=0;Pt.animRunning=!1;const tb={node:1,duration:1,easing:1,onFinish:1,yoyo:1},nb=1,ou=2,au=3,lu=["fill","stroke","shadowColor"];let rb=0;class ib{constructor(e,n,r,i,s,o,a){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=s-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=ou,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=au,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===ou?this.setTime(e):this.state===au&&this.setTime(this.duration-e)}pause(){this.state=nb,this.fire("onPause")}getTimer(){return new Date().getTime()}}class De{constructor(e){const n=this,r=e.node,i=r._id,s=e.easing||Pi.Linear,o=!!e.yoyo;let a,l;typeof e.duration>"u"?a=.3:e.duration===0?a=.001:a=e.duration,this.node=r,this._id=rb++;const c=r.getLayer()||(r instanceof Q.Stage?r.getLayers():null);c||P.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Pt(function(){n.tween.onEnterFrame()},c),this.tween=new ib(l,function(u){n._tweenFunc(u)},s,0,1,a*1e3,o),this._addListeners(),De.attrs[i]||(De.attrs[i]={}),De.attrs[i][this._id]||(De.attrs[i][this._id]={}),De.tweens[i]||(De.tweens[i]={});for(l in e)tb[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const r=this.node,i=r._id;let s,o,a,l,c;const u=De.tweens[i][e];u&&delete De.attrs[i][u][e];let d=r.getAttr(e);if(P._isArray(n))if(s=[],o=Math.max(n.length,d.length),e==="points"&&n.length!==d.length&&(n.length>d.length?(l=d,d=P._prepareArrayForTween(d,n,r.closed())):(a=n,n=P._prepareArrayForTween(n,d,r.closed()))),e.indexOf("fill")===0)for(let h=0;h<o;h++)if(h%2===0)s.push(n[h]-d[h]);else{const f=P.colorToRGBA(d[h]);c=P.colorToRGBA(n[h]),d[h]=f,s.push({r:c.r-f.r,g:c.g-f.g,b:c.b-f.b,a:c.a-f.a})}else for(let h=0;h<o;h++)s.push(n[h]-d[h]);else lu.indexOf(e)!==-1?(d=P.colorToRGBA(d),c=P.colorToRGBA(n),s={r:c.r-d.r,g:c.g-d.g,b:c.b-d.b,a:c.a-d.a}):s=n-d;De.attrs[i][this._id][e]={start:d,diff:s,end:n,trueEnd:a,trueStart:l},De.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,r=De.attrs[n._id][this._id];let i,s,o,a,l,c,u,d;for(i in r){if(s=r[i],o=s.start,a=s.diff,d=s.end,P._isArray(o))if(l=[],u=Math.max(o.length,d.length),i.indexOf("fill")===0)for(c=0;c<u;c++)c%2===0?l.push((o[c]||0)+a[c]*e):l.push("rgba("+Math.round(o[c].r+a[c].r*e)+","+Math.round(o[c].g+a[c].g*e)+","+Math.round(o[c].b+a[c].b*e)+","+(o[c].a+a[c].a*e)+")");else for(c=0;c<u;c++)l.push((o[c]||0)+a[c]*e);else lu.indexOf(i)!==-1?l="rgba("+Math.round(o.r+a.r*e)+","+Math.round(o.g+a.g*e)+","+Math.round(o.b+a.b*e)+","+(o.a+a.a*e)+")":l=o+a*e;n.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=De.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=De.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,r=De.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in r)delete De.tweens[e][i];delete De.attrs[e][n],De.tweens[e]&&(Object.keys(De.tweens[e]).length===0&&delete De.tweens[e],Object.keys(De.attrs[e]).length===0&&delete De.attrs[e])}}De.attrs={};De.tweens={};q.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new De(t).play()};const Pi={BackEaseIn(t,e,n,r){return n*(t/=r)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,r){return n*((t=t/r-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,r){let i=1.70158;return(t/=r/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,r,i,s){let o=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s))+e)},ElasticEaseOut(t,e,n,r,i,s){let o=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/s)+n+e)},ElasticEaseInOut(t,e,n,r,i,s){let o=0;return t===0?e:(t/=r/2)===2?e+n:(s||(s=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-Pi.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?Pi.BounceEaseIn(t*2,0,n,r)*.5+e:Pi.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},cu=P._assign(Q,{Util:P,Transform:_t,Node:q,Container:At,Stage:Eo,stages:Ai,Layer:hr,FastLayer:Tl,Group:$r,DD:Pe,Shape:z,shapes:Ei,Animation:Pt,Tween:De,Easings:Pi,Context:Co,Canvas:Cl});class xn extends z{_sceneFunc(e){const n=Q.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=Q.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),o=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=s*(s>0?e:n),u=o*n,d=a*(a>0?e:n),h=l*(l>0?n:e);return{x:c,y:r?-1*h:d,width:u-c,height:h-d}}}xn.prototype._centroid=!0;xn.prototype.className="Arc";xn.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Ve(xn);x.addGetterSetter(xn,"innerRadius",0,K());x.addGetterSetter(xn,"outerRadius",0,K());x.addGetterSetter(xn,"angle",0,K());x.addGetterSetter(xn,"clockwise",!1,Ht());function Ba(t,e,n,r,i,s,o){const a=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),c=o*a/(a+l),u=o*l/(a+l),d=n-c*(i-t),h=r-c*(s-e),f=n+u*(i-t),p=r+u*(s-e);return[d,h,f,p]}function uu(t,e){const n=t.length,r=[];for(let i=2;i<n-2;i+=2){const s=Ba(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(s[0])||(r.push(s[0]),r.push(s[1]),r.push(t[i]),r.push(t[i+1]),r.push(s[2]),r.push(s[3]))}return r}class Sn extends z{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,i=this.tension(),s=this.closed(),o=this.bezier();if(!r)return;let a=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){const l=this.getTensionPoints(),c=l.length;for(a=s?0:4,s||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);a<c-2;)e.bezierCurveTo(l[a++],l[a++],l[a++],l[a++],l[a++],l[a++]);s||e.quadraticCurveTo(l[c-2],l[c-1],n[r-2],n[r-1])}else if(o)for(a=2;a<r;)e.bezierCurveTo(n[a++],n[a++],n[a++],n[a++],n[a++],n[a++]);else for(a=2;a<r;a+=2)e.lineTo(n[a],n[a+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():uu(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),i=Ba(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),s=Ba(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),o=uu(e,r);return[i[2],i[3]].concat(o).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],i=e[1],s=e[1],o,a;for(let l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);return{x:n,y:i,width:r-n,height:s-i}}}Sn.prototype.className="Line";Sn.prototype._attrsAffectingSize=["points","bezier","tension"];Ve(Sn);x.addGetterSetter(Sn,"closed",!1);x.addGetterSetter(Sn,"bezier",!1);x.addGetterSetter(Sn,"tension",0,K());x.addGetterSetter(Sn,"points",[],_v());const sb=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],ob=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],ab=[[1],[1,1],[1,2,1],[1,3,3,1]],du=(t,e,n)=>{let r,i;const o=n/2;r=0;for(let a=0;a<20;a++)i=o*sb[20][a]+o,r+=ob[20][a]*lb(t,e,i);return o*r},hu=(t,e,n)=>{n===void 0&&(n=1);const r=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],s=2*t[1]-2*t[0],o=2*e[1]-2*e[0],a=4*(r*r+i*i),l=4*(r*s+i*o),c=s*s+o*o;if(a===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const u=l/(2*a),d=c/a,h=n+u,f=d-u*u,p=h*h+f>0?Math.sqrt(h*h+f):0,g=u*u+f>0?Math.sqrt(u*u+f):0,y=u+Math.sqrt(u*u+f)!==0?f*Math.log(Math.abs((h+p)/(u+g))):0;return Math.sqrt(a)/2*(h*p-u*g+y)};function lb(t,e,n){const r=Na(1,n,t),i=Na(1,n,e),s=r*r+i*i;return Math.sqrt(s)}const Na=(t,e,n)=>{const r=n.length-1;let i,s;if(r===0)return 0;if(t===0){s=0;for(let o=0;o<=r;o++)s+=ab[r][o]*Math.pow(1-e,r-o)*Math.pow(e,o)*n[o];return s}else{i=new Array(r);for(let o=0;o<r;o++)i[o]=r*(n[o+1]-n[o]);return Na(t-1,e,i)}},fu=(t,e,n)=>{let r=1,i=t/e,s=(t-n(i))/e,o=0;for(;r>.001;){const a=n(i+s),l=Math.abs(t-a)/e;if(l<r)r=l,i+=s;else{const c=n(i-s),u=Math.abs(t-c)/e;u<r?(r=u,i-=s):s/=2}if(o++,o>500)break}return i};class Be extends z{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Be.parsePathData(this.data()),this.pathLength=Be.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<n.length;i++){const s=n[i].command,o=n[i].points;switch(s){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":const a=o[0],l=o[1],c=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],g=c>u?c:u,y=c>u?1:c/u,m=c>u?u/c:1;e.translate(a,l),e.rotate(f),e.scale(y,m),e.arc(0,0,g,d,d+h,1-p),e.scale(1/y,1/m),e.rotate(-f),e.translate(-a,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const c=l.points[4],u=l.points[5],d=l.points[4]+u;let h=Math.PI/180;if(Math.abs(c-d)<h&&(h=Math.abs(c-d)),u<0)for(let f=c-h;f>d;f-=h){const p=Be.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],f,0);e.push(p.x,p.y)}else for(let f=c+h;f<d;f+=h){const p=Be.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],f,0);e.push(p.x,p.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){const u=Be.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(u.x,u.y)}else e=e.concat(l.points)});let n=e[0],r=e[0],i=e[1],s=e[1],o,a;for(let l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],isNaN(o)||(n=Math.min(n,o),r=Math.max(r,o)),isNaN(a)||(i=Math.min(i,a),s=Math.max(s,a));return{x:n,y:i,width:r-n,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){return Be.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,i=0,s=n.length;if(!s)return null;for(;i<s&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===s)return r=n[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[i].command==="M"?(r=n[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[i].start.x,y:n[i].start.y};const o=n[i],a=o.points;switch(o.command){case"L":return Be.getPointOnLine(e,o.start.x,o.start.y,a[0],a[1]);case"C":return Be.getPointOnCubicBezier(fu(e,Be.getPathLength(n),g=>du([o.start.x,a[0],a[2],a[4]],[o.start.y,a[1],a[3],a[5]],g)),o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return Be.getPointOnQuadraticBezier(fu(e,Be.getPathLength(n),g=>hu([o.start.x,a[0],a[2]],[o.start.y,a[1],a[3]],g)),o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":const l=a[0],c=a[1],u=a[2],d=a[3],h=a[5],f=a[6];let p=a[4];return p+=h*e/o.pathLength,Be.getPointOnEllipticalArc(l,c,u,d,p,f)}return null}static getPointOnLine(e,n,r,i,s,o,a){o=o??n,a=a??r;const l=this.getLineLength(n,r,i,s);if(l<1e-10)return{x:n,y:r};if(i===n)return{x:o,y:a+(s>r?e:-e)};const c=(s-r)/(i-n),u=Math.sqrt(e*e/(1+c*c))*(i<n?-1:1),d=c*u;if(Math.abs(a-r-c*(o-n))<1e-10)return{x:o+u,y:a+d};const h=((o-n)*(i-n)+(a-r)*(s-r))/(l*l),f=n+h*(i-n),p=r+h*(s-r),g=this.getLineLength(o,a,f,p),y=Math.sqrt(e*e-g*g),m=Math.sqrt(y*y/(1+c*c))*(i<n?-1:1),b=c*m;return{x:f+m,y:p+b}}static getPointOnCubicBezier(e,n,r,i,s,o,a,l,c){function u(y){return y*y*y}function d(y){return 3*y*y*(1-y)}function h(y){return 3*y*(1-y)*(1-y)}function f(y){return(1-y)*(1-y)*(1-y)}const p=l*u(e)+o*d(e)+i*h(e)+n*f(e),g=c*u(e)+a*d(e)+s*h(e)+r*f(e);return{x:p,y:g}}static getPointOnQuadraticBezier(e,n,r,i,s,o,a){function l(f){return f*f}function c(f){return 2*f*(1-f)}function u(f){return(1-f)*(1-f)}const d=o*l(e)+i*c(e)+n*u(e),h=a*l(e)+s*c(e)+r*u(e);return{x:d,y:h}}static getPointOnEllipticalArc(e,n,r,i,s,o){const a=Math.cos(o),l=Math.sin(o),c={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(c.x*a-c.y*l),y:n+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let d=0;d<r.length;d++)n=n.replace(new RegExp(r[d],"g"),"|"+r[d]);const i=n.split("|"),s=[],o=[];let a=0,l=0;const c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let u;for(let d=1;d<i.length;d++){let h=i[d],f=h.charAt(0);for(h=h.slice(1),o.length=0;u=c.exec(h);)o.push(u[0]);let p=[],g=f==="A"||f==="a"?0:-1;for(let y=0,m=o.length;y<m;y++){const b=o[y];if(b==="00"){p.push(0,0),g>=0&&(g+=2,g>=7&&(g-=7));continue}if(g>=0){if(g===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(b)){p.push(parseInt(b[0],10)),p.push(parseInt(b[1],10)),p.push(parseFloat(b.slice(2))),g+=3,g>=7&&(g-=7);continue}if(b==="11"||b==="10"||b==="01"){p.push(parseInt(b[0],10)),p.push(parseInt(b[1],10)),g+=2,g>=7&&(g-=7);continue}if(b==="0"||b==="1"){p.push(parseInt(b,10)),g+=1,g>=7&&(g-=7);continue}}else if(g===4){if(/^[01]\d+(?:\.\d+)?$/.test(b)){p.push(parseInt(b[0],10)),p.push(parseFloat(b.slice(1))),g+=2,g>=7&&(g-=7);continue}if(b==="0"||b==="1"){p.push(parseInt(b,10)),g+=1,g>=7&&(g-=7);continue}}const v=parseFloat(b);isNaN(v)?p.push(0):p.push(v),g+=1,g>=7&&(g-=7)}else{const v=parseFloat(b);isNaN(v)?p.push(0):p.push(v)}}for(;p.length>0&&!isNaN(p[0]);){let y="",m=[];const b=a,v=l;let w,C,R,O,A,T,k,$,B,se;switch(f){case"l":a+=p.shift(),l+=p.shift(),y="L",m.push(a,l);break;case"L":a=p.shift(),l=p.shift(),m.push(a,l);break;case"m":const F=p.shift(),j=p.shift();if(a+=F,l+=j,y="M",s.length>2&&s[s.length-1].command==="z"){for(let L=s.length-2;L>=0;L--)if(s[L].command==="M"){a=s[L].points[0]+F,l=s[L].points[1]+j;break}}m.push(a,l),f="l";break;case"M":a=p.shift(),l=p.shift(),y="M",m.push(a,l),f="L";break;case"h":a+=p.shift(),y="L",m.push(a,l);break;case"H":a=p.shift(),y="L",m.push(a,l);break;case"v":l+=p.shift(),y="L",m.push(a,l);break;case"V":l=p.shift(),y="L",m.push(a,l);break;case"C":m.push(p.shift(),p.shift(),p.shift(),p.shift()),a=p.shift(),l=p.shift(),m.push(a,l);break;case"c":m.push(a+p.shift(),l+p.shift(),a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),y="C",m.push(a,l);break;case"S":C=a,R=l,w=s[s.length-1],w.command==="C"&&(C=a+(a-w.points[2]),R=l+(l-w.points[3])),m.push(C,R,p.shift(),p.shift()),a=p.shift(),l=p.shift(),y="C",m.push(a,l);break;case"s":C=a,R=l,w=s[s.length-1],w.command==="C"&&(C=a+(a-w.points[2]),R=l+(l-w.points[3])),m.push(C,R,a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),y="C",m.push(a,l);break;case"Q":m.push(p.shift(),p.shift()),a=p.shift(),l=p.shift(),m.push(a,l);break;case"q":m.push(a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),y="Q",m.push(a,l);break;case"T":C=a,R=l,w=s[s.length-1],w.command==="Q"&&(C=a+(a-w.points[0]),R=l+(l-w.points[1])),a=p.shift(),l=p.shift(),y="Q",m.push(C,R,a,l);break;case"t":C=a,R=l,w=s[s.length-1],w.command==="Q"&&(C=a+(a-w.points[0]),R=l+(l-w.points[1])),a+=p.shift(),l+=p.shift(),y="Q",m.push(C,R,a,l);break;case"A":O=p.shift(),A=p.shift(),T=p.shift(),k=p.shift(),$=p.shift(),B=a,se=l,a=p.shift(),l=p.shift(),y="A",m=this.convertEndpointToCenterParameterization(B,se,a,l,k,$,O,A,T);break;case"a":O=p.shift(),A=p.shift(),T=p.shift(),k=p.shift(),$=p.shift(),B=a,se=l,a+=p.shift(),l+=p.shift(),y="A",m=this.convertEndpointToCenterParameterization(B,se,a,l,k,$,O,A,T);break}s.push({command:y||f,points:m,start:{x:b,y:v},pathLength:this.calcLength(b,v,y||f,m)})}(f==="z"||f==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,n,r,i){let s,o,a,l;const c=Be;switch(r){case"L":return c.getLineLength(e,n,i[0],i[1]);case"C":return du([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return hu([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":s=0;const u=i[4],d=i[5],h=i[4]+d;let f=Math.PI/180;if(Math.abs(u-h)<f&&(f=Math.abs(u-h)),o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),d<0)for(l=u-f;l>h;l-=f)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(l=u+f;l<h;l+=f)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),s}return 0}static convertEndpointToCenterParameterization(e,n,r,i,s,o,a,l,c){const u=c*(Math.PI/180),d=Math.cos(u)*(e-r)/2+Math.sin(u)*(n-i)/2,h=-1*Math.sin(u)*(e-r)/2+Math.cos(u)*(n-i)/2,f=d*d/(a*a)+h*h/(l*l);f>1&&(a*=Math.sqrt(f),l*=Math.sqrt(f));let p=Math.sqrt((a*a*(l*l)-a*a*(h*h)-l*l*(d*d))/(a*a*(h*h)+l*l*(d*d)));s===o&&(p*=-1),isNaN(p)&&(p=0);const g=p*a*h/l,y=p*-l*d/a,m=(e+r)/2+Math.cos(u)*g-Math.sin(u)*y,b=(n+i)/2+Math.sin(u)*g+Math.cos(u)*y,v=function(k){return Math.sqrt(k[0]*k[0]+k[1]*k[1])},w=function(k,$){return(k[0]*$[0]+k[1]*$[1])/(v(k)*v($))},C=function(k,$){return(k[0]*$[1]<k[1]*$[0]?-1:1)*Math.acos(w(k,$))},R=C([1,0],[(d-g)/a,(h-y)/l]),O=[(d-g)/a,(h-y)/l],A=[(-1*d-g)/a,(-1*h-y)/l];let T=C(O,A);return w(O,A)<=-1&&(T=Math.PI),w(O,A)>=1&&(T=0),o===0&&T>0&&(T=T-2*Math.PI),o===1&&T<0&&(T=T+2*Math.PI),[m,b,a,l,R,T,u,o]}}Be.prototype.className="Path";Be.prototype._attrsAffectingSize=["data"];Ve(Be);x.addGetterSetter(Be,"data");class fr extends Sn{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let i=r;const s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());const o=this.pointerLength(),a=r.length;let l,c;if(s){const h=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[a-2],r[a-1]],f=Be.calcLength(i[i.length-4],i[i.length-3],"C",h),p=Be.getPointOnQuadraticBezier(Math.min(1,1-o/f),h[0],h[1],h[2],h[3],h[4],h[5]);l=r[a-2]-p.x,c=r[a-1]-p.y}else l=r[a-2]-r[a-4],c=r[a-1]-r[a-3];const u=(Math.atan2(c,l)+n)%n,d=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(l=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+n)%n),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}fr.prototype.className="Arrow";Ve(fr);x.addGetterSetter(fr,"pointerLength",10,K());x.addGetterSetter(fr,"pointerWidth",10,K());x.addGetterSetter(fr,"pointerAtBeginning",!1);x.addGetterSetter(fr,"pointerAtEnding",!0);class qr extends z{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}qr.prototype._centroid=!0;qr.prototype.className="Circle";qr.prototype._attrsAffectingSize=["radius"];Ve(qr);x.addGetterSetter(qr,"radius",0,K());class Vn extends z{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Vn.prototype.className="Ellipse";Vn.prototype._centroid=!0;Vn.prototype._attrsAffectingSize=["radiusX","radiusY"];Ve(Vn);x.addComponentsGetterSetter(Vn,"radius",["x","y"]);x.addGetterSetter(Vn,"radiusX",0,K());x.addGetterSetter(Vn,"radiusY",0,K());let Wt=class sf extends z{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),s=this.attrs.image;let o;if(s){const a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?o=[s,this.cropX(),this.cropY(),a,l,0,0,n,r]:o=[s,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?P.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),s&&(i&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){const n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?P.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n,r;return(r=(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:0}getHeight(){var e,n,r;return(r=(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height)!==null&&r!==void 0?r:0}static fromURL(e,n,r=null){const i=P.createImageElement();i.onload=function(){const s=new sf({image:i});n(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}};Wt.prototype.className="Image";Wt.prototype._attrsAffectingSize=["image"];Ve(Wt);x.addGetterSetter(Wt,"cornerRadius",0,Ao(4));x.addGetterSetter(Wt,"image");x.addComponentsGetterSetter(Wt,"crop",["x","y","width","height"]);x.addGetterSetter(Wt,"cropX",0,K());x.addGetterSetter(Wt,"cropY",0,K());x.addGetterSetter(Wt,"cropWidth",0,K());x.addGetterSetter(Wt,"cropHeight",0,K());const of=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],cb="Change.konva",ub="none",Ga="up",$a="right",Ha="down",Wa="left",db=of.length;class kl extends $r{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const i=function(){n._sync()};for(r=0;r<db;r++)e.on(of[r]+cb,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,i,s,o,a,l,c;if(e&&n){switch(r=e.width(),i=e.height(),s=n.pointerDirection(),o=n.pointerWidth(),c=n.pointerHeight(),a=0,l=0,s){case Ga:a=r/2,l=-1*c;break;case $a:a=r+o,l=i/2;break;case Ha:a=r/2,l=i+c;break;case Wa:a=-1*o,l=i/2;break}n.setAttrs({x:-1*a,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}}kl.prototype.className="Label";Ve(kl);class pr extends z{_sceneFunc(e){const n=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let l=0,c=0,u=0,d=0;typeof a=="number"?l=c=u=d=Math.min(a,n/2,r/2):(l=Math.min(a[0]||0,n/2,r/2),c=Math.min(a[1]||0,n/2,r/2),d=Math.min(a[2]||0,n/2,r/2),u=Math.min(a[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),i===Ga&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*o),e.lineTo((n+s)/2,0)),e.lineTo(n-c,0),e.arc(n-c,c,c,Math.PI*3/2,0,!1),i===$a&&(e.lineTo(n,(r-o)/2),e.lineTo(n+s,r/2),e.lineTo(n,(r+o)/2)),e.lineTo(n,r-d),e.arc(n-d,r-d,d,0,Math.PI/2,!1),i===Ha&&(e.lineTo((n+s)/2,r),e.lineTo(n/2,r+o),e.lineTo((n-s)/2,r)),e.lineTo(u,r),e.arc(u,r-u,u,Math.PI/2,Math.PI,!1),i===Wa&&(e.lineTo(0,(r+o)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-o)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),o=this.width(),a=this.height();return s===Ga?(n-=i,a+=i):s===Ha?a+=i:s===Wa?(e-=r*1.5,o+=r):s===$a&&(o+=r*1.5),{x:e,y:n,width:o,height:a}}}pr.prototype.className="Tag";Ve(pr);x.addGetterSetter(pr,"pointerDirection",ub);x.addGetterSetter(pr,"pointerWidth",0,K());x.addGetterSetter(pr,"pointerHeight",0,K());x.addGetterSetter(pr,"cornerRadius",0,Ao(4));class Yi extends z{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?P.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}}Yi.prototype.className="Rect";Ve(Yi);x.addGetterSetter(Yi,"cornerRadius",0,Ao(4));class jn extends z{_sceneFunc(e){const n=this._getPoints(),r=this.radius(),i=this.sides(),s=this.cornerRadius();if(e.beginPath(),s)P.drawRoundedPolygonPath(e,n,i,r,s);else{e.moveTo(n[0].x,n[0].y);for(let o=1;o<n.length;o++)e.lineTo(n[o].x,n[o].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].x,i=e[0].y,s=e[0].y;return e.forEach(o=>{n=Math.min(n,o.x),r=Math.max(r,o.x),i=Math.min(i,o.y),s=Math.max(s,o.y)}),{x:n,y:i,width:r-n,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}jn.prototype.className="RegularPolygon";jn.prototype._centroid=!0;jn.prototype._attrsAffectingSize=["radius"];Ve(jn);x.addGetterSetter(jn,"radius",0,K());x.addGetterSetter(jn,"sides",0,K());x.addGetterSetter(jn,"cornerRadius",0,Ao(4));const pu=Math.PI*2;class gr extends z{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,pu,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),pu,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}gr.prototype.className="Ring";gr.prototype._centroid=!0;gr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Ve(gr);x.addGetterSetter(gr,"innerRadius",0,K());x.addGetterSetter(gr,"outerRadius",0,K());class on extends z{constructor(e){super(e),this._updated=!0,this.anim=new Pt(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],o=this.frameOffsets(),a=s[i+0],l=s[i+1],c=s[i+2],u=s[i+3],d=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,u),e.closePath(),e.fillStrokeShape(this)),d)if(o){const h=o[n],f=r*2;e.drawImage(d,a,l,c,u,h[f+0],h[f+1],c,u)}else e.drawImage(d,a,l,c,u,0,0,c,u)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],o=this.frameOffsets(),a=s[i+2],l=s[i+3];if(e.beginPath(),o){const c=o[n],u=r*2;e.rect(c[u+0],c[u+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}on.prototype.className="Sprite";Ve(on);x.addGetterSetter(on,"animation");x.addGetterSetter(on,"animations");x.addGetterSetter(on,"frameOffsets");x.addGetterSetter(on,"image");x.addGetterSetter(on,"frameIndex",0,K());x.addGetterSetter(on,"frameRate",17,K());x.backCompat(on,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Un extends z{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let s=1;s<i*2;s++){const o=s%2===0?r:n,a=o*Math.sin(s*Math.PI/i),l=-1*o*Math.cos(s*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Un.prototype.className="Star";Un.prototype._centroid=!0;Un.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Ve(Un);x.addGetterSetter(Un,"numPoints",5,K());x.addGetterSetter(Un,"innerRadius",0,K());x.addGetterSetter(Un,"outerRadius",0,K());function On(t){return[...t].reduce((e,n,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const s=i[r+1];s&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(s)?(e.push(n+s),i[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[r+1]||""))?e.push(n+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const Er="auto",hb="center",af="inherit",oi="justify",fb="Change.konva",pb="2d",gu="-",lf="left",gb="text",mb="Text",yb="top",vb="bottom",mu="middle",cf="normal",bb="px ",ys=" ",wb="right",yu="rtl",_b="word",xb="char",vu="none",sa="",uf=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Sb=uf.length;function Cb(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let vs;function oa(){return vs||(vs=P.createCanvasElement().getContext(pb),vs)}function Ab(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Eb(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Pb(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class Ge extends z{constructor(e){super(Pb(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<Sb;n++)this.on(uf[n]+fb,this._setTextData);this._setTextData()}_sceneFunc(e){var n,r;const i=this.textArr,s=i.length;if(!this.text())return;let o=this.padding(),a=this.fontSize(),l=this.lineHeight()*a,c=this.verticalAlign(),u=this.direction(),d=0,h=this.align(),f=this.getWidth(),p=this.letterSpacing(),g=this.charRenderFunc(),y=this.fill(),m=this.textDecoration(),b=m.indexOf("underline")!==-1,v=m.indexOf("line-through")!==-1,w;u=u===af?e.direction:u;let C=l/2,R=mu;if(!Q.legacyTextRendering){const O=this.measureSize("M");R="alphabetic";const A=(n=O.fontBoundingBoxAscent)!==null&&n!==void 0?n:O.actualBoundingBoxAscent,T=(r=O.fontBoundingBoxDescent)!==null&&r!==void 0?r:O.actualBoundingBoxDescent;C=(A-T)/2+l/2}for(u===yu&&e.setAttr("direction",u),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",R),e.setAttr("textAlign",lf),c===mu?d=(this.getHeight()-s*l-o*2)/2:c===vb&&(d=this.getHeight()-s*l-o*2),e.translate(o,d+o),w=0;w<s;w++){let O=0,A=0;const T=i[w],k=T.text,$=T.width,B=T.lastInParagraph;if(e.save(),h===wb?O+=f-$-o*2:h===hb&&(O+=(f-$-o*2)/2),b){e.save(),e.beginPath();const F=Q.legacyTextRendering?Math.round(a/2):Math.round(a/4),j=O,L=C+A+F;e.moveTo(j,L);const J=h===oi&&!B?f-o*2:$;e.lineTo(j+Math.round(J),L),e.lineWidth=a/15;const M=this._getLinearGradient();e.strokeStyle=M||y,e.stroke(),e.restore()}const se=O;if(u!==yu&&(p!==0||h===oi||g)){const F=k.split(" ").length-1,j=On(k);for(let L=0;L<j.length;L++){const J=j[L];if(J===" "&&!B&&h===oi&&(O+=(f-o*2-$)/F),this._partialTextX=O,this._partialTextY=C+A,this._partialText=J,g){e.save();const X=i.slice(0,w).reduce((he,be)=>he+On(be.text).length,0),de=L+X;g({char:J,index:de,x:O,y:C+A,lineIndex:w,column:L,isLastInLine:B,width:this.measureSize(J).width,context:e})}e.fillStrokeShape(this),g&&e.restore(),O+=this.measureSize(J).width+p}}else p!==0&&e.setAttr("letterSpacing",`${p}px`),this._partialTextX=O,this._partialTextY=C+A,this._partialText=k,e.fillStrokeShape(this);if(v){e.save(),e.beginPath();const F=Q.legacyTextRendering?0:-Math.round(a/4),j=se;e.moveTo(j,C+A+F);const L=h===oi&&!B?f-o*2:$;e.lineTo(j+Math.round(L),C+A+F),e.lineWidth=a/15;const J=this._getLinearGradient();e.strokeStyle=J||y,e.stroke(),e.restore()}e.restore(),s>1&&(C+=l)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=P._isString(e)?e:e==null?"":e+"";return this._setAttr(gb,n),this}getWidth(){return this.attrs.width===Er||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Er||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return P.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,i,s,o,a,l,c,u,d,h;let f=oa(),p=this.fontSize(),g;f.save(),f.font=this._getContextFont(),g=f.measureText(e),f.restore();const y=p/100;return{actualBoundingBoxAscent:(n=g.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*y,actualBoundingBoxDescent:(r=g.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=g.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*y,actualBoundingBoxRight:(s=g.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*y,alphabeticBaseline:(o=g.alphabeticBaseline)!==null&&o!==void 0?o:0,emHeightAscent:(a=g.emHeightAscent)!==null&&a!==void 0?a:100*y,emHeightDescent:(l=g.emHeightDescent)!==null&&l!==void 0?l:-20*y,fontBoundingBoxAscent:(c=g.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*y,fontBoundingBoxDescent:(u=g.fontBoundingBoxDescent)!==null&&u!==void 0?u:21*y,hangingBaseline:(d=g.hangingBaseline)!==null&&d!==void 0?d:72.80000305175781*y,ideographicBaseline:(h=g.ideographicBaseline)!==null&&h!==void 0?h:-21*y,width:g.width,height:p}}_getContextFont(){return this.fontStyle()+ys+this.fontVariant()+ys+(this.fontSize()+bb)+Cb(this.fontFamily())}_addTextLine(e){this.align()===oi&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return oa().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,s=this.attrs.width,o=this.attrs.height,a=s!==Er&&s!==void 0,l=o!==Er&&o!==void 0,c=this.padding(),u=s-c*2,d=o-c*2,h=0,f=this.wrap(),p=f!==vu,g=f!==xb&&p,y=this.ellipsis();this.textArr=[],oa().font=this._getContextFont();const m=y?this._getTextWidth(sa):0;for(let b=0,v=e.length;b<v;++b){let w=e[b],C=this._getTextWidth(w);if(a&&C>u)for(;w.length>0;){let R=0,O=On(w).length,A="",T=0;for(;R<O;){const k=R+O>>>1,$=On(w),B=$.slice(0,k+1).join(""),se=this._getTextWidth(B);(y&&l&&h+i>d?se+m:se)<=u?(R=k+1,A=B,T=se):O=k}if(A){if(g){const B=On(w),se=On(A),F=B[se.length],j=F===ys||F===gu;let L;if(j&&T<=u)L=se.length;else{const J=se.lastIndexOf(ys),M=se.lastIndexOf(gu);L=Math.max(J,M)+1}L>0&&(R=L,A=B.slice(0,R).join(""),T=this._getTextWidth(A))}if(A=A.trimRight(),this._addTextLine(A),r=Math.max(r,T),h+=i,this._shouldHandleEllipsis(h)){this._tryToAddEllipsisToLastLine();break}if(w=On(w).slice(R).join("").trimLeft(),w.length>0&&(C=this._getTextWidth(w),C<=u)){this._addTextLine(w),h+=i,r=Math.max(r,C);break}}else break}else this._addTextLine(w),h+=i,r=Math.max(r,C),this._shouldHandleEllipsis(h)&&b<v-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&h+i>d)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,s=i!==Er&&i!==void 0,o=this.padding(),a=i-o*2;return!(this.wrap()!==vu)||s&&e+r>a}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==Er&&e!==void 0,r=this.padding(),i=e-r*2,s=this.ellipsis(),o=this.textArr[this.textArr.length-1];!o||!s||(n&&(this._getTextWidth(o.text+sa)<i||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+sa))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}Ge.prototype._fillFunc=Ab;Ge.prototype._strokeFunc=Eb;Ge.prototype.className=mb;Ge.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Ve(Ge);x.overWriteSetter(Ge,"width",El());x.overWriteSetter(Ge,"height",El());x.addGetterSetter(Ge,"direction",af);x.addGetterSetter(Ge,"fontFamily","Arial");x.addGetterSetter(Ge,"fontSize",12,K());x.addGetterSetter(Ge,"fontStyle",cf);x.addGetterSetter(Ge,"fontVariant",cf);x.addGetterSetter(Ge,"padding",0,K());x.addGetterSetter(Ge,"align",lf);x.addGetterSetter(Ge,"verticalAlign",yb);x.addGetterSetter(Ge,"lineHeight",1,K());x.addGetterSetter(Ge,"wrap",_b);x.addGetterSetter(Ge,"ellipsis",!1,Ht());x.addGetterSetter(Ge,"letterSpacing",0,K());x.addGetterSetter(Ge,"text","",dr());x.addGetterSetter(Ge,"textDecoration","");x.addGetterSetter(Ge,"charRenderFunc",void 0);const Tb="",df="normal";function hf(t){t.fillText(this.partialText,0,0)}function ff(t){t.strokeText(this.partialText,0,0)}class Xe extends z{constructor(e){super(e),this.dummyCanvas=P.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Be.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:Be.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Be.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo,o=n.indexOf("underline")!==-1,a=n.indexOf("line-through")!==-1;o&&e.beginPath();for(let l=0;l<s.length;l++){e.save();const c=s[l].p0;e.translate(c.x,c.y),e.rotate(s[l].rotation),this.partialText=s[l].text,e.fillStrokeShape(this),o&&(l===0&&e.moveTo(0,i/2+1),e.lineTo(s[l].width,i/2+1)),e.restore()}if(o&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),a){e.beginPath();for(let l=0;l<s.length;l++){e.save();const c=s[l].p0;e.translate(c.x,c.y),e.rotate(s[l].rotation),l===0&&e.moveTo(0,0),e.lineTo(s[l].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=i/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const i=n[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return P.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Ge.prototype.setText.call(this,e)}_getContextFont(){return Ge.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=On(this.text()),n=[];let r=0;for(let d=0;d<e.length;d++)n.push({char:e[d],width:this._getTextSize(e[d]).width}),r+=n[d].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const s=this.letterSpacing(),o=this.align(),a=this.kerningFunc(),l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*s,0);let c=0;o==="center"&&(c=Math.max(0,this.pathLength/2-l/2)),o==="right"&&(c=Math.max(0,this.pathLength-l));let u=c;for(let d=0;d<n.length;d++){const h=this._getPointAtLength(u);if(!h)return;const f=n[d].char;let p=n[d].width+s;if(f===" "&&o==="justify"){const w=this.text().split(" ").length-1;p+=(this.pathLength-l)/w}const g=this._getPointAtLength(u+p);if(!g)return;const y=Be.getLineLength(h.x,h.y,g.x,g.y);let m=0;if(a)try{m=a(n[d-1].char,f)*this.fontSize()}catch{m=0}h.x+=m,g.x+=m,this.textWidth+=m;const b=Be.getPointOnLine(m+y/2,h.x,h.y,g.x,g.y),v=Math.atan2(g.y-h.y,g.x-h.x);this.glyphInfo.push({transposeX:b.x,transposeY:b.y,text:e[d],rotation:v,p0:h,p1:g,width:y}),u+=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let n=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,o,a;for(let c=0;c<e.length/2;c++)o=e[c*2],a=e[c*2+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);const l=this.fontSize();return{x:n-l/2,y:i-l/2,width:r-n+l,height:s-i+l}}destroy(){return P.releaseCanvas(this.dummyCanvas),super.destroy()}}Xe.prototype._fillFunc=hf;Xe.prototype._strokeFunc=ff;Xe.prototype._fillFuncHit=hf;Xe.prototype._strokeFuncHit=ff;Xe.prototype.className="TextPath";Xe.prototype._attrsAffectingSize=["text","fontSize","data"];Ve(Xe);x.addGetterSetter(Xe,"data");x.addGetterSetter(Xe,"fontFamily","Arial");x.addGetterSetter(Xe,"fontSize",12,K());x.addGetterSetter(Xe,"fontStyle",df);x.addGetterSetter(Xe,"align","left");x.addGetterSetter(Xe,"letterSpacing",0,K());x.addGetterSetter(Xe,"textBaseline","middle");x.addGetterSetter(Xe,"fontVariant",df);x.addGetterSetter(Xe,"text",Tb);x.addGetterSetter(Xe,"textDecoration","");x.addGetterSetter(Xe,"kerningFunc",void 0);const pf="tr-konva",kb=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${pf}`).join(" "),bu="nodesRect",Ob=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],Rb={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},Mb="ontouchstart"in Q._global;function Ib(t,e,n){if(t==="rotater")return n;e+=P.degToRad(Rb[t]||0);const r=(P.radToDeg(e)%360+360)%360;return P._inRange(r,315+22.5,360)||P._inRange(r,0,22.5)?"ns-resize":P._inRange(r,45-22.5,45+22.5)?"nesw-resize":P._inRange(r,90-22.5,90+22.5)?"ew-resize":P._inRange(r,135-22.5,135+22.5)?"nwse-resize":P._inRange(r,180-22.5,180+22.5)?"ns-resize":P._inRange(r,225-22.5,225+22.5)?"nesw-resize":P._inRange(r,270-22.5,270+22.5)?"ew-resize":P._inRange(r,315-22.5,315+22.5)?"nwse-resize":(P.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const Xs=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function Lb(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function gf(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:i}}function Db(t,e){const n=Lb(t);return gf(t,e,n)}function Fb(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=Q.getAngle(t[i]),o=Math.abs(s-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<n&&(r=s)}return r}let za=0;class Se extends $r{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(kb,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return P.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return pf+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(P.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const o=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(o,s)}i.on(Ob.map(o=>o+`.${this._getEventNamespace()}`).join(" "),s),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),s=i.x-n.x,o=i.y-n.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;const l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+s,y:l.y+o}),a.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(bu),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(bu,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),o=e.getAbsolutePosition(r),a=i.x*s.x-e.offsetX()*s.x,l=i.y*s.y-e.offsetY()*s.y,c=(Q.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),u={x:o.x+a*Math.cos(c)+l*Math.sin(-c),y:o.y+l*Math.cos(c)+a*Math.sin(c),width:i.width*s.x,height:i.height*s.y,rotation:c};return gf(u,-Q.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const u=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),d=[{x:u.x,y:u.y},{x:u.x+u.width,y:u.y},{x:u.x+u.width,y:u.y+u.height},{x:u.x,y:u.y+u.height}],h=c.getAbsoluteTransform();d.forEach(function(f){const p=h.point(f);n.push(p)})});const r=new _t;r.rotate(-Q.getAngle(this.rotation()));let i=1/0,s=1/0,o=-1/0,a=-1/0;n.forEach(function(c){const u=r.point(c);i===void 0&&(i=o=u.x,s=a=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}),r.invert();const l=r.point({x:i,y:s});return{x:l.x,y:l.y,width:o-i,height:a-s,rotation:Q.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Xs.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new Yi({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Mb?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=Q.getAngle(this.rotation()),s=this.rotateAnchorCursor(),o=Ib(e,i,s);n.getStage().content&&(n.getStage().content.style.cursor=o),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new z({name:"back",width:0,height:0,sceneFunc(n,r){const i=r.getParent(),s=i.padding();n.beginPath(),n.rect(-s,-s,r.width()+s*2,r.height()+s*2),n.moveTo(r.width()/2,-s),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(r.width()/2,-i.rotateAnchorOffset()*P._sign(r.height())-s),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,i=n.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},za++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let n,r,i;const s=this.findOne("."+this._movingAnchorName),o=s.getStage();o.setPointersPositions(e);const a=o.getPointerPosition();let l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),s.setAbsolutePosition(l);const u=s.getAbsolutePosition();if(c.x===u.x&&c.y===u.y)return;if(this._movingAnchorName==="rotater"){const b=this._getNodeRect();n=s.x()-b.width/2,r=-s.y()+b.height/2;let v=Math.atan2(-r,n)+Math.PI/2;b.height<0&&(v-=Math.PI);const C=Q.getAngle(this.rotation())+v,R=Q.getAngle(this.rotationSnapTolerance()),A=Fb(this.rotationSnaps(),C,R)-b.rotation,T=Db(b,A);this._fitNodesInto(T,e);return}const d=this.shiftBehavior();let h;d==="inverted"?h=this.keepRatio()&&!e.shiftKey:d==="none"?h=this.keepRatio():h=this.keepRatio()||e.shiftKey;let f=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(h){const b=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(b.x-s.x(),2)+Math.pow(b.y-s.y(),2));const v=this.findOne(".top-left").x()>b.x?-1:1,w=this.findOne(".top-left").y()>b.y?-1:1;n=i*this.cos*v,r=i*this.sin*w,this.findOne(".top-left").x(b.x-n),this.findOne(".top-left").y(b.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(h){const b=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-b.x,2)+Math.pow(b.y-s.y(),2));const v=this.findOne(".top-right").x()<b.x?-1:1,w=this.findOne(".top-right").y()>b.y?-1:1;n=i*this.cos*v,r=i*this.sin*w,this.findOne(".top-right").x(b.x+n),this.findOne(".top-right").y(b.y-r)}var p=s.position();this.findOne(".top-left").y(p.y),this.findOne(".bottom-right").x(p.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(h){const b=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(b.x-s.x(),2)+Math.pow(s.y()-b.y,2));const v=b.x<s.x()?-1:1,w=s.y()<b.y?-1:1;n=i*this.cos*v,r=i*this.sin*w,s.x(b.x-n),s.y(b.y+r)}p=s.position(),this.findOne(".top-left").x(p.x),this.findOne(".bottom-right").y(p.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(h){const b=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-b.x,2)+Math.pow(s.y()-b.y,2));const v=this.findOne(".bottom-right").x()<b.x?-1:1,w=this.findOne(".bottom-right").y()<b.y?-1:1;n=i*this.cos*v,r=i*this.sin*w,this.findOne(".bottom-right").x(b.x+n),this.findOne(".bottom-right").y(b.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(f=this.centeredScaling()||e.altKey,f){const b=this.findOne(".top-left"),v=this.findOne(".bottom-right"),w=b.x(),C=b.y(),R=this.getWidth()-v.x(),O=this.getHeight()-v.y();v.move({x:-w,y:-C}),b.move({x:R,y:O})}const g=this.findOne(".top-left").getAbsolutePosition();n=g.x,r=g.y;const y=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),m=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:y,height:m,rotation:Q.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();za--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(i=>{var s;i._fire("transformend",{evt:e,target:i}),(s=i.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),i=1;if(P._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(P._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=new _t;if(s.rotate(Q.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const h=s.point({x:-this.padding()*2,y:0});e.x+=h.x,e.y+=h.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const h=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const h=s.point({x:0,y:-this.padding()*2});e.x+=h.x,e.y+=h.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const h=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const h=this.boundBoxFunc()(r,e);h?e=h:P.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,a=new _t;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/o,r.height/o);const l=new _t,c=e.width/o,u=e.height/o;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(u))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,u));const d=l.multiply(a.invert());this._nodes.forEach(h=>{var f;if(!h.getStage())return;const p=h.getParent().getAbsoluteTransform(),g=h.getTransform().copy();g.translate(h.offsetX(),h.offsetY());const y=new _t;y.multiply(p.copy().invert()).multiply(d).multiply(p).multiply(g);const m=y.decompose();h.setAttrs(m),(f=h.getLayer())===null||f===void 0||f.batchDraw()}),this.rotation(P._getRotation(e.rotation)),this._nodes.forEach(h=>{this._fire("transform",{evt:n,target:h}),h._fire("transform",{evt:n,target:h})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(P._getRotation(n.rotation));const r=n.width,i=n.height,s=this.enabledAnchors(),o=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(d=>{d.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:o&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+a,visible:o&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:o&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:o&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-a,visible:o&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-a,visible:o&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*P._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(d=>d.draggable()),x:0,y:0});const u=this.anchorStyleFunc();u&&c.forEach(d=>{u(d)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),$r.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return q.prototype.toObject.call(this)}clone(e){return q.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Se.isTransforming=()=>za>0;function Bb(t){return t instanceof Array||P.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Xs.indexOf(e)===-1&&P.warn("Unknown anchor name: "+e+". Available names are: "+Xs.join(", "))}),t||[]}Se.prototype.className="Transformer";Ve(Se);x.addGetterSetter(Se,"enabledAnchors",Xs,Bb);x.addGetterSetter(Se,"flipEnabled",!0,Ht());x.addGetterSetter(Se,"resizeEnabled",!0);x.addGetterSetter(Se,"anchorSize",10,K());x.addGetterSetter(Se,"rotateEnabled",!0);x.addGetterSetter(Se,"rotateLineVisible",!0);x.addGetterSetter(Se,"rotationSnaps",[]);x.addGetterSetter(Se,"rotateAnchorOffset",50,K());x.addGetterSetter(Se,"rotateAnchorCursor","crosshair");x.addGetterSetter(Se,"rotationSnapTolerance",5,K());x.addGetterSetter(Se,"borderEnabled",!0);x.addGetterSetter(Se,"anchorStroke","rgb(0, 161, 255)");x.addGetterSetter(Se,"anchorStrokeWidth",1,K());x.addGetterSetter(Se,"anchorFill","white");x.addGetterSetter(Se,"anchorCornerRadius",0,K());x.addGetterSetter(Se,"borderStroke","rgb(0, 161, 255)");x.addGetterSetter(Se,"borderStrokeWidth",1,K());x.addGetterSetter(Se,"borderDash");x.addGetterSetter(Se,"keepRatio",!0);x.addGetterSetter(Se,"shiftBehavior","default");x.addGetterSetter(Se,"centeredScaling",!1);x.addGetterSetter(Se,"ignoreStroke",!1);x.addGetterSetter(Se,"padding",0,K());x.addGetterSetter(Se,"nodes");x.addGetterSetter(Se,"node");x.addGetterSetter(Se,"boundBoxFunc");x.addGetterSetter(Se,"anchorDragBoundFunc");x.addGetterSetter(Se,"anchorStyleFunc");x.addGetterSetter(Se,"shouldOverdrawWholeArea",!1);x.addGetterSetter(Se,"useSingleNodeRotation",!0);x.backCompat(Se,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Cn extends z{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Q.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Cn.prototype.className="Wedge";Cn.prototype._centroid=!0;Cn.prototype._attrsAffectingSize=["radius"];Ve(Cn);x.addGetterSetter(Cn,"radius",0,K());x.addGetterSetter(Cn,"angle",0,K());x.addGetterSetter(Cn,"clockwise",!1);x.backCompat(Cn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function wu(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const Nb=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Gb=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function $b(t,e){const n=t.data,r=t.width,i=t.height;let s,o,a,l,c,u,d,h,f,p,g,y,m,b,v,w,C,R,O,A;const T=e+e+1,k=r-1,$=i-1,B=e+1,se=B*(B+1)/2,F=new wu,j=Nb[e],L=Gb[e];let J=null,M=F,X=null,de=null;for(let he=1;he<T;he++)M=M.next=new wu,he===B&&(J=M);M.next=F,a=o=0;for(let he=0;he<i;he++){y=m=b=v=l=c=u=d=0,h=B*(w=n[o]),f=B*(C=n[o+1]),p=B*(R=n[o+2]),g=B*(O=n[o+3]),l+=se*w,c+=se*C,u+=se*R,d+=se*O,M=F;for(let be=0;be<B;be++)M.r=w,M.g=C,M.b=R,M.a=O,M=M.next;for(let be=1;be<B;be++)s=o+((k<be?k:be)<<2),l+=(M.r=w=n[s])*(A=B-be),c+=(M.g=C=n[s+1])*A,u+=(M.b=R=n[s+2])*A,d+=(M.a=O=n[s+3])*A,y+=w,m+=C,b+=R,v+=O,M=M.next;X=F,de=J;for(let be=0;be<r;be++)n[o+3]=O=d*j>>L,O!==0?(O=255/O,n[o]=(l*j>>L)*O,n[o+1]=(c*j>>L)*O,n[o+2]=(u*j>>L)*O):n[o]=n[o+1]=n[o+2]=0,l-=h,c-=f,u-=p,d-=g,h-=X.r,f-=X.g,p-=X.b,g-=X.a,s=a+((s=be+e+1)<k?s:k)<<2,y+=X.r=n[s],m+=X.g=n[s+1],b+=X.b=n[s+2],v+=X.a=n[s+3],l+=y,c+=m,u+=b,d+=v,X=X.next,h+=w=de.r,f+=C=de.g,p+=R=de.b,g+=O=de.a,y-=w,m-=C,b-=R,v-=O,de=de.next,o+=4;a+=r}for(let he=0;he<r;he++){m=b=v=y=c=u=d=l=0,o=he<<2,h=B*(w=n[o]),f=B*(C=n[o+1]),p=B*(R=n[o+2]),g=B*(O=n[o+3]),l+=se*w,c+=se*C,u+=se*R,d+=se*O,M=F;for(let Ae=0;Ae<B;Ae++)M.r=w,M.g=C,M.b=R,M.a=O,M=M.next;let be=r;for(let Ae=1;Ae<=e;Ae++)o=be+he<<2,l+=(M.r=w=n[o])*(A=B-Ae),c+=(M.g=C=n[o+1])*A,u+=(M.b=R=n[o+2])*A,d+=(M.a=O=n[o+3])*A,y+=w,m+=C,b+=R,v+=O,M=M.next,Ae<$&&(be+=r);o=he,X=F,de=J;for(let Ae=0;Ae<i;Ae++)s=o<<2,n[s+3]=O=d*j>>L,O>0?(O=255/O,n[s]=(l*j>>L)*O,n[s+1]=(c*j>>L)*O,n[s+2]=(u*j>>L)*O):n[s]=n[s+1]=n[s+2]=0,l-=h,c-=f,u-=p,d-=g,h-=X.r,f-=X.g,p-=X.b,g-=X.a,s=he+((s=Ae+B)<$?s:$)*r<<2,l+=y+=X.r=n[s],c+=m+=X.g=n[s+1],u+=b+=X.b=n[s+2],d+=v+=X.a=n[s+3],X=X.next,h+=w=de.r,f+=C=de.g,p+=R=de.b,g+=O=de.a,y-=w,m-=C,b-=R,v-=O,de=de.next,o+=r}}const Hb=function(e){const n=Math.round(this.blurRadius());n>0&&$b(e,n)};x.addGetterSetter(q,"blurRadius",0,K(),x.afterSetFilter);const Wb=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};x.addGetterSetter(q,"brightness",0,K(),x.afterSetFilter);const zb=function(t){const e=this.brightness(),n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},Vb=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let i=150,s=150,o=150;for(let a=0;a<r;a+=4)i=n[a],s=n[a+1],o=n[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,o=o<0?0:o>255?255:o,n[a]=i,n[a+1]=s,n[a+2]=o};x.addGetterSetter(q,"contrast",0,K(),x.afterSetFilter);const jb=function(t){var e,n,r,i,s,o,a,l,c;const u=t.data,d=t.width,h=t.height,f=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),p=Math.min(1,Math.max(0,(i=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&i!==void 0?i:.5)),y=(a={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(o=(s=this.embossDirection)===null||s===void 0?void 0:s.call(this))!==null&&o!==void 0?o:"top-left"])!==null&&a!==void 0?a:315,m=!!((c=(l=this.embossBlend)===null||l===void 0?void 0:l.call(this))!==null&&c!==void 0&&c),b=f*10,v=p*255,w=y*Math.PI/180,C=Math.cos(w),R=Math.sin(w),O=128/1020*b,A=new Uint8ClampedArray(u),T=new Float32Array(d*h);for(let F=0,j=0;j<u.length;j+=4,F++)T[F]=.2126*A[j]+.7152*A[j+1]+.0722*A[j+2];const k=[-1,0,1,-2,0,2,-1,0,1],$=[-1,-2,-1,0,0,0,1,2,1],B=[-d-1,-d,-d+1,-1,0,1,d-1,d,d+1],se=F=>F<0?0:F>255?255:F;for(let F=1;F<h-1;F++)for(let j=1;j<d-1;j++){const L=F*d+j;let J=0,M=0;J+=T[L+B[0]]*k[0],M+=T[L+B[0]]*$[0],J+=T[L+B[1]]*k[1],M+=T[L+B[1]]*$[1],J+=T[L+B[2]]*k[2],M+=T[L+B[2]]*$[2],J+=T[L+B[3]]*k[3],M+=T[L+B[3]]*$[3],J+=T[L+B[5]]*k[5],M+=T[L+B[5]]*$[5],J+=T[L+B[6]]*k[6],M+=T[L+B[6]]*$[6],J+=T[L+B[7]]*k[7],M+=T[L+B[7]]*$[7],J+=T[L+B[8]]*k[8],M+=T[L+B[8]]*$[8];const X=C*J+R*M,de=se(v+X*O),he=L*4;if(m){const be=de-v;u[he]=se(A[he]+be),u[he+1]=se(A[he+1]+be),u[he+2]=se(A[he+2]+be),u[he+3]=A[he+3]}else u[he]=u[he+1]=u[he+2]=de,u[he+3]=A[he+3]}for(let F=0;F<d;F++){let j=F*4,L=((h-1)*d+F)*4;u[j]=A[j],u[j+1]=A[j+1],u[j+2]=A[j+2],u[j+3]=A[j+3],u[L]=A[L],u[L+1]=A[L+1],u[L+2]=A[L+2],u[L+3]=A[L+3]}for(let F=1;F<h-1;F++){let j=F*d*4,L=(F*d+(d-1))*4;u[j]=A[j],u[j+1]=A[j+1],u[j+2]=A[j+2],u[j+3]=A[j+3],u[L]=A[L],u[L+1]=A[L+1],u[L+2]=A[L+2],u[L+3]=A[L+3]}return t};x.addGetterSetter(q,"embossStrength",.5,K(),x.afterSetFilter);x.addGetterSetter(q,"embossWhiteLevel",.5,K(),x.afterSetFilter);x.addGetterSetter(q,"embossDirection","top-left",void 0,x.afterSetFilter);x.addGetterSetter(q,"embossBlend",!1,void 0,x.afterSetFilter);function aa(t,e,n,r,i){const s=n-e,o=i-r;if(s===0)return r+o/2;if(o===0)return r;let a=(t-e)/s;return a=o*a+r,a}const Ub=function(t){const e=t.data,n=e.length;let r=e[0],i=r,s,o=e[1],a=o,l,c=e[2],u=c,d;const h=this.enhance();if(h===0)return;for(let v=0;v<n;v+=4)s=e[v+0],s<r?r=s:s>i&&(i=s),l=e[v+1],l<o?o=l:l>a&&(a=l),d=e[v+2],d<c?c=d:d>u&&(u=d);i===r&&(i=255,r=0),a===o&&(a=255,o=0),u===c&&(u=255,c=0);let f,p,g,y,m,b;if(h>0)f=i+h*(255-i),p=r-h*(r-0),g=a+h*(255-a),y=o-h*(o-0),m=u+h*(255-u),b=c-h*(c-0);else{const v=(i+r)*.5;f=i+h*(i-v),p=r+h*(r-v);const w=(a+o)*.5;g=a+h*(a-w),y=o+h*(o-w);const C=(u+c)*.5;m=u+h*(u-C),b=c+h*(c-C)}for(let v=0;v<n;v+=4)e[v+0]=aa(e[v+0],r,i,p,f),e[v+1]=aa(e[v+1],o,a,y,g),e[v+2]=aa(e[v+2],c,u,b,m)};x.addGetterSetter(q,"enhance",0,K(),x.afterSetFilter);const Yb=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};x.addGetterSetter(q,"hue",0,K(),x.afterSetFilter);x.addGetterSetter(q,"saturation",0,K(),x.afterSetFilter);x.addGetterSetter(q,"luminance",0,K(),x.afterSetFilter);const Xb=function(t){const e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=this.luminance()*127,a=r*i*Math.cos(s*Math.PI/180),l=r*i*Math.sin(s*Math.PI/180),c=.299*r+.701*a+.167*l,u=.587*r-.587*a+.33*l,d=.114*r-.114*a-.497*l,h=.299*r-.299*a-.328*l,f=.587*r+.413*a+.035*l,p=.114*r-.114*a+.293*l,g=.299*r-.3*a+1.25*l,y=.587*r-.586*a-1.05*l,m=.114*r+.886*a-.2*l;let b,v,w,C;for(let R=0;R<n;R+=4)b=e[R+0],v=e[R+1],w=e[R+2],C=e[R+3],e[R+0]=c*b+u*v+d*w+o,e[R+1]=h*b+f*v+p*w+o,e[R+2]=g*b+y*v+m*w+o,e[R+3]=C},Kb=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=r*i*Math.cos(s*Math.PI/180),a=r*i*Math.sin(s*Math.PI/180),l=.299*r+.701*o+.167*a,c=.587*r-.587*o+.33*a,u=.114*r-.114*o-.497*a,d=.299*r-.299*o-.328*a,h=.587*r+.413*o+.035*a,f=.114*r-.114*o+.293*a,p=.299*r-.3*o+1.25*a,g=.587*r-.586*o-1.05*a,y=.114*r+.886*o-.2*a;for(let m=0;m<n;m+=4){const b=e[m+0],v=e[m+1],w=e[m+2],C=e[m+3];e[m+0]=l*b+c*v+u*w,e[m+1]=d*b+h*v+f*w,e[m+2]=p*b+g*v+y*w,e[m+3]=C}};x.addGetterSetter(q,"hue",0,K(),x.afterSetFilter);x.addGetterSetter(q,"saturation",0,K(),x.afterSetFilter);x.addGetterSetter(q,"value",0,K(),x.afterSetFilter);const qb=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},Jb=function(t,e,n){const r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2;let c=Math.sqrt(a*a+l*l),u=s-a,d=o-l;const h=Math.sqrt(u*u+d*d);c=h>c?h:c;const f=o,p=s,g=360/p*Math.PI/180;for(let y=0;y<p;y+=1){const m=Math.sin(y*g),b=Math.cos(y*g);for(let v=0;v<f;v+=1){u=Math.floor(a+c*v/f*b),d=Math.floor(l+c*v/f*m);let w=(d*s+u)*4;const C=r[w+0],R=r[w+1],O=r[w+2],A=r[w+3];w=(y+v*s)*4,i[w+0]=C,i[w+1]=R,i[w+2]=O,i[w+3]=A}}},Qb=function(t,e,n){const r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2;let c=Math.sqrt(a*a+l*l),u=s-a,d=o-l;const h=Math.sqrt(u*u+d*d);c=h>c?h:c;const f=o,p=s,g=0;let y,m;for(u=0;u<s;u+=1)for(d=0;d<o;d+=1){const b=u-a,v=d-l,w=Math.sqrt(b*b+v*v)*f/c;let C=(Math.atan2(v,b)*180/Math.PI+360+g)%360;C=C*p/360,y=Math.floor(C),m=Math.floor(w);let R=(m*s+y)*4;const O=r[R+0],A=r[R+1],T=r[R+2],k=r[R+3];R=(d*s+u)*4,i[R+0]=O,i[R+1]=A,i[R+2]=T,i[R+3]=k}},Zb=function(t){const e=t.width,n=t.height;let r,i,s,o,a,l,c,u,d,h,f=Math.round(this.kaleidoscopePower());const p=Math.round(this.kaleidoscopeAngle()),g=Math.floor(e*(p%360)/360);if(f<1)return;const y=P.createCanvasElement();y.width=e,y.height=n;const m=y.getContext("2d").getImageData(0,0,e,n);P.releaseCanvas(y),Jb(t,m,{polarCenterX:e/2,polarCenterY:n/2});let b=e/Math.pow(2,f);for(;b<=8;)b=b*2,f-=1;b=Math.ceil(b);let v=b,w=0,C=v,R=1;for(g+b>e&&(w=v,C=0,R=-1),i=0;i<n;i+=1)for(r=w;r!==C;r+=R)s=Math.round(r+g)%e,d=(e*i+s)*4,a=m.data[d+0],l=m.data[d+1],c=m.data[d+2],u=m.data[d+3],h=(e*i+r)*4,m.data[h+0]=a,m.data[h+1]=l,m.data[h+2]=c,m.data[h+3]=u;for(i=0;i<n;i+=1)for(v=Math.floor(b),o=0;o<f;o+=1){for(r=0;r<v+1;r+=1)d=(e*i+r)*4,a=m.data[d+0],l=m.data[d+1],c=m.data[d+2],u=m.data[d+3],h=(e*i+v*2-r-1)*4,m.data[h+0]=a,m.data[h+1]=l,m.data[h+2]=c,m.data[h+3]=u;v*=2}Qb(m,t,{})};x.addGetterSetter(q,"kaleidoscopePower",2,K(),x.afterSetFilter);x.addGetterSetter(q,"kaleidoscopeAngle",0,K(),x.afterSetFilter);function bs(t,e,n){let r=(n*t.width+e)*4;const i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function ai(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function e3(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function t3(t,e){const n=bs(t,0,0),r=bs(t,t.width-1,0),i=bs(t,0,t.height-1),s=bs(t,t.width-1,t.height-1),o=e||10;if(ai(n,r)<o&&ai(r,s)<o&&ai(s,i)<o&&ai(i,n)<o){const a=e3([r,n,s,i]),l=[];for(let c=0;c<t.width*t.height;c++){const u=ai(a,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=u<o?0:255}return l}}function n3(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function r3(t,e,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<i;d++)for(let h=0;h<i;h++){const f=a+d-s,p=l+h-s;if(f>=0&&f<n&&p>=0&&p<e){const g=f*e+p,y=r[d*i+h];u+=t[g]*y}}o[c]=u===2040?255:0}return o}function i3(t,e,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<i;d++)for(let h=0;h<i;h++){const f=a+d-s,p=l+h-s;if(f>=0&&f<n&&p>=0&&p<e){const g=f*e+p,y=r[d*i+h];u+=t[g]*y}}o[c]=u>=1020?255:0}return o}function s3(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<i;d++)for(let h=0;h<i;h++){const f=a+d-s,p=l+h-s;if(f>=0&&f<n&&p>=0&&p<e){const g=f*e+p,y=r[d*i+h];u+=t[g]*y}}o[c]=u}return o}const o3=function(t){const e=this.threshold();let n=t3(t,e);return n&&(n=r3(n,t.width,t.height),n=i3(n,t.width,t.height),n=s3(n,t.width,t.height),n3(t,n)),t};x.addGetterSetter(q,"threshold",0,K(),x.afterSetFilter);const a3=function(t){const e=this.noise()*255,n=t.data,r=n.length,i=e/2;for(let s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()};x.addGetterSetter(q,"noise",.2,K(),x.afterSetFilter);const l3=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i=Math.ceil(n/e),s=Math.ceil(r/e),o=t.data;if(e<=0){P.error("pixelSize value can not be <= 0");return}for(let a=0;a<i;a+=1)for(let l=0;l<s;l+=1){let c=0,u=0,d=0,h=0;const f=a*e,p=f+e,g=l*e,y=g+e;let m=0;for(let b=f;b<p;b+=1)if(!(b>=n))for(let v=g;v<y;v+=1){if(v>=r)continue;const w=(n*v+b)*4;c+=o[w+0],u+=o[w+1],d+=o[w+2],h+=o[w+3],m+=1}c=c/m,u=u/m,d=d/m,h=h/m;for(let b=f;b<p;b+=1)if(!(b>=n))for(let v=g;v<y;v+=1){if(v>=r)continue;const w=(n*v+b)*4;o[w+0]=c,o[w+1]=u,o[w+2]=d,o[w+3]=h}}};x.addGetterSetter(q,"pixelSize",8,K(),x.afterSetFilter);const c3=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e;for(let s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i};x.addGetterSetter(q,"levels",.5,K(),x.afterSetFilter);const u3=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue();for(let o=0;o<n;o+=4){const a=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255;e[o]=a*r,e[o+1]=a*i,e[o+2]=a*s,e[o+3]=e[o+3]}};x.addGetterSetter(q,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});x.addGetterSetter(q,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});x.addGetterSetter(q,"blue",0,Bh,x.afterSetFilter);const d3=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),o=this.alpha();for(let a=0;a<n;a+=4){const l=1-o;e[a]=r*o+e[a]*l,e[a+1]=i*o+e[a+1]*l,e[a+2]=s*o+e[a+2]*l}};x.addGetterSetter(q,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});x.addGetterSetter(q,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});x.addGetterSetter(q,"blue",0,Bh,x.afterSetFilter);x.addGetterSetter(q,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const h3=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=e[r+0],s=e[r+1],o=e[r+2];e[r+0]=Math.min(255,i*.393+s*.769+o*.189),e[r+1]=Math.min(255,i*.349+s*.686+o*.168),e[r+2]=Math.min(255,i*.272+s*.534+o*.131)}},f3=function(t){const n=t.data;for(let r=0;r<n.length;r+=4){const i=n[r],s=n[r+1],o=n[r+2];.2126*i+.7152*s+.0722*o>=128&&(n[r]=255-i,n[r+1]=255-s,n[r+2]=255-o)}return t},p3=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=1)n[i]=n[i]<e?0:255};x.addGetterSetter(q,"threshold",.5,K(),x.afterSetFilter);const qe=cu.Util._assign(cu,{Arc:xn,Arrow:fr,Circle:qr,Ellipse:Vn,Image:Wt,Label:kl,Tag:pr,Line:Sn,Path:Be,Rect:Yi,RegularPolygon:jn,Ring:gr,Sprite:on,Star:Un,Text:Ge,TextPath:Xe,Transformer:Se,Wedge:Cn,Filters:{Blur:Hb,Brightness:zb,Brighten:Wb,Contrast:Vb,Emboss:jb,Enhance:Ub,Grayscale:Yb,HSL:Xb,HSV:Kb,Invert:qb,Kaleidoscope:Zb,Mask:o3,Noise:a3,Pixelate:l3,Posterize:c3,RGB:u3,RGBA:d3,Sepia:h3,Solarize:f3,Threshold:p3}});class Po{textureCache=new Map;constructor(){}async generateImage(e){const n=this.getTextureKey(e);if(this.textureCache.has(n))return this.textureCache.get(n);const r=await this.renderToDataUrl(e);return this.textureCache.set(n,r),r}async generateThumbnail(e){return this.generateImage(e)}async renderToDataUrl(e){const n=e.size,r=new qe.Stage({container:document.createElement("div"),width:n,height:n}),i=new qe.Layer;r.add(i),e.layers.forEach(o=>{o.visible!==!1&&this.drawLayer(i,o,n)}),i.draw();const s=r.toDataURL();return r.destroy(),s}getTextureKey(e){if(!e||!e.size||!e.layers)return console.error("Invalid texture description:",e),"fallback-texture";const n=JSON.stringify(e);return`texture-${this.hashString(n)}`}hashString(e){if(!e||typeof e!="string")return"0";let n=0;for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n.toString(36)}drawLayer(e,n,r){if(n.visible!==!1)switch(n.type){case"circle":this.drawCircle(e,n,r);break;case"rect":this.drawRect(e,n,r);break;case"line":this.drawLine(e,n,r);break;case"pattern":this.drawPattern(e,n,r);break;case"ellipse":this.drawEllipse(e,n,r);break;case"polygon":this.drawPolygon(e,n,r);break;case"path":this.drawPath(e,n,r);break}}drawCircle(e,n,r){const i=Cr(n.color),s=n.x!==void 0?n.x:r/2,o=n.y!==void 0?n.y:r/2,a=n.radius!==void 0?n.radius:Math.floor(r/2),l=new qe.Circle({x:s,y:o,radius:a,fill:this.colorToHex(i)});e.add(l)}drawRect(e,n,r){const i=Cr(n.color),s=n.width||0,o=n.height||0,a=n.x!==void 0?n.x:(r-s)/2,l=n.y!==void 0?n.y:(r-o)/2,c=new qe.Rect({x:a,y:l,width:s,height:o,fill:this.colorToHex(i)});e.add(c)}drawLine(e,n,r){const i=Cr(n.color),s=n.lineWidth||1,o=n.x!==void 0?n.x:0,a=n.y!==void 0?n.y:0,l=n.x2!==void 0?n.x2:r,c=n.y2!==void 0?n.y2:r,u=new qe.Line({points:[o,a,l,c],stroke:this.colorToHex(i),strokeWidth:s});e.add(u)}drawPattern(e,n,r){const{patternType:i,color1:s,x:o=0,y:a=0,width:l=r,height:c=r}=n,u=8,d=s?this.colorToHex(s):"#000000";switch(i){case"checkerboard":for(let f=0;f<l;f+=u)for(let p=0;p<c;p+=u)if((Math.floor(f/u)+Math.floor(p/u))%2===0){const g=new qe.Rect({x:o+f,y:a+p,width:u,height:u,fill:d});e.add(g)}break;case"stripes":for(let f=0;f<l;f+=u){const p=new qe.Rect({x:o+f,y:a,width:u,height:c,fill:d});e.add(p)}break;case"dots":const h=3;for(let f=0;f<l;f+=u)for(let p=0;p<c;p+=u){const g=new qe.Circle({x:o+f+u/2,y:a+p+u/2,radius:h,fill:d});e.add(g)}break}}drawEllipse(e,n,r){const i=Cr(n.color),s=Math.max(0,Math.min(n.x||r/2,r)),o=Math.max(0,Math.min(n.y||r/2,r)),a=Math.max(1,Math.min(n.width||r,r)),l=Math.max(1,Math.min(n.height||r,r)),c=new qe.Ellipse({x:s,y:o,radiusX:a/2,radiusY:l/2,fill:this.colorToHex(i)});e.add(c)}drawPolygon(e,n,r){const i=Cr(n.color),s=n.points||[];if(s.length<3)return;const o=[];s.forEach(([l,c])=>{const u=Math.max(0,Math.min(l,r)),d=Math.max(0,Math.min(c,r));o.push(u,d)});const a=new qe.Line({points:o,fill:this.colorToHex(i),closed:!0});n.lineWidth&&n.lineWidth>0&&(a.stroke(this.colorToHex(i)),a.strokeWidth(n.lineWidth)),e.add(a)}drawPath(e,n,r){const i=n.path||"",s=Cr(n.color),o=n.fill!==void 0?n.fill:!0,a=n.lineWidth||1;if(!i)return;const l=[];let c=0;for(;c<i.length;){const u=i[c];if(c++,u==="M"||u==="L"){const d=this.parseNumber(i,c);c+=d.length;const h=this.parseNumber(i,c);c+=h.length;const f=Math.max(0,Math.min(parseFloat(d),r)),p=Math.max(0,Math.min(parseFloat(h),r));l.push(f,p)}}if(l.length>0){const u=new qe.Line({points:l,closed:i.includes("Z")});o&&u.fill(this.colorToHex(s)),a>0&&(u.stroke(this.colorToHex(s)),u.strokeWidth(a)),e.add(u)}}parseNumber(e,n){let r=n;for(;r<e.length&&(/\d|\.|-/.test(e[r])||e[r]===" ");)r++;return e.substring(n,r).trim()}colorToHex(e){return typeof e=="string"?e:"#"+e.toString(16).padStart(6,"0")}}function g3(t){return new Promise(e=>{setTimeout(e,t)})}const Xi=Wd("ai",()=>{const t=Tr("ai-provider","ollama"),e=Tr("openrouter-api-key",""),n=Tr("ollama-host","http://localhost:11434"),r=Tr("selected-model","cohere/command-r"),i=G([]),s=G(!1),o=["cohere/command-r"],a=Tr("favorite-models",o),l=G([]),c=h=>o.includes(h)||a.value.includes(h),u=async()=>{i.value=[];let h;if(t.value==="openrouter"){if(!e.value.trim()){console.error("API key required for OpenRouter");return}try{const f=await fetch("https://openrouter.ai/api/v1/models",{headers:{Authorization:`Bearer ${e.value}`}});if(!f.ok)throw new Error(`Failed to fetch models: ${f.statusText}`);h=(await f.json()).data.map(g=>({id:g.id,name:g.name}))}catch(f){console.error("Error fetching OpenRouter models:",f)}}else if(t.value==="ollama")try{const f=new Ra({host:n.value}),{models:p}=await f.list();h=[...p.map(y=>({id:y.name,name:y.name}))]}catch(f){console.error("Error fetching Ollama models:",f)}h&&(i.value.length=0,i.value.push(...h),i.value.sort((f,p)=>{const g=c(f.id),y=c(p.id);return g===y?0:g?-1:1}),l.value.length=0,l.value.push(...i.value.filter(f=>c(f.id))))},d=async(h,f,p={temperature:.01})=>{s.value=!0;try{let g;if(t.value==="openrouter"){if(!e.value.trim())throw new Error("API key required for OpenRouter");try{const m=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.value}`},body:JSON.stringify({model:h,messages:f,...p})});if(!m.ok)throw new Error(`API error: ${m.statusText}`);g=(await m.json()).choices[0]?.message?.content?.trim()||""}catch(m){throw console.error("Error generating with OpenRouter:",m),m}}else if(t.value==="ollama")try{const m=new Ra({host:n.value}),{message:b}=await m.chat({model:h,messages:f,...p});g=b.content.trim()}catch(m){throw console.error("Error generating with Ollama:",m),m}else throw new Error("Unknown provider");const y=g.split(`
`);return y[0]?.startsWith("```")&&y.shift(),y[y.length-1]?.startsWith("```")&&y.pop(),y.join(`
`)}finally{s.value=!1}};return je(()=>Me(u)),xe(t,()=>Me(u)),xe(n,()=>{t.value==="ollama"&&Me(u)}),{provider:t,apiKey:e,ollamaHost:n,selectedModel:r,models:i,isLoading:s,fetchModels:u,generate:d,favoriteModels:l,favoriteModelIds:a,isFavorite:c}}),m3={class:"flex items-center"},y3=["onClick"],v3=ie({__name:"Combobox",props:{items:{},selectedItem:{}},emits:["update:selectedItem"],setup(t,{emit:e}){const n=t,r=e,i=G(!1),s=Xi(),o=c=>{s.isFavorite(c)?s.favoriteModelIds=s.favoriteModelIds.filter(u=>u!==c):s.favoriteModelIds.push(c),s.fetchModels()},a=c=>{r("update:selectedItem",c),i.value=!1},l=U(()=>[...n.items].sort((c,u)=>{const d=s.isFavorite(c.id)?1:0,h=s.isFavorite(u.id)?1:0;return d!==h?h-d:c.name.localeCompare(u.name)}));return(c,u)=>(I(),ae(_(xy),{open:i.value,"onUpdate:open":u[0]||(u[0]=d=>i.value=d)},{default:ee(()=>[ne(_(Cy),{"as-child":""},{default:ee(()=>[ne(_(ny),{variant:"outline",role:"combobox","aria-expanded":i.value,class:"w-full justify-between"},{default:ee(()=>[ft(Je(t.selectedItem&&t.items.find(d=>d.id===t.selectedItem)?.name||"Select Model...")+" ",1),ne(_(ay),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),ne(_(Sy),{class:"w-full p-0 bg-gray-900 border border-gray-700 rounded-md"},{default:ee(()=>[ne(_(iy),{class:"text-gray-300"},{default:ee(()=>[ne(_(vy),{placeholder:"Search model..."}),ne(_(gy),null,{default:ee(()=>[...u[1]||(u[1]=[ft("No model found.",-1)])]),_:1}),ne(_(_y),null,{default:ee(()=>[ne(_(my),null,{default:ee(()=>[(I(!0),ue($e,null,ar(l.value,d=>(I(),ae(_(by),{key:d.id,onSelect:h=>a(d.id),value:d,class:"flex justify-between cursor-pointer"},{default:ee(()=>[N("div",m3,[ne(_(Oh),{class:Tt(_($t)("mr-2 h-4 w-4",t.selectedItem===d.id?"opacity-100":"opacity-0"))},null,8,["class"]),ft(" "+Je(d.name),1)]),N("button",{class:"ml-2 text-yellow-400 hover:text-yellow-300",onClick:bt(h=>o(d.id),["stop"])},Je(_(s).isFavorite(d.id)?"":""),9,y3)]),_:2},1032,["onSelect","value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}});function b3(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}function To(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[o=>{const a=or(r,o);if(a||a===null)return a;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},o=>(el(r,o),o)]}function Ol(t){return t?t.flatMap(e=>e.type===$e?Ol(e.children):[e]):[]}const[mf]=To("ConfigProvider");function w3(t){return zr()?(Gi(t),!0):!1}const yf=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const _u=()=>{};function _3(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}function x3(t,e={}){let n,r,i=_u;const s=l=>{clearTimeout(l),i(),i=_u};let o;return l=>{const c=It(t),u=It(e.maxWait);return n&&s(n),c<=0||u!==void 0&&u<=0?(r&&(s(r),r=null),Promise.resolve(l())):new Promise((d,h)=>{i=e.rejectOnCancel?h:d,o=l,u&&!r&&(r=setTimeout(()=>{n&&s(n),r=null,d(o())},u)),n=setTimeout(()=>{r&&s(r),r=null,d(l())},c)})}}function vf(t,e=200,n={}){return _3(x3(e,n),t)}function S3(t,e,n){const r=xe(t,(...i)=>(Me(()=>r()),e(...i)),n);return r}const bf=yf?window:void 0;function Ks(t){var e;const n=It(t);return(e=n?.$el)!=null?e:n}function C3(){const t=$i(!1),e=pt();return e&&je(()=>{t.value=!0},e),t}function A3(t){const e=C3();return U(()=>(e.value,!!t()))}function Hr(t,e,n={}){const{window:r=bf,...i}=n;let s;const o=A3(()=>r&&"ResizeObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=U(()=>{const d=It(t);return Array.isArray(d)?d.map(h=>Ks(h)):[Ks(d)]}),c=xe(l,d=>{if(a(),o.value&&r){s=new ResizeObserver(e);for(const h of d)h&&s.observe(h,i)}},{immediate:!0,flush:"post"}),u=()=>{a(),c()};return w3(u),{isSupported:o,stop:u}}function E3(t){const e=mf({dir:G("ltr")});return U(()=>t?.value||e.dir?.value||"ltr")}function Ot(){const t=pt(),e=G(),n=U(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:Ks(e)),r=Object.assign({},t.exposed),i={};for(const o in t.props)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>r[o]});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=i;function s(o){e.value=o,o&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=i)}return{forwardRef:s,currentRef:e,currentElement:n}}function wf(t,e){const n=G(t);function r(s){return e[n.value][s]??n.value}return{state:n,dispatch:s=>{n.value=r(s)}}}function P3(t,e){const n=G({}),r=G("none"),i=G(t),s=t.value?"mounted":"unmounted";let o;const a=e.value?.ownerDocument.defaultView??bf,{state:l,dispatch:c}=wf(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=y=>{if(yf){const m=new CustomEvent(y,{bubbles:!1,cancelable:!1});e.value?.dispatchEvent(m)}};xe(t,async(y,m)=>{const b=m!==y;if(await Me(),b){const v=r.value,w=ws(e.value);y?(c("MOUNT"),u("enter"),w==="none"&&u("after-enter")):w==="none"||w==="undefined"||n.value?.display==="none"?(c("UNMOUNT"),u("leave"),u("after-leave")):m&&v!==w?(c("ANIMATION_OUT"),u("leave")):(c("UNMOUNT"),u("after-leave"))}},{immediate:!0});const d=y=>{const m=ws(e.value),b=m.includes(CSS.escape(y.animationName)),v=l.value==="mounted"?"enter":"leave";if(y.target===e.value&&b&&(u(`after-${v}`),c("ANIMATION_END"),!i.value)){const w=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",o=a?.setTimeout(()=>{e.value?.style.animationFillMode==="forwards"&&(e.value.style.animationFillMode=w)})}y.target===e.value&&m==="none"&&c("ANIMATION_END")},h=y=>{y.target===e.value&&(r.value=ws(e.value))},f=xe(e,(y,m)=>{y?(n.value=getComputedStyle(y),y.addEventListener("animationstart",h),y.addEventListener("animationcancel",d),y.addEventListener("animationend",d)):(c("ANIMATION_END"),o!==void 0&&a?.clearTimeout(o),m?.removeEventListener("animationstart",h),m?.removeEventListener("animationcancel",d),m?.removeEventListener("animationend",d))},{immediate:!0}),p=xe(l,()=>{const y=ws(e.value);r.value=l.value==="mounted"?y:"none"});return Gt(()=>{f(),p()}),{isPresent:U(()=>["mounted","unmountSuspended"].includes(l.value))}}function ws(t){return t&&getComputedStyle(t).animationName||"none"}var Rl=ie({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){const{present:r,forceMount:i}=nn(t),s=G(),{isPresent:o}=P3(r,s);n({present:o});let a=e.default({present:o.value});a=Ol(a||[]);const l=pt();if(a&&a?.length>1){const c=l?.parent?.type.name?`<${l.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${c}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(u=>`  - ${u}`).join(`
`)].join(`
`))}return()=>i.value||r.value||o.value?St(e.default({present:o.value})[0],{ref:c=>{const u=Ks(c);return typeof u?.hasAttribute>"u"||(u?.hasAttribute("data-reka-popper-content-wrapper")?s.value=u.firstElementChild:s.value=u),u}}):null}});const T3=ie({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{if(!n.default)return null;const r=Ol(n.default()),i=r.findIndex(l=>l.type!==Dt);if(i===-1)return r;const s=r[i];delete s.props?.ref;const o=s.props?_e(e,s.props):e,a=Bn({...s,props:{}},o);return r.length===1?a:(r[i]=a,r)}}}),k3=["area","img","input"],Wr=ie({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&k3.includes(r)?()=>St(r,e):r!=="template"?()=>St(t.as,e,{default:n.default}):()=>St(T3,e,{default:n.default})}});function O3(t){const e=mf({nonce:G()});return U(()=>t?.value||e.nonce?.value)}const[Rt,R3]=To("ScrollAreaRoot");var M3=ie({__name:"ScrollAreaRoot",props:{type:{type:String,required:!1,default:"hover"},dir:{type:String,required:!1},scrollHideDelay:{type:Number,required:!1,default:600},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t,{expose:e}){const n=t,r=G(0),i=G(0),s=G(),o=G(),a=G(),l=G(),c=G(!1),u=G(!1),{type:d,dir:h,scrollHideDelay:f}=nn(n),p=E3(h);function g(){s.value?.scrollTo({top:0})}function y(){s.value?.scrollTo({top:0,left:0})}e({viewport:s,scrollTop:g,scrollTopLeft:y});const{forwardRef:m,currentElement:b}=Ot();return R3({type:d,dir:p,scrollHideDelay:f,scrollArea:b,viewport:s,onViewportChange:v=>{s.value=v||void 0},content:o,onContentChange:v=>{o.value=v},scrollbarX:a,scrollbarXEnabled:c,scrollbarY:l,scrollbarYEnabled:u,onScrollbarXChange:v=>{a.value=v||void 0},onScrollbarYChange:v=>{l.value=v||void 0},onScrollbarXEnabledChange:v=>{c.value=v},onScrollbarYEnabledChange:v=>{u.value=v},onCornerWidthChange:v=>{r.value=v},onCornerHeightChange:v=>{i.value=v}}),(v,w)=>(I(),ae(_(Wr),{ref:_(m),"as-child":n.asChild,as:v.as,dir:_(p),style:Nt({position:"relative","--reka-scroll-area-corner-width":`${r.value}px`,"--reka-scroll-area-corner-height":`${i.value}px`})},{default:ee(()=>[pe(v.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),I3=M3,L3=ie({__name:"ScrollAreaCornerImpl",setup(t){const e=Rt(),n=G(0),r=G(0),i=U(()=>!!n.value&&!!r.value);function s(){const a=e.scrollbarX.value?.offsetHeight||0;e.onCornerHeightChange(a),r.value=a}function o(){const a=e.scrollbarY.value?.offsetWidth||0;e.onCornerWidthChange(a),n.value=a}return Hr(e.scrollbarX.value,s),Hr(e.scrollbarY.value,o),xe(()=>e.scrollbarX.value,s),xe(()=>e.scrollbarY.value,o),(a,l)=>i.value?(I(),ae(_(Wr),_e({key:0,style:{width:`${n.value}px`,height:`${r.value}px`,position:"absolute",right:_(e).dir.value==="ltr"?0:void 0,left:_(e).dir.value==="rtl"?0:void 0,bottom:0}},a.$parent?.$props),{default:ee(()=>[pe(a.$slots,"default")]),_:3},16,["style"])):Ne("v-if",!0)}}),D3=L3,F3=ie({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{forwardRef:n}=Ot(),r=Rt(),i=U(()=>!!r.scrollbarX.value&&!!r.scrollbarY.value),s=U(()=>r.type.value!=="scroll"&&i.value);return(o,a)=>s.value?(I(),ae(D3,_e({key:0},e,{ref:_(n)}),{default:ee(()=>[pe(o.$slots,"default")]),_:3},16)):Ne("v-if",!0)}}),B3=F3;function _f(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function ko(t){const e=xf(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function xf(t,e){const n=t/e;return Number.isNaN(n)?0:n}function N3(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)}function xu(t,e,n="ltr"){const r=ko(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=b3(t,l[0],l[1]);return _f([0,o],[0,a])(c)}function _s(t){return t?Number.parseInt(t,10):0}function G3(t,e,n,r="ltr"){const i=ko(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return _f([l,c],d)(t)}function Su(t,e){return t>0&&t<e}var $3=ie({__name:"ScrollAreaScrollbarX",setup(t){const e=Rt(),n=Ro(),{forwardRef:r,currentElement:i}=Ot();je(()=>{i.value&&e.onScrollbarXChange(i.value)});const s=U(()=>n.sizes.value);return(o,a)=>(I(),ae(Cf,{ref:_(r),"is-horizontal":!0,"data-orientation":"horizontal",style:Nt({bottom:0,left:_(e).dir.value==="rtl"?"var(--reka-scroll-area-corner-width)":0,right:_(e).dir.value==="ltr"?"var(--reka-scroll-area-corner-width)":0,"--reka-scroll-area-thumb-width":s.value?`${_(ko)(s.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=l=>_(n).onDragScroll(l.x))},{default:ee(()=>[pe(o.$slots,"default")]),_:3},8,["style"]))}}),H3=$3,W3=ie({__name:"ScrollAreaScrollbarY",setup(t){const e=Rt(),n=Ro(),{forwardRef:r,currentElement:i}=Ot();je(()=>{i.value&&e.onScrollbarYChange(i.value)});const s=U(()=>n.sizes.value);return(o,a)=>(I(),ae(Cf,{ref:_(r),"is-horizontal":!1,"data-orientation":"vertical",style:Nt({top:0,right:_(e).dir.value==="ltr"?0:void 0,left:_(e).dir.value==="rtl"?0:void 0,bottom:"var(--reka-scroll-area-corner-height)","--reka-scroll-area-thumb-height":s.value?`${_(ko)(s.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=l=>_(n).onDragScroll(l.y))},{default:ee(()=>[pe(o.$slots,"default")]),_:3},8,["style"]))}}),z3=W3,V3=ie({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=Rt(),n=Oo(),{forwardRef:r}=Ot(),i=G(!1),s=vf(()=>{if(e.viewport.value){const o=e.viewport.value.offsetWidth<e.viewport.value.scrollWidth,a=e.viewport.value.offsetHeight<e.viewport.value.scrollHeight;i.value=n.isHorizontal.value?o:a}},10);return je(()=>s()),Hr(e.viewport,s),Hr(e.content,s),(o,a)=>(I(),ae(_(Rl),{present:o.forceMount||i.value},{default:ee(()=>[ne(Ml,_e(o.$attrs,{ref:_(r),"data-state":i.value?"visible":"hidden"}),{default:ee(()=>[pe(o.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Sf=V3,j3=ie({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=Rt(),{forwardRef:n}=Ot();let r;const i=G(!1);function s(){window.clearTimeout(r),i.value=!0}function o(){r=window.setTimeout(()=>{i.value=!1},e.scrollHideDelay.value)}return je(()=>{const a=e.scrollArea.value;a&&(a.addEventListener("pointerenter",s),a.addEventListener("pointerleave",o))}),Gt(()=>{const a=e.scrollArea.value;a&&(window.clearTimeout(r),a.removeEventListener("pointerenter",s),a.removeEventListener("pointerleave",o))}),(a,l)=>(I(),ae(_(Rl),{present:a.forceMount||i.value},{default:ee(()=>[ne(Sf,_e(a.$attrs,{ref:_(n),"data-state":i.value?"visible":"hidden"}),{default:ee(()=>[pe(a.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),U3=j3,Y3=ie({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=Rt(),n=Oo(),{forwardRef:r}=Ot(),{state:i,dispatch:s}=wf("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}}),o=U(()=>i.value!=="hidden");Et(l=>{if(i.value==="idle"){const c=window.setTimeout(()=>s("HIDE"),e.scrollHideDelay.value);l(()=>{window.clearTimeout(c)})}});const a=vf(()=>s("SCROLL_END"),100);return Et(l=>{const c=e.viewport.value,u=n.isHorizontal.value?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const f=c[u];d!==f&&(s("SCROLL"),a()),d=f};c.addEventListener("scroll",h),l(()=>{c.removeEventListener("scroll",h)})}}),(l,c)=>(I(),ae(_(Rl),{present:l.forceMount||o.value},{default:ee(()=>[ne(Ml,_e(l.$attrs,{ref:_(r),"data-state":o.value?"visible":"hidden"}),{default:ee(()=>[pe(l.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),X3=Y3;const[Oo,K3]=To("ScrollAreaScrollbar");var q3=ie({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{type:String,required:!1,default:"vertical"},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const e=t,{forwardRef:n}=Ot(),r=Rt(),i=U(()=>e.orientation==="horizontal");xe(i,()=>{i.value?r.onScrollbarXEnabledChange(!0):r.onScrollbarYEnabledChange(!0)},{immediate:!0}),Gt(()=>{r.onScrollbarXEnabledChange(!1),r.onScrollbarYEnabledChange(!1)});const{orientation:s,forceMount:o,asChild:a,as:l}=nn(e);return K3({orientation:s,forceMount:o,isHorizontal:i,as:l,asChild:a}),(c,u)=>_(r).type.value==="hover"?(I(),ae(U3,_e({key:0},c.$attrs,{ref:_(n),"force-mount":_(o)}),{default:ee(()=>[pe(c.$slots,"default")]),_:3},16,["force-mount"])):_(r).type.value==="scroll"?(I(),ae(X3,_e({key:1},c.$attrs,{ref:_(n),"force-mount":_(o)}),{default:ee(()=>[pe(c.$slots,"default")]),_:3},16,["force-mount"])):_(r).type.value==="auto"?(I(),ae(Sf,_e({key:2},c.$attrs,{ref:_(n),"force-mount":_(o)}),{default:ee(()=>[pe(c.$slots,"default")]),_:3},16,["force-mount"])):_(r).type.value==="always"?(I(),ae(Ml,_e({key:3},c.$attrs,{ref:_(n),"data-state":"visible"}),{default:ee(()=>[pe(c.$slots,"default")]),_:3},16)):Ne("v-if",!0)}}),J3=q3;const[Ro,Q3]=To("ScrollAreaScrollbarVisible");var Z3=ie({__name:"ScrollAreaScrollbarVisible",setup(t){const e=Rt(),n=Oo(),{forwardRef:r}=Ot(),i=G({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),s=U(()=>{const m=xf(i.value.viewport,i.value.content);return m>0&&m<1}),o=G(),a=G(0);function l(m,b){if(f.value){const v=e.viewport.value.scrollLeft+m.deltaY;e.viewport.value.scrollLeft=v,Su(v,b)&&m.preventDefault()}else{const v=e.viewport.value.scrollTop+m.deltaY;e.viewport.value.scrollTop=v,Su(v,b)&&m.preventDefault()}}function c(m,b){f.value?a.value=b.x:a.value=b.y}function u(m){a.value=0}function d(m){i.value=m}function h(m,b){return G3(m,a.value,i.value,b)}const f=U(()=>n.isHorizontal.value);function p(m){f.value?e.viewport.value.scrollLeft=h(m,e.dir.value):e.viewport.value.scrollTop=h(m)}function g(){if(f.value){if(e.viewport.value&&o.value){const m=e.viewport.value.scrollLeft,b=xu(m,i.value,e.dir.value);o.value.style.transform=`translate3d(${b}px, 0, 0)`}}else if(e.viewport.value&&o.value){const m=e.viewport.value.scrollTop,b=xu(m,i.value);o.value.style.transform=`translate3d(0, ${b}px, 0)`}}function y(m){o.value=m}return Q3({sizes:i,hasThumb:s,handleWheelScroll:l,handleThumbDown:c,handleThumbUp:u,handleSizeChange:d,onThumbPositionChange:g,onThumbChange:y,onDragScroll:p}),(m,b)=>f.value?(I(),ae(H3,_e({key:0},m.$attrs,{ref:_(r)}),{default:ee(()=>[pe(m.$slots,"default")]),_:3},16)):(I(),ae(z3,_e({key:1},m.$attrs,{ref:_(r)}),{default:ee(()=>[pe(m.$slots,"default")]),_:3},16))}}),Ml=Z3,e5=ie({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean,required:!0}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(t,{emit:e}){const n=t,r=e,i=Rt(),s=Ro(),o=Oo(),{forwardRef:a,currentElement:l}=Ot(),c=G(""),u=G();function d(m){if(u.value){const b=m.clientX-u.value?.left,v=m.clientY-u.value?.top;r("onDragScroll",{x:b,y:v})}}function h(m){m.button===0&&(m.target.setPointerCapture(m.pointerId),u.value=l.value.getBoundingClientRect(),c.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",i.viewport&&(i.viewport.value.style.scrollBehavior="auto"),d(m))}function f(m){d(m)}function p(m){const b=m.target;b.hasPointerCapture(m.pointerId)&&b.releasePointerCapture(m.pointerId),document.body.style.webkitUserSelect=c.value,i.viewport&&(i.viewport.value.style.scrollBehavior=""),u.value=void 0}function g(m){const b=m.target,v=l.value?.contains(b),w=s.sizes.value.content-s.sizes.value.viewport;v&&s.handleWheelScroll(m,w)}je(()=>{document.addEventListener("wheel",g,{passive:!1})}),Gt(()=>{document.removeEventListener("wheel",g)});function y(){l.value&&(n.isHorizontal?s.handleSizeChange({content:i.viewport.value?.scrollWidth??0,viewport:i.viewport.value?.offsetWidth??0,scrollbar:{size:l.value.clientWidth??0,paddingStart:_s(getComputedStyle(l.value).paddingLeft),paddingEnd:_s(getComputedStyle(l.value).paddingRight)}}):s.handleSizeChange({content:i.viewport.value?.scrollHeight??0,viewport:i.viewport.value?.offsetHeight??0,scrollbar:{size:l.value?.clientHeight??0,paddingStart:_s(getComputedStyle(l.value).paddingLeft),paddingEnd:_s(getComputedStyle(l.value).paddingRight)}}))}return Hr(l,y),Hr(i.content,y),(m,b)=>(I(),ae(_(Wr),{ref:_(a),style:{position:"absolute"},"data-scrollbarimpl":"",as:_(o).as.value,"as-child":_(o).asChild.value,onPointerdown:h,onPointermove:f,onPointerup:p},{default:ee(()=>[pe(m.$slots,"default")]),_:3},8,["as","as-child"]))}}),Cf=e5,t5=ie({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=Rt(),r=Ro();function i(h){const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,y=h.clientY-p.top;r.handleThumbDown(h,{x:g,y})}function s(h){r.handleThumbUp(h)}const{forwardRef:o,currentElement:a}=Ot(),l=G(),c=U(()=>n.viewport.value);function u(){if(!l.value){const h=N3(c.value,r.onThumbPositionChange);l.value=h,r.onThumbPositionChange()}}const d=U(()=>r.sizes.value);return S3(d,()=>{r.onThumbChange(a.value),c.value&&(r.onThumbPositionChange(),c.value.addEventListener("scroll",u))}),Gt(()=>{c.value.removeEventListener("scroll",u),n.viewport.value?.removeEventListener("scroll",u)}),(h,f)=>(I(),ae(_(Wr),{ref:_(o),"data-state":_(r).hasThumb?"visible":"hidden",style:{width:"var(--reka-scroll-area-thumb-width)",height:"var(--reka-scroll-area-thumb-height)"},"as-child":e.asChild,as:h.as,onPointerdown:i,onPointerup:s},{default:ee(()=>[pe(h.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),n5=t5,r5=ie({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t,{expose:e}){const n=t,{nonce:r}=nn(n),i=O3(r),s=Rt(),o=G();je(()=>{s.onViewportChange(o.value),s.onContentChange(l.value)}),e({viewportElement:o});const{forwardRef:a,currentElement:l}=Ot();return(c,u)=>(I(),ue($e,null,[N("div",_e({ref_key:"viewportElement",ref:o,"data-reka-scroll-area-viewport":"",style:{overflowX:_(s).scrollbarXEnabled.value?"scroll":"hidden",overflowY:_(s).scrollbarYEnabled.value?"scroll":"hidden"}},c.$attrs,{tabindex:0}),[ne(_(Wr),{ref:_(a),style:Nt({minWidth:_(s).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":n.asChild,as:c.as},{default:ee(()=>[pe(c.$slots,"default")]),_:3},8,["style","as-child","as"])],16),ne(_(Wr),{as:"style",nonce:_(i)},{default:ee(()=>u[0]||(u[0]=[ft(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-reka-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),i5=r5;const s5=ie({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=U(()=>{const{class:r,...i}=e;return i});return(r,i)=>(I(),ae(_(J3),_e(n.value,{class:_($t)("flex touch-none select-none transition-colors",t.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",t.orientation==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",e.class)}),{default:ee(()=>[ne(_(n5),{class:"relative flex-1 rounded-full bg-border"})]),_:1},16,["class"]))}}),o5=ie({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=U(()=>{const{class:r,...i}=e;return i});return(r,i)=>(I(),ae(_(I3),_e(n.value,{class:_($t)("relative overflow-hidden",e.class)}),{default:ee(()=>[ne(_(i5),{class:"h-full w-full rounded-[inherit]"},{default:ee(()=>[pe(r.$slots,"default")]),_:3}),ne(s5),ne(_(B3))]),_:3},16,["class"]))}}),a5={class:"bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-700 space-y-4 w-80 mx-auto"},l5=["placeholder"],c5={class:"mb-2"},u5=["onClick"],Af=ie({__name:"GeneratorForm",props:{placeholder:{}},setup(t,{expose:e}){const n=t,r=Xi(),i=Tr(n.placeholder==="Describe your SVG..."?"svg-prompt":"sprite-prompt","");return e({prompt:i}),(s,o)=>(I(),ue("div",a5,[pn(N("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>We(i)?i.value=a:null),placeholder:t.placeholder,class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,l5),[[xi,_(i)]]),N("div",c5,[o[6]||(o[6]=N("label",{class:"block text-sm font-bold mb-1"},"AI Provider:",-1)),pn(N("select",{"onUpdate:modelValue":o[1]||(o[1]=a=>_(r).provider=a),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...o[5]||(o[5]=[N("option",{value:"openrouter"},"OpenRouter",-1),N("option",{value:"ollama"},"Ollama (Local)",-1)])],512),[[Bd,_(r).provider]])]),_(r).provider==="ollama"?pn((I(),ue("input",{key:0,"onUpdate:modelValue":o[2]||(o[2]=a=>_(r).ollamaHost=a),placeholder:"Ollama Host (e.g., http://localhost:11434)",class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512)),[[xi,_(r).ollamaHost]]):Ne("",!0),_(r).provider==="openrouter"?pn((I(),ue("input",{key:1,"onUpdate:modelValue":o[3]||(o[3]=a=>_(r).apiKey=a),placeholder:"OpenRouter API Key",class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512)),[[xi,_(r).apiKey]]):Ne("",!0),N("div",null,[o[7]||(o[7]=N("label",{class:"block text-sm font-bold mb-1"},"Choose Model:",-1)),_(r).favoriteModels.length>0?(I(),ae(_(o5),{key:0,class:"flex flex-wrap gap-2 mb-2"},{default:ee(()=>[(I(!0),ue($e,null,ar(_(r).favoriteModels,a=>(I(),ue("button",{key:a.id,onClick:l=>_(r).selectedModel=a.id,class:Tt(["px-3 py-1 text-sm rounded border border-gray-600 bg-gray-700 hover:bg-gray-600",{"bg-blue-600 border-blue-500 text-white":_(r).selectedModel===a.id}])},Je(a.name),11,u5))),128))]),_:1})):Ne("",!0),ne(v3,{items:_(r).models,selectedItem:_(r).selectedModel,"onUpdate:selectedItem":o[4]||(o[4]=a=>_(r).selectedModel=a)},null,8,["items","selectedItem"])]),pe(s.$slots,"button")]))}}),Ef={id:"brown-bear-1",name:"brown-bear-standing",size:64,layers:[{type:"ellipse",color:"#8B4513",x:32,y:40,width:28,height:24},{type:"circle",color:"#8B4513",x:32,y:24,radius:16},{type:"ellipse",color:"#8B4513",x:32,y:12,width:20,height:16},{type:"circle",color:"#8B4513",x:20,y:16,radius:6},{type:"circle",color:"#8B4513",x:44,y:16,radius:6},{type:"ellipse",color:"#654321",x:32,y:22,width:12,height:8},{type:"circle",color:"#000000",x:26,y:20,radius:2},{type:"circle",color:"#000000",x:38,y:20,radius:2},{type:"ellipse",color:"#000000",x:32,y:26,width:6,height:2}]},Pf={id:"tree-1",name:"tree",size:64,layers:[{type:"rect",color:"#8B4513",x:28,y:40,width:8,height:20},{type:"circle",color:"#228B22",radius:16,x:32,y:24},{type:"circle",color:"#006400",radius:12,x:24,y:32},{type:"circle",color:"#228B22",radius:14,x:40,y:28},{type:"circle",color:"#006400",radius:15,x:32,y:20}]},Tf={id:"villager-1",name:"villager",size:64,layers:[{type:"rect",color:"#8B4000",x:10,y:36,width:44,height:22},{type:"rect",color:"#CD853F",x:12,y:34,width:40,height:22},{type:"circle",color:"#A0522D",radius:18,x:32,y:24},{type:"circle",color:"#FFE4C4",radius:16,x:32,y:24},{type:"circle",color:"black",radius:2,x:26,y:22},{type:"circle",color:"black",radius:2,x:38,y:22},{type:"rect",color:"#D2691E",x:28,y:28,width:8,height:2},{type:"rect",color:"#8B4513",x:16,y:6,width:32,height:8},{type:"rect",color:"#654321",x:22,y:4,width:20,height:6}]};function Il(t){const e=t.layers.map(n=>`    ${JSON.stringify(n)}`).join(`,
`);return`{
  "name": "${t.name}",
  "size": ${t.size},
  "layers": [
${e}
  ]
}`}Il(Pf);Il(Tf);Il(Ef);const d5=t=>{const e=[];return e.push({role:"system",content:`Assistant's task is to create a new detailed texture based on the INPUT, by using the provided instructions and example(s).

# Texture Schema
{
  "name": "string",
  "size": number,
  "layers": Layer[]
}

Each layer is drawn in order and must have a "type" and "color".

## Layer Types
- Rectangle: { "type": "rect", "color": string, "x": number, "y": number, "width": number, "height": number }
- Circle:    { "type": "circle", "color": string, "x": number, "y": number, "radius": number }
- Line:      { "type": "line", "color": string, "x": number, "y": number, "x2": number, "y2": number, "lineWidth"?: number }
- Ellipse:   { "type": "ellipse", "color": string, "x": number, "y": number, "width": number, "height": number }
- Polygon:   { "type": "polygon", "color": string, "points": [[x,y],...], "lineWidth"?: number }
- Path:      { "type": "path", "color": string, "path": string, "fill"?: boolean, "lineWidth"?: number }

Colors: hex codes ("#FF0000") or names ("red","gray","transparent").

## Rules
1. Base the design on the INPUT concept.
2. Keep size reasonable (64 or 128).
3. Use multiple shapes to build details when desired.

## Example
INPUT: tree
OUTPUT:
{
  "name": "tree",
  "size": 64,
  "layers": [
    { "type": "rect", "color": "#8B4513", "x": 28, "y": 40, "width": 8, "height": 20 },
    { "type": "circle", "color": "#228B22", "x": 32, "y": 24, "radius": 16 },
    { "type": "circle", "color": "#006400", "x": 24, "y": 32, "radius": 12 },
    { "type": "circle", "color": "#228B22", "x": 40, "y": 28, "radius": 14 },
    { "type": "circle", "color": "#006400", "x": 32, "y": 20, "radius": 15 }
  ]
}`}),e.push({role:"user",content:`INPUT:

${t}`}),e},Ll=Wd("textures",()=>{const t=G([]),e=G({});function n(){localStorage.setItem("generatedTextures",JSON.stringify(t.value))}function r(c){t.value.push({...c,id:c.id||_a(),generated:!0}),n()}function i(c,u){const d=t.value.findIndex(h=>h.id===c);d>-1?(u.generated=!0,t.value[d]=u,n()):r(u)}function s(c){const u=t.value.findIndex(d=>d.id===c);u>-1&&(t.value.splice(u,1),n())}function o(c,u){const d=t.value.find(h=>h.id===c);d&&(d.name=u,n())}function a(c,u){e.value[c]=u,localStorage.setItem("presetThumbnails",JSON.stringify(e.value))}function l(){const c=localStorage.getItem("generatedTextures");if(c){const d=JSON.parse(c);t.value=Array.isArray(d)?d.map(h=>({...h,generated:!0})):[]}const u=localStorage.getItem("presetThumbnails");u&&(e.value=JSON.parse(u))}return{generatedTextures:t,presetThumbnails:e,addGeneratedTexture:r,updateGeneratedTexture:i,removeGeneratedTexture:s,updateTextureName:o,savePresetThumbnail:a,load:l}}),h5={id:"game-container",class:"relative mt-2 mx-auto border-2 border-gray-700 shadow-lg rounded-lg overflow-hidden w-full max-w-6xl"},f5=ie({__name:"GameContainer",setup(t){const e=G();let n=null,r=null;const i=new Po;je(()=>{if(!e.value)return;n=new qe.Stage({container:e.value,width:e.value.clientWidth||800,height:400}),r=new qe.Layer,n.add(r);const o=new qe.Rect({x:0,y:0,width:n.width(),height:n.height(),fill:"#1f2937"});r.add(o),r.draw(),window.addEventListener("spriteSelected",s)}),Gt(()=>{window.removeEventListener("spriteSelected",s),n?.destroy()});async function s(o){const l=o.detail;if(!n||!r)return;const c=r.children;for(let h=c.length-1;h>0;h--)c[h].destroy();const u=await i.generateImage(l),d=new Image;d.onload=()=>{if(!r||!n)return;const h=new qe.Image({image:d,x:n.width()/2-l.size*2/2,y:n.height()/2-l.size*2/2,width:l.size*2,height:l.size*2});r.add(h),r.batchDraw()},d.src=u}return(o,a)=>(I(),ue("div",h5,[N("div",{ref_key:"containerRef",ref:e,class:"w-full h-full"},null,512)]))}}),Dl=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},p5=Dl(f5,[["__scopeId","data-v-1724bdc0"]]),g5={class:"space-y-4"},m5=["disabled"],y5={key:0},v5={key:1,class:"flex items-center justify-center"},b5={key:0,class:"bg-gray-800 p-4 mt-4 rounded-lg shadow-lg border border-gray-700"},w5={class:"flex items-center gap-4"},_5={class:"bg-gray-900 p-4 rounded-md border border-gray-600"},x5=["src"],S5={class:"flex-1 space-y-3"},C5={class:"text-sm text-gray-300"},A5={key:0},E5={key:1},P5={key:0,class:"text-green-400 text-sm"},T5=ie({__name:"SpriteGenerator",setup(t){const e=G(),n=Xi(),r=Ll(),i=new Po,s=G(null),o=G(null),a=G(null),l=G(!1),c=U(()=>o.value||s.value);U(()=>!!o.value);const u=U(()=>a.value?a.value:s.value?.thumbnail?s.value.thumbnail:null),d=U(()=>{if(n.isLoading)return!1;const p=e.value;return!(!p||!p.prompt)});async function h(){const p=e.value;if(!p)return;const g=p.prompt;if(!(!g.trim()||!n.selectedModel))try{const y=await n.generate(n.selectedModel,d5(g),{temperature:.01}),m=JSON.parse(y);m.prompt=g,m.id=_a(),o.value=m,a.value=await i.generateImage(m),l.value=!1,window.dispatchEvent(new CustomEvent("newTexture",{detail:m})),window.dispatchEvent(new CustomEvent("spriteSelected",{detail:m})),p.prompt=""}catch(y){console.error("Error generating sprite:",y)}}function f(){if(!c.value)return;const p={...c.value,thumbnail:u.value||void 0,id:c.value.id||_a()};r.addGeneratedTexture(p),l.value=!0,setTimeout(()=>{l.value=!1},3e3)}return je(()=>{window.addEventListener("spriteSelected",async p=>{const g=p;s.value=g.detail,s.value.thumbnail||(s.value.thumbnail=await i.generateImage(s.value)),!(!s.value.prompt||!e.value)&&(e.value.prompt=s.value.prompt)}),window.addEventListener("spriteCleared",()=>{s.value=null})}),(p,g)=>(I(),ue("div",g5,[ne(Af,{ref_key:"Form",ref:e,placeholder:"Describe your sprite..."},{button:ee(()=>[N("button",{disabled:!d.value,onClick:h,class:"w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 transition disabled:opacity-50"},[_(n).isLoading?(I(),ue("span",v5,[...g[0]||(g[0]=[N("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},null,-1),ft(" Generating... ",-1)])])):(I(),ue("span",y5,"Generate Sprite"))],8,m5)]),_:1},512),ne(p5),c.value?(I(),ue("div",b5,[g[5]||(g[5]=N("h3",{class:"text-lg font-bold mb-3 text-white"},"Sprite Preview",-1)),N("div",w5,[N("div",_5,[u.value?(I(),ue("img",{key:0,src:u.value,alt:"Sprite preview",class:"w-32 h-32 pixelated"},null,8,x5)):Ne("",!0)]),N("div",S5,[N("div",C5,[c.value.prompt?(I(),ue("p",A5,[g[1]||(g[1]=N("strong",null,"Prompt:",-1)),ft(" "+Je(c.value.prompt),1)])):Ne("",!0),c.value.name?(I(),ue("p",E5,[g[2]||(g[2]=N("strong",null,"Name:",-1)),ft(" "+Je(c.value.name),1)])):Ne("",!0),N("p",null,[g[3]||(g[3]=N("strong",null,"Size:",-1)),ft(" "+Je(c.value.size)+"x"+Je(c.value.size)+"px",1)]),N("p",null,[g[4]||(g[4]=N("strong",null,"Layers:",-1)),ft(" "+Je(c.value.layers.length),1)])]),N("div",{class:"flex gap-2"},[N("button",{onClick:f,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition"}," Save ")]),l.value?(I(),ue("p",P5," Sprite saved successfully!")):Ne("",!0)])])])):Ne("",!0)]))}}),k5=Dl(T5,[["__scopeId","data-v-69070c76"]]),O5=`<svg viewBox="0 0 100 150" xmlns="http://www.w3.org/2000/svg">
  <!-- Balloon shape -->
  <ellipse cx="50" cy="50" rx="30" ry="40" fill="red" />

  <!-- Balloon highlight -->
  <ellipse cx="40" cy="40" rx="10" ry="15" fill="white" opacity="0.5" />

  <!-- Balloon string -->
  <path d="M50,90 C50,110 40,130 50,150" stroke="gray" stroke-width="2" fill="none" />
</svg>`,R5=[O5],M5={class:"flex items-center gap-4"},I5={class:"max-w-sm"},L5=["disabled"],D5={key:0},F5={key:1,class:"flex items-center"},B5={key:0,class:"w-full px-2 whitespace-pre-line max-h-32 overflow-auto bg-gray-800 p-1 rounded-md shadow-md mt-2"},N5={key:1,class:"w-full px-2 whitespace-pre-line max-h-32 overflow-auto bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-700 space-y-4 w-80 mx-auto"},G5={key:0},$5={class:"flex flex-wrap gap-4"},H5=["innerHTML","onClick"],W5=["innerHTML","onClick"],z5=ie({__name:"SvgGenerator",setup(t){const e=G(),n=G([]),r=G(""),i=Xi(),s=U(()=>{if(i.isLoading)return!1;const u=e.value;return!(!u||!u.prompt)}),o=R5;function a(u){return[{role:"system",content:`You are an SVG generator. Create SVG code based on text descriptions. Follow these rules:
  - Generate valid, working SVG code
  - Use viewBox instead of fixed width/height
  - Keep the SVG simple and clean
  - Use basic shapes (rect, circle, path, etc.)
  - Add comments to explain the main elements
  - Return ONLY the SVG code with no markdown or other text`},{role:"user",content:u}]}async function l(){const u=e.value;if(!u)return;const d=u.prompt;if(!(!d.trim()||!i.selectedModel))try{const h=await i.generate(i.selectedModel,a(d),{temperature:.01});n.value.push(h),u.prompt="",r.value=h}catch(h){console.error("Error generating SVG:",h)}}function c(){const u=new Blob([r.value],{type:"image/svg+xml"}),d=URL.createObjectURL(u),h=document.createElement("a");h.href=d,h.download="generated.svg",document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(d)}return(u,d)=>(I(),ue("div",M5,[N("div",I5,[ne(Af,{ref_key:"Form",ref:e,placeholder:"Describe your SVG..."},{button:ee(()=>[N("button",{disabled:!s.value,onClick:l,class:"w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 transition disabled:opacity-50"},[_(i).isLoading?(I(),ue("span",F5,[...d[0]||(d[0]=[N("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},null,-1),ft(" Generating... ",-1)])])):(I(),ue("span",D5,"Generate SVG"))],8,L5)]),_:1},512),r.value?(I(),ue("p",B5," Selected SVG ")):Ne("",!0),r.value?(I(),ue("p",N5,Je(r.value),1)):Ne("",!0),r.value?(I(),ue("button",{key:2,onClick:c,class:"w-full mt-2 bg-green-500 text-white p-2 rounded-md hover:bg-green-600 transition"}," Download SVG ")):Ne("",!0)]),n.value.length||_(o).length?(I(),ue("div",G5,[d[1]||(d[1]=N("h3",{class:"text-lg font-bold mb-2"},"SVG Gallery",-1)),N("div",$5,[(I(!0),ue($e,null,ar(_(o),(h,f)=>(I(),ue("div",{key:"preset-"+f,class:"border p-2 rounded overflow-hidden"},[N("div",{innerHTML:h,class:"w-64 h-64",onClick:p=>r.value=h},null,8,H5)]))),128)),(I(!0),ue($e,null,ar(n.value,(h,f)=>(I(),ue("div",{key:"generated-"+f,class:"border p-2 rounded overflow-hidden"},[N("div",{innerHTML:h,class:"w-64 h-64",onClick:p=>r.value=h},null,8,W5)]))),128))])])):Ne("",!0)]))}}),V5={id:"cloud-1",name:"cloud",size:64,layers:[{type:"circle",color:"#FFFFFF",radius:12,x:24,y:32},{type:"circle",color:"#FFFFFF",radius:16,x:32,y:28},{type:"circle",color:"#FFFFFF",radius:14,x:44,y:32},{type:"circle",color:"#FFFFFF",radius:10,x:36,y:36}]},j5={id:"fence-1",name:"fence",size:64,layers:[{type:"line",color:"#8B4513",x:16,y:16,x2:16,y2:48,lineWidth:4},{type:"line",color:"#8B4513",x:48,y:16,x2:48,y2:48,lineWidth:4},{type:"line",color:"#8B4513",x:8,y:24,x2:56,y2:24,lineWidth:3},{type:"line",color:"#8B4513",x:8,y:40,x2:56,y2:40,lineWidth:3}]},U5={id:"gory-rotting-zombie-1",name:"gory-rotting-zombie",size:64,layers:[{type:"circle",color:"#3A5A22",x:32,y:32,radius:24},{type:"circle",color:"black",x:22,y:26,radius:5},{type:"circle",color:"black",x:42,y:26,radius:5},{type:"circle",color:"white",x:42,y:26,radius:3},{type:"circle",color:"red",x:42,y:26,radius:1},{type:"rect",color:"black",x:24,y:42,width:16,height:6},{type:"line",color:"red",x:24,y:48,x2:40,y2:48,lineWidth:2},{type:"line",color:"#9E9E9E",x:18,y:14,x2:28,y2:18,lineWidth:2},{type:"rect",color:"red",x:36,y:10,width:8,height:6},{type:"line",color:"red",x:28,y:48,x2:28,y2:58,lineWidth:2},{type:"line",color:"red",x:36,y:48,x2:36,y2:56,lineWidth:2},{type:"rect",color:"red",x:20,y:36,width:6,height:4},{type:"rect",color:"red",x:40,y:38,width:5,height:3},{type:"rect",color:"#5B7C3A",x:28,y:18,width:6,height:4},{type:"rect",color:"#5B7C3A",x:38,y:24,width:5,height:3}]},Y5={id:"house-1",name:"house",size:64,layers:[{type:"rect",color:"#8B4513",x:8,y:8,width:48,height:20},{type:"rect",color:"#A52A2A",x:4,y:16,width:56,height:12},{type:"rect",color:"#DEB887",x:12,y:28,width:40,height:32},{type:"rect",color:"#8B4513",x:24,y:40,width:16,height:20},{type:"rect",color:"#87CEEB",x:16,y:32,width:8,height:8},{type:"rect",color:"#87CEEB",x:40,y:32,width:8,height:8}]},X5={id:"treasure-chest-1",name:"treasure-chest",size:64,layers:[{type:"rect",color:"#8B4513",x:16,y:24,width:32,height:24},{type:"rect",color:"#A0522D",x:14,y:16,width:36,height:8},{type:"rect",color:"#FFD700",x:28,y:20,width:8,height:6},{type:"rect",color:"#DAA520",x:16,y:32,width:32,height:4},{type:"rect",color:"#DAA520",x:16,y:40,width:32,height:4}]},K5={id:"abandoned-warehouse-1",name:"abandoned-warehouse",size:128,layers:[{type:"rect",color:"#8b4343",x:10,y:20,width:108,height:90},{type:"rect",color:"#696969",x:8,y:100,width:112,height:10},{type:"rect",color:"#4a4a4a",x:5,y:15,width:118,height:15},{type:"line",color:"#363636",x:5,y:18,x2:123,y2:18,lineWidth:1},{type:"line",color:"#363636",x:5,y:22,x2:123,y2:22,lineWidth:1},{type:"line",color:"#363636",x:5,y:26,x2:123,y2:26,lineWidth:1},{type:"rect",color:"#595959",x:30,y:60,width:40,height:40},{type:"line",color:"#333333",x:30,y:60,x2:70,y2:100,lineWidth:2},{type:"line",color:"#333333",x:30,y:100,x2:70,y2:60,lineWidth:2},{type:"rect",color:"#4d4d4d",x:85,y:75,width:15,height:25},{type:"rect",color:"#1a1a1a",x:20,y:35,width:15,height:10},{type:"rect",color:"#1a1a1a",x:45,y:35,width:15,height:10},{type:"rect",color:"#1a1a1a",x:70,y:35,width:15,height:10},{type:"rect",color:"#1a1a1a",x:95,y:35,width:15,height:10},{type:"line",color:"#4a5660",x:20,y:35,x2:35,y2:45,lineWidth:1},{type:"line",color:"#4a5660",x:95,y:35,x2:110,y2:45,lineWidth:1},{type:"rect",color:"#6b3939",x:15,y:45,width:25,height:40},{type:"rect",color:"#6b3939",x:75,y:50,width:30,height:35},{type:"line",color:"#c4c4c4",x:90,y:60,x2:105,y2:70,lineWidth:3},{type:"circle",color:"#6b2727",x:25,y:85,radius:5},{type:"circle",color:"#6b2727",x:100,y:65,radius:6},{type:"rect",color:"#8b6b4a",x:110,y:30,width:4,height:70}]},q5={id:"rotting-zombie-1",name:"rotting-zombie",size:64,layers:[{type:"rect",color:"#94a183",x:16,y:8,width:32,height:48},{type:"rect",color:"#737b63",x:20,y:28,width:24,height:20},{type:"circle",color:"#8b9677",x:32,y:16,radius:8},{type:"circle",color:"#3d3f34",x:28,y:14,radius:2},{type:"circle",color:"#2a2b24",x:36,y:14,radius:3},{type:"rect",color:"#2a2b24",x:28,y:18,width:8,height:3},{type:"rect",color:"#656b57",x:12,y:28,width:8,height:20},{type:"rect",color:"#656b57",x:44,y:28,width:8,height:24},{type:"circle",color:"#e8e4d9",x:24,y:36,radius:3},{type:"circle",color:"#e8e4d9",x:40,y:42,radius:2},{type:"circle",color:"#8b3f3f",x:28,y:32,radius:4},{type:"circle",color:"#732525",x:36,y:46,radius:3},{type:"line",color:"#5c6150",x:20,y:24,x2:28,y2:30,lineWidth:2},{type:"line",color:"#5c6150",x:36,y:28,x2:44,y2:34,lineWidth:2}]},J5={id:"pattern-1",name:"pattern-texture",size:64,layers:[{type:"pattern",patternType:"checkerboard",color1:"#FFFFFF",color2:"#000000",x:0,y:0,width:64,height:64}]},Q5=[V5,Ef,j5,Y5,X5,Pf,Tf,K5,q5,J5,U5],Z5={class:"sprite-list flex flex-col items-center overflow-y-auto h-full border-r border-gray-700"},e4=["onClick"],t4={key:0,class:"w-16 h-16 rounded flex-shrink-0"},n4=["src","alt"],r4={key:1,class:"w-16 h-16 bg-gray-600 flex items-center justify-center rounded flex-shrink-0"},i4={class:"text-xs text-center px-1"},s4={class:"flex-1 ml-2 text-sm"},o4={key:0},a4=["onBlur","onKeyup"],l4={key:1},c4=["onClick"],u4=["onClick","disabled"],d4=["onClick"],h4=["onClick"],f4=["onClick"],p4=["onClick","title"],g4=ie({__name:"SpriteList",props:{mode:{default:"generate"}},setup(t){const e=t,n=Ll(),r=Xi(),i=G(!0),s=G(null),o=G(""),a=G(null),l=new Po,c=U(()=>e.mode==="edit");je(()=>{const v=localStorage.getItem("showPresets");v!==null&&(i.value=JSON.parse(v))});function u(){i.value=!i.value,localStorage.setItem("showPresets",JSON.stringify(i.value))}const d=U(()=>{const v=new Map(n.generatedTextures.map(C=>[C.id,C]));let w=[];return i.value&&(w=Q5.map(C=>{if(v.has(C.id)){const R=v.get(C.id);return v.delete(C.id),R}return n.presetThumbnails[C.id]?{...C,thumbnail:n.presetThumbnails[C.id]}:C})),w=[...w,...v.values()],w});xe(()=>d.value,async v=>{for(const w of v)w.thumbnail||l.generateThumbnail(w).then(C=>{w.thumbnail=C,w.generated?n.updateGeneratedTexture(w.id,w):n.savePresetThumbnail(w.id,C)})},{immediate:!0,deep:!0});function h(v){v.generated&&v.id===s.value||(c.value?window.dispatchEvent(new CustomEvent("editSprite",{detail:v})):(a.value=v.id,window.dispatchEvent(new CustomEvent("spriteSelected",{detail:v}))))}function f(v){v.prompt&&window.dispatchEvent(new CustomEvent("regenerateTexture",{detail:{id:v.id,prompt:v.prompt}}))}async function p(v){const w=JSON.stringify(v,null,2);try{await navigator.clipboard.writeText(w),console.log("Texture JSON copied to clipboard")}catch(C){console.error("Failed to copy JSON:",C)}}function g(v,w){s.value=v,o.value=w}function y(v){s.value===v&&o.value.trim()&&m()}function m(){s.value&&(n.updateTextureName(s.value,o.value),s.value=null)}function b(v){window.dispatchEvent(new CustomEvent("editSprite",{detail:v}))}return(v,w)=>(I(),ue("div",Z5,[N("button",{onClick:u,class:"w-full bg-gray-700 text-white p-2 rounded-md hover:bg-gray-600 mb-2"},Je(i.value?"Hide Presets":"Show Presets"),1),(I(!0),ue($e,null,ar(d.value,C=>(I(),ue("div",{key:`texture-${C.id}`,class:"sprite-item flex items-center space-x-2 p-2 hover:bg-gray-800 cursor-pointer",onClick:R=>h(C)},[C.thumbnail?(I(),ue("div",t4,[N("img",{src:C.thumbnail,alt:C.name,class:"w-16 h-16 object-contain rounded bg-gray-800"},null,8,n4)])):(I(),ue("div",r4,[N("span",i4,Je(C.name),1)])),N("div",s4,[C.generated&&C.id===s.value?(I(),ue("span",o4,[pn(N("input",{"onUpdate:modelValue":w[0]||(w[0]=R=>o.value=R),onBlur:R=>y(C.id),onKeyup:Ts(R=>y(C.id),["enter"]),class:"bg-transparent text-white border-none focus:outline-none w-full",autofocus:""},null,40,a4),[[xi,o.value]])])):(I(),ue("span",l4,Je(C.name),1))]),C.generated&&C.id===s.value?(I(),ue("button",{key:2,onClick:bt(R=>y(C.id),["stop"]),class:"ml-2 text-yellow-400 hover:text-yellow-600 text-lg",title:"Confirm Name Change"},[ne(_(Oh),{class:"w-4 h-4"})],8,c4)):Ne("",!0),!c.value&&C.generated&&C.prompt?(I(),ue("button",{key:3,onClick:bt(R=>f(C),["stop"]),disabled:_(r).isLoading,class:"ml-2 text-green-400 hover:text-green-600 text-lg disabled:opacity-50",title:"Regenerate Sprite"},[ne(_(hy),{class:"w-4 h-4"})],8,u4)):Ne("",!0),c.value?Ne("",!0):(I(),ue("button",{key:4,onClick:bt(R=>p(C),["stop"]),class:"ml-2 text-purple-400 hover:text-purple-600 text-lg",title:"Copy JSON to Clipboard"},[ne(_(ly),{class:"w-4 h-4"})],8,d4)),!c.value&&C.generated&&C.id!==s.value?(I(),ue("button",{key:5,onClick:bt(R=>g(C.id,C.name),["stop"]),class:"ml-2 text-blue-400 hover:text-blue-600 text-lg",title:"Edit Sprite Name"},[ne(_(dy),{class:"w-4 h-4"})],8,h4)):Ne("",!0),c.value?Ne("",!0):(I(),ue("button",{key:6,onClick:bt(R=>b(C),["stop"]),class:"ml-2 text-green-400 hover:text-green-600 text-lg",title:"Edit Sprite"},[ne(_(py),{class:"w-4 h-4"})],8,f4)),C.generated?(I(),ue("button",{key:7,onClick:bt(R=>_(n).removeGeneratedTexture(C.id),["stop"]),class:"ml-2 text-red-400 hover:text-red-600 text-xl font-bold",title:C.generated?"Remove Sprite":"Reset Modified Preset"},[ne(_(Rh),{class:"w-5 h-5"})],8,p4)):Ne("",!0)],8,e4))),128))]))}}),Cu=Dl(g4,[["__scopeId","data-v-7907a8c9"]]),Au={circle:{type:"circle",color:"#FFFFFF",x:32,y:32,radius:16,visible:!0},rect:{type:"rect",color:"#FFFFFF",x:0,y:0,width:32,height:32,visible:!0},line:{type:"line",color:"#FFFFFF",x:0,y:0,x2:64,y2:64,lineWidth:2,visible:!0},gradient:{type:"gradient",colorStart:"#FFFFFF",colorEnd:"#000000",direction:"vertical",x:0,y:0,width:64,height:64,visible:!0},pattern:{type:"pattern",color1:"#FFFFFF",color2:"#CCCCCC",patternType:"checkerboard",x:0,y:0,width:64,height:64,visible:!0},ellipse:{type:"ellipse",color:"#FFFFFF",x:32,y:32,width:40,height:20,visible:!0},polygon:{type:"polygon",color:"#FFFFFF",points:[[10,10],[50,10],[30,50]],lineWidth:0,visible:!0},path:{type:"path",color:"#FFFFFF",path:"M10 10 L50 10 L30 50 Z",fill:!0,lineWidth:0,visible:!0}},m4={class:"draggable-number-input w-full flex flex-col gap-1 my-2"},y4=["value"],nt=ie({__name:"DraggableNumberInput",props:{modelValue:{},label:{default:void 0},step:{default:1},min:{},max:{},sensitivity:{default:.5},inputClass:{default:"w-full p-2 bg-gray-700 text-white rounded"}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,i=G(null),s=G(!1),o=G(0),a=G(0);U(()=>n.label?.toLowerCase().replace(/ /g,"-"));function l(f){const p=f.target,g=parseFloat(p.value)||0;r("update:modelValue",g)}function c(f){f.button===0&&(s.value=!1,o.value=n.modelValue,a.value=f.clientX,document.addEventListener("mousemove",u),document.addEventListener("mouseup",d),f.preventDefault())}function u(f){const p=f.clientX-a.value;if(!s.value&&Math.abs(p)>5&&(s.value=!0),!s.value)return;const g=p*n.sensitivity*n.step;let y=o.value+g;n.min!==void 0&&(y=Math.max(n.min,y)),n.max!==void 0&&(y=Math.min(n.max,y)),r("update:modelValue",Math.round(y/n.step)*n.step)}function d(){!s.value&&i.value&&i.value.focus(),s.value=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d)}function h(f){}return(f,p)=>(I(),ue("div",m4,[t.label?(I(),ue("label",{key:0,class:"cursor-ew-resize select-none",onMousedown:c},Je(t.label),33)):Ne("",!0),N("input",{ref_key:"inputRef",ref:i,value:t.modelValue,type:"number",class:Tt(t.inputClass+" cursor-ew-resize"),onInput:l,onMousedown:c,onWheel:h},null,42,y4)]))}}),v4={class:"space-y-4"},b4=ie({__name:"CircleProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(I(),ue("div",v4,[ne(nt,{modelValue:t.layer.radius,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.radius=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"Radius",step:1,min:1,max:t.spriteSize/2},null,8,["modelValue","max"])]))}}),w4={class:"space-y-4"},_4=ie({__name:"RectProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(I(),ue("div",w4,[ne(nt,{modelValue:t.layer.width,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.width=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),ne(nt,{modelValue:t.layer.height,"onUpdate:modelValue":[r[2]||(r[2]=i=>t.layer.height=i),r[3]||(r[3]=i=>n.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),x4={class:"gap-4 flex items-stretch"},S4=ie({__name:"LineProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(I(),ue($e,null,[N("div",x4,[ne(nt,{modelValue:t.layer.x2,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.x2=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"X2",step:1,min:0,max:t.spriteSize},null,8,["modelValue","max"]),ne(nt,{modelValue:t.layer.y2,"onUpdate:modelValue":[r[2]||(r[2]=i=>t.layer.y2=i),r[3]||(r[3]=i=>n.$emit("update:layer",t.layer))],label:"Y2",step:1,min:0,max:t.spriteSize},null,8,["modelValue","max"])]),ne(nt,{modelValue:t.layer.lineWidth,"onUpdate:modelValue":[r[4]||(r[4]=i=>t.layer.lineWidth=i),r[5]||(r[5]=i=>n.$emit("update:layer",t.layer))],label:"Line Width",step:1,min:1,max:20},null,8,["modelValue"])],64))}}),C4={class:"space-y-4"},A4=ie({__name:"EllipseProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(I(),ue("div",C4,[ne(nt,{modelValue:t.layer.width,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.width=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),ne(nt,{modelValue:t.layer.height,"onUpdate:modelValue":[r[2]||(r[2]=i=>t.layer.height=i),r[3]||(r[3]=i=>n.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),E4={class:"space-y-4"},P4=["value"],T4=["value"],k4=["value"],O4=ie({__name:"PatternProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e;function i(a){const l=a.target,c={...n.layer,patternType:l.value};r("update:layer",c)}function s(a){const l=a.target,c={...n.layer,color1:l.value};r("update:layer",c)}function o(a){const l=a.target,c={...n.layer,color2:l.value};r("update:layer",c)}return(a,l)=>(I(),ue("div",E4,[N("div",null,[l[8]||(l[8]=N("label",{class:"block text-sm font-medium text-gray-300"},"Pattern Type",-1)),N("select",{value:t.layer.patternType,class:"w-full p-2 bg-gray-700 text-white rounded",onChange:l[0]||(l[0]=c=>i(c))},[...l[7]||(l[7]=[N("option",{value:"checkerboard"},"Checkerboard",-1),N("option",{value:"stripes"},"Stripes",-1),N("option",{value:"dots"},"Dots",-1)])],40,P4)]),N("div",null,[l[9]||(l[9]=N("label",{class:"block text-sm font-medium text-gray-300"},"Color 1",-1)),N("input",{value:t.layer.color1,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[1]||(l[1]=c=>s(c))},null,40,T4)]),N("div",null,[l[10]||(l[10]=N("label",{class:"block text-sm font-medium text-gray-300"},"Color 2",-1)),N("input",{value:t.layer.color2,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[2]||(l[2]=c=>o(c))},null,40,k4)]),ne(nt,{modelValue:t.layer.width,"onUpdate:modelValue":[l[3]||(l[3]=c=>t.layer.width=c),l[4]||(l[4]=c=>a.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),ne(nt,{modelValue:t.layer.height,"onUpdate:modelValue":[l[5]||(l[5]=c=>t.layer.height=c),l[6]||(l[6]=c=>a.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),R4={class:"space-y-4"},M4=["value"],I4=["value"],L4=["value"],D4=ie({__name:"GradientProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e;function i(a){const l=a.target,c={...n.layer,colorStart:l.value};r("update:layer",c)}function s(a){const l=a.target,c={...n.layer,colorEnd:l.value};r("update:layer",c)}function o(a){const l=a.target,c={...n.layer,direction:l.value};r("update:layer",c)}return(a,l)=>(I(),ue("div",R4,[N("div",null,[l[7]||(l[7]=N("label",{class:"block text-sm font-medium text-gray-300"},"Color Start",-1)),N("input",{value:t.layer.colorStart,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[0]||(l[0]=c=>i(c))},null,40,M4)]),N("div",null,[l[8]||(l[8]=N("label",{class:"block text-sm font-medium text-gray-300"},"Color End",-1)),N("input",{value:t.layer.colorEnd,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[1]||(l[1]=c=>s(c))},null,40,I4)]),N("div",null,[l[10]||(l[10]=N("label",{class:"block text-sm font-medium text-gray-300"},"Direction",-1)),N("select",{value:t.layer.direction,class:"w-full p-2 bg-gray-700 text-white rounded",onChange:l[2]||(l[2]=c=>o(c))},[...l[9]||(l[9]=[N("option",{value:"horizontal"},"Horizontal",-1),N("option",{value:"vertical"},"Vertical",-1)])],40,L4)]),ne(nt,{modelValue:t.layer.width,"onUpdate:modelValue":[l[3]||(l[3]=c=>t.layer.width=c),l[4]||(l[4]=c=>a.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),ne(nt,{modelValue:t.layer.height,"onUpdate:modelValue":[l[5]||(l[5]=c=>t.layer.height=c),l[6]||(l[6]=c=>a.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),F4={class:"space-y-4"},B4=["value"],N4=ie({__name:"PolygonProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e,i=U(()=>n.layer.points?.map(o=>`[${o[0]},${o[1]}]`).join(",")||"");function s(o){const l=o.target.value;let c=[];try{c=l.split(",").map(h=>{const f=h.trim().match(/\[(\d+),(\d+)\]/);return f?[parseInt(f[1]),parseInt(f[2])]:null}).filter(h=>h)}catch{c=n.layer.points||[]}const u={...n.layer,points:c};r("update:layer",u)}return(o,a)=>(I(),ue("div",F4,[N("div",null,[a[3]||(a[3]=N("label",{class:"block text-sm font-medium text-gray-300"},"Points",-1)),N("textarea",{value:i.value,class:"w-full p-2 bg-gray-700 text-white rounded",rows:"3",placeholder:"e.g., [10,10],[50,10],[30,50]",onInput:a[0]||(a[0]=l=>s(l))},null,40,B4)]),ne(nt,{modelValue:t.layer.lineWidth,"onUpdate:modelValue":[a[1]||(a[1]=l=>t.layer.lineWidth=l),a[2]||(a[2]=l=>o.$emit("update:layer",t.layer))],label:"Line Width",step:1,min:0,max:20},null,8,["modelValue"])]))}}),G4={class:"space-y-4"},$4=["value"],H4={class:"flex items-center"},W4=["checked"],z4=ie({__name:"PathProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e;function i(o){const a=o.target,l={...n.layer,path:a.value};r("update:layer",l)}function s(o){const a=o.target,l={...n.layer,fill:a.checked};r("update:layer",l)}return(o,a)=>(I(),ue("div",G4,[N("div",null,[a[4]||(a[4]=N("label",{class:"block text-sm font-medium text-gray-300"},"Path Data",-1)),N("textarea",{value:t.layer.path,class:"w-full p-2 bg-gray-700 text-white rounded",rows:"3",placeholder:"e.g., M10 10 L50 10 L30 50 Z",onInput:a[0]||(a[0]=l=>i(l))},null,40,$4)]),N("div",H4,[N("input",{checked:t.layer.fill,type:"checkbox",class:"mr-2",onChange:a[1]||(a[1]=l=>s(l))},null,40,W4),a[5]||(a[5]=N("label",{class:"text-sm font-medium text-gray-300"},"Fill",-1))]),ne(nt,{modelValue:t.layer.lineWidth,"onUpdate:modelValue":[a[2]||(a[2]=l=>t.layer.lineWidth=l),a[3]||(a[3]=l=>o.$emit("update:layer",t.layer))],label:"Line Width",step:1,min:0,max:20},null,8,["modelValue"])]))}}),V4={class:"sprite-editor flex h-full"},j4={key:0,class:"flex-1 flex items-center justify-center text-gray-400"},U4={class:"layer-panel w-64 bg-gray-800 p-4 border-r border-gray-700 overflow-y-auto"},Y4={class:"space-y-2"},X4=["onClick"],K4={class:"mx-2 flex-1 text-sm text-white"},q4=["onClick"],J4=["onClick"],Q4={class:"mt-4"},Z4={class:"editor-main flex-1 flex flex-col"},e6={class:"properties-panel bg-gray-800 p-4 border-t border-gray-700"},t6={key:0,class:"space-y-4"},n6={class:"grid grid-cols-2 gap-4"},r6={key:1,class:"text-gray-400"},i6=ie({__name:"SpriteEditor",props:{spriteData:{}},emits:["spriteUpdated"],setup(t,{emit:e}){const n=t,r=e,i=G(),s=G(),o=G(),a=G(),l=G(null),c=G(n.spriteData?.size||64),u=new Po,d=U(()=>l.value!==null&&n.spriteData?n.spriteData.layers[l.value]:null),h=U(()=>{if(!d.value)return null;switch(d.value.type){case"circle":return b4;case"rect":return _4;case"line":return S4;case"gradient":return D4;case"pattern":return O4;case"ellipse":return A4;case"polygon":return N4;case"path":return z4;default:return null}});function f(){if(!d.value||l.value===null||!n.spriteData)return;const T=d.value.type,k={x:d.value.x,y:d.value.y,color:d.value.color,visible:d.value.visible},$={...Au[T],...k,type:T},B=[...n.spriteData.layers];B[l.value]=$;const se={...n.spriteData,layers:B};r("spriteUpdated",se),A(se)}function p(T){if(l.value===null||!n.spriteData)return;const k=[...n.spriteData.layers];k[l.value]=T;const $={...n.spriteData,layers:k};r("spriteUpdated",$),A($)}je(()=>{i.value&&Lg(i,T=>{const k=T[0],{width:$,height:B}=k.contentRect;$>0&&B>0&&!s.value&&n.spriteData&&g()})});function g(){!i.value||!n.spriteData||i.value.clientWidth===0||i.value.clientHeight===0||(s.value=new qe.Stage({container:i.value,width:i.value.clientWidth,height:i.value.clientHeight}),o.value=new qe.Layer,s.value.add(o.value),A(n.spriteData))}function y(T,k){return`${T.type} ${k+1}`}function m(T){l.value=T}function b(T){if(!n.spriteData)return;const k=n.spriteData.layers.map((B,se)=>{if(se!==T)return B;let F=B.visible===!1;return console.log(F),{...B,visible:F}}),$={...n.spriteData,layers:k};r("spriteUpdated",$),A($)}function v(){if(!n.spriteData)return;const T={...Au.rect,type:"rect"},k={...n.spriteData,layers:[...n.spriteData.layers,T]};r("spriteUpdated",k),A(k)}function w(T){if(n.spriteData&&n.spriteData.layers.length>1){const k=n.spriteData.layers.filter((B,se)=>se!==T),$={...n.spriteData,layers:k};l.value===T?l.value=null:l.value&&l.value>T&&l.value--,r("spriteUpdated",$)}}function C(){if(!n.spriteData)return;const T={...n.spriteData,layers:n.spriteData.layers.map(k=>({...k}))};r("spriteUpdated",T),A(T)}function R(){if(!n.spriteData)return;const T={...n.spriteData,size:c.value};r("spriteUpdated",T),A(T)}function O(T,k){const $=k||n.spriteData;if(!$||$.thumbnail===T)return;const B={...$,thumbnail:T};r("spriteUpdated",B)}async function A(T){if(!s.value||!o.value){console.warn("Stage not initialized");return}const k=await u.generateImage(T);O(k,T);const $=new Image;$.onload=()=>{!o.value||!s.value||(a.value?(a.value.image($),a.value.width(T.size*4),a.value.height(T.size*4),a.value.x(s.value.width()/2-T.size*4/2),a.value.y(s.value.height()/2-T.size*4/2)):(a.value=new qe.Image({image:$,x:s.value.width()/2-T.size*4/2,y:s.value.height()/2-T.size*4/2,width:T.size*4,height:T.size*4}),o.value.add(a.value)),o.value.batchDraw())},$.src=k}return Gt(()=>{s.value?.destroy()}),xe(()=>n.spriteData,T=>{T?(c.value=T.size,!s.value&&i.value?g():A(T)):(s.value?.destroy(),s.value=void 0)},{deep:!0,flush:"post"}),(T,k)=>(I(),ue("div",V4,[t.spriteData?(I(),ue($e,{key:1},[N("div",U4,[k[6]||(k[6]=N("h3",{class:"text-lg font-bold mb-4 text-white"},"Layers",-1)),N("div",Y4,[(I(!0),ue($e,null,ar(t.spriteData.layers,($,B)=>(I(),ue("div",{key:B,class:Tt(["layer-item flex items-center p-2 bg-gray-700 rounded cursor-pointer",{"bg-blue-600":l.value===B}]),onClick:se=>m(B)},[N("div",{class:"layer-preview w-8 h-8 border border-gray-600 rounded flex-shrink-0",style:Nt({backgroundColor:$.color||"#ccc"})},null,4),N("span",K4,Je(y($,B)),1),N("button",{onClick:bt(se=>b(B),["stop"]),class:"mr-2 text-gray-400 hover:text-white"},[$.visible!==!1?(I(),ae(_(uy),{key:0,class:"w-4 h-4"})):(I(),ae(_(cy),{key:1,class:"w-4 h-4"}))],8,q4),N("button",{onClick:bt(se=>w(B),["stop"]),class:"text-red-400 hover:text-red-600"},[ne(_(Rh),{class:"w-4 h-4"})],8,J4)],10,X4))),128))]),N("button",{onClick:v,class:"w-full mt-4 bg-green-600 text-white py-2 rounded hover:bg-green-700"},"+ Layer "),N("div",Q4,[ne(nt,{modelValue:c.value,"onUpdate:modelValue":[k[0]||(k[0]=$=>c.value=$),R],label:"Texture Size",step:1,min:16,max:512},null,8,["modelValue"])])]),N("div",Z4,[N("div",{class:"canvas-container flex-1 min-h-96",ref_key:"canvasContainer",ref:i},null,512),N("div",e6,[k[9]||(k[9]=N("h3",{class:"text-lg font-bold mb-4 text-white"},"Properties",-1)),d.value?(I(),ue("div",t6,[N("div",null,[pn(N("select",{"onUpdate:modelValue":k[1]||(k[1]=$=>d.value.type=$),class:"w-full p-2 bg-gray-700 text-white rounded",onChange:f},[...k[7]||(k[7]=[v0('<option value="circle">Circle</option><option value="rect">Rectangle</option><option value="line">Line</option><option value="gradient">Gradient</option><option value="pattern">Pattern</option><option value="ellipse">Ellipse</option><option value="polygon">Polygon</option><option value="path">Path</option>',8)])],544),[[Bd,d.value.type]])]),N("div",n6,[ne(nt,{modelValue:d.value.x,"onUpdate:modelValue":[k[2]||(k[2]=$=>d.value.x=$),C],label:"X",step:1,min:0,max:t.spriteData.size},null,8,["modelValue","max"]),ne(nt,{modelValue:d.value.y,"onUpdate:modelValue":[k[3]||(k[3]=$=>d.value.y=$),C],label:"Y",step:1,min:0,max:t.spriteData.size},null,8,["modelValue","max"])]),N("div",null,[k[8]||(k[8]=N("label",{class:"block text-sm font-medium text-gray-300"},"Color",-1)),pn(N("input",{"onUpdate:modelValue":k[4]||(k[4]=$=>d.value.color=$),type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:C},null,544),[[xi,d.value.color]])]),(I(),ae(Bs(h.value),{layer:d.value,"sprite-size":t.spriteData.size,"onUpdate:layer":p},null,40,["layer","sprite-size"]))])):(I(),ue("div",r6,"Select a layer to edit properties"))])])],64)):(I(),ue("div",j4,[...k[5]||(k[5]=[N("div",{class:"text-center"},[N("p",{class:"text-xl mb-2"},"Select a sprite to edit"),N("p",{class:"text-sm"},"Choose a sprite from the list on the left")],-1)])]))]))}}),s6={class:"flex flex-col items-center min-h-screen min-w-screen text-white px-2"},o6={class:"w-full max-w-6xl"},a6={class:"flex space-x-4 mb-4"},l6={class:"w-full"},c6={key:0,class:"flex flex-row gap-4"},u6={class:"flex flex-col flex-1 space-y-4"},d6={key:1,class:"flex flex-row gap-4 h-[calc(100vh-150px)]"},h6={class:"flex-1 h-full"},f6=ie({__name:"App",setup(t){const e=G("sprite"),n=G(null),r=Ll();je(()=>{r.load()});function i(s){r.generatedTextures.some(a=>a.id===s.id)?r.updateGeneratedTexture(s.id,s):r.addGeneratedTexture(s),n.value=s}return window.addEventListener("editSprite",async s=>{const o=s;n.value=o.detail,await g3(25),e.value="edit"}),(s,o)=>(I(),ue("div",s6,[o[3]||(o[3]=N("p",{class:"my-2"},[ft(" An app to generate graphics using AI language models. All sprites and SVGs shown were created by prompting an LLM (bigger models are better). "),N("a",{href:"https://parsehex.github.io/aAI-Art/docs/"},"Docs")],-1)),N("div",o6,[N("div",a6,[N("button",{onClick:o[0]||(o[0]=a=>e.value="sprite"),class:Tt(["px-4 py-2 rounded-md transition",e.value==="sprite"?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])}," Generate Sprites ",2),N("button",{onClick:o[1]||(o[1]=a=>e.value="edit"),class:Tt(["px-4 py-2 rounded-md transition",e.value==="edit"?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])}," Edit Sprite ",2),N("button",{onClick:o[2]||(o[2]=a=>e.value="svg"),class:Tt(["px-4 py-2 rounded-md transition",e.value==="svg"?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])}," Generate SVGs ",2)]),N("div",l6,[e.value==="sprite"?(I(),ue("div",c6,[ne(Cu),N("div",u6,[ne(k5)])])):e.value==="edit"?(I(),ue("div",d6,[ne(Cu,{mode:"edit"}),N("div",h6,[ne(i6,{spriteData:n.value,onSpriteUpdated:i},null,8,["spriteData"])])])):(I(),ae(z5,{key:2}))])])]))}}),kf=Z0(f6);kf.use(ng());kf.mount("#app");
