(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function xl(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ve={},Ur=[],dn=()=>{},Ad=()=>!1,wo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Sl=t=>t.startsWith("onUpdate:"),yt=Object.assign,Cl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jp=Object.prototype.hasOwnProperty,Fe=(t,e)=>jp.call(t,e),we=Array.isArray,Yr=t=>as(t)==="[object Map]",li=t=>as(t)==="[object Set]",_c=t=>as(t)==="[object Date]",Se=t=>typeof t=="function",Je=t=>typeof t=="string",qt=t=>typeof t=="symbol",$e=t=>t!==null&&typeof t=="object",Pd=t=>($e(t)||Se(t))&&Se(t.then)&&Se(t.catch),kd=Object.prototype.toString,as=t=>kd.call(t),Up=t=>as(t).slice(8,-1),Td=t=>as(t)==="[object Object]",El=t=>Je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ni=xl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_o=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Yp=/-\w/g,Rt=_o(t=>t.replace(Yp,e=>e.slice(1).toUpperCase())),Xp=/\B([A-Z])/g,ir=_o(t=>t.replace(Xp,"-$1").toLowerCase()),xo=_o(t=>t.charAt(0).toUpperCase()+t.slice(1)),Us=_o(t=>t?`on${xo(t)}`:""),Jn=(t,e)=>!Object.is(t,e),Ys=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Rd=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},So=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let xc;const Co=()=>xc||(xc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function en(t){if(we(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Je(r)?Qp(r):en(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Je(t)||$e(t))return t}const qp=/;(?![^(]*\))/g,Kp=/:([^]+)/,Jp=/\/\*[^]*?\*\//g;function Qp(t){const e={};return t.replace(Jp,"").split(qp).forEach(n=>{if(n){const r=n.split(Kp);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function vt(t){let e="";if(Je(t))e=t;else if(we(t))for(let n=0;n<t.length;n++){const r=vt(t[n]);r&&(e+=r+" ")}else if($e(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Eo(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Je(e)&&(t.class=vt(e)),n&&(t.style=en(n)),t}const Zp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",e0=xl(Zp);function Od(t){return!!t||t===""}function t0(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Sr(t[r],e[r]);return n}function Sr(t,e){if(t===e)return!0;let n=_c(t),r=_c(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=qt(t),r=qt(e),n||r)return t===e;if(n=we(t),r=we(e),n||r)return n&&r?t0(t,e):!1;if(n=$e(t),r=$e(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Sr(t[o],e[o]))return!1}}return String(t)===String(e)}function Al(t,e){return t.findIndex(n=>Sr(n,e))}const Md=t=>!!(t&&t.__v_isRef===!0),tt=t=>Je(t)?t:t==null?"":we(t)||$e(t)&&(t.toString===kd||!Se(t.toString))?Md(t)?tt(t.value):JSON.stringify(t,Id,2):String(t),Id=(t,e)=>Md(e)?Id(t,e.value):Yr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[na(r,s)+" =>"]=i,n),{})}:li(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>na(n))}:qt(e)?na(e):$e(e)&&!we(e)&&!Td(e)?String(e):e,na=(t,e="")=>{var n;return qt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let pt;class Ld{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pt,!e&&pt&&(this.index=(pt.scopes||(pt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=pt;try{return pt=this,e()}finally{pt=n}}}on(){++this._on===1&&(this.prevScope=pt,pt=this)}off(){this._on>0&&--this._on===0&&(pt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Ao(t){return new Ld(t)}function ci(){return pt}function ls(t,e=!1){pt&&pt.cleanups.push(t)}let je;const ra=new WeakSet;class Dd{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pt&&pt.active&&pt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ra.has(this)&&(ra.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Fd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Sc(this),Bd(this);const e=je,n=Yt;je=this,Yt=!0;try{return this.fn()}finally{Gd(this),je=e,Yt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Tl(e);this.deps=this.depsTail=void 0,Sc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ra.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Na(this)&&this.run()}get dirty(){return Na(this)}}let Nd=0,Fi,Bi;function Fd(t,e=!1){if(t.flags|=8,e){t.next=Bi,Bi=t;return}t.next=Fi,Fi=t}function Pl(){Nd++}function kl(){if(--Nd>0)return;if(Bi){let e=Bi;for(Bi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Fi;){let e=Fi;for(Fi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Bd(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Gd(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Tl(r),n0(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Na(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&($d(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function $d(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ki)||(t.globalVersion=Ki,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Na(t))))return;t.flags|=2;const e=t.dep,n=je,r=Yt;je=t,Yt=!0;try{Bd(t);const i=t.fn(t._value);(e.version===0||Jn(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{je=n,Yt=r,Gd(t),t.flags&=-3}}function Tl(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Tl(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function n0(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Yt=!0;const Vd=[];function Tn(){Vd.push(Yt),Yt=!1}function Rn(){const t=Vd.pop();Yt=t===void 0?!0:t}function Sc(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=je;je=void 0;try{e()}finally{je=n}}}let Ki=0;class r0{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Po{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!je||!Yt||je===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==je)n=this.activeLink=new r0(je,this),je.deps?(n.prevDep=je.depsTail,je.depsTail.nextDep=n,je.depsTail=n):je.deps=je.depsTail=n,Hd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=je.depsTail,n.nextDep=void 0,je.depsTail.nextDep=n,je.depsTail=n,je.deps===n&&(je.deps=r)}return n}trigger(e){this.version++,Ki++,this.notify(e)}notify(e){Pl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{kl()}}}function Hd(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Hd(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const to=new WeakMap,_r=Symbol(""),Fa=Symbol(""),Ji=Symbol("");function gt(t,e,n){if(Yt&&je){let r=to.get(t);r||to.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Po),i.map=r,i.key=n),i.track()}}function An(t,e,n,r,i,s){const o=to.get(t);if(!o){Ki++;return}const a=l=>{l&&l.trigger()};if(Pl(),e==="clear")o.forEach(a);else{const l=we(t),c=l&&El(n);if(l&&n==="length"){const u=Number(r);o.forEach((d,h)=>{(h==="length"||h===Ji||!qt(h)&&h>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Ji)),e){case"add":l?c&&a(o.get("length")):(a(o.get(_r)),Yr(t)&&a(o.get(Fa)));break;case"delete":l||(a(o.get(_r)),Yr(t)&&a(o.get(Fa)));break;case"set":Yr(t)&&a(o.get(_r));break}}kl()}function i0(t,e){const n=to.get(t);return n&&n.get(e)}function Ir(t){const e=Ie(t);return e===t?e:(gt(e,"iterate",Ji),Ht(t)?e:e.map(ut))}function ko(t){return gt(t=Ie(t),"iterate",Ji),t}const s0={__proto__:null,[Symbol.iterator](){return ia(this,Symbol.iterator,ut)},concat(...t){return Ir(this).concat(...t.map(e=>we(e)?Ir(e):e))},entries(){return ia(this,"entries",t=>(t[1]=ut(t[1]),t))},every(t,e){return wn(this,"every",t,e,void 0,arguments)},filter(t,e){return wn(this,"filter",t,e,n=>n.map(ut),arguments)},find(t,e){return wn(this,"find",t,e,ut,arguments)},findIndex(t,e){return wn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return wn(this,"findLast",t,e,ut,arguments)},findLastIndex(t,e){return wn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return wn(this,"forEach",t,e,void 0,arguments)},includes(...t){return sa(this,"includes",t)},indexOf(...t){return sa(this,"indexOf",t)},join(t){return Ir(this).join(t)},lastIndexOf(...t){return sa(this,"lastIndexOf",t)},map(t,e){return wn(this,"map",t,e,void 0,arguments)},pop(){return yi(this,"pop")},push(...t){return yi(this,"push",t)},reduce(t,...e){return Cc(this,"reduce",t,e)},reduceRight(t,...e){return Cc(this,"reduceRight",t,e)},shift(){return yi(this,"shift")},some(t,e){return wn(this,"some",t,e,void 0,arguments)},splice(...t){return yi(this,"splice",t)},toReversed(){return Ir(this).toReversed()},toSorted(t){return Ir(this).toSorted(t)},toSpliced(...t){return Ir(this).toSpliced(...t)},unshift(...t){return yi(this,"unshift",t)},values(){return ia(this,"values",ut)}};function ia(t,e,n){const r=ko(t),i=r[e]();return r!==t&&!Ht(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=n(s.value)),s}),i}const o0=Array.prototype;function wn(t,e,n,r,i,s){const o=ko(t),a=o!==t&&!Ht(t),l=o[e];if(l!==o0[e]){const d=l.apply(t,s);return a?ut(d):d}let c=n;o!==t&&(a?c=function(d,h){return n.call(this,ut(d),h,t)}:n.length>2&&(c=function(d,h){return n.call(this,d,h,t)}));const u=l.call(o,c,r);return a&&i?i(u):u}function Cc(t,e,n,r){const i=ko(t);let s=n;return i!==t&&(Ht(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,ut(a),l,t)}),i[e](s,...r)}function sa(t,e,n){const r=Ie(t);gt(r,"iterate",Ji);const i=r[e](...n);return(i===-1||i===!1)&&Rl(n[0])?(n[0]=Ie(n[0]),r[e](...n)):i}function yi(t,e,n=[]){Tn(),Pl();const r=Ie(t)[e].apply(t,n);return kl(),Rn(),r}const a0=xl("__proto__,__v_isRef,__isVue"),Wd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(qt));function l0(t){qt(t)||(t=String(t));const e=Ie(this);return gt(e,"has",t),e.hasOwnProperty(t)}class zd{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Kd:qd:s?Xd:Yd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=we(e);if(!i){let l;if(o&&(l=s0[n]))return l;if(n==="hasOwnProperty")return l0}const a=Reflect.get(e,n,Ke(e)?e:r);if((qt(n)?Wd.has(n):a0(n))||(i||gt(e,"get",n),s))return a;if(Ke(a)){const l=o&&El(n)?a:a.value;return i&&$e(l)?Zr(l):l}return $e(a)?i?Zr(a):Ar(a):a}}class jd extends zd{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Zn(s);if(!Ht(r)&&!Zn(r)&&(s=Ie(s),r=Ie(r)),!we(e)&&Ke(s)&&!Ke(r))return l||(s.value=r),!0}const o=we(e)&&El(n)?Number(n)<e.length:Fe(e,n),a=Reflect.set(e,n,r,Ke(e)?e:i);return e===Ie(i)&&(o?Jn(r,s)&&An(e,"set",n,r):An(e,"add",n,r)),a}deleteProperty(e,n){const r=Fe(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&An(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!qt(n)||!Wd.has(n))&&gt(e,"has",n),r}ownKeys(e){return gt(e,"iterate",we(e)?"length":_r),Reflect.ownKeys(e)}}class Ud extends zd{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const c0=new jd,u0=new Ud,d0=new jd(!0),h0=new Ud(!0),Ba=t=>t,ys=t=>Reflect.getPrototypeOf(t);function f0(t,e,n){return function(...r){const i=this.__v_raw,s=Ie(i),o=Yr(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),u=n?Ba:e?no:ut;return!e&&gt(s,"iterate",l?Fa:_r),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function bs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function p0(t,e){const n={get(i){const s=this.__v_raw,o=Ie(s),a=Ie(i);t||(Jn(i,a)&&gt(o,"get",i),gt(o,"get",a));const{has:l}=ys(o),c=e?Ba:t?no:ut;if(l.call(o,i))return c(s.get(i));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&gt(Ie(i),"iterate",_r),i.size},has(i){const s=this.__v_raw,o=Ie(s),a=Ie(i);return t||(Jn(i,a)&&gt(o,"has",i),gt(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=Ie(a),c=e?Ba:t?no:ut;return!t&&gt(l,"iterate",_r),a.forEach((u,d)=>i.call(s,c(u),c(d),o))}};return yt(n,t?{add:bs("add"),set:bs("set"),delete:bs("delete"),clear:bs("clear")}:{add(i){!e&&!Ht(i)&&!Zn(i)&&(i=Ie(i));const s=Ie(this);return ys(s).has.call(s,i)||(s.add(i),An(s,"add",i,i)),this},set(i,s){!e&&!Ht(s)&&!Zn(s)&&(s=Ie(s));const o=Ie(this),{has:a,get:l}=ys(o);let c=a.call(o,i);c||(i=Ie(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,s),c?Jn(s,u)&&An(o,"set",i,s):An(o,"add",i,s),this},delete(i){const s=Ie(this),{has:o,get:a}=ys(s);let l=o.call(s,i);l||(i=Ie(i),l=o.call(s,i)),a&&a.call(s,i);const c=s.delete(i);return l&&An(s,"delete",i,void 0),c},clear(){const i=Ie(this),s=i.size!==0,o=i.clear();return s&&An(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=f0(i,t,e)}),n}function To(t,e){const n=p0(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Fe(n,i)&&i in r?n:r,i,s)}const g0={get:To(!1,!1)},m0={get:To(!1,!0)},v0={get:To(!0,!1)},y0={get:To(!0,!0)},Yd=new WeakMap,Xd=new WeakMap,qd=new WeakMap,Kd=new WeakMap;function b0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function w0(t){return t.__v_skip||!Object.isExtensible(t)?0:b0(Up(t))}function Ar(t){return Zn(t)?t:Ro(t,!1,c0,g0,Yd)}function Jd(t){return Ro(t,!1,d0,m0,Xd)}function Zr(t){return Ro(t,!0,u0,v0,qd)}function Lr(t){return Ro(t,!0,h0,y0,Kd)}function Ro(t,e,n,r,i){if(!$e(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=w0(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function Qn(t){return Zn(t)?Qn(t.__v_raw):!!(t&&t.__v_isReactive)}function Zn(t){return!!(t&&t.__v_isReadonly)}function Ht(t){return!!(t&&t.__v_isShallow)}function Rl(t){return t?!!t.__v_raw:!1}function Ie(t){const e=t&&t.__v_raw;return e?Ie(e):t}function Oo(t){return!Fe(t,"__v_skip")&&Object.isExtensible(t)&&Rd(t,"__v_skip",!0),t}const ut=t=>$e(t)?Ar(t):t,no=t=>$e(t)?Zr(t):t;function Ke(t){return t?t.__v_isRef===!0:!1}function z(t){return Qd(t,!1)}function ui(t){return Qd(t,!0)}function Qd(t,e){return Ke(t)?t:new _0(t,e)}class _0{constructor(e,n){this.dep=new Po,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ie(e),this._value=n?e:ut(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Ht(e)||Zn(e);e=r?e:Ie(e),Jn(e,n)&&(this._rawValue=e,this._value=r?e:ut(e),this.dep.trigger())}}function _(t){return Ke(t)?t.value:t}function Xt(t){return Se(t)?t():_(t)}const x0={get:(t,e,n)=>e==="__v_raw"?t:_(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Ke(i)&&!Ke(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Zd(t){return Qn(t)?t:new Proxy(t,x0)}class S0{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Po,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function C0(t){return new S0(t)}function mn(t){const e=we(t)?new Array(t.length):{};for(const n in t)e[n]=th(t,n);return e}class E0{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return i0(Ie(this._object),this._key)}}class A0{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function eh(t,e,n){return Ke(t)?t:Se(t)?new A0(t):$e(t)&&arguments.length>1?th(t,e,n):z(t)}function th(t,e,n){const r=t[e];return Ke(r)?r:new E0(t,e,n)}class P0{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Po(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ki-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&je!==this)return Fd(this,!0),!0}get value(){const e=this.dep.track();return $d(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function k0(t,e,n=!1){let r,i;return Se(t)?r=t:(r=t.get,i=t.set),new P0(r,i,n)}const ws={},ro=new WeakMap;let gr;function T0(t,e=!1,n=gr){if(n){let r=ro.get(n);r||ro.set(n,r=[]),r.push(t)}}function R0(t,e,n=Ve){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,c=w=>i?w:Ht(w)||i===!1||i===0?Pn(w,1):Pn(w);let u,d,h,f,p=!1,g=!1;if(Ke(t)?(d=()=>t.value,p=Ht(t)):Qn(t)?(d=()=>c(t),p=!0):we(t)?(g=!0,p=t.some(w=>Qn(w)||Ht(w)),d=()=>t.map(w=>{if(Ke(w))return w.value;if(Qn(w))return c(w);if(Se(w))return l?l(w,2):w()})):Se(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){Tn();try{h()}finally{Rn()}}const w=gr;gr=u;try{return l?l(t,3,[f]):t(f)}finally{gr=w}}:d=dn,e&&i){const w=d,P=i===!0?1/0:i;d=()=>Pn(w(),P)}const v=ci(),m=()=>{u.stop(),v&&v.active&&Cl(v.effects,u)};if(s&&e){const w=e;e=(...P)=>{w(...P),m()}}let y=g?new Array(t.length).fill(ws):ws;const b=w=>{if(!(!(u.flags&1)||!u.dirty&&!w))if(e){const P=u.run();if(i||p||(g?P.some((k,O)=>Jn(k,y[O])):Jn(P,y))){h&&h();const k=gr;gr=u;try{const O=[P,y===ws?void 0:g&&y[0]===ws?[]:y,f];y=P,l?l(e,3,O):e(...O)}finally{gr=k}}}else u.run()};return a&&a(b),u=new Dd(d),u.scheduler=o?()=>o(b,!1):b,f=w=>T0(w,!1,u),h=u.onStop=()=>{const w=ro.get(u);if(w){if(l)l(w,4);else for(const P of w)P();ro.delete(u)}},e?r?b(!0):y=u.run():o?o(b.bind(null,!0),!0):u.run(),m.pause=u.pause.bind(u),m.resume=u.resume.bind(u),m.stop=m,m}function Pn(t,e=1/0,n){if(e<=0||!$e(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Ke(t))Pn(t.value,e,n);else if(we(t))for(let r=0;r<t.length;r++)Pn(t[r],e,n);else if(li(t)||Yr(t))t.forEach(r=>{Pn(r,e,n)});else if(Td(t)){for(const r in t)Pn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Pn(t[r],e,n)}return t}function cs(t,e,n,r){try{return r?t(...r):t()}catch(i){Mo(i,e,n)}}function fn(t,e,n,r){if(Se(t)){const i=cs(t,e,n,r);return i&&Pd(i)&&i.catch(s=>{Mo(s,e,n)}),i}if(we(t)){const i=[];for(let s=0;s<t.length;s++)i.push(fn(t[s],e,n,r));return i}}function Mo(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ve;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(s){Tn(),cs(s,null,10,[t,l,c]),Rn();return}}O0(t,n,i,r,o)}function O0(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Ct=[];let ln=-1;const Xr=[];let Un=null,Hr=0;const nh=Promise.resolve();let io=null;function Ge(t){const e=io||nh;return t?e.then(this?t.bind(this):t):e}function M0(t){let e=ln+1,n=Ct.length;for(;e<n;){const r=e+n>>>1,i=Ct[r],s=Qi(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function Ol(t){if(!(t.flags&1)){const e=Qi(t),n=Ct[Ct.length-1];!n||!(t.flags&2)&&e>=Qi(n)?Ct.push(t):Ct.splice(M0(e),0,t),t.flags|=1,rh()}}function rh(){io||(io=nh.then(sh))}function I0(t){we(t)?Xr.push(...t):Un&&t.id===-1?Un.splice(Hr+1,0,t):t.flags&1||(Xr.push(t),t.flags|=1),rh()}function Ec(t,e,n=ln+1){for(;n<Ct.length;n++){const r=Ct[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ct.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ih(t){if(Xr.length){const e=[...new Set(Xr)].sort((n,r)=>Qi(n)-Qi(r));if(Xr.length=0,Un){Un.push(...e);return}for(Un=e,Hr=0;Hr<Un.length;Hr++){const n=Un[Hr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Un=null,Hr=0}}const Qi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function sh(t){try{for(ln=0;ln<Ct.length;ln++){const e=Ct[ln];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),cs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ln<Ct.length;ln++){const e=Ct[ln];e&&(e.flags&=-2)}ln=-1,Ct.length=0,ih(),io=null,(Ct.length||Xr.length)&&sh()}}let ht=null,oh=null;function so(t){const e=ht;return ht=t,oh=t&&t.type.__scopeId||null,e}function oe(t,e=ht,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&uo(-1);const s=so(e);let o;try{o=t(...i)}finally{so(s),r._d&&uo(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Vt(t,e){if(ht===null)return t;const n=Fo(ht),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=Ve]=e[i];s&&(Se(s)&&(s={mounted:s,updated:s}),s.deep&&Pn(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function dr(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Tn(),fn(l,n,8,[t.el,a,t,e]),Rn())}}const ah=Symbol("_vte"),L0=t=>t.__isTeleport,Gi=t=>t&&(t.disabled||t.disabled===""),Ac=t=>t&&(t.defer||t.defer===""),Pc=t=>typeof SVGElement<"u"&&t instanceof SVGElement,kc=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Ga=(t,e)=>{const n=t&&t.to;return Je(n)?e?e(n):null:n},lh={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:g,createComment:v}}=c,m=Gi(e.props);let{shapeFlag:y,children:b,dynamicChildren:w}=e;if(t==null){const P=e.el=g(""),k=e.anchor=g("");f(P,n,r),f(k,n,r);const O=(R,N)=>{y&16&&u(b,R,N,i,s,o,a,l)},A=()=>{const R=e.target=Ga(e.props,p),N=ch(R,e,g,f);R&&(o!=="svg"&&Pc(R)?o="svg":o!=="mathml"&&kc(R)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(R),m||(O(R,N),Xs(e,!1)))};m&&(O(n,k),Xs(e,!0)),Ac(e.props)?(e.el.__isMounted=!1,_t(()=>{A(),delete e.el.__isMounted},s)):A()}else{if(Ac(e.props)&&t.el.__isMounted===!1){_t(()=>{lh.process(t,e,n,r,i,s,o,a,l,c)},s);return}e.el=t.el,e.targetStart=t.targetStart;const P=e.anchor=t.anchor,k=e.target=t.target,O=e.targetAnchor=t.targetAnchor,A=Gi(t.props),R=A?n:k,N=A?P:O;if(o==="svg"||Pc(k)?o="svg":(o==="mathml"||kc(k))&&(o="mathml"),w?(h(t.dynamicChildren,w,R,i,s,o,a),Dl(t,e,!0)):l||d(t,e,R,N,i,s,o,a,!1),m)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):_s(e,n,P,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const Z=e.target=Ga(e.props,p);Z&&_s(e,Z,null,c,0)}else A&&_s(e,k,O,c,1);Xs(e,m)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:h}=t;if(d&&(i(c),i(u)),s&&i(l),o&16){const f=s||!Gi(h);for(let p=0;p<a.length;p++){const g=a[p];r(g,e,n,f,!!g.dynamicChildren)}}},move:_s,hydrate:D0};function _s(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=s===2;if(d&&r(o,e,n),(!d||Gi(u))&&l&16)for(let h=0;h<c.length;h++)i(c[h],e,n,2);d&&r(a,e,n)}function D0(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){function h(g,v,m,y){v.anchor=d(o(g),v,a(g),n,r,i,s),v.targetStart=m,v.targetAnchor=y}const f=e.target=Ga(e.props,l),p=Gi(e.props);if(f){const g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)h(t,e,g,g&&o(g));else{e.anchor=o(t);let v=g;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")e.targetStart=v;else if(v.data==="teleport anchor"){e.targetAnchor=v,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}v=o(v)}e.targetAnchor||ch(f,e,u,c),d(g&&o(g),e,f,n,r,i,s)}Xs(e,p)}else p&&e.shapeFlag&16&&h(t,e,t,o(t));return e.anchor&&o(e.anchor)}const N0=lh;function Xs(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function ch(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[ah]=s,t&&(r(i,t),r(s,t)),s}const F0=Symbol("_leaveCb");function Ml(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ml(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ae(t,e){return Se(t)?yt({name:t.name},e,{setup:t}):t}function Tc(){const t=At();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function uh(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const oo=new WeakMap;function $i(t,e,n,r,i=!1){if(we(t)){t.forEach((p,g)=>$i(p,e&&(we(e)?e[g]:e),n,r,i));return}if(qr(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&$i(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Fo(r.component):r.el,o=i?null:s,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ve?a.refs={}:a.refs,d=a.setupState,h=Ie(d),f=d===Ve?Ad:p=>Fe(h,p);if(c!=null&&c!==l){if(Rc(e),Je(c))u[c]=null,f(c)&&(d[c]=null);else if(Ke(c)){c.value=null;const p=e;p.k&&(u[p.k]=null)}}if(Se(l))cs(l,a,12,[o,u]);else{const p=Je(l),g=Ke(l);if(p||g){const v=()=>{if(t.f){const m=p?f(l)?d[l]:u[l]:l.value;if(i)we(m)&&Cl(m,s);else if(we(m))m.includes(s)||m.push(s);else if(p)u[l]=[s],f(l)&&(d[l]=u[l]);else{const y=[s];l.value=y,t.k&&(u[t.k]=y)}}else p?(u[l]=o,f(l)&&(d[l]=o)):g&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const m=()=>{v(),oo.delete(t)};m.id=-1,oo.set(t,m),_t(m,n)}else Rc(t),v()}}}function Rc(t){const e=oo.get(t);e&&(e.flags|=8,oo.delete(t))}Co().requestIdleCallback;Co().cancelIdleCallback;const qr=t=>!!t.type.__asyncLoader,dh=t=>t.type.__isKeepAlive;function B0(t,e){hh(t,"a",e)}function G0(t,e){hh(t,"da",e)}function hh(t,e,n=mt){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Io(e,r,n),n){let i=n.parent;for(;i&&i.parent;)dh(i.parent.vnode)&&$0(r,e,n,i),i=i.parent}}function $0(t,e,n,r){const i=Io(e,t,r,!0);zt(()=>{Cl(r[e],i)},n)}function Io(t,e,n=mt,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Tn();const a=ds(n),l=fn(e,n,t,o);return a(),Rn(),l});return r?i.unshift(s):i.push(s),s}}const Ln=t=>(e,n=mt)=>{(!ts||t==="sp")&&Io(t,(...r)=>e(...r),n)},V0=Ln("bm"),Qe=Ln("m"),H0=Ln("bu"),W0=Ln("u"),fh=Ln("bum"),zt=Ln("um"),z0=Ln("sp"),j0=Ln("rtg"),U0=Ln("rtc");function Y0(t,e=mt){Io("ec",t,e)}const ph="components";function ao(t,e){return mh(ph,t,!0,e)||t}const gh=Symbol.for("v-ndc");function lo(t){return Je(t)?mh(ph,t,!1)||t:t||gh}function mh(t,e,n=!0,r=!1){const i=ht||mt;if(i){const s=i.type;{const a=Fg(s,!1);if(a&&(a===e||a===Rt(e)||a===xo(Rt(e))))return s}const o=Oc(i[t]||s[t],e)||Oc(i.appContext[t],e);return!o&&r?s:o}}function Oc(t,e){return t&&(t[e]||t[Rt(e)]||t[xo(Rt(e))])}function On(t,e,n,r){let i;const s=n,o=we(t);if(o||Je(t)){const a=o&&Qn(t);let l=!1,c=!1;a&&(l=!Ht(t),c=Zn(t),t=ko(t)),i=new Array(t.length);for(let u=0,d=t.length;u<d;u++)i[u]=e(l?c?no(ut(t[u])):ut(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if($e(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,s)}}else i=[];return i}function _e(t,e,n={},r,i){if(ht.ce||ht.parent&&qr(ht.parent)&&ht.parent.ce){const c=Object.keys(n).length>0;return e!=="default"&&(n.name=e),D(),fe(Ye,null,[te("slot",n,r&&r())],c?-2:64)}let s=t[e];s&&s._c&&(s._d=!1),D();const o=s&&vh(s(n)),a=n.key||o&&o.key,l=fe(Ye,{key:(a&&!qt(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function vh(t){return t.some(e=>es(e)?!(e.type===Kt||e.type===Ye&&!vh(e.children)):!0)?t:null}const $a=t=>t?Dh(t)?Fo(t):$a(t.parent):null,Vi=yt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$a(t.parent),$root:t=>$a(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>bh(t),$forceUpdate:t=>t.f||(t.f=()=>{Ol(t.update)}),$nextTick:t=>t.n||(t.n=Ge.bind(t.proxy)),$watch:t=>yg.bind(t)}),oa=(t,e)=>t!==Ve&&!t.__isScriptSetup&&Fe(t,e),X0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(oa(r,e))return o[e]=1,r[e];if(i!==Ve&&Fe(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Fe(c,e))return o[e]=3,s[e];if(n!==Ve&&Fe(n,e))return o[e]=4,n[e];Ha&&(o[e]=0)}}const u=Vi[e];let d,h;if(u)return e==="$attrs"&&gt(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Ve&&Fe(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Fe(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return oa(i,e)?(i[e]=n,!0):r!==Ve&&Fe(r,e)?(r[e]=n,!0):Fe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s,type:o}},a){let l,c;return!!(n[a]||t!==Ve&&a[0]!=="$"&&Fe(t,a)||oa(e,a)||(l=s[0])&&Fe(l,a)||Fe(r,a)||Fe(Vi,a)||Fe(i.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Fe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Va(t){return we(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function q0(t,e){const n=Va(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?we(i)||Se(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}let Ha=!0;function K0(t){const e=bh(t),n=t.proxy,r=t.ctx;Ha=!1,e.beforeCreate&&Mc(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:g,deactivated:v,beforeDestroy:m,beforeUnmount:y,destroyed:b,unmounted:w,render:P,renderTracked:k,renderTriggered:O,errorCaptured:A,serverPrefetch:R,expose:N,inheritAttrs:Z,components:j,directives:re,filters:$}=e;if(c&&J0(c,r,null),o)for(const T in o){const E=o[T];Se(E)&&(r[T]=E.bind(n))}if(i){const T=i.call(n,n);$e(T)&&(t.data=Ar(T))}if(Ha=!0,s)for(const T in s){const E=s[T],M=Se(E)?E.bind(n,n):Se(E.get)?E.get.bind(n,n):dn,K=!Se(E)&&Se(E.set)?E.set.bind(n):dn,ie=U({get:M,set:K});Object.defineProperty(r,T,{enumerable:!0,configurable:!0,get:()=>ie.value,set:pe=>ie.value=pe})}if(a)for(const T in a)yh(a[T],r,n,T);if(l){const T=Se(l)?l.call(n):l;Reflect.ownKeys(T).forEach(E=>{Kr(E,T[E])})}u&&Mc(u,t,"c");function F(T,E){we(E)?E.forEach(M=>T(M.bind(n))):E&&T(E.bind(n))}if(F(V0,d),F(Qe,h),F(H0,f),F(W0,p),F(B0,g),F(G0,v),F(Y0,A),F(U0,k),F(j0,O),F(fh,y),F(zt,w),F(z0,R),we(N))if(N.length){const T=t.exposed||(t.exposed={});N.forEach(E=>{Object.defineProperty(T,E,{get:()=>n[E],set:M=>n[E]=M,enumerable:!0})})}else t.exposed||(t.exposed={});P&&t.render===dn&&(t.render=P),Z!=null&&(t.inheritAttrs=Z),j&&(t.components=j),re&&(t.directives=re),R&&uh(t)}function J0(t,e,n=dn){we(t)&&(t=Wa(t));for(const r in t){const i=t[r];let s;$e(i)?"default"in i?s=Tt(i.from||r,i.default,!0):s=Tt(i.from||r):s=Tt(i),Ke(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Mc(t,e,n){fn(we(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function yh(t,e,n,r){let i=r.includes(".")?Rh(n,r):()=>n[r];if(Je(t)){const s=e[t];Se(s)&&Ae(i,s)}else if(Se(t))Ae(i,t.bind(n));else if($e(t))if(we(t))t.forEach(s=>yh(s,e,n,r));else{const s=Se(t.handler)?t.handler.bind(n):e[t.handler];Se(s)&&Ae(i,s,t)}}function bh(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>co(l,c,o,!0)),co(l,e,o)),$e(e)&&s.set(e,l),l}function co(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&co(t,s,n,!0),i&&i.forEach(o=>co(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Q0[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Q0={data:Ic,props:Lc,emits:Lc,methods:Ti,computed:Ti,beforeCreate:wt,created:wt,beforeMount:wt,mounted:wt,beforeUpdate:wt,updated:wt,beforeDestroy:wt,beforeUnmount:wt,destroyed:wt,unmounted:wt,activated:wt,deactivated:wt,errorCaptured:wt,serverPrefetch:wt,components:Ti,directives:Ti,watch:eg,provide:Ic,inject:Z0};function Ic(t,e){return e?t?function(){return yt(Se(t)?t.call(this,this):t,Se(e)?e.call(this,this):e)}:e:t}function Z0(t,e){return Ti(Wa(t),Wa(e))}function Wa(t){if(we(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function wt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ti(t,e){return t?yt(Object.create(null),t,e):e}function Lc(t,e){return t?we(t)&&we(e)?[...new Set([...t,...e])]:yt(Object.create(null),Va(t),Va(e??{})):e}function eg(t,e){if(!t)return e;if(!e)return t;const n=yt(Object.create(null),t);for(const r in e)n[r]=wt(t[r],e[r]);return n}function wh(){return{app:null,config:{isNativeTag:Ad,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tg=0;function ng(t,e){return function(r,i=null){Se(r)||(r=yt({},r)),i!=null&&!$e(i)&&(i=null);const s=wh(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:tg++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Gg,get config(){return s.config},set config(u){},use(u,...d){return o.has(u)||(u&&Se(u.install)?(o.add(u),u.install(c,...d)):Se(u)&&(o.add(u),u(c,...d))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,d){return d?(s.components[u]=d,c):s.components[u]},directive(u,d){return d?(s.directives[u]=d,c):s.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||te(r,i);return f.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,Fo(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(fn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return s.provides[u]=d,c},runWithContext(u){const d=xr;xr=c;try{return u()}finally{xr=d}}};return c}}let xr=null;function Kr(t,e){if(mt){let n=mt.provides;const r=mt.parent&&mt.parent.provides;r===n&&(n=mt.provides=Object.create(r)),n[t]=e}}function Tt(t,e,n=!1){const r=At();if(r||xr){let i=xr?xr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Se(e)?e.call(r&&r.proxy):e}}function rg(){return!!(At()||xr)}const _h={},xh=()=>Object.create(_h),Sh=t=>Object.getPrototypeOf(t)===_h;function ig(t,e,n,r=!1){const i={},s=xh();t.propsDefaults=Object.create(null),Ch(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:Jd(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function sg(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Ie(i),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Lo(t.emitsOptions,h))continue;const f=e[h];if(l)if(Fe(s,h))f!==s[h]&&(s[h]=f,c=!0);else{const p=Rt(h);i[p]=za(l,a,p,f,t,!1)}else f!==s[h]&&(s[h]=f,c=!0)}}}else{Ch(t,e,i,s)&&(c=!0);let u;for(const d in a)(!e||!Fe(e,d)&&((u=ir(d))===d||!Fe(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=za(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!Fe(e,d))&&(delete s[d],c=!0)}c&&An(t.attrs,"set","")}function Ch(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ni(l))continue;const c=e[l];let u;i&&Fe(i,u=Rt(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:Lo(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=Ie(n),c=a||Ve;for(let u=0;u<s.length;u++){const d=s[u];n[d]=za(i,l,d,c[d],t,!Fe(c,d))}}return o}function za(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Fe(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Se(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=ds(i);r=c[n]=l.call(null,e),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===ir(n))&&(r=!0))}return r}const og=new WeakMap;function Eh(t,e,n=!1){const r=n?og:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Se(t)){const u=d=>{l=!0;const[h,f]=Eh(d,e,!0);yt(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return $e(t)&&r.set(t,Ur),Ur;if(we(s))for(let u=0;u<s.length;u++){const d=Rt(s[u]);Dc(d)&&(o[d]=Ve)}else if(s)for(const u in s){const d=Rt(u);if(Dc(d)){const h=s[u],f=o[d]=we(h)||Se(h)?{type:h}:yt({},h),p=f.type;let g=!1,v=!0;if(we(p))for(let m=0;m<p.length;++m){const y=p[m],b=Se(y)&&y.name;if(b==="Boolean"){g=!0;break}else b==="String"&&(v=!1)}else g=Se(p)&&p.name==="Boolean";f[0]=g,f[1]=v,(g||Fe(f,"default"))&&a.push(d)}}const c=[o,a];return $e(t)&&r.set(t,c),c}function Dc(t){return t[0]!=="$"&&!Ni(t)}const Il=t=>t==="_"||t==="_ctx"||t==="$stable",Ll=t=>we(t)?t.map(cn):[cn(t)],ag=(t,e,n)=>{if(e._n)return e;const r=oe((...i)=>Ll(e(...i)),n);return r._c=!1,r},Ah=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Il(i))continue;const s=t[i];if(Se(s))e[i]=ag(i,s,r);else if(s!=null){const o=Ll(s);e[i]=()=>o}}},Ph=(t,e)=>{const n=Ll(e);t.slots.default=()=>n},kh=(t,e,n)=>{for(const r in e)(n||!Il(r))&&(t[r]=e[r])},lg=(t,e,n)=>{const r=t.slots=xh();if(t.vnode.shapeFlag&32){const i=e._;i?(kh(r,e,n),n&&Rd(r,"_",i,!0)):Ah(e,r)}else e&&Ph(t,e)},cg=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Ve;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:kh(i,e,n):(s=!e.$stable,Ah(e,i)),o=e}else e&&(Ph(t,e),o={default:1});if(s)for(const a in i)!Il(a)&&o[a]==null&&delete i[a]},_t=Ag;function ug(t){return dg(t)}function dg(t,e){const n=Co();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=dn,insertStaticContent:p}=t,g=(x,C,L,W=null,Y=null,H=null,ue=void 0,le=null,se=!!C.dynamicChildren)=>{if(x===C)return;x&&!bi(x,C)&&(W=B(x),pe(x,Y,H,!0),x=null),C.patchFlag===-2&&(se=!1,C.dynamicChildren=null);const{type:q,ref:xe,shapeFlag:he}=C;switch(q){case Do:v(x,C,L,W);break;case Kt:m(x,C,L,W);break;case qs:x==null&&y(C,L,W,ue);break;case Ye:j(x,C,L,W,Y,H,ue,le,se);break;default:he&1?P(x,C,L,W,Y,H,ue,le,se):he&6?re(x,C,L,W,Y,H,ue,le,se):(he&64||he&128)&&q.process(x,C,L,W,Y,H,ue,le,se,ve)}xe!=null&&Y?$i(xe,x&&x.ref,H,C||x,!C):xe==null&&x&&x.ref!=null&&$i(x.ref,null,H,x,!0)},v=(x,C,L,W)=>{if(x==null)r(C.el=a(C.children),L,W);else{const Y=C.el=x.el;C.children!==x.children&&c(Y,C.children)}},m=(x,C,L,W)=>{x==null?r(C.el=l(C.children||""),L,W):C.el=x.el},y=(x,C,L,W)=>{[x.el,x.anchor]=p(x.children,C,L,W,x.el,x.anchor)},b=({el:x,anchor:C},L,W)=>{let Y;for(;x&&x!==C;)Y=h(x),r(x,L,W),x=Y;r(C,L,W)},w=({el:x,anchor:C})=>{let L;for(;x&&x!==C;)L=h(x),i(x),x=L;i(C)},P=(x,C,L,W,Y,H,ue,le,se)=>{if(C.type==="svg"?ue="svg":C.type==="math"&&(ue="mathml"),x==null)k(C,L,W,Y,H,ue,le,se);else{const q=x.el&&x.el._isVueCE?x.el:null;try{q&&q._beginPatch(),R(x,C,Y,H,ue,le,se)}finally{q&&q._endPatch()}}},k=(x,C,L,W,Y,H,ue,le)=>{let se,q;const{props:xe,shapeFlag:he,transition:be,dirs:Ce}=x;if(se=x.el=o(x.type,H,xe&&xe.is,xe),he&8?u(se,x.children):he&16&&A(x.children,se,null,W,Y,aa(x,H),ue,le),Ce&&dr(x,null,W,"created"),O(se,x,x.scopeId,ue,W),xe){for(const We in xe)We!=="value"&&!Ni(We)&&s(se,We,null,xe[We],H,W);"value"in xe&&s(se,"value",null,xe.value,H),(q=xe.onVnodeBeforeMount)&&an(q,W,x)}Ce&&dr(x,null,W,"beforeMount");const Me=hg(Y,be);Me&&be.beforeEnter(se),r(se,C,L),((q=xe&&xe.onVnodeMounted)||Me||Ce)&&_t(()=>{q&&an(q,W,x),Me&&be.enter(se),Ce&&dr(x,null,W,"mounted")},Y)},O=(x,C,L,W,Y)=>{if(L&&f(x,L),W)for(let H=0;H<W.length;H++)f(x,W[H]);if(Y){let H=Y.subTree;if(C===H||Mh(H.type)&&(H.ssContent===C||H.ssFallback===C)){const ue=Y.vnode;O(x,ue,ue.scopeId,ue.slotScopeIds,Y.parent)}}},A=(x,C,L,W,Y,H,ue,le,se=0)=>{for(let q=se;q<x.length;q++){const xe=x[q]=le?Yn(x[q]):cn(x[q]);g(null,xe,C,L,W,Y,H,ue,le)}},R=(x,C,L,W,Y,H,ue)=>{const le=C.el=x.el;let{patchFlag:se,dynamicChildren:q,dirs:xe}=C;se|=x.patchFlag&16;const he=x.props||Ve,be=C.props||Ve;let Ce;if(L&&hr(L,!1),(Ce=be.onVnodeBeforeUpdate)&&an(Ce,L,C,x),xe&&dr(C,x,L,"beforeUpdate"),L&&hr(L,!0),(he.innerHTML&&be.innerHTML==null||he.textContent&&be.textContent==null)&&u(le,""),q?N(x.dynamicChildren,q,le,L,W,aa(C,Y),H):ue||E(x,C,le,null,L,W,aa(C,Y),H,!1),se>0){if(se&16)Z(le,he,be,L,Y);else if(se&2&&he.class!==be.class&&s(le,"class",null,be.class,Y),se&4&&s(le,"style",he.style,be.style,Y),se&8){const Me=C.dynamicProps;for(let We=0;We<Me.length;We++){const Be=Me[We],Pt=he[Be],kt=be[Be];(kt!==Pt||Be==="value")&&s(le,Be,Pt,kt,Y,L)}}se&1&&x.children!==C.children&&u(le,C.children)}else!ue&&q==null&&Z(le,he,be,L,Y);((Ce=be.onVnodeUpdated)||xe)&&_t(()=>{Ce&&an(Ce,L,C,x),xe&&dr(C,x,L,"updated")},W)},N=(x,C,L,W,Y,H,ue)=>{for(let le=0;le<C.length;le++){const se=x[le],q=C[le],xe=se.el&&(se.type===Ye||!bi(se,q)||se.shapeFlag&198)?d(se.el):L;g(se,q,xe,null,W,Y,H,ue,!0)}},Z=(x,C,L,W,Y)=>{if(C!==L){if(C!==Ve)for(const H in C)!Ni(H)&&!(H in L)&&s(x,H,C[H],null,Y,W);for(const H in L){if(Ni(H))continue;const ue=L[H],le=C[H];ue!==le&&H!=="value"&&s(x,H,le,ue,Y,W)}"value"in L&&s(x,"value",C.value,L.value,Y)}},j=(x,C,L,W,Y,H,ue,le,se)=>{const q=C.el=x?x.el:a(""),xe=C.anchor=x?x.anchor:a("");let{patchFlag:he,dynamicChildren:be,slotScopeIds:Ce}=C;Ce&&(le=le?le.concat(Ce):Ce),x==null?(r(q,L,W),r(xe,L,W),A(C.children||[],L,xe,Y,H,ue,le,se)):he>0&&he&64&&be&&x.dynamicChildren?(N(x.dynamicChildren,be,L,Y,H,ue,le),(C.key!=null||Y&&C===Y.subTree)&&Dl(x,C,!0)):E(x,C,L,xe,Y,H,ue,le,se)},re=(x,C,L,W,Y,H,ue,le,se)=>{C.slotScopeIds=le,x==null?C.shapeFlag&512?Y.ctx.activate(C,L,W,ue,se):$(C,L,W,Y,H,ue,se):V(x,C,se)},$=(x,C,L,W,Y,H,ue)=>{const le=x.component=Mg(x,W,Y);if(dh(x)&&(le.ctx.renderer=ve),Ig(le,!1,ue),le.asyncDep){if(Y&&Y.registerDep(le,F,ue),!x.el){const se=le.subTree=te(Kt);m(null,se,C,L),x.placeholder=se.el}}else F(le,x,C,L,Y,H,ue)},V=(x,C,L)=>{const W=C.component=x.component;if(Cg(x,C,L))if(W.asyncDep&&!W.asyncResolved){T(W,C,L);return}else W.next=C,W.update();else C.el=x.el,W.vnode=C},F=(x,C,L,W,Y,H,ue)=>{const le=()=>{if(x.isMounted){let{next:he,bu:be,u:Ce,parent:Me,vnode:We}=x;{const sn=Th(x);if(sn){he&&(he.el=We.el,T(x,he,ue)),sn.asyncDep.then(()=>{x.isUnmounted||le()});return}}let Be=he,Pt;hr(x,!1),he?(he.el=We.el,T(x,he,ue)):he=We,be&&Ys(be),(Pt=he.props&&he.props.onVnodeBeforeUpdate)&&an(Pt,Me,he,We),hr(x,!0);const kt=Fc(x),rn=x.subTree;x.subTree=kt,g(rn,kt,d(rn.el),B(rn),x,Y,H),he.el=kt.el,Be===null&&Eg(x,kt.el),Ce&&_t(Ce,Y),(Pt=he.props&&he.props.onVnodeUpdated)&&_t(()=>an(Pt,Me,he,We),Y)}else{let he;const{el:be,props:Ce}=C,{bm:Me,m:We,parent:Be,root:Pt,type:kt}=x,rn=qr(C);hr(x,!1),Me&&Ys(Me),!rn&&(he=Ce&&Ce.onVnodeBeforeMount)&&an(he,Be,C),hr(x,!0);{Pt.ce&&Pt.ce._def.shadowRoot!==!1&&Pt.ce._injectChildStyle(kt);const sn=x.subTree=Fc(x);g(null,sn,L,W,x,Y,H),C.el=sn.el}if(We&&_t(We,Y),!rn&&(he=Ce&&Ce.onVnodeMounted)){const sn=C;_t(()=>an(he,Be,sn),Y)}(C.shapeFlag&256||Be&&qr(Be.vnode)&&Be.vnode.shapeFlag&256)&&x.a&&_t(x.a,Y),x.isMounted=!0,C=L=W=null}};x.scope.on();const se=x.effect=new Dd(le);x.scope.off();const q=x.update=se.run.bind(se),xe=x.job=se.runIfDirty.bind(se);xe.i=x,xe.id=x.uid,se.scheduler=()=>Ol(xe),hr(x,!0),q()},T=(x,C,L)=>{C.component=x;const W=x.vnode.props;x.vnode=C,x.next=null,sg(x,C.props,W,L),cg(x,C.children,L),Tn(),Ec(x),Rn()},E=(x,C,L,W,Y,H,ue,le,se=!1)=>{const q=x&&x.children,xe=x?x.shapeFlag:0,he=C.children,{patchFlag:be,shapeFlag:Ce}=C;if(be>0){if(be&128){K(q,he,L,W,Y,H,ue,le,se);return}else if(be&256){M(q,he,L,W,Y,H,ue,le,se);return}}Ce&8?(xe&16&&qe(q,Y,H),he!==q&&u(L,he)):xe&16?Ce&16?K(q,he,L,W,Y,H,ue,le,se):qe(q,Y,H,!0):(xe&8&&u(L,""),Ce&16&&A(he,L,W,Y,H,ue,le,se))},M=(x,C,L,W,Y,H,ue,le,se)=>{x=x||Ur,C=C||Ur;const q=x.length,xe=C.length,he=Math.min(q,xe);let be;for(be=0;be<he;be++){const Ce=C[be]=se?Yn(C[be]):cn(C[be]);g(x[be],Ce,L,null,Y,H,ue,le,se)}q>xe?qe(x,Y,H,!0,!1,he):A(C,L,W,Y,H,ue,le,se,he)},K=(x,C,L,W,Y,H,ue,le,se)=>{let q=0;const xe=C.length;let he=x.length-1,be=xe-1;for(;q<=he&&q<=be;){const Ce=x[q],Me=C[q]=se?Yn(C[q]):cn(C[q]);if(bi(Ce,Me))g(Ce,Me,L,null,Y,H,ue,le,se);else break;q++}for(;q<=he&&q<=be;){const Ce=x[he],Me=C[be]=se?Yn(C[be]):cn(C[be]);if(bi(Ce,Me))g(Ce,Me,L,null,Y,H,ue,le,se);else break;he--,be--}if(q>he){if(q<=be){const Ce=be+1,Me=Ce<xe?C[Ce].el:W;for(;q<=be;)g(null,C[q]=se?Yn(C[q]):cn(C[q]),L,Me,Y,H,ue,le,se),q++}}else if(q>be)for(;q<=he;)pe(x[q],Y,H,!0),q++;else{const Ce=q,Me=q,We=new Map;for(q=Me;q<=be;q++){const Ot=C[q]=se?Yn(C[q]):cn(C[q]);Ot.key!=null&&We.set(Ot.key,q)}let Be,Pt=0;const kt=be-Me+1;let rn=!1,sn=0;const vi=new Array(kt);for(q=0;q<kt;q++)vi[q]=0;for(q=Ce;q<=he;q++){const Ot=x[q];if(Pt>=kt){pe(Ot,Y,H,!0);continue}let on;if(Ot.key!=null)on=We.get(Ot.key);else for(Be=Me;Be<=be;Be++)if(vi[Be-Me]===0&&bi(Ot,C[Be])){on=Be;break}on===void 0?pe(Ot,Y,H,!0):(vi[on-Me]=q+1,on>=sn?sn=on:rn=!0,g(Ot,C[on],L,null,Y,H,ue,le,se),Pt++)}const yc=rn?fg(vi):Ur;for(Be=yc.length-1,q=kt-1;q>=0;q--){const Ot=Me+q,on=C[Ot],bc=C[Ot+1],wc=Ot+1<xe?bc.el||bc.placeholder:W;vi[q]===0?g(null,on,L,wc,Y,H,ue,le,se):rn&&(Be<0||q!==yc[Be]?ie(on,L,wc,2):Be--)}}},ie=(x,C,L,W,Y=null)=>{const{el:H,type:ue,transition:le,children:se,shapeFlag:q}=x;if(q&6){ie(x.component.subTree,C,L,W);return}if(q&128){x.suspense.move(C,L,W);return}if(q&64){ue.move(x,C,L,ve);return}if(ue===Ye){r(H,C,L);for(let he=0;he<se.length;he++)ie(se[he],C,L,W);r(x.anchor,C,L);return}if(ue===qs){b(x,C,L);return}if(W!==2&&q&1&&le)if(W===0)le.beforeEnter(H),r(H,C,L),_t(()=>le.enter(H),Y);else{const{leave:he,delayLeave:be,afterLeave:Ce}=le,Me=()=>{x.ctx.isUnmounted?i(H):r(H,C,L)},We=()=>{H._isLeaving&&H[F0](!0),he(H,()=>{Me(),Ce&&Ce()})};be?be(H,Me,We):We()}else r(H,C,L)},pe=(x,C,L,W=!1,Y=!1)=>{const{type:H,props:ue,ref:le,children:se,dynamicChildren:q,shapeFlag:xe,patchFlag:he,dirs:be,cacheIndex:Ce}=x;if(he===-2&&(Y=!1),le!=null&&(Tn(),$i(le,null,L,x,!0),Rn()),Ce!=null&&(C.renderCache[Ce]=void 0),xe&256){C.ctx.deactivate(x);return}const Me=xe&1&&be,We=!qr(x);let Be;if(We&&(Be=ue&&ue.onVnodeBeforeUnmount)&&an(Be,C,x),xe&6)Ee(x.component,L,W);else{if(xe&128){x.suspense.unmount(L,W);return}Me&&dr(x,null,C,"beforeUnmount"),xe&64?x.type.remove(x,C,L,ve,W):q&&!q.hasOnce&&(H!==Ye||he>0&&he&64)?qe(q,C,L,!1,!0):(H===Ye&&he&384||!Y&&xe&16)&&qe(se,C,L),W&&ye(x)}(We&&(Be=ue&&ue.onVnodeUnmounted)||Me)&&_t(()=>{Be&&an(Be,C,x),Me&&dr(x,null,C,"unmounted")},L)},ye=x=>{const{type:C,el:L,anchor:W,transition:Y}=x;if(C===Ye){Re(L,W);return}if(C===qs){w(x);return}const H=()=>{i(L),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(x.shapeFlag&1&&Y&&!Y.persisted){const{leave:ue,delayLeave:le}=Y,se=()=>ue(L,H);le?le(x.el,H,se):se()}else H()},Re=(x,C)=>{let L;for(;x!==C;)L=h(x),i(x),x=L;i(C)},Ee=(x,C,L)=>{const{bum:W,scope:Y,job:H,subTree:ue,um:le,m:se,a:q}=x;Nc(se),Nc(q),W&&Ys(W),Y.stop(),H&&(H.flags|=8,pe(ue,x,C,L)),le&&_t(le,C),_t(()=>{x.isUnmounted=!0},C)},qe=(x,C,L,W=!1,Y=!1,H=0)=>{for(let ue=H;ue<x.length;ue++)pe(x[ue],C,L,W,Y)},B=x=>{if(x.shapeFlag&6)return B(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const C=h(x.anchor||x.el),L=C&&C[ah];return L?h(L):C};let de=!1;const ce=(x,C,L)=>{x==null?C._vnode&&pe(C._vnode,null,null,!0):g(C._vnode||null,x,C,null,null,null,L),C._vnode=x,de||(de=!0,Ec(),ih(),de=!1)},ve={p:g,um:pe,m:ie,r:ye,mt:$,mc:A,pc:E,pbc:N,n:B,o:t};return{render:ce,hydrate:void 0,createApp:ng(ce)}}function aa({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function hr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function hg(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Dl(t,e,n=!1){const r=t.children,i=e.children;if(we(r)&&we(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Yn(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Dl(o,a)),a.type===Do&&a.patchFlag!==-1&&(a.el=o.el),a.type===Kt&&!a.el&&(a.el=o.el)}}function fg(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Th(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Th(e)}function Nc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const pg=Symbol.for("v-scx"),gg=()=>Tt(pg);function Bt(t,e){return us(t,null,e)}function mg(t,e){return us(t,null,{flush:"post"})}function vg(t,e){return us(t,null,{flush:"sync"})}function Ae(t,e,n){return us(t,e,n)}function us(t,e,n=Ve){const{immediate:r,deep:i,flush:s,once:o}=n,a=yt({},n),l=e&&r||!e&&s!=="post";let c;if(ts){if(s==="sync"){const f=gg();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=dn,f.resume=dn,f.pause=dn,f}}const u=mt;a.call=(f,p,g)=>fn(f,u,p,g);let d=!1;s==="post"?a.scheduler=f=>{_t(f,u&&u.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(f,p)=>{p?f():Ol(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=R0(t,e,a);return ts&&(c?c.push(h):l&&h()),h}function yg(t,e,n){const r=this.proxy,i=Je(t)?t.includes(".")?Rh(r,t):()=>r[t]:t.bind(r,r);let s;Se(e)?s=e:(s=e.handler,n=e);const o=ds(this),a=us(i,s.bind(r),n);return o(),a}function Rh(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const bg=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Rt(e)}Modifiers`]||t[`${ir(e)}Modifiers`];function wg(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ve;let i=n;const s=e.startsWith("update:"),o=s&&bg(r,e.slice(7));o&&(o.trim&&(i=n.map(u=>Je(u)?u.trim():u)),o.number&&(i=n.map(So)));let a,l=r[a=Us(e)]||r[a=Us(Rt(e))];!l&&s&&(l=r[a=Us(ir(e))]),l&&fn(l,t,6,i);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,fn(c,t,6,i)}}const _g=new WeakMap;function Oh(t,e,n=!1){const r=n?_g:e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Se(t)){const l=c=>{const u=Oh(c,e,!0);u&&(a=!0,yt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?($e(t)&&r.set(t,null),null):(we(s)?s.forEach(l=>o[l]=null):yt(o,s),$e(t)&&r.set(t,o),o)}function Lo(t,e){return!t||!wo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Fe(t,e[0].toLowerCase()+e.slice(1))||Fe(t,ir(e))||Fe(t,e))}function Fc(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:p,inheritAttrs:g}=t,v=so(t);let m,y;try{if(n.shapeFlag&4){const w=i||r,P=w;m=cn(c.call(P,w,u,d,f,h,p)),y=a}else{const w=e;m=cn(w.length>1?w(d,{attrs:a,slots:o,emit:l}):w(d,null)),y=e.props?a:xg(a)}}catch(w){Hi.length=0,Mo(w,t,1),m=te(Kt)}let b=m;if(y&&g!==!1){const w=Object.keys(y),{shapeFlag:P}=b;w.length&&P&7&&(s&&w.some(Sl)&&(y=Sg(y,s)),b=er(b,y,!1,!0))}return n.dirs&&(b=er(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Ml(b,n.transition),m=b,so(v),m}const xg=t=>{let e;for(const n in t)(n==="class"||n==="style"||wo(n))&&((e||(e={}))[n]=t[n]);return e},Sg=(t,e)=>{const n={};for(const r in t)(!Sl(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Cg(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Bc(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==r[h]&&!Lo(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Bc(r,o,c):!0:!!o;return!1}function Bc(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Lo(n,s))return!0}return!1}function Eg({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Mh=t=>t.__isSuspense;function Ag(t,e){e&&e.pendingBranch?we(t)?e.effects.push(...t):e.effects.push(t):I0(t)}const Ye=Symbol.for("v-fgt"),Do=Symbol.for("v-txt"),Kt=Symbol.for("v-cmt"),qs=Symbol.for("v-stc"),Hi=[];let Dt=null;function D(t=!1){Hi.push(Dt=t?null:[])}function Pg(){Hi.pop(),Dt=Hi[Hi.length-1]||null}let Zi=1;function uo(t,e=!1){Zi+=t,t<0&&Dt&&e&&(Dt.hasOnce=!0)}function Ih(t){return t.dynamicChildren=Zi>0?Dt||Ur:null,Pg(),Zi>0&&Dt&&Dt.push(t),t}function ee(t,e,n,r,i,s){return Ih(G(t,e,n,r,i,s,!0))}function fe(t,e,n,r,i){return Ih(te(t,e,n,r,i,!0))}function es(t){return t?t.__v_isVNode===!0:!1}function bi(t,e){return t.type===e.type&&t.key===e.key}const Lh=({key:t})=>t??null,Ks=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Je(t)||Ke(t)||Se(t)?{i:ht,r:t,k:e,f:!!n}:t:null);function G(t,e=null,n=null,r=0,i=null,s=t===Ye?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Lh(e),ref:e&&Ks(e),scopeId:oh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ht};return a?(Nl(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Je(n)?8:16),Zi>0&&!o&&Dt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Dt.push(l),l}const te=kg;function kg(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===gh)&&(t=Kt),es(t)){const a=er(t,e,!0);return n&&Nl(a,n),Zi>0&&!s&&Dt&&(a.shapeFlag&6?Dt[Dt.indexOf(t)]=a:Dt.push(a)),a.patchFlag=-2,a}if(Bg(t)&&(t=t.__vccOpts),e){e=No(e);let{class:a,style:l}=e;a&&!Je(a)&&(e.class=vt(a)),$e(l)&&(Rl(l)&&!we(l)&&(l=yt({},l)),e.style=en(l))}const o=Je(t)?1:Mh(t)?128:L0(t)?64:$e(t)?4:Se(t)?2:0;return G(t,e,n,r,i,o,s,!0)}function No(t){return t?Rl(t)||Sh(t)?yt({},t):t:null}function er(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?Te(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Lh(c),ref:e&&e.ref?n&&s?we(s)?s.concat(Ks(e)):[s,Ks(e)]:Ks(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ye?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&er(t.ssContent),ssFallback:t.ssFallback&&er(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Ml(u,l.clone(u)),u}function st(t=" ",e=0){return te(Do,null,t,e)}function Tg(t,e){const n=te(qs,null,t);return n.staticCount=e,n}function Le(t="",e=!1){return e?(D(),fe(Kt,null,t)):te(Kt,null,t)}function cn(t){return t==null||typeof t=="boolean"?te(Kt):we(t)?te(Ye,null,t.slice()):es(t)?Yn(t):te(Do,null,String(t))}function Yn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:er(t)}function Nl(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(we(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Nl(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Sh(e)?e._ctx=ht:i===3&&ht&&(ht.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Se(e)?(e={default:e,_ctx:ht},n=32):(e=String(e),r&64?(n=16,e=[st(e)]):n=8);t.children=e,t.shapeFlag|=n}function Te(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=vt([e.class,r.class]));else if(i==="style")e.style=en([e.style,r.style]);else if(wo(i)){const s=e[i],o=r[i];o&&s!==o&&!(we(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function an(t,e,n,r=null){fn(t,e,7,[n,r])}const Rg=wh();let Og=0;function Mg(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Rg,s={uid:Og++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ld(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Eh(r,i),emitsOptions:Oh(r,i),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:r.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=wg.bind(null,s),t.ce&&t.ce(s),s}let mt=null;const At=()=>mt||ht;let ho,ja;{const t=Co(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};ho=e("__VUE_INSTANCE_SETTERS__",n=>mt=n),ja=e("__VUE_SSR_SETTERS__",n=>ts=n)}const ds=t=>{const e=mt;return ho(t),t.scope.on(),()=>{t.scope.off(),ho(e)}},Gc=()=>{mt&&mt.scope.off(),ho(null)};function Dh(t){return t.vnode.shapeFlag&4}let ts=!1;function Ig(t,e=!1,n=!1){e&&ja(e);const{props:r,children:i}=t.vnode,s=Dh(t);ig(t,r,s,e),lg(t,i,n||e);const o=s?Lg(t,e):void 0;return e&&ja(!1),o}function Lg(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,X0);const{setup:r}=n;if(r){Tn();const i=t.setupContext=r.length>1?Ng(t):null,s=ds(t),o=cs(r,t,0,[t.props,i]),a=Pd(o);if(Rn(),s(),(a||t.sp)&&!qr(t)&&uh(t),a){if(o.then(Gc,Gc),e)return o.then(l=>{$c(t,l)}).catch(l=>{Mo(l,t,0)});t.asyncDep=o}else $c(t,o)}else Nh(t)}function $c(t,e,n){Se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:$e(e)&&(t.setupState=Zd(e)),Nh(t)}function Nh(t,e,n){const r=t.type;t.render||(t.render=r.render||dn);{const i=ds(t);Tn();try{K0(t)}finally{Rn(),i()}}}const Dg={get(t,e){return gt(t,"get",""),t[e]}};function Ng(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Dg),slots:t.slots,emit:t.emit,expose:e}}function Fo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Zd(Oo(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Vi)return Vi[n](t)},has(e,n){return n in e||n in Vi}})):t.proxy}function Fg(t,e=!0){return Se(t)?t.displayName||t.name:t.name||e&&t.__name}function Bg(t){return Se(t)&&"__vccOpts"in t}const U=(t,e)=>k0(t,e,ts);function Et(t,e,n){try{uo(-1);const r=arguments.length;return r===2?$e(e)&&!we(e)?es(e)?te(t,null,[e]):te(t,e):te(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&es(n)&&(n=[n]),te(t,e,n))}finally{uo(1)}}const Gg="3.5.24";let Ua;const Vc=typeof window<"u"&&window.trustedTypes;if(Vc)try{Ua=Vc.createPolicy("vue",{createHTML:t=>t})}catch{}const Fh=Ua?t=>Ua.createHTML(t):t=>t,$g="http://www.w3.org/2000/svg",Vg="http://www.w3.org/1998/Math/MathML",En=typeof document<"u"?document:null,Hc=En&&En.createElement("template"),Hg={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?En.createElementNS($g,t):e==="mathml"?En.createElementNS(Vg,t):n?En.createElement(t,{is:n}):En.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>En.createTextNode(t),createComment:t=>En.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>En.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Hc.innerHTML=Fh(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Hc.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Wg=Symbol("_vtc");function zg(t,e,n){const r=t[Wg];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const fo=Symbol("_vod"),Bh=Symbol("_vsh"),Wi={name:"show",beforeMount(t,{value:e},{transition:n}){t[fo]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):wi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),wi(t,!0),r.enter(t)):r.leave(t,()=>{wi(t,!1)}):wi(t,e))},beforeUnmount(t,{value:e}){wi(t,e)}};function wi(t,e){t.style.display=e?t[fo]:"none",t[Bh]=!e}const jg=Symbol(""),Ug=/(?:^|;)\s*display\s*:/;function Yg(t,e,n){const r=t.style,i=Je(n);let s=!1;if(n&&!i){if(e)if(Je(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Js(r,a,"")}else for(const o in e)n[o]==null&&Js(r,o,"");for(const o in n)o==="display"&&(s=!0),Js(r,o,n[o])}else if(i){if(e!==n){const o=r[jg];o&&(n+=";"+o),r.cssText=n,s=Ug.test(n)}}else e&&t.removeAttribute("style");fo in t&&(t[fo]=s?r.display:"",t[Bh]&&(r.display="none"))}const Wc=/\s*!important$/;function Js(t,e,n){if(we(n))n.forEach(r=>Js(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Xg(t,e);Wc.test(n)?t.setProperty(ir(r),n.replace(Wc,""),"important"):t[r]=n}}const zc=["Webkit","Moz","ms"],la={};function Xg(t,e){const n=la[e];if(n)return n;let r=Rt(e);if(r!=="filter"&&r in t)return la[e]=r;r=xo(r);for(let i=0;i<zc.length;i++){const s=zc[i]+r;if(s in t)return la[e]=s}return e}const jc="http://www.w3.org/1999/xlink";function Uc(t,e,n,r,i,s=e0(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(jc,e.slice(6,e.length)):t.setAttributeNS(jc,e,n):n==null||s&&!Od(n)?t.removeAttribute(e):t.setAttribute(e,s?"":qt(n)?String(n):n)}function Yc(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Fh(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Od(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function kn(t,e,n,r){t.addEventListener(e,n,r)}function qg(t,e,n,r){t.removeEventListener(e,n,r)}const Xc=Symbol("_vei");function Kg(t,e,n,r,i=null){const s=t[Xc]||(t[Xc]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=Jg(e);if(r){const c=s[e]=em(r,i);kn(t,a,c,l)}else o&&(qg(t,a,o,l),s[e]=void 0)}}const qc=/(?:Once|Passive|Capture)$/;function Jg(t){let e;if(qc.test(t)){e={};let r;for(;r=t.match(qc);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ir(t.slice(2)),e]}let ca=0;const Qg=Promise.resolve(),Zg=()=>ca||(Qg.then(()=>ca=0),ca=Date.now());function em(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;fn(tm(r,n.value),e,5,[r])};return n.value=t,n.attached=Zg(),n}function tm(t,e){if(we(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Kc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,nm=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?zg(t,r,o):e==="style"?Yg(t,n,r):wo(e)?Sl(e)||Kg(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):rm(t,e,r,o))?(Yc(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Uc(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Je(r))?Yc(t,Rt(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Uc(t,e,r,o))};function rm(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Kc(e)&&Se(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Kc(e)&&Je(n)?!1:e in t}const tr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return we(e)?n=>Ys(e,n):e};function im(t){t.target.composing=!0}function Jc(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Wt=Symbol("_assign");function Qc(t,e,n){return e&&(t=t.trim()),n&&(t=So(t)),t}const ei={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Wt]=tr(i);const s=r||i.props&&i.props.type==="number";kn(t,e?"change":"input",o=>{o.target.composing||t[Wt](Qc(t.value,n,s))}),(n||s)&&kn(t,"change",()=>{t.value=Qc(t.value,n,s)}),e||(kn(t,"compositionstart",im),kn(t,"compositionend",Jc),kn(t,"change",Jc))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[Wt]=tr(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?So(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},sm={deep:!0,created(t,e,n){t[Wt]=tr(n),kn(t,"change",()=>{const r=t._modelValue,i=ti(t),s=t.checked,o=t[Wt];if(we(r)){const a=Al(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const c=[...r];c.splice(a,1),o(c)}}else if(li(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(Gh(t,s))})},mounted:Zc,beforeUpdate(t,e,n){t[Wt]=tr(n),Zc(t,e,n)}};function Zc(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if(we(e))i=Al(e,r.props.value)>-1;else if(li(e))i=e.has(r.props.value);else{if(e===n)return;i=Sr(e,Gh(t,!0))}t.checked!==i&&(t.checked=i)}const om={created(t,{value:e},n){t.checked=Sr(e,n.props.value),t[Wt]=tr(n),kn(t,"change",()=>{t[Wt](ti(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Wt]=tr(r),e!==n&&(t.checked=Sr(e,r.props.value))}},Fl={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=li(e);kn(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?So(ti(o)):ti(o));t[Wt](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Ge(()=>{t._assigning=!1})}),t[Wt]=tr(r)},mounted(t,{value:e}){eu(t,e)},beforeUpdate(t,e,n){t[Wt]=tr(n)},updated(t,{value:e}){t._assigning||eu(t,e)}};function eu(t,e){const n=t.multiple,r=we(e);if(!(n&&!r&&!li(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=ti(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Al(e,a)>-1}else o.selected=e.has(a);else if(Sr(ti(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ti(t){return"_value"in t?t._value:t.value}function Gh(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const am={created(t,e,n){xs(t,e,n,null,"created")},mounted(t,e,n){xs(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){xs(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){xs(t,e,n,r,"updated")}};function lm(t,e){switch(t){case"SELECT":return Fl;case"TEXTAREA":return ei;default:switch(e){case"checkbox":return sm;case"radio":return om;default:return ei}}}function xs(t,e,n,r,i){const o=lm(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}const cm=["ctrl","shift","alt","meta"],um={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>cm.some(n=>t[`${n}Key`]&&!e.includes(n))},It=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((i,...s)=>{for(let o=0;o<e.length;o++){const a=um[e[o]];if(a&&a(i,e))return}return t(i,...s)}))},dm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Qs=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(i=>{if(!("key"in i))return;const s=ir(i.key);if(e.some(o=>o===s||dm[o]===s))return t(i)}))},hm=yt({patchProp:nm},Hg);let tu;function fm(){return tu||(tu=ug(hm))}const pm=((...t)=>{const e=fm().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=mm(r);if(!i)return;const s=e._component;!Se(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,gm(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function gm(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function mm(t){return Je(t)?document.querySelector(t):t}let $h;const Bo=t=>$h=t,Vh=Symbol();function Ya(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var zi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(zi||(zi={}));function vm(){const t=Ao(!0),e=t.run(()=>z({}));let n=[],r=[];const i=Oo({install(s){Bo(i),i._a=s,s.provide(Vh,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return this._a?n.push(s):r.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Hh=()=>{};function nu(t,e,n,r=Hh){t.add(e);const i=()=>{t.delete(e)&&r()};return!n&&ci()&&ls(i),i}function Dr(t,...e){t.forEach(n=>{n(...e)})}const ym=t=>t(),ru=Symbol(),ua=Symbol();function Xa(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Ya(i)&&Ya(r)&&t.hasOwnProperty(n)&&!Ke(r)&&!Qn(r)?t[n]=Xa(i,r):t[n]=r}return t}const bm=Symbol();function wm(t){return!Ya(t)||!Object.prototype.hasOwnProperty.call(t,bm)}const{assign:Hn}=Object;function _m(t){return!!(Ke(t)&&t.effect)}function xm(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=mn(n.state.value[t]);return Hn(u,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=Oo(U(()=>{Bo(n);const f=n._s.get(t);return o[h].call(f,f)})),d),{}))}return l=Wh(t,c,e,n,r,!0),l}function Wh(t,e,n={},r,i,s){let o;const a=Hn({actions:{}},n),l={deep:!0};let c,u,d=new Set,h=new Set,f;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),z({});let g;function v(A){let R;c=u=!1,typeof A=="function"?(A(r.state.value[t]),R={type:zi.patchFunction,storeId:t,events:f}):(Xa(r.state.value[t],A),R={type:zi.patchObject,payload:A,storeId:t,events:f});const N=g=Symbol();Ge().then(()=>{g===N&&(c=!0)}),u=!0,Dr(d,R,r.state.value[t])}const m=s?function(){const{state:R}=n,N=R?R():{};this.$patch(Z=>{Hn(Z,N)})}:Hh;function y(){o.stop(),d.clear(),h.clear(),r._s.delete(t)}const b=(A,R="")=>{if(ru in A)return A[ua]=R,A;const N=function(){Bo(r);const Z=Array.from(arguments),j=new Set,re=new Set;function $(T){j.add(T)}function V(T){re.add(T)}Dr(h,{args:Z,name:N[ua],store:P,after:$,onError:V});let F;try{F=A.apply(this&&this.$id===t?this:P,Z)}catch(T){throw Dr(re,T),T}return F instanceof Promise?F.then(T=>(Dr(j,T),T)).catch(T=>(Dr(re,T),Promise.reject(T))):(Dr(j,F),F)};return N[ru]=!0,N[ua]=R,N},w={_p:r,$id:t,$onAction:nu.bind(null,h),$patch:v,$reset:m,$subscribe(A,R={}){const N=nu(d,A,R.detached,()=>Z()),Z=o.run(()=>Ae(()=>r.state.value[t],j=>{(R.flush==="sync"?u:c)&&A({storeId:t,type:zi.direct,events:f},j)},Hn({},l,R)));return N},$dispose:y},P=Ar(w);r._s.set(t,P);const O=(r._a&&r._a.runWithContext||ym)(()=>r._e.run(()=>(o=Ao()).run(()=>e({action:b}))));for(const A in O){const R=O[A];if(Ke(R)&&!_m(R)||Qn(R))s||(p&&wm(R)&&(Ke(R)?R.value=p[A]:Xa(R,p[A])),r.state.value[t][A]=R);else if(typeof R=="function"){const N=b(R,A);O[A]=N,a.actions[A]=R}}return Hn(P,O),Hn(Ie(P),O),Object.defineProperty(P,"$state",{get:()=>r.state.value[t],set:A=>{v(R=>{Hn(R,A)})}}),r._p.forEach(A=>{Hn(P,o.run(()=>A({store:P,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(P.$state,p),c=!0,u=!0,P}function zh(t,e,n){let r;const i=typeof e=="function";r=i?n:e;function s(o,a){const l=rg();return o=o||(l?Tt(Vh,null):null),o&&Bo(o),o=$h,o._s.has(t)||(i?Wh(t,e,r,o):xm(t,r,o)),o._s.get(t)}return s.$id=t,s}const Wr=typeof document<"u";function jh(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Sm(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&jh(t.default)}const Ne=Object.assign;function da(t,e){const n={};for(const r in e){const i=e[r];n[r]=Jt(i)?i.map(t):t(i)}return n}const ji=()=>{},Jt=Array.isArray;function iu(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const Uh=/#/g,Cm=/&/g,Em=/\//g,Am=/=/g,Pm=/\?/g,Yh=/\+/g,km=/%5B/g,Tm=/%5D/g,Xh=/%5E/g,Rm=/%60/g,qh=/%7B/g,Om=/%7C/g,Kh=/%7D/g,Mm=/%20/g;function Bl(t){return t==null?"":encodeURI(""+t).replace(Om,"|").replace(km,"[").replace(Tm,"]")}function Im(t){return Bl(t).replace(qh,"{").replace(Kh,"}").replace(Xh,"^")}function qa(t){return Bl(t).replace(Yh,"%2B").replace(Mm,"+").replace(Uh,"%23").replace(Cm,"%26").replace(Rm,"`").replace(qh,"{").replace(Kh,"}").replace(Xh,"^")}function Lm(t){return qa(t).replace(Am,"%3D")}function Dm(t){return Bl(t).replace(Uh,"%23").replace(Pm,"%3F")}function Nm(t){return Dm(t).replace(Em,"%2F")}function ns(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Fm=/\/$/,Bm=t=>t.replace(Fm,"");function ha(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(r=e.slice(0,l),s=e.slice(l,a>0?a:e.length),i=t(s.slice(1))),a>=0&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Hm(r??e,n),{fullPath:r+s+o,path:r,query:i,hash:ns(o)}}function Gm(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function su(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function $m(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ni(e.matched[r],n.matched[i])&&Jh(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ni(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Jh(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Vm(t[n],e[n]))return!1;return!0}function Vm(t,e){return Jt(t)?ou(t,e):Jt(e)?ou(e,t):t===e}function ou(t,e){return Jt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Hm(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const $n={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ka=(function(t){return t.pop="pop",t.push="push",t})({}),fa=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Wm(t){if(!t)if(Wr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Bm(t)}const zm=/^[^#]+#/;function jm(t,e){return t.replace(zm,"#")+e}function Um(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Go=()=>({left:window.scrollX,top:window.scrollY});function Ym(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=Um(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function au(t,e){return(history.state?history.state.position-e:-1)+t}const Ja=new Map;function Xm(t,e){Ja.set(t,e)}function qm(t){const e=Ja.get(t);return Ja.delete(t),e}function Km(t){return typeof t=="string"||t&&typeof t=="object"}function Qh(t){return typeof t=="string"||typeof t=="symbol"}let et=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Zh=Symbol("");et.MATCHER_NOT_FOUND+"",et.NAVIGATION_GUARD_REDIRECT+"",et.NAVIGATION_ABORTED+"",et.NAVIGATION_CANCELLED+"",et.NAVIGATION_DUPLICATED+"";function ri(t,e){return Ne(new Error,{type:t,[Zh]:!0},e)}function _n(t,e){return t instanceof Error&&Zh in t&&(e==null||!!(t.type&e))}const Jm=["params","query","hash"];function Qm(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of Jm)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function Zm(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Yh," "),s=i.indexOf("="),o=ns(s<0?i:i.slice(0,s)),a=s<0?null:ns(i.slice(s+1));if(o in e){let l=e[o];Jt(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function lu(t){let e="";for(let n in t){const r=t[n];if(n=Lm(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Jt(r)?r.map(i=>i&&qa(i)):[r&&qa(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function e1(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Jt(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const t1=Symbol(""),cu=Symbol(""),$o=Symbol(""),Gl=Symbol(""),Qa=Symbol("");function _i(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Xn(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(ri(et.NAVIGATION_ABORTED,{from:n,to:e})):h instanceof Error?l(h):Km(h)?l(ri(et.NAVIGATION_GUARD_REDIRECT,{from:e,to:h})):(o&&r.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},u=s(()=>t.call(r&&r.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function pa(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(jh(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Xn(c,n,r,o,a,i))}else{let c=l();s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Sm(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&Xn(h,n,r,o,a,i)()}))}}return s}function n1(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>ni(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>ni(c,l))||i.push(l))}return[n,r,i]}let r1=()=>location.protocol+"//"+location.host;function ef(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),su(a,"")}return su(n,t)+r+i}function i1(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const f=ef(t,location),p=n.value,g=e.value;let v=0;if(h){if(n.value=f,e.value=h,o&&o===p){o=null;return}v=g?h.position-g.position:0}else r(f);i.forEach(m=>{m(n.value,p,{delta:v,type:Ka.pop,direction:v?v>0?fa.forward:fa.back:fa.unknown})})};function l(){o=n.value}function c(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(Ne({},h.state,{scroll:Go()}),"")}}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:d}}function uu(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Go():null}}function s1(t){const{history:e,location:n}=window,r={value:ef(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:r1()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](h)}}function o(l,c){s(l,Ne({},e.state,uu(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),r.value=l}function a(l,c){const u=Ne({},i.value,e.state,{forward:l,scroll:Go()});s(u.current,u,!0),s(l,Ne({},uu(r.value,l,null),{position:u.position+1},c),!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function o1(t){t=Wm(t);const e=s1(t),n=i1(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Ne({location:"",base:t,go:r,createHref:jm.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function a1(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),o1(t)}let vr=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var it=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(it||{});const l1={type:vr.Static,value:""},c1=/[a-zA-Z0-9_]/;function u1(t){if(!t)return[[]];if(t==="/")return[[l1]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=it.Static,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",u="";function d(){c&&(n===it.Static?s.push({type:vr.Static,value:c}):n===it.Param||n===it.ParamRegExp||n===it.ParamRegExpEnd?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:vr.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==it.ParamRegExp){r=n,n=it.EscapeNext;continue}switch(n){case it.Static:l==="/"?(c&&d(),o()):l===":"?(d(),n=it.Param):h();break;case it.EscapeNext:h(),n=r;break;case it.Param:l==="("?n=it.ParamRegExp:c1.test(l)?h():(d(),n=it.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case it.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=it.ParamRegExpEnd:u+=l;break;case it.ParamRegExpEnd:d(),n=it.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===it.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}const du="[^/]+?",d1={sensitive:!1,strict:!1,start:!0,end:!0};var xt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(xt||{});const h1=/[.+*?^${}()[\]/\\]/g;function f1(t,e){const n=Ne({},d1,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const u=c.length?[]:[xt.Root];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=xt.Segment+(n.sensitive?xt.BonusCaseSensitive:0);if(h.type===vr.Static)d||(i+="/"),i+=h.value.replace(h1,"\\$&"),f+=xt.Static;else if(h.type===vr.Param){const{value:p,repeatable:g,optional:v,regexp:m}=h;s.push({name:p,repeatable:g,optional:v});const y=m||du;if(y!==du){f+=xt.BonusCustomRegExp;try{`${y}`}catch(w){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+w.message)}}let b=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(b=v&&c.length<2?`(?:/${b})`:"/"+b),v&&(b+="?"),i+=b,f+=xt.Dynamic,v&&(f+=xt.BonusOptional),g&&(f+=xt.BonusRepeatable),y===".*"&&(f+=xt.BonusWildcard)}u.push(f)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=xt.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",p=s[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===vr.Static)u+=f.value;else if(f.type===vr.Param){const{value:p,repeatable:g,optional:v}=f,m=p in c?c[p]:"";if(Jt(m)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Jt(m)?m.join("/"):m;if(!y)if(v)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function p1(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===xt.Static+xt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===xt.Static+xt.Segment?1:-1:0}function tf(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=p1(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(hu(r))return 1;if(hu(i))return-1}return i.length-r.length}function hu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const g1={strict:!1,end:!0,sensitive:!1};function m1(t,e,n){const r=f1(u1(t.path),n),i=Ne(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function v1(t,e){const n=[],r=new Map;e=iu(g1,e);function i(d){return r.get(d)}function s(d,h,f){const p=!f,g=pu(d);g.aliasOf=f&&f.record;const v=iu(e,d),m=[g];if("alias"in d){const w=typeof d.alias=="string"?[d.alias]:d.alias;for(const P of w)m.push(pu(Ne({},g,{components:f?f.record.components:g.components,path:P,aliasOf:f?f.record:g})))}let y,b;for(const w of m){const{path:P}=w;if(h&&P[0]!=="/"){const k=h.record.path,O=k[k.length-1]==="/"?"":"/";w.path=h.record.path+(P&&O+P)}if(y=m1(w,h,v),f?f.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),p&&d.name&&!gu(y)&&o(d.name)),nf(y)&&l(y),g.children){const k=g.children;for(let O=0;O<k.length;O++)s(k[O],y,f&&f.children[O])}f=f||y}return b?()=>{o(b)}:ji}function o(d){if(Qh(d)){const h=r.get(d);h&&(r.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const h=w1(d,n);n.splice(h,0,d),d.record.name&&!gu(d)&&r.set(d.record.name,d)}function c(d,h){let f,p={},g,v;if("name"in d&&d.name){if(f=r.get(d.name),!f)throw ri(et.MATCHER_NOT_FOUND,{location:d});v=f.record.name,p=Ne(fu(h.params,f.keys.filter(b=>!b.optional).concat(f.parent?f.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),d.params&&fu(d.params,f.keys.map(b=>b.name))),g=f.stringify(p)}else if(d.path!=null)g=d.path,f=n.find(b=>b.re.test(g)),f&&(p=f.parse(g),v=f.record.name);else{if(f=h.name?r.get(h.name):n.find(b=>b.re.test(h.path)),!f)throw ri(et.MATCHER_NOT_FOUND,{location:d,currentLocation:h});v=f.record.name,p=Ne({},h.params,d.params),g=f.stringify(p)}const m=[];let y=f;for(;y;)m.unshift(y.record),y=y.parent;return{name:v,path:g,params:p,matched:m,meta:b1(m)}}t.forEach(d=>s(d));function u(){n.length=0,r.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function fu(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function pu(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:y1(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function y1(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function gu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function b1(t){return t.reduce((e,n)=>Ne(e,n.meta),{})}function w1(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;tf(t,e[s])<0?r=s:n=s+1}const i=_1(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function _1(t){let e=t;for(;e=e.parent;)if(nf(e)&&tf(t,e)===0)return e}function nf({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function mu(t){const e=Tt($o),n=Tt(Gl),r=U(()=>{const l=_(t.to);return e.resolve(l)}),i=U(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(ni.bind(null,u));if(h>-1)return h;const f=vu(l[c-2]);return c>1&&vu(u)===f&&d[d.length-1].path!==f?d.findIndex(ni.bind(null,l[c-2])):h}),s=U(()=>i.value>-1&&A1(n.params,r.value.params)),o=U(()=>i.value>-1&&i.value===n.matched.length-1&&Jh(n.params,r.value.params));function a(l={}){if(E1(l)){const c=e[_(t.replace)?"replace":"push"](_(t.to)).catch(ji);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:U(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function x1(t){return t.length===1?t[0]:t}const S1=ae({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:mu,setup(t,{slots:e}){const n=Ar(mu(t)),{options:r}=Tt($o),i=U(()=>({[yu(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[yu(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&x1(e.default(n));return t.custom?s:Et("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),C1=S1;function E1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function A1(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Jt(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function vu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const yu=(t,e,n)=>t??e??n,P1=ae({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Tt(Qa),i=U(()=>t.route||r.value),s=Tt(cu,0),o=U(()=>{let c=_(s);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=U(()=>i.value.matched[o.value]);Kr(cu,U(()=>o.value+1)),Kr(t1,a),Kr(Qa,i);const l=z();return Ae(()=>[l.value,a.value,t.name],([c,u,d],[h,f,p])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!ni(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return bu(n.default,{Component:h,route:c});const f=d.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,v=Et(h,Ne({},p,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return bu(n.default,{Component:v,route:c})||v}}});function bu(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const k1=P1;function T1(t){const e=v1(t.routes,t),n=t.parseQuery||Zm,r=t.stringifyQuery||lu,i=t.history,s=_i(),o=_i(),a=_i(),l=ui($n);let c=$n;Wr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=da.bind(null,B=>""+B),d=da.bind(null,Nm),h=da.bind(null,ns);function f(B,de){let ce,ve;return Qh(B)?(ce=e.getRecordMatcher(B),ve=de):ve=B,e.addRoute(ve,ce)}function p(B){const de=e.getRecordMatcher(B);de&&e.removeRoute(de)}function g(){return e.getRoutes().map(B=>B.record)}function v(B){return!!e.getRecordMatcher(B)}function m(B,de){if(de=Ne({},de||l.value),typeof B=="string"){const L=ha(n,B,de.path),W=e.resolve({path:L.path},de),Y=i.createHref(L.fullPath);return Ne(L,W,{params:h(W.params),hash:ns(L.hash),redirectedFrom:void 0,href:Y})}let ce;if(B.path!=null)ce=Ne({},B,{path:ha(n,B.path,de.path).path});else{const L=Ne({},B.params);for(const W in L)L[W]==null&&delete L[W];ce=Ne({},B,{params:d(L)}),de.params=d(de.params)}const ve=e.resolve(ce,de),ke=B.hash||"";ve.params=u(h(ve.params));const x=Gm(r,Ne({},B,{hash:Im(ke),path:ve.path})),C=i.createHref(x);return Ne({fullPath:x,hash:ke,query:r===lu?e1(B.query):B.query||{}},ve,{redirectedFrom:void 0,href:C})}function y(B){return typeof B=="string"?ha(n,B,l.value.path):Ne({},B)}function b(B,de){if(c!==B)return ri(et.NAVIGATION_CANCELLED,{from:de,to:B})}function w(B){return O(B)}function P(B){return w(Ne(y(B),{replace:!0}))}function k(B,de){const ce=B.matched[B.matched.length-1];if(ce&&ce.redirect){const{redirect:ve}=ce;let ke=typeof ve=="function"?ve(B,de):ve;return typeof ke=="string"&&(ke=ke.includes("?")||ke.includes("#")?ke=y(ke):{path:ke},ke.params={}),Ne({query:B.query,hash:B.hash,params:ke.path!=null?{}:B.params},ke)}}function O(B,de){const ce=c=m(B),ve=l.value,ke=B.state,x=B.force,C=B.replace===!0,L=k(ce,ve);if(L)return O(Ne(y(L),{state:typeof L=="object"?Ne({},ke,L.state):ke,force:x,replace:C}),de||ce);const W=ce;W.redirectedFrom=de;let Y;return!x&&$m(r,ve,ce)&&(Y=ri(et.NAVIGATION_DUPLICATED,{to:W,from:ve}),ie(ve,ve,!0,!1)),(Y?Promise.resolve(Y):N(W,ve)).catch(H=>_n(H)?_n(H,et.NAVIGATION_GUARD_REDIRECT)?H:K(H):E(H,W,ve)).then(H=>{if(H){if(_n(H,et.NAVIGATION_GUARD_REDIRECT))return O(Ne({replace:C},y(H.to),{state:typeof H.to=="object"?Ne({},ke,H.to.state):ke,force:x}),de||W)}else H=j(W,ve,!0,C,ke);return Z(W,ve,H),H})}function A(B,de){const ce=b(B,de);return ce?Promise.reject(ce):Promise.resolve()}function R(B){const de=Re.values().next().value;return de&&typeof de.runWithContext=="function"?de.runWithContext(B):B()}function N(B,de){let ce;const[ve,ke,x]=n1(B,de);ce=pa(ve.reverse(),"beforeRouteLeave",B,de);for(const L of ve)L.leaveGuards.forEach(W=>{ce.push(Xn(W,B,de))});const C=A.bind(null,B,de);return ce.push(C),qe(ce).then(()=>{ce=[];for(const L of s.list())ce.push(Xn(L,B,de));return ce.push(C),qe(ce)}).then(()=>{ce=pa(ke,"beforeRouteUpdate",B,de);for(const L of ke)L.updateGuards.forEach(W=>{ce.push(Xn(W,B,de))});return ce.push(C),qe(ce)}).then(()=>{ce=[];for(const L of x)if(L.beforeEnter)if(Jt(L.beforeEnter))for(const W of L.beforeEnter)ce.push(Xn(W,B,de));else ce.push(Xn(L.beforeEnter,B,de));return ce.push(C),qe(ce)}).then(()=>(B.matched.forEach(L=>L.enterCallbacks={}),ce=pa(x,"beforeRouteEnter",B,de,R),ce.push(C),qe(ce))).then(()=>{ce=[];for(const L of o.list())ce.push(Xn(L,B,de));return ce.push(C),qe(ce)}).catch(L=>_n(L,et.NAVIGATION_CANCELLED)?L:Promise.reject(L))}function Z(B,de,ce){a.list().forEach(ve=>R(()=>ve(B,de,ce)))}function j(B,de,ce,ve,ke){const x=b(B,de);if(x)return x;const C=de===$n,L=Wr?history.state:{};ce&&(ve||C?i.replace(B.fullPath,Ne({scroll:C&&L&&L.scroll},ke)):i.push(B.fullPath,ke)),l.value=B,ie(B,de,ce,C),K()}let re;function $(){re||(re=i.listen((B,de,ce)=>{if(!Ee.listening)return;const ve=m(B),ke=k(ve,Ee.currentRoute.value);if(ke){O(Ne(ke,{replace:!0,force:!0}),ve).catch(ji);return}c=ve;const x=l.value;Wr&&Xm(au(x.fullPath,ce.delta),Go()),N(ve,x).catch(C=>_n(C,et.NAVIGATION_ABORTED|et.NAVIGATION_CANCELLED)?C:_n(C,et.NAVIGATION_GUARD_REDIRECT)?(O(Ne(y(C.to),{force:!0}),ve).then(L=>{_n(L,et.NAVIGATION_ABORTED|et.NAVIGATION_DUPLICATED)&&!ce.delta&&ce.type===Ka.pop&&i.go(-1,!1)}).catch(ji),Promise.reject()):(ce.delta&&i.go(-ce.delta,!1),E(C,ve,x))).then(C=>{C=C||j(ve,x,!1),C&&(ce.delta&&!_n(C,et.NAVIGATION_CANCELLED)?i.go(-ce.delta,!1):ce.type===Ka.pop&&_n(C,et.NAVIGATION_ABORTED|et.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),Z(ve,x,C)}).catch(ji)}))}let V=_i(),F=_i(),T;function E(B,de,ce){K(B);const ve=F.list();return ve.length?ve.forEach(ke=>ke(B,de,ce)):console.error(B),Promise.reject(B)}function M(){return T&&l.value!==$n?Promise.resolve():new Promise((B,de)=>{V.add([B,de])})}function K(B){return T||(T=!B,$(),V.list().forEach(([de,ce])=>B?ce(B):de()),V.reset()),B}function ie(B,de,ce,ve){const{scrollBehavior:ke}=t;if(!Wr||!ke)return Promise.resolve();const x=!ce&&qm(au(B.fullPath,0))||(ve||!ce)&&history.state&&history.state.scroll||null;return Ge().then(()=>ke(B,de,x)).then(C=>C&&Ym(C)).catch(C=>E(C,B,de))}const pe=B=>i.go(B);let ye;const Re=new Set,Ee={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:g,resolve:m,options:t,push:w,replace:P,go:pe,back:()=>pe(-1),forward:()=>pe(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:F.add,isReady:M,install(B){B.component("RouterLink",C1),B.component("RouterView",k1),B.config.globalProperties.$router=Ee,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>_(l)}),Wr&&!ye&&l.value===$n&&(ye=!0,w(i.location).catch(ve=>{}));const de={};for(const ve in $n)Object.defineProperty(de,ve,{get:()=>l.value[ve],enumerable:!0});B.provide($o,Ee),B.provide(Gl,Jd(de)),B.provide(Qa,l);const ce=B.unmount;Re.add(B),B.unmount=function(){Re.delete(B),Re.size<1&&(c=$n,re&&re(),re=null,l.value=$n,ye=!1,T=!1),ce()}}};function qe(B){return B.reduce((de,ce)=>de.then(()=>R(ce)),Promise.resolve())}return Ee}function R1(){return Tt($o)}function Vo(t){return Tt(Gl)}const ct=[];for(let t=0;t<256;++t)ct.push((t+256).toString(16).slice(1));function O1(t,e=0){return(ct[t[e+0]]+ct[t[e+1]]+ct[t[e+2]]+ct[t[e+3]]+"-"+ct[t[e+4]]+ct[t[e+5]]+"-"+ct[t[e+6]]+ct[t[e+7]]+"-"+ct[t[e+8]]+ct[t[e+9]]+"-"+ct[t[e+10]]+ct[t[e+11]]+ct[t[e+12]]+ct[t[e+13]]+ct[t[e+14]]+ct[t[e+15]]).toLowerCase()}let ga;const M1=new Uint8Array(16);function I1(){if(!ga){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ga=crypto.getRandomValues.bind(crypto)}return ga(M1)}const L1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wu={randomUUID:L1};function D1(t,e,n){t=t||{};const r=t.random??t.rng?.()??I1();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,O1(r)}function Za(t,e,n){return wu.randomUUID&&!t?wu.randomUUID():D1(t)}const hs=zh("textures",()=>{const t=z([]),e=z({});function n(){localStorage.setItem("generatedTextures",JSON.stringify(t.value))}function r(c){t.value.push({...c,id:c.id||Za(),generated:!0}),n()}function i(c,u){const d=t.value.findIndex(h=>h.id===c);d>-1?(u.generated=!0,t.value[d]=u,n()):r(u)}function s(c){const u=t.value.findIndex(d=>d.id===c);u>-1&&(t.value.splice(u,1),n())}function o(c,u){const d=t.value.find(h=>h.id===c);d&&(d.name=u,n())}function a(c,u){e.value[c]=u,localStorage.setItem("presetThumbnails",JSON.stringify(e.value))}function l(){const c=localStorage.getItem("generatedTextures");if(c){const d=JSON.parse(c);t.value=Array.isArray(d)?d.map(h=>({...h,generated:!0})):[]}const u=localStorage.getItem("presetThumbnails");u&&(e.value=JSON.parse(u))}return{generatedTextures:t,presetThumbnails:e,addGeneratedTexture:r,updateGeneratedTexture:i,removeGeneratedTexture:s,updateTextureName:o,savePresetThumbnail:a,load:l}}),N1={class:"flex flex-col items-center min-h-screen min-w-screen text-white px-2"},F1={class:"w-full max-w-screen-2xl"},B1={class:"flex space-x-4 mb-4"},G1={class:"w-full"},$1=ae({__name:"App",setup(t){const e=Vo(),n=hs();return Qe(()=>{n.load()}),(r,i)=>{const s=ao("router-link"),o=ao("router-view");return D(),ee("div",N1,[i[2]||(i[2]=G("p",{class:"my-2"},[st(" An app to generate and edit graphics using AI language models. Unless edited, all sprites shown are created by prompting an LLM (bigger models are better). "),G("a",{href:"https://parsehex.github.io/aAI-Art/docs/"},"Docs")],-1)),G("div",F1,[G("nav",B1,[te(s,{to:"/view",class:vt(["px-4 py-2 rounded-md transition",_(e).path.startsWith("/view")?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])},{default:oe(()=>[...i[0]||(i[0]=[st(" View / Generate ",-1)])]),_:1},8,["class"]),te(s,{to:"/edit",class:vt(["px-4 py-2 rounded-md transition",_(e).path.startsWith("/edit")?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])},{default:oe(()=>[...i[1]||(i[1]=[st(" Edit ",-1)])]),_:1},8,["class"])]),G("div",G1,[te(o)])])])}}}),V1="modulepreload",H1=function(t,e){return new URL(t,e).href},_u={},xu=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(n.map(u=>{if(u=H1(u,r),u in _u)return;_u[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(r)for(let p=o.length-1;p>=0;p--){const g=o[p];if(g.href===u&&(!d||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":V1,d||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function rf(t,e){return ci()?(ls(t,e),!0):!1}const W1=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const z1=Object.prototype.toString,j1=t=>z1.call(t)==="[object Object]",U1=()=>{};function Y1(...t){if(t.length!==1)return eh(...t);const e=t[0];return typeof e=="function"?Zr(C0(()=>({get:e,set:U1}))):z(e)}function X1(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}const sf=t=>t();function q1(t=sf,e={}){const{initialState:n="active"}=e,r=Y1(n==="active");function i(){r.value=!1}function s(){r.value=!0}const o=(...a)=>{r.value&&t(...a)};return{isActive:Zr(r),pause:i,resume:s,eventFilter:o}}function ma(t){return Array.isArray(t)?t:[t]}function K1(t){return At()}function J1(t,e,n={}){const{eventFilter:r=sf,...i}=n;return Ae(t,X1(r,e),i)}function Q1(t,e,n={}){const{eventFilter:r,initialState:i="active",...s}=n,{eventFilter:o,pause:a,resume:l,isActive:c}=q1(r,{initialState:i});return{stop:J1(t,e,{...s,eventFilter:o}),pause:a,resume:l,isActive:c}}const Z1=Q1;function e2(t,e=!0,n){K1()?Qe(t,n):e?t():Ge(t)}function t2(t,e,n){return Ae(t,e,{...n,immediate:!0})}const yr=W1?window:void 0;function el(t){var e;const n=Xt(t);return(e=n?.$el)!==null&&e!==void 0?e:n}function Su(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},r=(a,l,c,u)=>(a.addEventListener(l,c,u),()=>a.removeEventListener(l,c,u)),i=U(()=>{const a=ma(Xt(t[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),s=t2(()=>{var a,l;return[(a=(l=i.value)===null||l===void 0?void 0:l.map(c=>el(c)))!==null&&a!==void 0?a:[yr].filter(c=>c!=null),ma(Xt(i.value?t[1]:t[0])),ma(_(i.value?t[2]:t[1])),Xt(i.value?t[3]:t[2])]},([a,l,c,u])=>{if(n(),!a?.length||!l?.length||!c?.length)return;const d=j1(u)?{...u}:u;e.push(...a.flatMap(h=>l.flatMap(f=>c.map(p=>r(h,f,p,d)))))},{flush:"post"}),o=()=>{s(),n()};return rf(n),o}function n2(){const t=ui(!1),e=At();return e&&Qe(()=>{t.value=!0},e),t}function r2(t){const e=n2();return U(()=>(e.value,!!t()))}const Ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cs="__vueuse_ssr_handlers__",i2=s2();function s2(){return Cs in Ss||(Ss[Cs]=Ss[Cs]||{}),Ss[Cs]}function o2(t,e){return i2[t]||e}function a2(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const l2={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},Cu="vueuse-storage";function c2(t,e,n,r={}){var i;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:u,window:d=yr,eventFilter:h,onError:f=$=>{console.error($)},initOnMounted:p}=r,g=(u?ui:z)(typeof e=="function"?e():e),v=U(()=>Xt(t));if(!n)try{n=o2("getDefaultStorage",()=>yr?.localStorage)()}catch($){f($)}if(!n)return g;const m=Xt(e),y=a2(m),b=(i=r.serializer)!==null&&i!==void 0?i:l2[y],{pause:w,resume:P}=Z1(g,$=>N($),{flush:s,deep:o,eventFilter:h});Ae(v,()=>j(),{flush:s});let k=!1;const O=$=>{p&&!k||j($)},A=$=>{p&&!k||re($)};d&&a&&(n instanceof Storage?Su(d,"storage",O,{passive:!0}):Su(d,Cu,A)),p?e2(()=>{k=!0,j()}):j();function R($,V){if(d){const F={key:v.value,oldValue:$,newValue:V,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",F):new CustomEvent(Cu,{detail:F}))}}function N($){try{const V=n.getItem(v.value);if($==null)R(V,null),n.removeItem(v.value);else{const F=b.write($);V!==F&&(n.setItem(v.value,F),R(V,F))}}catch(V){f(V)}}function Z($){const V=$?$.newValue:n.getItem(v.value);if(V==null)return l&&m!=null&&n.setItem(v.value,b.write(m)),m;if(!$&&c){const F=b.read(V);return typeof c=="function"?c(F,m):y==="object"&&!Array.isArray(F)?{...m,...F}:F}else return typeof V!="string"?V:b.read(V)}function j($){if(!($&&$.storageArea!==n)){if($&&$.key==null){g.value=m;return}if(!($&&$.key!==v.value)){w();try{const V=b.write(g.value);($===void 0||$?.newValue!==V)&&(g.value=Z($))}catch(V){f(V)}finally{$?Ge(P):P()}}}}function re($){j($.detail)}return g}function u2(t,e,n={}){const{window:r=yr,...i}=n;let s;const o=r2(()=>r&&"ResizeObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=Ae(U(()=>{const u=Xt(t);return Array.isArray(u)?u.map(d=>el(d)):[el(u)]}),u=>{if(a(),o.value&&r){s=new ResizeObserver(e);for(const d of u)d&&s.observe(d,i)}},{immediate:!0,flush:"post"}),c=()=>{a(),l()};return rf(c),{isSupported:o,stop:c}}function qn(t,e,n={}){const{window:r=yr}=n;return c2(t,e,r?.localStorage,n)}const d2=ae({name:"JsonViewerItem",props:{data:{type:[Object,Array,String,Number,Boolean],required:!0},depth:{type:Number,default:0}},setup(t){const e=z(!0),n=U(()=>typeof t.data=="object"&&t.data!==null),r=U(()=>Array.isArray(t.data)),i=U(()=>typeof t.data),s=()=>{e.value=!e.value},o=l=>typeof l=="string"?`"${l}"`:String(l);function a(l){try{const c=document.createElement("textarea");c.value=l,c.style.position="fixed",c.style.opacity="0",document.body.appendChild(c),c.select();const u=document.execCommand("copy");return document.body.removeChild(c),u}catch(c){return console.error("Failed to copy text:",c),!1}}return{isExpanded:e,isObject:n,isArray:r,valueType:i,toggle:s,formatValue:o,copyValue:a}}}),of=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},h2={class:"json-viewer-item"},f2={class:"toggle-icon"},p2={class:"key"},g2={key:1,class:"nested-content"},m2={key:1},v2={class:"key-line"},y2={class:"key"},b2={class:"value-line"};function w2(t,e,n,r,i,s){const o=ao("JsonViewerItem");return D(),ee("div",h2,[t.isObject?(D(),ee("div",{key:0,onClick:e[0]||(e[0]=(...a)=>t.toggle&&t.toggle(...a)),class:"item-content"},[G("span",f2,tt(t.isExpanded?"":""),1),G("span",p2,tt(t.isArray?`[${t.data.length}]`:"{...}"),1)])):Le("",!0),t.isExpanded&&t.isObject?(D(),ee("div",g2,[t.isArray?(D(!0),ee(Ye,{key:0},On(t.data,(a,l)=>(D(),ee("div",{key:l,class:"array-item"},[a!=null?(D(),fe(o,{key:0,data:a,depth:t.depth+1},null,8,["data","depth"])):(D(),ee("span",m2,"undefined"))]))),128)):(D(!0),ee(Ye,{key:1},On(t.data,(a,l)=>(D(),ee("div",{key:l,class:"object-item"},[G("div",v2,[G("span",y2,tt(l)+":",1)]),G("div",b2,[te(o,{class:"inline",data:a,depth:t.depth+1},null,8,["data","depth"])])]))),128))])):Le("",!0),t.isObject?Le("",!0):(D(),ee("span",{key:2,class:vt(["primitive",t.valueType])},tt(t.formatValue(t.data)),3))])}const _2=of(d2,[["render",w2],["__scopeId","data-v-3dd261e2"]]),x2=ae({name:"JsonViewer",components:{JsonViewerItem:_2},props:{data:{type:[Object,Array,String,Number,Boolean],required:!0}}}),S2={class:"json-viewer root"},C2={key:1};function E2(t,e,n,r,i,s){const o=ao("JsonViewerItem");return D(),ee("div",S2,[t.data!==void 0&&t.data!==null?(D(),fe(o,{key:0,data:t.data,depth:0},null,8,["data"])):(D(),ee("span",C2,"undefined"))])}const A2=of(x2,[["render",E2],["__scopeId","data-v-f005d59c"]]);const P2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var Es={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const k2=({size:t,strokeWidth:e=2,absoluteStrokeWidth:n,color:r,iconNode:i,name:s,class:o,...a},{slots:l})=>Et("svg",{...Es,width:t||Es.width,height:t||Es.height,stroke:r||Es.stroke,"stroke-width":n?Number(e)*24/Number(t):e,class:["lucide",`lucide-${P2(s??"icon")}`],...a},[...i.map(c=>Et(...c)),...l.default?[l.default()]:[]]);const vn=(t,e)=>(n,{slots:r})=>Et(k2,{...n,iconNode:e,name:t},r);const af=vn("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const T2=vn("ChevronsUpDownIcon",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);const R2=vn("ClipboardIcon",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);const O2=vn("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const M2=vn("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const I2=vn("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const L2=vn("RefreshCwIcon",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const D2=vn("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const N2=vn("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const lf=vn("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cf=ae({__name:"CopyButton",props:{data:{}},setup(t){const e=t;async function n(){try{const{thumbnail:r,...i}=e.data;await navigator.clipboard.writeText(JSON.stringify(i,null,2)),console.log("Texture JSON copied to clipboard")}catch(r){console.error("Failed to copy JSON:",r)}}return(r,i)=>(D(),ee("button",{onClick:It(n,["stop"]),class:"text-purple-400 hover:text-purple-600 transition-colors",title:"Copy JSON to Clipboard"},[te(_(R2),{class:"w-4 h-4"})]))}});function uf(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=uf(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function df(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=uf(t))&&(r&&(r+=" "),r+=e);return r}const Eu=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Au=df,F2=(t,e)=>n=>{var r;if(e?.variants==null)return Au(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n?.[c],d=s?.[c];if(u===null)return null;const h=Eu(u)||Eu(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...s,...a}[g]):{...s,...a}[g]===v})?[...c,d,h]:c},[]);return Au(t,o,l,n?.class,n?.className)},B2=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},G2=(t,e)=>({classGroupId:t,validator:e}),hf=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),po="-",Pu=[],$2="arbitrary..",V2=t=>{const e=W2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return H2(o);const a=o.split(po),l=a[0]===""&&a.length>1?1:0;return ff(a,l,e)},getConflictingClassGroupIds:(o,a)=>{if(a){const l=r[o],c=n[o];return l?c?B2(c,l):l:c||Pu}return n[o]||Pu}}},ff=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const c=ff(t,e+1,s);if(c)return c}const o=n.validators;if(o===null)return;const a=e===0?t.join(po):t.slice(e).join(po),l=o.length;for(let c=0;c<l;c++){const u=o[c];if(u.validator(a))return u.classGroupId}},H2=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?$2+r:void 0})(),W2=t=>{const{theme:e,classGroups:n}=t;return z2(n,e)},z2=(t,e)=>{const n=hf();for(const r in t){const i=t[r];$l(i,n,r,e)}return n},$l=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const o=t[s];j2(o,e,n,r)}},j2=(t,e,n,r)=>{if(typeof t=="string"){U2(t,e,n);return}if(typeof t=="function"){Y2(t,e,n,r);return}X2(t,e,n,r)},U2=(t,e,n)=>{const r=t===""?e:pf(e,t);r.classGroupId=n},Y2=(t,e,n,r)=>{if(q2(t)){$l(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(G2(n,t))},X2=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];$l(l,pf(e,a),n,r)}},pf=(t,e)=>{let n=t;const r=e.split(po),i=r.length;for(let s=0;s<i;s++){const o=r[s];let a=n.nextPart.get(o);a||(a=hf(),n.nextPart.set(o,a)),n=a}return n},q2=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,K2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,o)=>{n[s]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let o=n[s];if(o!==void 0)return o;if((o=r[s])!==void 0)return i(s,o),o},set(s,o){s in n?n[s]=o:i(s,o)}}},tl="!",ku=":",J2=[],Tu=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),Q2=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,c;const u=i.length;for(let g=0;g<u;g++){const v=i[g];if(o===0&&a===0){if(v===ku){s.push(i.slice(l,g)),l=g+1;continue}if(v==="/"){c=g;continue}}v==="["?o++:v==="]"?o--:v==="("?a++:v===")"&&a--}const d=s.length===0?i:i.slice(l);let h=d,f=!1;d.endsWith(tl)?(h=d.slice(0,-1),f=!0):d.startsWith(tl)&&(h=d.slice(1),f=!0);const p=c&&c>l?c-l:void 0;return Tu(s,f,h,p)};if(e){const i=e+ku,s=r;r=o=>o.startsWith(i)?s(o.slice(i.length)):Tu(J2,!1,o,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},Z2=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const o=n[s],a=o[0]==="[",l=e.has(o);a||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},ev=t=>({cache:K2(t.cacheSize),parseClassName:Q2(t),sortModifiers:Z2(t),...V2(t)}),tv=/\s+/,nv=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(tv);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let v=!!g,m=r(v?p.substring(0,g):p);if(!m){if(!v){l=u+(l.length>0?" "+l:l);continue}if(m=r(p),!m){l=u+(l.length>0?" "+l:l);continue}v=!1}const y=h.length===0?"":h.length===1?h[0]:s(h).join(":"),b=f?y+tl:y,w=b+m;if(o.indexOf(w)>-1)continue;o.push(w);const P=i(m,v);for(let k=0;k<P.length;++k){const O=P[k];o.push(b+O)}l=u+(l.length>0?" "+l:l)}return l},rv=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=gf(n))&&(i&&(i+=" "),i+=r);return i},gf=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gf(t[r]))&&(n&&(n+=" "),n+=e);return n},iv=(t,...e)=>{let n,r,i,s;const o=l=>{const c=e.reduce((u,d)=>d(u),t());return n=ev(c),r=n.cache.get,i=n.cache.set,s=a,a(l)},a=l=>{const c=r(l);if(c)return c;const u=nv(l,n);return i(l,u),u};return s=o,(...l)=>s(rv(...l))},sv=[],rt=t=>{const e=n=>n[t]||sv;return e.isThemeGetter=!0,e},mf=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vf=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ov=/^\d+\/\d+$/,av=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lv=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cv=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,uv=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dv=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nr=t=>ov.test(t),Pe=t=>!!t&&!Number.isNaN(Number(t)),Vn=t=>!!t&&Number.isInteger(Number(t)),va=t=>t.endsWith("%")&&Pe(t.slice(0,-1)),xn=t=>av.test(t),hv=()=>!0,fv=t=>lv.test(t)&&!cv.test(t),yf=()=>!1,pv=t=>uv.test(t),gv=t=>dv.test(t),mv=t=>!ge(t)&&!me(t),vv=t=>di(t,_f,yf),ge=t=>mf.test(t),fr=t=>di(t,xf,fv),ya=t=>di(t,xv,Pe),Ru=t=>di(t,bf,yf),yv=t=>di(t,wf,gv),As=t=>di(t,Sf,pv),me=t=>vf.test(t),xi=t=>hi(t,xf),bv=t=>hi(t,Sv),Ou=t=>hi(t,bf),wv=t=>hi(t,_f),_v=t=>hi(t,wf),Ps=t=>hi(t,Sf,!0),di=(t,e,n)=>{const r=mf.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},hi=(t,e,n=!1)=>{const r=vf.exec(t);return r?r[1]?e(r[1]):n:!1},bf=t=>t==="position"||t==="percentage",wf=t=>t==="image"||t==="url",_f=t=>t==="length"||t==="size"||t==="bg-size",xf=t=>t==="length",xv=t=>t==="number",Sv=t=>t==="family-name",Sf=t=>t==="shadow",Cv=()=>{const t=rt("color"),e=rt("font"),n=rt("text"),r=rt("font-weight"),i=rt("tracking"),s=rt("leading"),o=rt("breakpoint"),a=rt("container"),l=rt("spacing"),c=rt("radius"),u=rt("shadow"),d=rt("inset-shadow"),h=rt("text-shadow"),f=rt("drop-shadow"),p=rt("blur"),g=rt("perspective"),v=rt("aspect"),m=rt("ease"),y=rt("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...w(),me,ge],k=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],A=()=>[me,ge,l],R=()=>[Nr,"full","auto",...A()],N=()=>[Vn,"none","subgrid",me,ge],Z=()=>["auto",{span:["full",Vn,me,ge]},Vn,me,ge],j=()=>[Vn,"auto",me,ge],re=()=>["auto","min","max","fr",me,ge],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...A()],T=()=>[Nr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],E=()=>[t,me,ge],M=()=>[...w(),Ou,Ru,{position:[me,ge]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",wv,vv,{size:[me,ge]}],pe=()=>[va,xi,fr],ye=()=>["","none","full",c,me,ge],Re=()=>["",Pe,xi,fr],Ee=()=>["solid","dashed","dotted","double"],qe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[Pe,va,Ou,Ru],de=()=>["","none",p,me,ge],ce=()=>["none",Pe,me,ge],ve=()=>["none",Pe,me,ge],ke=()=>[Pe,me,ge],x=()=>[Nr,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xn],breakpoint:[xn],color:[hv],container:[xn],"drop-shadow":[xn],ease:["in","out","in-out"],font:[mv],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xn],shadow:[xn],spacing:["px",Pe],text:[xn],"text-shadow":[xn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Nr,ge,me,v]}],container:["container"],columns:[{columns:[Pe,ge,me,a]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Vn,"auto",me,ge]}],basis:[{basis:[Nr,"full","auto",a,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,Nr,"auto","initial","none",ge]}],grow:[{grow:["",Pe,me,ge]}],shrink:[{shrink:["",Pe,me,ge]}],order:[{order:[Vn,"first","last","none",me,ge]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:T()}],w:[{w:[a,"screen",...T()]}],"min-w":[{"min-w":[a,"screen","none",...T()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...T()]}],h:[{h:["screen","lh",...T()]}],"min-h":[{"min-h":["screen","lh","none",...T()]}],"max-h":[{"max-h":["screen","lh",...T()]}],"font-size":[{text:["base",n,xi,fr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,me,ya]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",va,ge]}],"font-family":[{font:[bv,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,me,ge]}],"line-clamp":[{"line-clamp":[Pe,"none",me,ya]}],leading:[{leading:[s,...A()]}],"list-image":[{"list-image":["none",me,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",me,fr]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[Pe,"auto",me,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vn,me,ge],radial:["",me,ge],conic:[Vn,me,ge]},_v,yv]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:pe()}],"gradient-via-pos":[{via:pe()}],"gradient-to-pos":[{to:pe()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:ye()}],"rounded-s":[{"rounded-s":ye()}],"rounded-e":[{"rounded-e":ye()}],"rounded-t":[{"rounded-t":ye()}],"rounded-r":[{"rounded-r":ye()}],"rounded-b":[{"rounded-b":ye()}],"rounded-l":[{"rounded-l":ye()}],"rounded-ss":[{"rounded-ss":ye()}],"rounded-se":[{"rounded-se":ye()}],"rounded-ee":[{"rounded-ee":ye()}],"rounded-es":[{"rounded-es":ye()}],"rounded-tl":[{"rounded-tl":ye()}],"rounded-tr":[{"rounded-tr":ye()}],"rounded-br":[{"rounded-br":ye()}],"rounded-bl":[{"rounded-bl":ye()}],"border-w":[{border:Re()}],"border-w-x":[{"border-x":Re()}],"border-w-y":[{"border-y":Re()}],"border-w-s":[{"border-s":Re()}],"border-w-e":[{"border-e":Re()}],"border-w-t":[{"border-t":Re()}],"border-w-r":[{"border-r":Re()}],"border-w-b":[{"border-b":Re()}],"border-w-l":[{"border-l":Re()}],"divide-x":[{"divide-x":Re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,me,ge]}],"outline-w":[{outline:["",Pe,xi,fr]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",u,Ps,As]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",d,Ps,As]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:Re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[Pe,fr]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":Re()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",h,Ps,As]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[Pe,me,ge]}],"mix-blend":[{"mix-blend":[...qe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":qe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[me,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,ge]}],filter:[{filter:["","none",me,ge]}],blur:[{blur:de()}],brightness:[{brightness:[Pe,me,ge]}],contrast:[{contrast:[Pe,me,ge]}],"drop-shadow":[{"drop-shadow":["","none",f,Ps,As]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",Pe,me,ge]}],"hue-rotate":[{"hue-rotate":[Pe,me,ge]}],invert:[{invert:["",Pe,me,ge]}],saturate:[{saturate:[Pe,me,ge]}],sepia:[{sepia:["",Pe,me,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",me,ge]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,me,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,me,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,me,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,me,ge]}],"backdrop-invert":[{"backdrop-invert":["",Pe,me,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,me,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,me,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,me,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",me,ge]}],ease:[{ease:["linear","initial",m,me,ge]}],delay:[{delay:[Pe,me,ge]}],animate:[{animate:["none",y,me,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,me,ge]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:ce()}],"rotate-x":[{"rotate-x":ce()}],"rotate-y":[{"rotate-y":ce()}],"rotate-z":[{"rotate-z":ce()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:ke()}],"skew-x":[{"skew-x":ke()}],"skew-y":[{"skew-y":ke()}],transform:[{transform:[me,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:x()}],"translate-x":[{"translate-x":x()}],"translate-y":[{"translate-y":x()}],"translate-z":[{"translate-z":x()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,ge]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[Pe,xi,fr,ya]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ev=iv(Cv);function tn(...t){return Ev(df(t))}const Av=["top","right","bottom","left"],nr=Math.min,Mt=Math.max,go=Math.round,ks=Math.floor,hn=t=>({x:t,y:t}),Pv={left:"right",right:"left",bottom:"top",top:"bottom"},kv={start:"end",end:"start"};function nl(t,e,n){return Mt(t,nr(e,n))}function Mn(t,e){return typeof t=="function"?t(e):t}function In(t){return t.split("-")[0]}function fi(t){return t.split("-")[1]}function Vl(t){return t==="x"?"y":"x"}function Hl(t){return t==="y"?"height":"width"}const Tv=new Set(["top","bottom"]);function un(t){return Tv.has(In(t))?"y":"x"}function Wl(t){return Vl(un(t))}function Rv(t,e,n){n===void 0&&(n=!1);const r=fi(t),i=Wl(t),s=Hl(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=mo(o)),[o,mo(o)]}function Ov(t){const e=mo(t);return[rl(t),e,rl(e)]}function rl(t){return t.replace(/start|end/g,e=>kv[e])}const Mu=["left","right"],Iu=["right","left"],Mv=["top","bottom"],Iv=["bottom","top"];function Lv(t,e,n){switch(t){case"top":case"bottom":return n?e?Iu:Mu:e?Mu:Iu;case"left":case"right":return e?Mv:Iv;default:return[]}}function Dv(t,e,n,r){const i=fi(t);let s=Lv(In(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(rl)))),s}function mo(t){return t.replace(/left|right|bottom|top/g,e=>Pv[e])}function Nv(t){return{top:0,right:0,bottom:0,left:0,...t}}function Cf(t){return typeof t!="number"?Nv(t):{top:t,right:t,bottom:t,left:t}}function vo(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Lu(t,e,n){let{reference:r,floating:i}=t;const s=un(e),o=Wl(e),a=Hl(o),l=In(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(fi(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}const Fv=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=Lu(c,r,l),h=r,f={},p=0;for(let g=0;g<a.length;g++){const{name:v,fn:m}=a[g],{x:y,y:b,data:w,reset:P}=await m({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=b??d,f={...f,[v]:{...f[v],...w}},P&&p<=50&&(p++,typeof P=="object"&&(P.placement&&(h=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:u,y:d}=Lu(c,h,l)),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function rs(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Mn(e,t),p=Cf(f),v=a[h?d==="floating"?"reference":"floating":d],m=vo(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},P=vo(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(m.top-P.top+p.top)/w.y,bottom:(P.bottom-m.bottom+p.bottom)/w.y,left:(m.left-P.left+p.left)/w.x,right:(P.right-m.right+p.right)/w.x}}const Bv=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Mn(t,e)||{};if(c==null)return{};const d=Cf(u),h={x:n,y:r},f=Wl(i),p=Hl(f),g=await o.getDimensions(c),v=f==="y",m=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[f]-h[f]-s.floating[p],P=h[f]-s.reference[f],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let O=k?k[b]:0;(!O||!await(o.isElement==null?void 0:o.isElement(k)))&&(O=a.floating[b]||s.floating[p]);const A=w/2-P/2,R=O/2-g[p]/2-1,N=nr(d[m],R),Z=nr(d[y],R),j=N,re=O-g[p]-Z,$=O/2-g[p]/2+A,V=nl(j,$,re),F=!l.arrow&&fi(i)!=null&&$!==V&&s.reference[p]/2-($<j?N:Z)-g[p]/2<0,T=F?$<j?$-j:$-re:0;return{[f]:h[f]+T,data:{[f]:V,centerOffset:$-V-T,...F&&{alignmentOffset:T}},reset:F}}}),Gv=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=Mn(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=In(i),y=un(a),b=In(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=h||(b||!g?[mo(a)]:Ov(a)),k=p!=="none";!h&&k&&P.push(...Dv(a,g,p,w));const O=[a,...P],A=await rs(e,v),R=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&R.push(A[m]),d){const $=Rv(i,o,w);R.push(A[$[0]],A[$[1]])}if(N=[...N,{placement:i,overflows:R}],!R.every($=>$<=0)){var Z,j;const $=(((Z=s.flip)==null?void 0:Z.index)||0)+1,V=O[$];if(V&&(!(d==="alignment"?y!==un(V):!1)||N.every(E=>un(E.placement)===y?E.overflows[0]>0:!0)))return{data:{index:$,overflows:N},reset:{placement:V}};let F=(j=N.filter(T=>T.overflows[0]<=0).sort((T,E)=>T.overflows[1]-E.overflows[1])[0])==null?void 0:j.placement;if(!F)switch(f){case"bestFit":{var re;const T=(re=N.filter(E=>{if(k){const M=un(E.placement);return M===y||M==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(M=>M>0).reduce((M,K)=>M+K,0)]).sort((E,M)=>E[1]-M[1])[0])==null?void 0:re[0];T&&(F=T);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function Du(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Nu(t){return Av.some(e=>t[e]>=0)}const $v=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Mn(t,e);switch(r){case"referenceHidden":{const s=await rs(e,{...i,elementContext:"reference"}),o=Du(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Nu(o)}}}case"escaped":{const s=await rs(e,{...i,altBoundary:!0}),o=Du(s,n.floating);return{data:{escapedOffsets:o,escaped:Nu(o)}}}default:return{}}}}},Ef=new Set(["left","top"]);async function Vv(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=In(n),a=fi(n),l=un(n)==="y",c=Ef.has(o)?-1:1,u=s&&l?-1:1,d=Mn(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const Hv=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Vv(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Wv=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:m,y}=v;return{x:m,y}}},...l}=Mn(t,e),c={x:n,y:r},u=await rs(e,l),d=un(In(i)),h=Vl(d);let f=c[h],p=c[d];if(s){const v=h==="y"?"top":"left",m=h==="y"?"bottom":"right",y=f+u[v],b=f-u[m];f=nl(y,f,b)}if(o){const v=d==="y"?"top":"left",m=d==="y"?"bottom":"right",y=p+u[v],b=p-u[m];p=nl(y,p,b)}const g=a.fn({...e,[h]:f,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[d]:o}}}}}},zv=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Mn(t,e),u={x:n,y:r},d=un(i),h=Vl(d);let f=u[h],p=u[d];const g=Mn(a,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=h==="y"?"height":"width",w=s.reference[h]-s.floating[b]+v.mainAxis,P=s.reference[h]+s.reference[b]-v.mainAxis;f<w?f=w:f>P&&(f=P)}if(c){var m,y;const b=h==="y"?"width":"height",w=Ef.has(In(i)),P=s.reference[d]-s.floating[b]+(w&&((m=o.offset)==null?void 0:m[d])||0)+(w?0:v.crossAxis),k=s.reference[d]+s.reference[b]+(w?0:((y=o.offset)==null?void 0:y[d])||0)-(w?v.crossAxis:0);p<P?p=P:p>k&&(p=k)}return{[h]:f,[d]:p}}}},jv=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Mn(t,e),u=await rs(e,c),d=In(i),h=fi(i),f=un(i)==="y",{width:p,height:g}=s.floating;let v,m;d==="top"||d==="bottom"?(v=d,m=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=d,v=h==="end"?"top":"bottom");const y=g-u.top-u.bottom,b=p-u.left-u.right,w=nr(g-u[v],y),P=nr(p-u[m],b),k=!e.middlewareData.shift;let O=w,A=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=y),k&&!h){const N=Mt(u.left,0),Z=Mt(u.right,0),j=Mt(u.top,0),re=Mt(u.bottom,0);f?A=p-2*(N!==0||Z!==0?N+Z:Mt(u.left,u.right)):O=g-2*(j!==0||re!==0?j+re:Mt(u.top,u.bottom))}await l({...e,availableWidth:A,availableHeight:O});const R=await o.getDimensions(a.floating);return p!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function Ho(){return typeof window<"u"}function Pr(t){return zl(t)?(t.nodeName||"").toLowerCase():"#document"}function Nt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function yn(t){var e;return(e=(zl(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zl(t){return Ho()?t instanceof Node||t instanceof Nt(t).Node:!1}function Qt(t){return Ho()?t instanceof Element||t instanceof Nt(t).Element:!1}function pn(t){return Ho()?t instanceof HTMLElement||t instanceof Nt(t).HTMLElement:!1}function Fu(t){return!Ho()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nt(t).ShadowRoot}const Uv=new Set(["inline","contents"]);function fs(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Zt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Uv.has(i)}const Yv=new Set(["table","td","th"]);function Xv(t){return Yv.has(Pr(t))}const qv=[":popover-open",":modal"];function Wo(t){return qv.some(e=>{try{return t.matches(e)}catch{return!1}})}const Kv=["transform","translate","scale","rotate","perspective"],Jv=["transform","translate","scale","rotate","perspective","filter"],Qv=["paint","layout","strict","content"];function jl(t){const e=Ul(),n=Qt(t)?Zt(t):t;return Kv.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Jv.some(r=>(n.willChange||"").includes(r))||Qv.some(r=>(n.contain||"").includes(r))}function Zv(t){let e=rr(t);for(;pn(e)&&!ii(e);){if(jl(e))return e;if(Wo(e))return null;e=rr(e)}return null}function Ul(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ey=new Set(["html","body","#document"]);function ii(t){return ey.has(Pr(t))}function Zt(t){return Nt(t).getComputedStyle(t)}function zo(t){return Qt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function rr(t){if(Pr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Fu(t)&&t.host||yn(t);return Fu(e)?e.host:e}function Af(t){const e=rr(t);return ii(e)?t.ownerDocument?t.ownerDocument.body:t.body:pn(e)&&fs(e)?e:Af(e)}function is(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Af(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Nt(i);if(s){const a=il(o);return e.concat(o,o.visualViewport||[],fs(i)?i:[],a&&n?is(a):[])}return e.concat(i,is(i,[],n))}function il(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Pf(t){const e=Zt(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=pn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=go(n)!==s||go(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Yl(t){return Qt(t)?t:t.contextElement}function Jr(t){const e=Yl(t);if(!pn(e))return hn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Pf(e);let o=(s?go(n.width):n.width)/r,a=(s?go(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const ty=hn(0);function kf(t){const e=Nt(t);return!Ul()||!e.visualViewport?ty:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ny(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nt(t)?!1:e}function Cr(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Yl(t);let o=hn(1);e&&(r?Qt(r)&&(o=Jr(r)):o=Jr(t));const a=ny(s,n,r)?kf(s):hn(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Nt(s),f=r&&Qt(r)?Nt(r):r;let p=h,g=il(p);for(;g&&r&&f!==p;){const v=Jr(g),m=g.getBoundingClientRect(),y=Zt(g),b=m.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,w=m.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=b,c+=w,p=Nt(g),g=il(p)}}return vo({width:u,height:d,x:l,y:c})}function jo(t,e){const n=zo(t).scrollLeft;return e?e.left+n:Cr(yn(t)).left+n}function Tf(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-jo(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function ry(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=yn(r),a=e?Wo(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=hn(1);const u=hn(0),d=pn(r);if((d||!d&&!s)&&((Pr(r)!=="body"||fs(o))&&(l=zo(r)),pn(r))){const f=Cr(r);c=Jr(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!d&&!s?Tf(o,l):hn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function iy(t){return Array.from(t.getClientRects())}function sy(t){const e=yn(t),n=zo(t),r=t.ownerDocument.body,i=Mt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Mt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+jo(t);const a=-n.scrollTop;return Zt(r).direction==="rtl"&&(o+=Mt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const Bu=25;function oy(t,e){const n=Nt(t),r=yn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=Ul();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=jo(r);if(c<=0){const u=r.ownerDocument,d=u.body,h=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-f);p<=Bu&&(s-=p)}else c<=Bu&&(s+=c);return{width:s,height:o,x:a,y:l}}const ay=new Set(["absolute","fixed"]);function ly(t,e){const n=Cr(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=pn(t)?Jr(t):hn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function Gu(t,e,n){let r;if(e==="viewport")r=oy(t,n);else if(e==="document")r=sy(yn(t));else if(Qt(e))r=ly(e,n);else{const i=kf(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return vo(r)}function Rf(t,e){const n=rr(t);return n===e||!Qt(n)||ii(n)?!1:Zt(n).position==="fixed"||Rf(n,e)}function cy(t,e){const n=e.get(t);if(n)return n;let r=is(t,[],!1).filter(a=>Qt(a)&&Pr(a)!=="body"),i=null;const s=Zt(t).position==="fixed";let o=s?rr(t):t;for(;Qt(o)&&!ii(o);){const a=Zt(o),l=jl(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&ay.has(i.position)||fs(o)&&!l&&Rf(t,o))?r=r.filter(u=>u!==o):i=a,o=rr(o)}return e.set(t,r),r}function uy(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Wo(e)?[]:cy(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=Gu(e,u,i);return c.top=Mt(d.top,c.top),c.right=nr(d.right,c.right),c.bottom=nr(d.bottom,c.bottom),c.left=Mt(d.left,c.left),c},Gu(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function dy(t){const{width:e,height:n}=Pf(t);return{width:e,height:n}}function hy(t,e,n){const r=pn(e),i=yn(e),s=n==="fixed",o=Cr(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=hn(0);function c(){l.x=jo(i)}if(r||!r&&!s)if((Pr(e)!=="body"||fs(i))&&(a=zo(e)),r){const f=Cr(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?Tf(i,a):hn(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function ba(t){return Zt(t).position==="static"}function $u(t,e){if(!pn(t)||Zt(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return yn(t)===n&&(n=n.ownerDocument.body),n}function Of(t,e){const n=Nt(t);if(Wo(t))return n;if(!pn(t)){let i=rr(t);for(;i&&!ii(i);){if(Qt(i)&&!ba(i))return i;i=rr(i)}return n}let r=$u(t,e);for(;r&&Xv(r)&&ba(r);)r=$u(r,e);return r&&ii(r)&&ba(r)&&!jl(r)?n:r||Zv(t)||n}const fy=async function(t){const e=this.getOffsetParent||Of,n=this.getDimensions,r=await n(t.floating);return{reference:hy(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function py(t){return Zt(t).direction==="rtl"}const gy={convertOffsetParentRelativeRectToViewportRelativeRect:ry,getDocumentElement:yn,getClippingRect:uy,getOffsetParent:Of,getElementRects:fy,getClientRects:iy,getDimensions:dy,getScale:Jr,isElement:Qt,isRTL:py};function Mf(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function my(t,e){let n=null,r;const i=yn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const p=ks(d),g=ks(i.clientWidth-(u+h)),v=ks(i.clientHeight-(d+f)),m=ks(u),b={rootMargin:-p+"px "+-g+"px "+-v+"px "+-m+"px",threshold:Mt(0,nr(1,l))||1};let w=!0;function P(k){const O=k[0].intersectionRatio;if(O!==l){if(!w)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!Mf(c,t.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(P,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,b)}n.observe(t)}return o(!0),s}function vy(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Yl(t),u=i||s?[...c?is(c):[],...is(e)]:[];u.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const d=c&&a?my(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(m=>{let[y]=m;y&&y.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let p,g=l?Cr(t):null;l&&v();function v(){const m=Cr(t);g&&!Mf(g,m)&&n(),g=m,p=requestAnimationFrame(v)}return n(),()=>{var m;u.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),d?.(),(m=f)==null||m.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const yy=Hv,by=Wv,Vu=Gv,wy=jv,_y=$v,xy=Bv,Sy=zv,Cy=(t,e,n)=>{const r=new Map,i={platform:gy,...n},s={...i.platform,_c:r};return Fv(t,e,{...i,platform:s})};function Ey(t){return t!=null&&typeof t=="object"&&"$el"in t}function sl(t){if(Ey(t)){const e=t.$el;return zl(e)&&Pr(e)==="#comment"?null:e}return t}function zr(t){return typeof t=="function"?t():_(t)}function Ay(t){return{name:"arrow",options:t,fn(e){const n=sl(zr(t.element));return n==null?{}:xy({element:n,padding:t.padding}).fn(e)}}}function If(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Hu(t,e){const n=If(t);return Math.round(e*n)/n}function Py(t,e,n){n===void 0&&(n={});const r=n.whileElementsMounted,i=U(()=>{var O;return(O=zr(n.open))!=null?O:!0}),s=U(()=>zr(n.middleware)),o=U(()=>{var O;return(O=zr(n.placement))!=null?O:"bottom"}),a=U(()=>{var O;return(O=zr(n.strategy))!=null?O:"absolute"}),l=U(()=>{var O;return(O=zr(n.transform))!=null?O:!0}),c=U(()=>sl(t.value)),u=U(()=>sl(e.value)),d=z(0),h=z(0),f=z(a.value),p=z(o.value),g=ui({}),v=z(!1),m=U(()=>{const O={position:f.value,left:"0",top:"0"};if(!u.value)return O;const A=Hu(u.value,d.value),R=Hu(u.value,h.value);return l.value?{...O,transform:"translate("+A+"px, "+R+"px)",...If(u.value)>=1.5&&{willChange:"transform"}}:{position:f.value,left:A+"px",top:R+"px"}});let y;function b(){if(c.value==null||u.value==null)return;const O=i.value;Cy(c.value,u.value,{middleware:s.value,placement:o.value,strategy:a.value}).then(A=>{d.value=A.x,h.value=A.y,f.value=A.strategy,p.value=A.placement,g.value=A.middlewareData,v.value=O!==!1})}function w(){typeof y=="function"&&(y(),y=void 0)}function P(){if(w(),r===void 0){b();return}if(c.value!=null&&u.value!=null){y=r(c.value,u.value,b);return}}function k(){i.value||(v.value=!1)}return Ae([s,o,a,i],b,{flush:"sync"}),Ae([c,u],P,{flush:"sync"}),Ae(i,k,{flush:"sync"}),ci()&&ls(w),{x:Lr(d),y:Lr(h),strategy:Lr(f),placement:Lr(p),middlewareData:Lr(g),isPositioned:Lr(v),floatingStyles:m,update:b}}function Dn(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[i=>{const s=Tt(r,i);if(s||s===null)return s;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},i=>(Kr(r,i),i)]}function Xl(t,e,n){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),r.dispatchEvent(i)}function ky(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ty=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const br=ky(Ty);function Ry(t,e){var n;const r=ui();return Bt(()=>{r.value=t()},{...e,flush:(n=void 0)!=null?n:"sync"}),Zr(r)}function ql(t){return ci()?(ls(t),!0):!1}function Oy(t){let e=!1,n;const r=Ao(!0);return(...i)=>(e||(n=r.run(()=>t(...i)),e=!0),n)}function My(t){let e=0,n,r;const i=()=>{e-=1,r&&e<=0&&(r.stop(),n=void 0,r=void 0)};return(...s)=>(e+=1,n||(r=Ao(!0),n=r.run(()=>t(...s))),ql(i),n)}function ps(t){return typeof t=="function"?t():_(t)}const sr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Iy=t=>typeof t<"u",Ly=t=>t!=null,Dy=Object.prototype.toString,Ny=t=>Dy.call(t)==="[object Object]",Fy=()=>{},Wu=By();function By(){var t,e;return sr&&((t=window?.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window?.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function Gy(t){return At()}function $y(t,e){Gy()&&fh(t,e)}function or(t){var e;const n=ps(t);return(e=n?.$el)!=null?e:n}const Uo=sr?window:void 0;function Lf(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=Uo):[e,n,r,i]=t,!e)return Fy;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],o=()=>{s.forEach(u=>u()),s.length=0},a=(u,d,h,f)=>(u.addEventListener(d,h,f),()=>u.removeEventListener(d,h,f)),l=Ae(()=>[or(e),ps(i)],([u,d])=>{if(o(),!u)return;const h=Ny(d)?{...d}:d;s.push(...n.flatMap(f=>r.map(p=>a(u,f,p,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return ql(c),c}function Vy(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function Hy(...t){let e,n,r={};t.length===3?(e=t[0],n=t[1],r=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],r=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:i=Uo,eventName:s="keydown",passive:o=!1,dedupe:a=!1}=r,l=Vy(e);return Lf(i,s,c=>{c.repeat&&ps(a)||l(c)&&n(c)},o)}function Df(){const t=z(!1),e=At();return e&&Qe(()=>{t.value=!0},e),t}function Wy(t){const e=Df();return U(()=>(e.value,!!t()))}function zy(t,e,n={}){const{window:r=Uo,...i}=n;let s;const o=Wy(()=>r&&"MutationObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=U(()=>{const h=ps(t),f=(Array.isArray(h)?h:[h]).map(or).filter(Ly);return new Set(f)}),c=Ae(()=>l.value,h=>{a(),o.value&&h.size&&(s=new MutationObserver(e),h.forEach(f=>s.observe(f,i)))},{immediate:!0,flush:"post"}),u=()=>s?.takeRecords(),d=()=>{a(),c()};return ql(d),{isSupported:o,stop:d,takeRecords:u}}function jy(t){return JSON.parse(JSON.stringify(t))}function Ri(t,e,n,r={}){var i,s,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:h}=r,f=At(),p=n||f?.emit||((i=f?.$emit)==null?void 0:i.bind(f))||((o=(s=f?.proxy)==null?void 0:s.$emit)==null?void 0:o.bind(f?.proxy));let g=c;e||(e="modelValue"),g=g||`update:${e.toString()}`;const v=b=>a?typeof a=="function"?a(b):jy(b):b,m=()=>Iy(t[e])?v(t[e]):d,y=b=>{h?h(b)&&p(g,b):p(g,b)};if(l){const b=m(),w=z(b);let P=!1;return Ae(()=>t[e],k=>{P||(P=!0,w.value=v(k),Ge(()=>P=!1))}),Ae(w,k=>{!P&&(k!==t[e]||u)&&y(k)},{deep:u}),w}else return U({get(){return m()},set(b){y(b)}})}function Kl(t){return t?t.flatMap(e=>e.type===Ye?Kl(e.children):[e]):[]}function Qr(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function wa(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function ol(t,e,n=".",r){if(!wa(e))return ol(t,{},n);const i=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const o=t[s];o!=null&&(Array.isArray(o)&&Array.isArray(i[s])?i[s]=[...o,...i[s]]:wa(o)&&wa(i[s])?i[s]=ol(o,i[s],(n?`${n}.`:"")+s.toString()):i[s]=o)}return i}function Uy(t){return(...e)=>e.reduce((n,r)=>ol(n,r,""),{})}const Yy=Uy(),[Jl]=Dn("ConfigProvider");let Xy="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",qy=(t=21)=>{let e="",n=t;for(;n--;)e+=Xy[Math.random()*64|0];return e};const Ky=My(()=>{const t=z(new Map),e=z(),n=U(()=>{for(const o of t.value.values())if(o)return!0;return!1}),r=Jl({scrollBody:z(!0)});let i=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",Wu&&i?.(),e.value=void 0};return Ae(n,(o,a)=>{var l;if(!sr)return;if(!o){a&&s();return}e.value===void 0&&(e.value=document.body.style.overflow);const c=window.innerWidth-document.documentElement.clientWidth,u={padding:c,margin:0},d=(l=r.scrollBody)!=null&&l.value?typeof r.scrollBody.value=="object"?Yy({padding:r.scrollBody.value.padding===!0?c:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?c:r.scrollBody.value.margin},u):u:{padding:0,margin:0};c>0&&(document.body.style.paddingRight=typeof d.padding=="number"?`${d.padding}px`:String(d.padding),document.body.style.marginRight=typeof d.margin=="number"?`${d.margin}px`:String(d.margin),document.body.style.setProperty("--scrollbar-width",`${c}px`),document.body.style.overflow="hidden"),Wu&&(i=Lf(document,"touchmove",h=>Jy(h),{passive:!1})),Ge(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function Nf(t){const e=qy(6),n=Ky();n.value.set(e,t??!1);const r=U({get:()=>n.value.get(e)??!1,set:i=>n.value.set(e,i)});return $y(()=>{n.value.delete(e)}),r}function Ff(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:Ff(n)}}function Jy(t){const e=t||window.event,n=e.target;return n instanceof Element&&Ff(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.cancelable&&e.preventDefault(),!1)}function Qy(t){const e=Jl({dir:z("ltr")});return U(()=>{var n;return t?.value||((n=e.dir)==null?void 0:n.value)||"ltr"})}function Zy(t){const e=At(),n=e?.type.emits,r={};return n!=null&&n.length||console.warn(`No emitted event found. Please check component: ${e?.type.__name}`),n?.forEach(i=>{r[Us(Rt(i))]=(...s)=>t(i,...s)}),r}let _a=0;function eb(){Bt(t=>{if(!sr)return;const e=document.querySelectorAll("[data-radix-focus-guard]");document.body.insertAdjacentElement("afterbegin",e[0]??zu()),document.body.insertAdjacentElement("beforeend",e[1]??zu()),_a++,t(()=>{_a===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),_a--})})}function zu(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function tb(t){return U(()=>{var e;return ps(t)?!!((e=or(t))!=null&&e.closest("form")):!0})}function Yo(t){const e=At(),n=Object.keys(e?.type.props??{}).reduce((i,s)=>{const o=(e?.type.props[s]).default;return o!==void 0&&(i[s]=o),i},{}),r=eh(t);return U(()=>{const i={},s=e?.vnode.props??{};return Object.keys(s).forEach(o=>{i[Rt(o)]=s[o]}),Object.keys({...n,...i}).reduce((o,a)=>(r.value[a]!==void 0&&(o[a]=r.value[a]),o),{})})}function Nn(t,e){const n=Yo(t),r=e?Zy(e):{};return U(()=>({...n.value,...r}))}function ft(){const t=At(),e=z(),n=U(()=>{var o,a;return["#text","#comment"].includes((o=e.value)==null?void 0:o.$el.nodeName)?(a=e.value)==null?void 0:a.$el.nextElementSibling:or(e)}),r=Object.assign({},t.exposed),i={};for(const o in t.props)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>r[o]});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=i;function s(o){e.value=o,o&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=i)}return{forwardRef:s,currentRef:e,currentElement:n}}var nb=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Fr=new WeakMap,Ts=new WeakMap,Rs={},xa=0,Bf=function(t){return t&&(t.host||Bf(t.parentNode))},rb=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Bf(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ib=function(t,e,n,r){var i=rb(e,Array.isArray(t)?t:[t]);Rs[n]||(Rs[n]=new WeakMap);var s=Rs[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var f=h.getAttribute(r),p=f!==null&&f!=="false",g=(Fr.get(h)||0)+1,v=(s.get(h)||0)+1;Fr.set(h,g),s.set(h,v),o.push(h),g===1&&p&&Ts.set(h,!0),v===1&&h.setAttribute(n,"true"),p||h.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return u(e),a.clear(),xa++,function(){o.forEach(function(d){var h=Fr.get(d)-1,f=s.get(d)-1;Fr.set(d,h),s.set(d,f),h||(Ts.has(d)||d.removeAttribute(r),Ts.delete(d)),f||d.removeAttribute(n)}),xa--,xa||(Fr=new WeakMap,Fr=new WeakMap,Ts=new WeakMap,Rs={})}},sb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=nb(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),ib(r,i,n,"aria-hidden")):function(){return null}};function Gf(t){let e;Ae(()=>or(t),n=>{n?e=sb(n):e&&e()}),zt(()=>{e&&e()})}let ob=0;function ss(t,e="radix"){const n=Jl({useId:void 0});return Tc?`${e}-${Tc()}`:n.useId?`${e}-${n.useId()}`:`${e}-${++ob}`}function ab(t){const e=z(),n=U(()=>{var i;return((i=e.value)==null?void 0:i.width)??0}),r=U(()=>{var i;return((i=e.value)==null?void 0:i.height)??0});return Qe(()=>{const i=or(t);if(i){e.value={width:i.offsetWidth,height:i.offsetHeight};const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,c;if("borderBoxSize"in a){const u=a.borderBoxSize,d=Array.isArray(u)?u[0]:u;l=d.inlineSize,c=d.blockSize}else l=i.offsetWidth,c=i.offsetHeight;e.value={width:l,height:c}});return s.observe(i,{box:"border-box"}),()=>s.unobserve(i)}else e.value=void 0}),{width:n,height:r}}function lb(t,e){const n=z(t);function r(i){return e[n.value][i]??n.value}return{state:n,dispatch:i=>{n.value=r(i)}}}const Ql=ae({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{var r,i;if(!n.default)return null;const s=Kl(n.default()),o=s.findIndex(u=>u.type!==Kt);if(o===-1)return s;const a=s[o];(r=a.props)==null||delete r.ref;const l=a.props?Te(e,a.props):e;e.class&&(i=a.props)!=null&&i.class&&delete a.props.class;const c=er(a,l);for(const u in l)u.startsWith("on")&&(c.props||(c.props={}),c.props[u]=l[u]);return s.length===1?c:(s[o]=c,s)}}}),bt=ae({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&["area","img","input"].includes(r)?()=>Et(r,e):r!=="template"?()=>Et(t.as,e,{default:n.default}):()=>Et(Ql,e,{default:n.default})}});function $f(){const t=z(),e=U(()=>{var n,r;return["#text","#comment"].includes((n=t.value)==null?void 0:n.$el.nodeName)?(r=t.value)==null?void 0:r.$el.nextElementSibling:or(t)});return{primitiveElement:t,currentElement:e}}function cb(t,e){var n;const r=z({}),i=z("none"),s=z(t),o=t.value?"mounted":"unmounted";let a;const l=((n=e.value)==null?void 0:n.ownerDocument.defaultView)??Uo,{state:c,dispatch:u}=lb(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),d=v=>{var m;if(sr){const y=new CustomEvent(v,{bubbles:!1,cancelable:!1});(m=e.value)==null||m.dispatchEvent(y)}};Ae(t,async(v,m)=>{var y;const b=m!==v;if(await Ge(),b){const w=i.value,P=Os(e.value);v?(u("MOUNT"),d("enter"),P==="none"&&d("after-enter")):P==="none"||((y=r.value)==null?void 0:y.display)==="none"?(u("UNMOUNT"),d("leave"),d("after-leave")):m&&w!==P?(u("ANIMATION_OUT"),d("leave")):(u("UNMOUNT"),d("after-leave"))}},{immediate:!0});const h=v=>{const m=Os(e.value),y=m.includes(v.animationName),b=c.value==="mounted"?"enter":"leave";if(v.target===e.value&&y&&(d(`after-${b}`),u("ANIMATION_END"),!s.value)){const w=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",a=l?.setTimeout(()=>{var P;((P=e.value)==null?void 0:P.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=w)})}v.target===e.value&&m==="none"&&u("ANIMATION_END")},f=v=>{v.target===e.value&&(i.value=Os(e.value))},p=Ae(e,(v,m)=>{v?(r.value=getComputedStyle(v),v.addEventListener("animationstart",f),v.addEventListener("animationcancel",h),v.addEventListener("animationend",h)):(u("ANIMATION_END"),a!==void 0&&l?.clearTimeout(a),m?.removeEventListener("animationstart",f),m?.removeEventListener("animationcancel",h),m?.removeEventListener("animationend",h))},{immediate:!0}),g=Ae(c,()=>{const v=Os(e.value);i.value=c.value==="mounted"?v:"none"});return zt(()=>{p(),g()}),{isPresent:U(()=>["mounted","unmountSuspended"].includes(c.value))}}function Os(t){return t&&getComputedStyle(t).animationName||"none"}const Vf=ae({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){var r;const{present:i,forceMount:s}=mn(t),o=z(),{isPresent:a}=cb(i,o);n({present:a});let l=e.default({present:a});l=Kl(l||[]);const c=At();if(l&&l?.length>1){const u=(r=c?.parent)!=null&&r.type.name?`<${c.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(d=>`  - ${d}`).join(`
`)].join(`
`))}return()=>s.value||i.value||a.value?Et(e.default({present:a})[0],{ref:u=>{const d=or(u);return typeof d?.hasAttribute>"u"||(d!=null&&d.hasAttribute("data-radix-popper-content-wrapper")?o.value=d.firstElementChild:o.value=d),d}}):null}}),ub=ae({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=Df();return(n,r)=>_(e)||n.forceMount?(D(),fe(N0,{key:0,to:n.to,disabled:n.disabled},[_e(n.$slots,"default")],8,["to","disabled"])):Le("",!0)}}),db="dismissableLayer.pointerDownOutside",hb="dismissableLayer.focusOutside";function Hf(t,e){const n=e.closest("[data-dismissable-layer]"),r=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),i=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&r===n||i.indexOf(r)<i.indexOf(n))}function fb(t,e){var n;const r=((n=e?.value)==null?void 0:n.ownerDocument)??globalThis?.document,i=z(!1),s=z(()=>{});return Bt(o=>{if(!sr)return;const a=async c=>{const u=c.target;if(e!=null&&e.value){if(Hf(e.value,u)){i.value=!1;return}if(c.target&&!i.value){let d=function(){Xl(db,t,h)};const h={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",s.value),s.value=d,r.addEventListener("click",s.value,{once:!0})):d()}else r.removeEventListener("click",s.value);i.value=!1}},l=window.setTimeout(()=>{r.addEventListener("pointerdown",a)},0);o(()=>{window.clearTimeout(l),r.removeEventListener("pointerdown",a),r.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>i.value=!0}}function pb(t,e){var n;const r=((n=e?.value)==null?void 0:n.ownerDocument)??globalThis?.document,i=z(!1);return Bt(s=>{if(!sr)return;const o=async a=>{e!=null&&e.value&&(await Ge(),!(!e.value||Hf(e.value,a.target))&&a.target&&!i.value&&Xl(hb,t,{originalEvent:a}))};r.addEventListener("focusin",o),s(()=>r.removeEventListener("focusin",o))}),{onFocusCapture:()=>i.value=!0,onBlurCapture:()=>i.value=!1}}const Sn=Ar({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wf=ae({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:i,currentElement:s}=ft(),o=U(()=>{var p;return((p=s.value)==null?void 0:p.ownerDocument)??globalThis.document}),a=U(()=>Sn.layersRoot),l=U(()=>s.value?Array.from(a.value).indexOf(s.value):-1),c=U(()=>Sn.layersWithOutsidePointerEventsDisabled.size>0),u=U(()=>{const p=Array.from(a.value),[g]=[...Sn.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(g);return l.value>=v}),d=fb(async p=>{const g=[...Sn.branches].some(v=>v?.contains(p.target));!u.value||g||(r("pointerDownOutside",p),r("interactOutside",p),await Ge(),p.defaultPrevented||r("dismiss"))},s),h=pb(p=>{[...Sn.branches].some(g=>g?.contains(p.target))||(r("focusOutside",p),r("interactOutside",p),p.defaultPrevented||r("dismiss"))},s);Hy("Escape",p=>{l.value===a.value.size-1&&(r("escapeKeyDown",p),p.defaultPrevented||r("dismiss"))});let f;return Bt(p=>{s.value&&(n.disableOutsidePointerEvents&&(Sn.layersWithOutsidePointerEventsDisabled.size===0&&(f=o.value.body.style.pointerEvents,o.value.body.style.pointerEvents="none"),Sn.layersWithOutsidePointerEventsDisabled.add(s.value)),a.value.add(s.value),p(()=>{n.disableOutsidePointerEvents&&Sn.layersWithOutsidePointerEventsDisabled.size===1&&(o.value.body.style.pointerEvents=f)}))}),Bt(p=>{p(()=>{s.value&&(a.value.delete(s.value),Sn.layersWithOutsidePointerEventsDisabled.delete(s.value))})}),(p,g)=>(D(),fe(_(bt),{ref:_(i),"as-child":p.asChild,as:p.as,"data-dismissable-layer":"",style:en({pointerEvents:c.value?u.value?"auto":"none":void 0}),onFocusCapture:_(h).onFocusCapture,onBlurCapture:_(h).onBlurCapture,onPointerdownCapture:_(d).onPointerDownCapture},{default:oe(()=>[_e(p.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),Sa="focusScope.autoFocusOnMount",Ca="focusScope.autoFocusOnUnmount",ju={bubbles:!1,cancelable:!0};function gb(t,{select:e=!1}={}){const n=Qr();for(const r of t)if(Wn(r,{select:e}),Qr()!==n)return!0}function mb(t){const e=zf(t),n=Uu(e,t),r=Uu(e.reverse(),t);return[n,r]}function zf(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Uu(t,e){for(const n of t)if(!vb(n,{upTo:e}))return n}function vb(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function yb(t){return t instanceof HTMLInputElement&&"select"in t}function Wn(t,{select:e=!1}={}){if(t&&t.focus){const n=Qr();t.focus({preventScroll:!0}),t!==n&&yb(t)&&e&&t.select()}}const bb=Oy(()=>z([]));function wb(){const t=bb();return{add(e){const n=t.value[0];e!==n&&n?.pause(),t.value=Yu(t.value,e),t.value.unshift(e)},remove(e){var n;t.value=Yu(t.value,e),(n=t.value[0])==null||n.resume()}}}function Yu(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function _b(t){return t.filter(e=>e.tagName!=="A")}const xb=ae({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:e}){const n=t,r=e,{currentRef:i,currentElement:s}=ft(),o=z(null),a=wb(),l=Ar({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});Bt(u=>{if(!sr)return;const d=s.value;if(!n.trapped)return;function h(v){if(l.paused||!d)return;const m=v.target;d.contains(m)?o.value=m:Wn(o.value,{select:!0})}function f(v){if(l.paused||!d)return;const m=v.relatedTarget;m!==null&&(d.contains(m)||Wn(o.value,{select:!0}))}function p(v){d.contains(o.value)||Wn(d)}document.addEventListener("focusin",h),document.addEventListener("focusout",f);const g=new MutationObserver(p);d&&g.observe(d,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",f),g.disconnect()})}),Bt(async u=>{const d=s.value;if(await Ge(),!d)return;a.add(l);const h=Qr();if(!d.contains(h)){const f=new CustomEvent(Sa,ju);d.addEventListener(Sa,p=>r("mountAutoFocus",p)),d.dispatchEvent(f),f.defaultPrevented||(gb(_b(zf(d)),{select:!0}),Qr()===h&&Wn(d))}u(()=>{d.removeEventListener(Sa,g=>r("mountAutoFocus",g));const f=new CustomEvent(Ca,ju),p=g=>{r("unmountAutoFocus",g)};d.addEventListener(Ca,p),d.dispatchEvent(f),setTimeout(()=>{f.defaultPrevented||Wn(h??document.body,{select:!0}),d.removeEventListener(Ca,p),a.remove(l)},0)})});function c(u){if(!n.loop&&!n.trapped||l.paused)return;const d=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,h=Qr();if(d&&h){const f=u.currentTarget,[p,g]=mb(f);p&&g?!u.shiftKey&&h===g?(u.preventDefault(),n.loop&&Wn(p,{select:!0})):u.shiftKey&&h===p&&(u.preventDefault(),n.loop&&Wn(g,{select:!0})):h===f&&u.preventDefault()}}return(u,d)=>(D(),fe(_(bt),{ref_key:"currentRef",ref:i,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:c},{default:oe(()=>[_e(u.$slots,"default")]),_:3},8,["as-child","as"]))}}),[jf,Sb]=Dn("PopperRoot"),Uf=ae({inheritAttrs:!1,__name:"PopperRoot",setup(t){const e=z();return Sb({anchor:e,onAnchorChange:n=>e.value=n}),(n,r)=>_e(n.$slots,"default")}}),Cb=ae({__name:"PopperAnchor",props:{element:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n,currentElement:r}=ft(),i=jf();return Bt(()=>{i.onAnchorChange(e.element??r.value)}),(s,o)=>(D(),fe(_(bt),{ref:_(n),as:s.as,"as-child":s.asChild},{default:oe(()=>[_e(s.$slots,"default")]),_:3},8,["as","as-child"]))}});function Eb(t){return t!==null}function Ab(t){return{name:"transformOrigin",options:t,fn(e){var n,r,i;const{placement:s,rects:o,middlewareData:a}=e,l=((n=a.arrow)==null?void 0:n.centerOffset)!==0,c=l?0:t.arrowWidth,u=l?0:t.arrowHeight,[d,h]=al(s),f={start:"0%",center:"50%",end:"100%"}[h],p=(((r=a.arrow)==null?void 0:r.x)??0)+c/2,g=(((i=a.arrow)==null?void 0:i.y)??0)+u/2;let v="",m="";return d==="bottom"?(v=l?f:`${p}px`,m=`${-u}px`):d==="top"?(v=l?f:`${p}px`,m=`${o.floating.height+u}px`):d==="right"?(v=`${-u}px`,m=l?f:`${g}px`):d==="left"&&(v=`${o.floating.width+u}px`,m=l?f:`${g}px`),{data:{x:v,y:m}}}}}function al(t){const[e,n="center"]=t.split("-");return[e,n]}const Pb={side:"bottom",sideOffset:0,align:"center",alignOffset:0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,updatePositionStrategy:"optimized",prioritizePosition:!1},[v_,kb]=Dn("PopperContent"),ll=ae({inheritAttrs:!1,__name:"PopperContent",props:q0({side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},{...Pb}),emits:["placed"],setup(t,{emit:e}){const n=t,r=e,i=jf(),{forwardRef:s,currentElement:o}=ft(),a=z(),l=z(),{width:c,height:u}=ab(l),d=U(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),h=U(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),f=U(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),p=U(()=>({padding:h.value,boundary:f.value.filter(Eb),altBoundary:f.value.length>0})),g=Ry(()=>[yy({mainAxis:n.sideOffset+u.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&Vu({...p.value}),n.avoidCollisions&&by({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?Sy():void 0,...p.value}),!n.prioritizePosition&&n.avoidCollisions&&Vu({...p.value}),wy({...p.value,apply:({elements:N,rects:Z,availableWidth:j,availableHeight:re})=>{const{width:$,height:V}=Z.reference,F=N.floating.style;F.setProperty("--radix-popper-available-width",`${j}px`),F.setProperty("--radix-popper-available-height",`${re}px`),F.setProperty("--radix-popper-anchor-width",`${$}px`),F.setProperty("--radix-popper-anchor-height",`${V}px`)}}),l.value&&Ay({element:l.value,padding:n.arrowPadding}),Ab({arrowWidth:c.value,arrowHeight:u.value}),n.hideWhenDetached&&_y({strategy:"referenceHidden",...p.value})]),{floatingStyles:v,placement:m,isPositioned:y,middlewareData:b}=Py(i.anchor,a,{strategy:"fixed",placement:d,whileElementsMounted:(...N)=>vy(...N,{animationFrame:n.updatePositionStrategy==="always"}),middleware:g}),w=U(()=>al(m.value)[0]),P=U(()=>al(m.value)[1]);mg(()=>{y.value&&r("placed")});const k=U(()=>{var N;return((N=b.value.arrow)==null?void 0:N.centerOffset)!==0}),O=z("");Bt(()=>{o.value&&(O.value=window.getComputedStyle(o.value).zIndex)});const A=U(()=>{var N;return((N=b.value.arrow)==null?void 0:N.x)??0}),R=U(()=>{var N;return((N=b.value.arrow)==null?void 0:N.y)??0});return kb({placedSide:w,onArrowChange:N=>l.value=N,arrowX:A,arrowY:R,shouldHideArrow:k}),(N,Z)=>{var j,re,$;return D(),ee("div",{ref_key:"floatingRef",ref:a,"data-radix-popper-content-wrapper":"",style:en({..._(v),transform:_(y)?_(v).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O.value,"--radix-popper-transform-origin":[(j=_(b).transformOrigin)==null?void 0:j.x,(re=_(b).transformOrigin)==null?void 0:re.y].join(" "),...(($=_(b).hide)==null?void 0:$.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[te(_(bt),Te({ref:_(s)},N.$attrs,{"as-child":n.asChild,as:N.as,"data-side":w.value,"data-align":P.value,style:{animation:_(y)?void 0:"none"}}),{default:oe(()=>[_e(N.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}}),Tb=ae({__name:"VisuallyHidden",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){return ft(),(e,n)=>(D(),fe(_(bt),{as:e.as,"as-child":e.asChild,style:{position:"absolute",border:0,width:"1px",display:"inline-block",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:oe(()=>[_e(e.$slots,"default")]),_:3},8,["as","as-child"]))}}),Rb=ae({__name:"VisuallyHiddenInput",props:{name:{},value:{},required:{type:Boolean},disabled:{type:Boolean}},setup(t){const e=t,n=U(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((r,i)=>typeof r=="object"?Object.entries(r).map(([s,o])=>({name:`[${i}][${e.name}][${s}]`,value:o})):{name:`[${e.name}][${i}]`,value:r}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([r,i])=>({name:`[${e.name}][${r}]`,value:i})):[]);return(r,i)=>(D(!0),ee(Ye,null,On(n.value,s=>(D(),fe(Tb,{key:s.name,as:"input",type:"hidden",hidden:"",readonly:"",name:s.name,value:s.value,required:r.required,disabled:r.disabled},null,8,["name","value","required","disabled"]))),128))}}),Ob="data-radix-vue-collection-item",[Zl,Mb]=Dn("CollectionProvider");function Ib(t=Ob){const e=z(new Map),n=z(),r=Mb({collectionRef:n,itemMap:e,attrName:t}),{getItems:i}=Nb(r),s=U(()=>Array.from(r.itemMap.value.values())),o=U(()=>r.itemMap.value.size);return{getItems:i,reactiveItems:s,itemMapSize:o}}const Lb=ae({name:"CollectionSlot",setup(t,{slots:e}){const n=Zl(),{primitiveElement:r,currentElement:i}=$f();return Ae(i,()=>{n.collectionRef.value=i.value}),()=>Et(Ql,{ref:r},e)}}),Db=ae({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(t,{slots:e,attrs:n}){const r=Zl(),{primitiveElement:i,currentElement:s}=$f();return Bt(o=>{if(s.value){const a=Oo(s.value);r.itemMap.value.set(a,{ref:s.value,value:t.value}),o(()=>r.itemMap.value.delete(a))}}),()=>Et(Ql,{...n,[r.attrName]:"",ref:i},e)}});function Nb(t){const e=t??Zl();return{getItems:()=>{const n=e.collectionRef.value;if(!n)return[];const r=Array.from(n.querySelectorAll(`[${e.attrName}]`));return Array.from(e.itemMap.value.values()).sort((i,s)=>r.indexOf(i.ref)-r.indexOf(s.ref))}}}const[pi,Fb]=Dn("ComboboxRoot"),Bb=ae({__name:"ComboboxRoot",props:{modelValue:{},defaultValue:{},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},searchTerm:{},selectedValue:{},multiple:{type:Boolean},disabled:{type:Boolean},name:{},dir:{},filterFunction:{},displayValue:{},resetSearchTermOnBlur:{type:Boolean,default:!0},resetSearchTermOnSelect:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:modelValue","update:open","update:searchTerm","update:selectedValue"],setup(t,{emit:e}){const n=t,r=e,{multiple:i,disabled:s,dir:o}=mn(n),a=Qy(o),l=Ri(n,"searchTerm",r,{defaultValue:"",passive:n.searchTerm===void 0}),c=Ri(n,"modelValue",r,{defaultValue:n.defaultValue??i.value?[]:void 0,passive:n.modelValue===void 0,deep:!0}),u=Ri(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),d=Ri(n,"selectedValue",r,{defaultValue:void 0,passive:n.selectedValue===void 0});async function h(M){var K,ie;u.value=M,await Ge(),M?(c.value&&(Array.isArray(c.value)&&i.value?d.value=(K=b().find(pe=>{var ye,Re;return((Re=(ye=pe.ref)==null?void 0:ye.dataset)==null?void 0:Re.state)==="checked"}))==null?void 0:K.value:d.value=c.value),await Ge(),(ie=g.value)==null||ie.focus(),re()):(p.value=!1,n.resetSearchTermOnBlur&&A("blur"))}function f(M){if(Array.isArray(c.value)&&i.value){const K=c.value.findIndex(pe=>br(pe,M)),ie=[...c.value];K===-1?ie.push(M):ie.splice(K,1),c.value=ie}else c.value=M,h(!1)}const p=z(!1),g=z(),v=z(),{forwardRef:m,currentElement:y}=ft(),{getItems:b,reactiveItems:w,itemMapSize:P}=Ib("data-radix-vue-combobox-item"),k=z([]);Ae(()=>P.value,()=>{k.value=b().map(M=>M.value)},{immediate:!0,flush:"post"});const O=U(()=>{if(p.value){if(n.filterFunction)return n.filterFunction(k.value,l.value);const M=k.value.filter(K=>typeof K=="string");if(M.length)return M.filter(K=>{var ie;return K.toLowerCase().includes((ie=l.value)==null?void 0:ie.toLowerCase())})}return k.value});function A(M){const K=M==="blur"||M==="select"&&n.resetSearchTermOnSelect;!i.value&&c.value&&!Array.isArray(c.value)?n.displayValue?l.value=n.displayValue(c.value):typeof c.value!="object"?l.value=c.value.toString():K&&(l.value=""):K&&(l.value="")}const R=U(()=>O.value.findIndex(M=>br(M,d.value))),N=U(()=>{var M;return(M=w.value.find(K=>br(K.value,d.value)))==null?void 0:M.ref}),Z=U(()=>JSON.stringify(c.value));Ae(Z,async()=>{await Ge(),await Ge(),A("select")},{immediate:!n.searchTerm}),Ae(()=>[O.value.length,l.value.length],async([M,K],[ie,pe])=>{await Ge(),await Ge(),M&&(pe>K||R.value===-1)&&(d.value=O.value[0])});const j=tb(y);function re(){var M;N.value instanceof Element&&((M=N.value)==null||M.scrollIntoView({block:"nearest"}))}function $(){N.value instanceof Element&&N.value.focus&&N.value.focus()}const V=z(!1);function F(){V.value=!0}function T(){requestAnimationFrame(()=>{V.value=!1})}async function E(M){var K;O.value.length&&d.value&&N.value instanceof Element&&(M.preventDefault(),M.stopPropagation(),V.value||(K=N.value)==null||K.click())}return Fb({searchTerm:l,modelValue:c,onValueChange:f,isUserInputted:p,multiple:i,disabled:s,open:u,onOpenChange:h,filteredOptions:O,contentId:"",inputElement:g,selectedElement:N,onInputElementChange:M=>g.value=M,onInputNavigation:async M=>{const K=R.value;K===0&&M==="up"||K===O.value.length-1&&M==="down"||(K===-1&&O.value.length||M==="home"?d.value=O.value[0]:M==="end"?d.value=O.value[O.value.length-1]:d.value=O.value[M==="up"?K-1:K+1],await Ge(),re(),$(),Ge(()=>{var ie;return(ie=g.value)==null?void 0:ie.focus({preventScroll:!0})}))},onInputEnter:E,onCompositionEnd:T,onCompositionStart:F,selectedValue:d,onSelectedValueChange:M=>d.value=M,parentElement:y,contentElement:v,onContentElementChange:M=>v.value=M}),(M,K)=>(D(),fe(_(Uf),null,{default:oe(()=>[te(_(bt),Te({ref:_(m),style:{pointerEvents:_(u)?"auto":void 0},as:M.as,"as-child":M.asChild,dir:_(a)},M.$attrs),{default:oe(()=>[_e(M.$slots,"default",{open:_(u),modelValue:_(c)}),_(j)&&n.name?(D(),fe(_(Rb),{key:0,name:n.name,value:_(c)},null,8,["name","value"])):Le("",!0)]),_:3},16,["style","as","as-child","dir"])]),_:3}))}}),Gb=ae({__name:"ComboboxInput",props:{type:{default:"text"},disabled:{type:Boolean},autoFocus:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},setup(t){const e=t,n=pi(),{forwardRef:r,currentElement:i}=ft();Qe(()=>{const u=i.value.nodeName==="INPUT"?i.value:i.value.querySelector("input");u&&(n.onInputElementChange(u),setTimeout(()=>{e.autoFocus&&u?.focus()},1))});const s=U(()=>e.disabled||n.disabled.value||!1),o=z();vg(()=>{var u;return o.value=(u=n.selectedElement.value)==null?void 0:u.id});function a(u){n.open.value?n.onInputNavigation(u.key==="ArrowUp"?"up":"down"):n.onOpenChange(!0)}function l(u){n.open.value&&n.onInputNavigation(u.key==="Home"?"home":"end")}function c(u){var d;n.searchTerm.value=(d=u.target)==null?void 0:d.value,n.open.value||n.onOpenChange(!0),n.isUserInputted.value=!0}return(u,d)=>(D(),fe(_(bt),{ref:_(r),as:u.as,"as-child":u.asChild,type:u.type,disabled:s.value,value:_(n).searchTerm.value,"aria-expanded":_(n).open.value,"aria-controls":_(n).contentId,"aria-disabled":s.value??void 0,"aria-activedescendant":o.value,"aria-autocomplete":"list",role:"combobox",autocomplete:"false",onInput:c,onKeydown:[Qs(It(a,["prevent"]),["down","up"]),Qs(_(n).onInputEnter,["enter"]),Qs(It(l,["prevent"]),["home","end"])],onCompositionstart:_(n).onCompositionStart,onCompositionend:_(n).onCompositionEnd},{default:oe(()=>[_e(u.$slots,"default")]),_:3},8,["as","as-child","type","disabled","value","aria-expanded","aria-controls","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),[Yf,$b]=Dn("ComboboxGroup"),Vb=ae({__name:"ComboboxGroup",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,{currentRef:n,currentElement:r}=ft(),i=ss(void 0,"radix-vue-combobox-group"),s=pi(),o=z(!1);function a(){if(!r.value)return;const l=r.value.querySelectorAll("[data-radix-vue-combobox-item]:not([data-hidden])");o.value=!!l.length}return zy(r,()=>{Ge(()=>{a()})},{childList:!0}),Ae(()=>s.searchTerm.value,()=>{Ge(()=>{a()})},{immediate:!0}),$b({id:i}),(l,c)=>Vt((D(),fe(_(bt),Te(e,{ref_key:"currentRef",ref:n,role:"group","aria-labelledby":_(i)}),{default:oe(()=>[_e(l.$slots,"default")]),_:3},16,["aria-labelledby"])),[[Wi,o.value]])}}),Hb=ae({__name:"ComboboxLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t;ft();const n=Yf({id:""});return(r,i)=>(D(),fe(_(bt),Te(e,{id:_(n).id}),{default:oe(()=>[_e(r.$slots,"default")]),_:3},16,["id"]))}}),[y_,Wb]=Dn("ComboboxContent"),zb=ae({__name:"ComboboxContentImpl",props:{position:{default:"inline"},bodyLock:{type:Boolean},dismissable:{type:Boolean,default:!0},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(t,{emit:e}){const n=t,r=e,{position:i}=mn(n),s=pi();Nf(n.bodyLock);const{forwardRef:o,currentElement:a}=ft();Gf(s.parentElement);const l=U(()=>n.position==="popper"?n:{}),c=Yo(l.value);function u(h){s.onSelectedValueChange("")}Qe(()=>{s.onContentElementChange(a.value)});const d={boxSizing:"border-box","--radix-combobox-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-combobox-content-available-width":"var(--radix-popper-available-width)","--radix-combobox-content-available-height":"var(--radix-popper-available-height)","--radix-combobox-trigger-width":"var(--radix-popper-anchor-width)","--radix-combobox-trigger-height":"var(--radix-popper-anchor-height)"};return Wb({position:i}),(h,f)=>(D(),fe(_(Lb),null,{default:oe(()=>[h.dismissable?(D(),fe(_(Wf),{key:0,"as-child":"","disable-outside-pointer-events":h.disableOutsidePointerEvents,onDismiss:f[0]||(f[0]=p=>_(s).onOpenChange(!1)),onFocusOutside:f[1]||(f[1]=p=>{var g;(g=_(s).parentElement.value)!=null&&g.contains(p.target)&&p.preventDefault(),r("focusOutside",p)}),onInteractOutside:f[2]||(f[2]=p=>r("interactOutside",p)),onEscapeKeyDown:f[3]||(f[3]=p=>r("escapeKeyDown",p)),onPointerDownOutside:f[4]||(f[4]=p=>{var g;(g=_(s).parentElement.value)!=null&&g.contains(p.target)&&p.preventDefault(),r("pointerDownOutside",p)})},{default:oe(()=>[(D(),fe(lo(_(i)==="popper"?_(ll):_(bt)),Te({...h.$attrs,..._(c)},{id:_(s).contentId,ref:_(o),role:"listbox","data-state":_(s).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",..._(i)==="popper"?d:{}},onPointerleave:u}),{default:oe(()=>[_e(h.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])):(D(),fe(lo(_(i)==="popper"?_(ll):_(bt)),Te({key:1},{...h.$attrs,...l.value},{id:_(s).contentId,ref:_(o),role:"listbox","data-state":_(s).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",..._(i)==="popper"?d:{}},onPointerleave:u}),{default:oe(()=>[_e(h.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3}))}}),jb=ae({__name:"ComboboxContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},dismissable:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(t,{emit:e}){const n=Nn(t,e),{forwardRef:r}=ft(),i=pi();return i.contentId||(i.contentId=ss(void 0,"radix-vue-combobox-content")),(s,o)=>(D(),fe(_(Vf),{present:s.forceMount||_(i).open.value},{default:oe(()=>[te(zb,Te({..._(n),...s.$attrs},{ref:_(r)}),{default:oe(()=>[_e(s.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),Ub=ae({__name:"ComboboxEmpty",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;ft();const n=pi(),r=U(()=>n.filteredOptions.value.length===0);return(i,s)=>r.value?(D(),fe(_(bt),Eo(Te({key:0},e)),{default:oe(()=>[_e(i.$slots,"default",{},()=>[st("No options")])]),_:3},16)):Le("",!0)}}),[b_,Yb]=Dn("ComboboxItem"),Xb="combobox.select",qb=ae({__name:"ComboboxItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,r=e,{disabled:i}=mn(n),s=pi();Yf({id:"",options:z([])});const{forwardRef:o}=ft(),a=U(()=>{var g,v;return s.multiple.value&&Array.isArray(s.modelValue.value)?(g=s.modelValue.value)==null?void 0:g.some(m=>br(m,n.value)):br((v=s.modelValue)==null?void 0:v.value,n.value)}),l=U(()=>br(s.selectedValue.value,n.value)),c=ss(void 0,"radix-vue-combobox-item"),u=ss(void 0,"radix-vue-combobox-option"),d=U(()=>s.isUserInputted.value?s.searchTerm.value===""||!!s.filteredOptions.value.find(g=>br(g,n.value)):!0);async function h(g){r("select",g),!(g!=null&&g.defaultPrevented)&&!i.value&&g&&s.onValueChange(n.value)}function f(g){if(!g)return;const v={originalEvent:g,value:n.value};Xl(Xb,h,v)}async function p(g){await Ge(),!g.defaultPrevented&&s.onSelectedValueChange(n.value)}if(n.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");return Yb({isSelected:a}),(g,v)=>(D(),fe(_(Db),{value:g.value},{default:oe(()=>[Vt(te(_(bt),{id:_(u),ref:_(o),role:"option",tabindex:"-1","aria-labelledby":_(c),"data-highlighted":l.value?"":void 0,"aria-selected":a.value,"data-state":a.value?"checked":"unchecked","aria-disabled":_(i)||void 0,"data-disabled":_(i)?"":void 0,as:g.as,"as-child":g.asChild,"data-hidden":d.value?void 0:!0,onClick:f,onPointermove:p},{default:oe(()=>[_e(g.$slots,"default",{},()=>[st(tt(g.value),1)])]),_:3},8,["id","aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","as","as-child","data-hidden"]),[[Wi,d.value]])]),_:3},8,["value"]))}}),[gs,Kb]=Dn("PopoverRoot"),Jb=ae({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=e,{modal:i}=mn(n),s=Ri(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),o=z(),a=z(!1);return Kb({contentId:"",modal:i,open:s,onOpenChange:l=>{s.value=l},onOpenToggle:()=>{s.value=!s.value},triggerElement:o,hasCustomAnchor:a}),(l,c)=>(D(),fe(_(Uf),null,{default:oe(()=>[_e(l.$slots,"default",{open:_(s)})]),_:3}))}}),Qb=ae({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=gs(),{forwardRef:r,currentElement:i}=ft();return Qe(()=>{n.triggerElement.value=i.value}),(s,o)=>(D(),fe(lo(_(n).hasCustomAnchor.value?_(bt):_(Cb)),{"as-child":""},{default:oe(()=>[te(_(bt),{ref:_(r),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":_(n).open.value,"aria-controls":_(n).contentId,"data-state":_(n).open.value?"open":"closed",as:s.as,"as-child":e.asChild,onClick:_(n).onOpenToggle},{default:oe(()=>[_e(s.$slots,"default")]),_:3},8,["type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),Zb=ae({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,r)=>(D(),fe(_(ub),Eo(No(e)),{default:oe(()=>[_e(n.$slots,"default")]),_:3},16))}}),Xf=ae({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=Yo(n),{forwardRef:s}=ft(),o=gs();return eb(),(a,l)=>(D(),fe(_(xb),{"as-child":"",loop:"",trapped:a.trapFocus,onMountAutoFocus:l[5]||(l[5]=c=>r("openAutoFocus",c)),onUnmountAutoFocus:l[6]||(l[6]=c=>r("closeAutoFocus",c))},{default:oe(()=>[te(_(Wf),{"as-child":"","disable-outside-pointer-events":a.disableOutsidePointerEvents,onPointerDownOutside:l[0]||(l[0]=c=>r("pointerDownOutside",c)),onInteractOutside:l[1]||(l[1]=c=>r("interactOutside",c)),onEscapeKeyDown:l[2]||(l[2]=c=>r("escapeKeyDown",c)),onFocusOutside:l[3]||(l[3]=c=>r("focusOutside",c)),onDismiss:l[4]||(l[4]=c=>_(o).onOpenChange(!1))},{default:oe(()=>[te(_(ll),Te(_(i),{id:_(o).contentId,ref:_(s),"data-state":_(o).open.value?"open":"closed",role:"dialog",style:{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}),{default:oe(()=>[_e(a.$slots,"default")]),_:3},16,["id","data-state"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),e3=ae({__name:"PopoverContentModal",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=gs(),s=z(!1);Nf(!0);const o=Nn(n,r),{forwardRef:a,currentElement:l}=ft();return Gf(l),(c,u)=>(D(),fe(Xf,Te(_(o),{ref:_(a),"trap-focus":_(i).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:u[0]||(u[0]=It(d=>{var h;r("closeAutoFocus",d),s.value||(h=_(i).triggerElement.value)==null||h.focus()},["prevent"])),onPointerDownOutside:u[1]||(u[1]=d=>{r("pointerDownOutside",d);const h=d.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,p=h.button===2||f;s.value=p}),onFocusOutside:u[2]||(u[2]=It(()=>{},["prevent"]))}),{default:oe(()=>[_e(c.$slots,"default")]),_:3},16,["trap-focus"]))}}),t3=ae({__name:"PopoverContentNonModal",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=gs(),s=z(!1),o=z(!1),a=Nn(n,r);return(l,c)=>(D(),fe(Xf,Te(_(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=u=>{var d;r("closeAutoFocus",u),u.defaultPrevented||(s.value||(d=_(i).triggerElement.value)==null||d.focus(),u.preventDefault()),s.value=!1,o.value=!1}),onInteractOutside:c[1]||(c[1]=async u=>{var d;r("interactOutside",u),u.defaultPrevented||(s.value=!0,u.detail.originalEvent.type==="pointerdown"&&(o.value=!0));const h=u.target;(d=_(i).triggerElement.value)!=null&&d.contains(h)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&o.value&&u.preventDefault()})}),{default:oe(()=>[_e(l.$slots,"default")]),_:3},16))}}),n3=ae({__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=gs(),s=Nn(n,r),{forwardRef:o}=ft();return i.contentId||(i.contentId=ss(void 0,"radix-vue-popover-content")),(a,l)=>(D(),fe(_(Vf),{present:a.forceMount||_(i).open.value},{default:oe(()=>[_(i).modal.value?(D(),fe(e3,Te({key:0},_(s),{ref:_(o)}),{default:oe(()=>[_e(a.$slots,"default")]),_:3},16)):(D(),fe(t3,Te({key:1},_(s),{ref:_(o)}),{default:oe(()=>[_e(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}});function r3(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}r3();const i3=ae({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;return(n,r)=>(D(),fe(_(bt),{as:t.as,"as-child":t.asChild,class:vt(_(tn)(_(s3)({variant:t.variant,size:t.size}),e.class))},{default:oe(()=>[_e(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),s3=F2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o3=ae({__name:"Command",props:{modelValue:{default:""},defaultValue:{},open:{type:Boolean,default:!0},defaultOpen:{type:Boolean},searchTerm:{},selectedValue:{},multiple:{type:Boolean},disabled:{type:Boolean},name:{},dir:{},filterFunction:{},displayValue:{},resetSearchTermOnBlur:{type:Boolean},resetSearchTermOnSelect:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:open","update:searchTerm","update:selectedValue"],setup(t,{emit:e}){const n=t,r=e,i=U(()=>{const{class:o,...a}=n;return a}),s=Nn(i,r);return(o,a)=>(D(),fe(_(Bb),Te(_(s),{class:_(tn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n.class)}),{default:oe(()=>[_e(o.$slots,"default")]),_:3},16,["class"]))}}),a3=ae({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=U(()=>{const{class:r,...i}=e;return i});return(r,i)=>(D(),fe(_(Ub),Te(n.value,{class:_(tn)("py-6 text-center text-sm",e.class)}),{default:oe(()=>[_e(r.$slots,"default")]),_:3},16,["class"]))}}),l3=ae({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(t){const e=t,n=U(()=>{const{class:r,...i}=e;return i});return(r,i)=>(D(),fe(_(Vb),Te(n.value,{class:_(tn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e.class)}),{default:oe(()=>[t.heading?(D(),fe(_(Hb),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:oe(()=>[st(tt(t.heading),1)]),_:1})):Le("",!0),_e(r.$slots,"default")]),_:3},16,["class"]))}}),c3={class:"flex items-center border-b px-3","cmdk-input-wrapper":""},u3=ae({inheritAttrs:!1,__name:"CommandInput",props:{type:{},disabled:{type:Boolean},autoFocus:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=U(()=>{const{class:i,...s}=e;return s}),r=Yo(n);return(i,s)=>(D(),ee("div",c3,[te(_(D2),{class:"mr-2 h-4 w-4 shrink-0 opacity-50"}),te(_(Gb),Te({..._(r),...i.$attrs},{"auto-focus":"",class:_(tn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e.class)}),null,16,["class"])]))}}),d3=ae({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(t,{emit:e}){const n=t,r=e,i=U(()=>{const{class:o,...a}=n;return a}),s=Nn(i,r);return(o,a)=>(D(),fe(_(qb),Te(_(s),{class:_(tn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.class)}),{default:oe(()=>[_e(o.$slots,"default")]),_:3},16,["class"]))}}),h3={role:"presentation"},f3=ae({__name:"CommandList",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},dismissable:{type:Boolean,default:!1},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(t,{emit:e}){const n=t,r=e,i=U(()=>{const{class:o,...a}=n;return a}),s=Nn(i,r);return(o,a)=>(D(),fe(_(jb),Te(_(s),{class:_(tn)("max-h-[300px] overflow-y-auto overflow-x-hidden",n.class)}),{default:oe(()=>[G("div",h3,[_e(o.$slots,"default")])]),_:3},16,["class"]))}}),p3=ae({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const i=Nn(t,e);return(s,o)=>(D(),fe(_(Jb),Eo(No(_(i))),{default:oe(()=>[_e(s.$slots,"default")]),_:3},16))}}),g3=ae({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=U(()=>{const{class:o,...a}=n;return a}),s=Nn(i,r);return(o,a)=>(D(),fe(_(Zb),null,{default:oe(()=>[te(_(n3),Te({..._(s),...o.$attrs},{class:_(tn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:oe(()=>[_e(o.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),m3=ae({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(D(),fe(_(Qb),Eo(No(e)),{default:oe(()=>[_e(n.$slots,"default")]),_:3},16))}});var dt=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},St={searchParams:"URLSearchParams"in dt,iterable:"Symbol"in dt&&"iterator"in Symbol,blob:"FileReader"in dt&&"Blob"in dt&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in dt,arrayBuffer:"ArrayBuffer"in dt};function v3(t){return t&&DataView.prototype.isPrototypeOf(t)}if(St.arrayBuffer)var y3=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b3=ArrayBuffer.isView||function(t){return t&&y3.indexOf(Object.prototype.toString.call(t))>-1};function gi(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function ec(t){return typeof t!="string"&&(t=String(t)),t}function tc(t){var e={next:function(){var n=t.shift();return{done:n===void 0,value:n}}};return St.iterable&&(e[Symbol.iterator]=function(){return e}),e}function ot(t){this.map={},t instanceof ot?t.forEach(function(e,n){this.append(n,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}ot.prototype.append=function(t,e){t=gi(t),e=ec(e);var n=this.map[t];this.map[t]=n?n+", "+e:e};ot.prototype.delete=function(t){delete this.map[gi(t)]};ot.prototype.get=function(t){return t=gi(t),this.has(t)?this.map[t]:null};ot.prototype.has=function(t){return this.map.hasOwnProperty(gi(t))};ot.prototype.set=function(t,e){this.map[gi(t)]=ec(e)};ot.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};ot.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),tc(t)};ot.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),tc(t)};ot.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),tc(t)};St.iterable&&(ot.prototype[Symbol.iterator]=ot.prototype.entries);function Ea(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function qf(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function w3(t){var e=new FileReader,n=qf(e);return e.readAsArrayBuffer(t),n}function _3(t){var e=new FileReader,n=qf(e),r=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=r?r[1]:"utf-8";return e.readAsText(t,i),n}function x3(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function Xu(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Kf(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:St.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:St.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:St.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():St.arrayBuffer&&St.blob&&v3(t)?(this._bodyArrayBuffer=Xu(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):St.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||b3(t))?this._bodyArrayBuffer=Xu(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):St.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},St.blob&&(this.blob=function(){var t=Ea(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=Ea(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(St.blob)return this.blob().then(w3);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=Ea(this);if(t)return t;if(this._bodyBlob)return _3(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x3(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},St.formData&&(this.formData=function(){return this.text().then(E3)}),this.json=function(){return this.text().then(JSON.parse)},this}var S3=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function C3(t){var e=t.toUpperCase();return S3.indexOf(e)>-1?e:t}function Er(t,e){if(!(this instanceof Er))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var n=e.body;if(t instanceof Er){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new ot(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!n&&t._bodyInit!=null&&(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new ot(e.headers)),this.method=C3(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||(function(){if("AbortController"in dt){var s=new AbortController;return s.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Er.prototype.clone=function(){return new Er(this,{body:this._bodyInit})};function E3(t){var e=new FormData;return t.trim().split("&").forEach(function(n){if(n){var r=n.split("="),i=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(s))}}),e}function A3(t){var e=new ot,n=t.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var i=r.split(":"),s=i.shift().trim();if(s){var o=i.join(":").trim();try{e.append(s,o)}catch(a){console.warn("Response "+a.message)}}}),e}Kf.call(Er.prototype);function gn(t,e){if(!(this instanceof gn))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new ot(e.headers),this.url=e.url||"",this._initBody(t)}Kf.call(gn.prototype);gn.prototype.clone=function(){return new gn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ot(this.headers),url:this.url})};gn.error=function(){var t=new gn(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var P3=[301,302,303,307,308];gn.redirect=function(t,e){if(P3.indexOf(e)===-1)throw new RangeError("Invalid status code");return new gn(null,{status:e,headers:{location:t}})};var mr=dt.DOMException;try{new mr}catch{mr=function(e,n){this.message=e,this.name=n;var r=Error(e);this.stack=r.stack},mr.prototype=Object.create(Error.prototype),mr.prototype.constructor=mr}function Jf(t,e){return new Promise(function(n,r){var i=new Er(t,e);if(i.signal&&i.signal.aborted)return r(new mr("Aborted","AbortError"));var s=new XMLHttpRequest;function o(){s.abort()}s.onload=function(){var c={statusText:s.statusText,headers:A3(s.getAllResponseHeaders()||"")};i.url.indexOf("file://")===0&&(s.status<200||s.status>599)?c.status=200:c.status=s.status,c.url="responseURL"in s?s.responseURL:c.headers.get("X-Request-URL");var u="response"in s?s.response:s.responseText;setTimeout(function(){n(new gn(u,c))},0)},s.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},s.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"))},0)},s.onabort=function(){setTimeout(function(){r(new mr("Aborted","AbortError"))},0)};function a(c){try{return c===""&&dt.location.href?dt.location.href:c}catch{return c}}if(s.open(i.method,a(i.url),!0),i.credentials==="include"?s.withCredentials=!0:i.credentials==="omit"&&(s.withCredentials=!1),"responseType"in s&&(St.blob?s.responseType="blob":St.arrayBuffer&&(s.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof ot||dt.Headers&&e.headers instanceof dt.Headers)){var l=[];Object.getOwnPropertyNames(e.headers).forEach(function(c){l.push(gi(c)),s.setRequestHeader(c,ec(e.headers[c]))}),i.headers.forEach(function(c,u){l.indexOf(u)===-1&&s.setRequestHeader(u,c)})}else i.headers.forEach(function(c,u){s.setRequestHeader(u,c)});i.signal&&(i.signal.addEventListener("abort",o),s.onreadystatechange=function(){s.readyState===4&&i.signal.removeEventListener("abort",o)}),s.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}Jf.polyfill=!0;dt.fetch||(dt.fetch=Jf,dt.Headers=ot,dt.Request=Er,dt.Response=gn);const Qf="11434",Zf=`http://127.0.0.1:${Qf}`,k3="0.5.18";var T3=Object.defineProperty,R3=(t,e,n)=>e in t?T3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Aa=(t,e,n)=>(R3(t,typeof e!="symbol"?e+"":e,n),n);class nc extends Error{constructor(e,n){super(e),this.error=e,this.status_code=n,this.name="ResponseError",Error.captureStackTrace&&Error.captureStackTrace(this,nc)}}class O3{constructor(e,n,r){Aa(this,"abortController"),Aa(this,"itr"),Aa(this,"doneCallback"),this.abortController=e,this.itr=n,this.doneCallback=r}abort(){this.abortController.abort()}async*[Symbol.asyncIterator](){for await(const e of this.itr){if("error"in e)throw new Error(e.error);if(yield e,e.done||e.status==="success"){this.doneCallback();return}}throw new Error("Did not receive done or success response in stream.")}}const rc=async t=>{if(t.ok)return;let e=`Error ${t.status}: ${t.statusText}`,n=null;if(t.headers.get("content-type")?.includes("application/json"))try{n=await t.json(),e=n.error||e}catch{console.log("Failed to parse error response as JSON")}else try{console.log("Getting text from response"),e=await t.text()||e}catch{console.log("Failed to get text from error response")}throw new nc(e,t.status)};function M3(){if(typeof window<"u"&&window.navigator){const t=navigator;return"userAgentData"in t&&t.userAgentData?.platform?`${t.userAgentData.platform.toLowerCase()} Browser/${navigator.userAgent};`:navigator.platform?`${navigator.platform.toLowerCase()} Browser/${navigator.userAgent};`:`unknown Browser/${navigator.userAgent};`}else if(typeof process<"u")return`${process.arch} ${process.platform} Node.js/${process.version}`;return""}function I3(t){if(t instanceof Headers){const e={};return t.forEach((n,r)=>{e[r]=n}),e}else return Array.isArray(t)?Object.fromEntries(t):t||{}}const ic=async(t,e,n={})=>{const r={"Content-Type":"application/json",Accept:"application/json","User-Agent":`ollama-js/${k3} (${M3()})`};n.headers=I3(n.headers);const i=Object.fromEntries(Object.entries(n.headers).filter(([s])=>!Object.keys(r).some(o=>o.toLowerCase()===s.toLowerCase())));return n.headers={...r,...i},t(e,n)},qu=async(t,e,n)=>{const r=await ic(t,e,{headers:n?.headers});return await rc(r),r},Br=async(t,e,n,r)=>{const s=(a=>a!==null&&typeof a=="object"&&!Array.isArray(a))(n)?JSON.stringify(n):n,o=await ic(t,e,{method:"POST",body:s,signal:r?.signal,headers:r?.headers});return await rc(o),o},L3=async(t,e,n,r)=>{const i=await ic(t,e,{method:"DELETE",body:JSON.stringify(n),headers:r?.headers});return await rc(i),i},D3=async function*(t){const e=new TextDecoder("utf-8");let n="";const r=t.getReader();for(;;){const{done:i,value:s}=await r.read();if(i)break;n+=e.decode(s);const o=n.split(`
`);n=o.pop()??"";for(const a of o)try{yield JSON.parse(a)}catch{console.warn("invalid json: ",a)}}for(const i of n.split(`
`).filter(s=>s!==""))try{yield JSON.parse(i)}catch{console.warn("invalid json: ",i)}},N3=t=>{if(!t)return Zf;let e=t.includes("://");t.startsWith(":")&&(t=`http://127.0.0.1${t}`,e=!0),e||(t=`http://${t}`);const n=new URL(t);let r=n.port;r||(e?r=n.protocol==="https:"?"443":"80":r=Qf);let i="";n.username&&(i=n.username,n.password&&(i+=`:${n.password}`),i+="@");let s=`${n.protocol}//${i}${n.hostname}:${r}${n.pathname}`;return s.endsWith("/")&&(s=s.slice(0,-1)),s};var F3=Object.defineProperty,B3=(t,e,n)=>e in t?F3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pa=(t,e,n)=>(B3(t,typeof e!="symbol"?e+"":e,n),n);let cl=class{constructor(e){Pa(this,"config"),Pa(this,"fetch"),Pa(this,"ongoingStreamedRequests",[]),this.config={host:"",headers:e?.headers},e?.proxy||(this.config.host=N3(e?.host??Zf)),this.fetch=e?.fetch??fetch}abort(){for(const e of this.ongoingStreamedRequests)e.abort();this.ongoingStreamedRequests.length=0}async processStreamableRequest(e,n){n.stream=n.stream??!1;const r=`${this.config.host}/api/${e}`;if(n.stream){const s=new AbortController,o=await Br(this.fetch,r,n,{signal:s.signal,headers:this.config.headers});if(!o.body)throw new Error("Missing body");const a=D3(o.body),l=new O3(s,a,()=>{const c=this.ongoingStreamedRequests.indexOf(l);c>-1&&this.ongoingStreamedRequests.splice(c,1)});return this.ongoingStreamedRequests.push(l),l}return await(await Br(this.fetch,r,n,{headers:this.config.headers})).json()}async encodeImage(e){if(typeof e!="string"){const n=new Uint8Array(e);let r="";const i=n.byteLength;for(let s=0;s<i;s++)r+=String.fromCharCode(n[s]);return btoa(r)}return e}async generate(e){return e.images&&(e.images=await Promise.all(e.images.map(this.encodeImage.bind(this)))),this.processStreamableRequest("generate",e)}async chat(e){if(e.messages)for(const n of e.messages)n.images&&(n.images=await Promise.all(n.images.map(this.encodeImage.bind(this))));return this.processStreamableRequest("chat",e)}async create(e){return this.processStreamableRequest("create",{...e})}async pull(e){return this.processStreamableRequest("pull",{name:e.model,stream:e.stream,insecure:e.insecure})}async push(e){return this.processStreamableRequest("push",{name:e.model,stream:e.stream,insecure:e.insecure})}async delete(e){return await L3(this.fetch,`${this.config.host}/api/delete`,{name:e.model},{headers:this.config.headers}),{status:"success"}}async copy(e){return await Br(this.fetch,`${this.config.host}/api/copy`,{...e},{headers:this.config.headers}),{status:"success"}}async list(){return await(await qu(this.fetch,`${this.config.host}/api/tags`,{headers:this.config.headers})).json()}async show(e){return await(await Br(this.fetch,`${this.config.host}/api/show`,{...e},{headers:this.config.headers})).json()}async embed(e){return await(await Br(this.fetch,`${this.config.host}/api/embed`,{...e},{headers:this.config.headers})).json()}async embeddings(e){return await(await Br(this.fetch,`${this.config.host}/api/embeddings`,{...e},{headers:this.config.headers})).json()}async ps(){return await(await qu(this.fetch,`${this.config.host}/api/ps`,{headers:this.config.headers})).json()}};new cl;function Gr(t){return t?t.startsWith("#")?parseInt(t.replace("#","0x")):{red:16711680,green:65280,blue:255,white:16777215,black:0,yellow:16776960,transparent:0}[t.toLowerCase()]||16777215:16777215}const G3=Math.PI/180;function $3(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const wr=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},ne={_global:wr,version:"10.0.12",isBrowser:$3(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return ne.angleDeg?t*G3:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return ne.DD.isDragging},isTransforming(){var t,e;return(e=(t=ne.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!ne.DD.node},releaseCanvasOnDestroy:!0,document:wr.document,_injectGlobal(t){typeof wr.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),wr.Konva=t}},Ze=t=>{ne[t.prototype.getClassName()]=t};ne._injectGlobal(ne);const V3=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,Ku=()=>{if(typeof document>"u")throw new Error(V3)};class Lt{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new Lt(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.m[0]*n+this.m[2]*r,s=this.m[1]*n+this.m[3]*r,o=this.m[0]*-r+this.m[2]*n,a=this.m[1]*-r+this.m[3]*n;return this.m[0]=i,this.m[1]=s,this.m[2]=o,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const r=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,s=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=s,this.m[3]=o,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],s=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=a,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,s=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=a,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],s=this.m[4],o=this.m[5],a=e*i-n*r,l={x:s,y:o,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const c=Math.sqrt(e*e+n*n);l.rotation=n>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=a/c,l.skewX=(e*r+n*i)/a,l.skewY=0}else if(r!=0||i!=0){const c=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/c):-Math.acos(r/c)),l.scaleX=a/c,l.scaleY=c,l.skewX=0,l.skewY=(e*r+n*i)/a}return l.rotation=I._getRotation(l.rotation),l}}const H3="[object Array]",W3="[object Number]",z3="[object String]",j3="[object Boolean]",U3=Math.PI/180,Y3=180/Math.PI,Si="#",X3="",q3="0",K3="Konva warning: ",Ju="Konva error: ",J3="rgb(",ka={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},Q3=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let Ms=[],Ci=null;const Z3=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},I={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===H3},_isNumber(t){return Object.prototype.toString.call(t)===W3&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===z3},_isBoolean(t){return Object.prototype.toString.call(t)===j3},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){Ms.push(t),Ms.length===1&&Z3(function(){const e=Ms;Ms=[],e.forEach(function(n){n()})})},createCanvasElement(){Ku();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return Ku(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=I.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(Si,X3);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=q3+t;return Si+t},isCanvasFarblingActive(){if(Ci!==null)return Ci;if(typeof document>"u")return Ci=!1,!1;const t=this.createCanvasElement();t.width=10,t.height=10;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,10,10),e.fillStyle="#282828",e.fillRect(0,0,10,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=0;i<100;i++)if(n[i*4]!==40||n[i*4+1]!==40||n[i*4+2]!==40||n[i*4+3]!==255){r=!0;break}return Ci=r,this.releaseCanvas(t),Ci},getHitColor(){const t=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(t):t},getHitColorKey(t,e,n){return this.isCanvasFarblingActive()&&(t=Math.round(t/5)*5,e=Math.round(e/5)*5,n=Math.round(n/5)*5),Si+this._rgbToHex(t,e,n)},getSnappedHexColor(t){const e=this._hexToRgb(t);return Si+this._rgbToHex(Math.round(e.r/5)*5,Math.round(e.g/5)*5,Math.round(e.b/5)*5)},getRGB(t){let e;return t in ka?(e=ka[t],{r:e[0],g:e[1],b:e[2]}):t[0]===Si?this._hexToRgb(t.substring(1)):t.substr(0,4)===J3?(e=Q3.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",I._namedColorToRBA(t)||I._hex3ColorToRGBA(t)||I._hex4ColorToRGBA(t)||I._hex6ColorToRGBA(t)||I._hex8ColorToRGBA(t)||I._rgbColorToRGBA(t)||I._rgbaColorToRGBA(t)||I._hslColorToRGBA(t)},_namedColorToRBA(t){const e=ka[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,i=Number(n[1])/100,s=Number(n[2])/100;let o,a,l;if(i===0)return l=s*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};s<.5?o=s*(1+i):o=s+i-s*i;const c=2*s-o,u=[0,0,0];for(let d=0;d<3;d++)a=r+1/3*-(d-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(o-c)*6*a:2*a<1?l=o:3*a<2?l=c+(o-c)*(2/3-a)*6:l=c,u[d]=l*255;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*U3},radToDeg(t){return t*Y3},_degToRad(t){return I.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),I.degToRad(t)},_radToDeg(t){return I.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),I.radToDeg(t)},_getRotation(t){return ne.angleDeg?I.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(Ju+t)},error(t){console.error(Ju+t)},warn(t){ne.showWarnings&&console.warn(K3+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,i,s){let o,a,l;const c=(t-n)*(t-n)+(e-r)*(e-r);if(c==0)o=t,a=e,l=(i-n)*(i-n)+(s-r)*(s-r);else{const u=((i-t)*(n-t)+(s-e)*(r-e))/c;u<0?(o=t,a=e,l=(t-i)*(t-i)+(e-s)*(e-s)):u>1?(o=n,a=r,l=(n-i)*(n-i)+(r-s)*(r-s)):(o=t+u*(n-t),a=e+u*(r-e),l=(o-i)*(o-i)+(a-s)*(a-s))}return[o,a,l]},_getProjectionToLine(t,e,n){const r=I.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(s,o){if(!n&&o===e.length-1)return;const a=e[(o+1)%e.length],l=I._getProjectionToSegment(s.x,s.y,a.x,a.y,t.x,t.y),c=l[0],u=l[1],d=l[2];d<i&&(r.x=c,r.y=u,i=d)}),r},_prepareArrayForTween(t,e,n){const r=[],i=[];if(t.length>e.length){const o=e;e=t,t=o}for(let o=0;o<t.length;o+=2)r.push({x:t[o],y:t[o+1]});for(let o=0;o<e.length;o+=2)i.push({x:e[o],y:e[o+1]});const s=[];return i.forEach(function(o){const a=I._getProjectionToLine(o,r,n);s.push(a.x),s.push(a.y)}),s},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||I._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(I._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){ne.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let i=e<0?e:0,s=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let o=0,a=0,l=0,c=0;typeof r=="number"?o=a=l=c=Math.min(r,e/2,n/2):(o=Math.min(r[0]||0,e/2,n/2),a=Math.min(r[1]||0,e/2,n/2),c=Math.min(r[2]||0,e/2,n/2),l=Math.min(r[3]||0,e/2,n/2)),t.moveTo(i+o,s),t.lineTo(i+e-a,s),t.arc(i+e-a,s+a,a,Math.PI*3/2,0,!1),t.lineTo(i+e,s+n-c),t.arc(i+e-c,s+n-c,c,0,Math.PI/2,!1),t.lineTo(i+l,s+n),t.arc(i+l,s+n-l,l,Math.PI/2,Math.PI,!1),t.lineTo(i,s+o),t.arc(i+o,s+o,o,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,r,i){r=Math.abs(r);for(let s=0;s<n;s++){const o=e[(s-1+n)%n],a=e[s],l=e[(s+1)%n],c={x:a.x-o.x,y:a.y-o.y},u={x:l.x-a.x,y:l.y-a.y},d=Math.hypot(c.x,c.y),h=Math.hypot(u.x,u.y);let f;typeof i=="number"?f=i:f=s<i.length?i[s]:0,f=r*Math.cos(Math.PI/n)*Math.min(1,f/r*2);const g={x:c.x/d,y:c.y/d},v={x:u.x/h,y:u.y/h},m={x:a.x-g.x*f,y:a.y-g.y*f},y={x:a.x+v.x*f,y:a.y+v.y*f};s===0?t.moveTo(m.x,m.y):t.lineTo(m.x,m.y),t.arcTo(a.x,a.y,y.x,y.y,f)}}};function e4(t){const e=[],n=t.length,r=I;for(let i=0;i<n;i++){let s=t[i];r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s+""),e.push(s)}return e}const Qu=",",t4="(",n4=")",r4="([",i4="])",s4=";",o4="()",a4="=",Zu=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],l4=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],c4=100;let Is=null;function ed(){if(Is!==null)return Is;try{const e=I.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(Is=!1,!1)}catch{return Is=!1,!1}}class Xo{constructor(e){this.canvas=e,ne.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,i=r.length,s="",o,a,l,c;for(o=0;o<i;o++)a=r[o],l=a.method,l?(c=a.args,s+=l,e?s+=o4:I._isArray(c[0])?s+=r4+c.join(Qu)+i4:(n&&(c=c.map(u=>typeof u=="number"?Math.floor(u):u)),s+=t4+c.join(Qu)+n4)):(s+=a.property,e||(s+=a4+a.val)),s+=s4;return s}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=c4&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,s,o){this._context.arc(e,n,r,i,s,o)}arcTo(e,n,r,i,s){this._context.arcTo(e,n,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,s,o){this._context.bezierCurveTo(e,n,r,i,s,o)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,s,o){return this._context.createRadialGradient(e,n,r,i,s,o)}drawImage(e,n,r,i,s,o,a,l,c){const u=arguments,d=this._context;u.length===3?d.drawImage(e,n,r):u.length===5?d.drawImage(e,n,r,i,s):u.length===9&&d.drawImage(e,n,r,i,s,o,a,l,c)}ellipse(e,n,r,i,s,o,a,l){this._context.ellipse(e,n,r,i,s,o,a,l)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}roundRect(e,n,r,i,s){this._context.roundRect(e,n,r,i,s)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,s,o){this._context.setTransform(e,n,r,i,s,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,s,o){this._context.transform(e,n,r,i,s,o)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=Zu.length,r=this.setAttr,i,s;const o=function(a){let l=e[a],c;e[a]=function(){return s=e4(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:s}),c}};for(i=0;i<n;i++)o(Zu[i]);e.setAttr=function(){r.apply(e,arguments);const a=arguments[0];let l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}l4.forEach(function(t){Object.defineProperty(Xo.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class u4 extends Xo{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}const s=e.getFillLinearGradientColorStops();if(s&&r==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(let o=0;o<i.length;o+=2)s.addColorStop(i[o],i[o+1]);this.setAttr("strokeStyle",s)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i;const s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",o=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),u=l.x*c,d=l.y*c;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",o*Math.min(Math.abs(u),Math.abs(d))),this.setAttr("shadowOffsetX",a.x*u),this.setAttr("shadowOffsetY",a.y*d)}}class d4 extends Xo{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let Ls;function h4(){if(Ls)return Ls;const t=I.createCanvasElement(),e=t.getContext("2d");return Ls=(function(){const n=ne._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r})(),I.releaseCanvas(t),Ls}class sc{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||ne.pixelRatio||h4();this.pixelRatio=r,this._canvas=I.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return I.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class Kn extends sc{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new u4(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}class oc extends sc{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new d4(this),this.setSize(e.width,e.height)}}const De={get isDragging(){let t=!1;return De._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return De._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];De._dragElements.forEach((n,r)=>{const{node:i}=n,s=i.getStage();s.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=I._getFirstPointerId(t));const o=s._changedPointerPositions.find(a=>a.id===n.pointerId);if(o){if(n.dragStatus!=="dragging"){const a=i.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<a||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];De._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(a=>a.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(De.justDragged=!0,ne._mouseListenClick=!1,ne._touchListenClick=!1,ne._pointerListenClick=!1,n.dragStatus="stopped");const o=n.node.getLayer()||n.node instanceof ne.Stage&&n.node;o&&e.indexOf(o)===-1&&e.push(o)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){De._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&De._dragElements.delete(n)})}};ne.isBrowser&&(window.addEventListener("mouseup",De._endDragBefore,!0),window.addEventListener("touchend",De._endDragBefore,!0),window.addEventListener("touchcancel",De._endDragBefore,!0),window.addEventListener("mousemove",De._drag),window.addEventListener("touchmove",De._drag),window.addEventListener("mouseup",De._endDragAfter,!1),window.addEventListener("touchend",De._endDragAfter,!1),window.addEventListener("touchcancel",De._endDragAfter,!1));function ar(t){return I._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||I._isBoolean(t)?t:Object.prototype.toString.call(t)}function ep(t){return t>255?255:t<0?0:Math.round(t)}function J(){if(ne.isUnminified)return function(t,e){return I._isNumber(t)||I.warn(ar(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function qo(t){if(ne.isUnminified)return function(e,n){let r=I._isNumber(e),i=I._isArray(e)&&e.length==t;return!r&&!i&&I.warn(ar(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function ac(){if(ne.isUnminified)return function(t,e){return I._isNumber(t)||t==="auto"||I.warn(ar(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function kr(){if(ne.isUnminified)return function(t,e){return I._isString(t)||I.warn(ar(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function tp(){if(ne.isUnminified)return function(t,e){const n=I._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||I.warn(ar(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function f4(){if(ne.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(I._isArray(t)?t.forEach(function(r){I._isNumber(r)||I.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):I.warn(ar(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function nn(){if(ne.isUnminified)return function(t,e){return t===!0||t===!1||I.warn(ar(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function p4(t){if(ne.isUnminified)return function(e,n){return e==null||I.isObject(e)||I.warn(ar(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const Ei="get",Ai="set",S={addGetterSetter(t,e,n,r,i){S.addGetter(t,e,n),S.addSetter(t,e,r,i),S.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const r=Ei+I._capitalize(e);t.prototype[r]=t.prototype[r]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,r){const i=Ai+I._capitalize(e);t.prototype[i]||S.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){const i=Ai+I._capitalize(e);t.prototype[i]=function(s){return n&&s!==void 0&&s!==null&&(s=n.call(this,s,e)),this._setAttr(e,s),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,i){const s=n.length,o=I._capitalize,a=Ei+o(e),l=Ai+o(e);t.prototype[a]=function(){const u={};for(let d=0;d<s;d++){const h=n[d];u[h]=this.getAttr(e+o(h))}return u};const c=p4(n);t.prototype[l]=function(u){const d=this.attrs[e];r&&(u=r.call(this,u,e)),c&&c.call(this,u,e);for(const h in u)u.hasOwnProperty(h)&&this._setAttr(e+o(h),u[h]);return u||n.forEach(h=>{this._setAttr(e+o(h),void 0)}),this._fireChangeEvent(e,d,u),i&&i.call(this),this},S.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=I._capitalize(e),r=Ai+n,i=Ei+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,r){I.error("Adding deprecated "+e);const i=Ei+I._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){I.error(s);const o=this.attrs[e];return o===void 0?n:o},S.addSetter(t,e,r,function(){I.error(s)}),S.addOverloadedGetterSetter(t,e)},backCompat(t,e){I.each(e,function(n,r){const i=t.prototype[r],s=Ei+I._capitalize(n),o=Ai+I._capitalize(n);function a(){i.apply(this,arguments),I.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=a,t.prototype[s]=a,t.prototype[o]=a})},afterSetFilter(){this._filterUpToDate=!1}};function g4(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,r,i]=n;switch(r){case"blur":{const s=parseFloat(i.replace("px",""));return function(o){this.blurRadius(s*.5);const a=ne.Filters;a&&a.Blur&&a.Blur.call(this,o)}}case"brightness":{const s=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(o){this.brightness(s);const a=ne.Filters;a&&a.Brightness&&a.Brightness.call(this,o)}}case"contrast":{const s=parseFloat(i);return function(o){const a=100*(Math.sqrt(s)-1);this.contrast(a);const l=ne.Filters;l&&l.Contrast&&l.Contrast.call(this,o)}}case"grayscale":return function(s){const o=ne.Filters;o&&o.Grayscale&&o.Grayscale.call(this,s)};case"sepia":return function(s){const o=ne.Filters;o&&o.Sepia&&o.Sepia.call(this,s)};case"invert":return function(s){const o=ne.Filters;o&&o.Invert&&o.Invert.call(this,s)};default:I.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const Zs="absoluteOpacity",Ds="allEventListeners",Cn="absoluteTransform",td="absoluteScale",pr="canvas",m4="Change",v4="children",y4="konva",ul="listening",b4="mouseenter",w4="mouseleave",_4="pointerenter",x4="pointerleave",S4="touchenter",C4="touchleave",nd="set",rd="Shape",eo=" ",id="stage",zn="transform",E4="Stage",dl="visible",A4=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(eo);let P4=1,Q=class hl{constructor(e){this._id=P4++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===zn||e===Cn)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===zn||e===Cn)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(s=>s+"Change.konva").join(eo);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(pr)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Cn&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(pr)){const{scene:e,filter:n,hit:r,buffer:i}=this._cache.get(pr);I.releaseCanvas(e,n,r,i),this._cache.delete(pr)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||r.width),s=Math.ceil(n.height||r.height),o=n.pixelRatio,a=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,c=n.offset||0,u=n.drawBorder||!1,d=n.hitCanvasPixelRatio||1;if(!i||!s){I.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const h=Math.abs(Math.round(r.x)-a)>.5?1:0,f=Math.abs(Math.round(r.y)-l)>.5?1:0;i+=c*2+h,s+=c*2+f,a-=c,l-=c;const p=new Kn({pixelRatio:o,width:i,height:s}),g=new Kn({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),v=new oc({pixelRatio:d,width:i,height:s}),m=p.getContext(),y=v.getContext(),b=new Kn({width:p.width/p.pixelRatio+Math.abs(a),height:p.height/p.pixelRatio+Math.abs(l),pixelRatio:p.pixelRatio}),w=b.getContext();return v.isCache=!0,p.isCache=!0,this._cache.delete(pr),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(p.getContext()._context.imageSmoothingEnabled=!1,g.getContext()._context.imageSmoothingEnabled=!1),m.save(),y.save(),w.save(),m.translate(-a,-l),y.translate(-a,-l),w.translate(-a,-l),b.x=a,b.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Zs),this._clearSelfAndDescendantCache(td),this.drawScene(p,this,b),this.drawHit(v,this),this._isUnderCache=!1,m.restore(),y.restore(),u&&(m.save(),m.beginPath(),m.rect(0,0,i,s),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set(pr,{scene:p,filter:g,hit:v,buffer:b,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(pr)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,s=1/0,o=-1/0,a=-1/0;const l=this.getAbsoluteTransform(n);return r.forEach(function(c){const u=l.point(c);i===void 0&&(i=o=u.x,s=a=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}),{x:i,y:s,width:o-i,height:a-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,s=i.getContext(),o,a,l,c;if(!e||e.length===0)return r;if(this._filterUpToDate)return i;let u=!0;for(let h=0;h<e.length;h++)if(typeof e[h]=="string"&&ed(),typeof e[h]!="string"||!ed()){u=!1;break}const d=r.pixelRatio;if(i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),u){const h=e.join(" ");return s.save(),s.setAttr("filter",h),s.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),s.restore(),this._filterUpToDate=!0,i}try{for(o=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),a=s.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<o;l++)c=e[l],typeof c=="string"&&(c=g4(c)),c.call(this,a),s.putImageData(a,0,0)}catch(h){I.error("Unable to apply filter. "+h.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(Ds),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(eo);for(let i=0;i<r.length;i++){const o=r[i].split("."),a=o[0],l=o[1]||"";this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:l,handler:n})}return this}off(e,n){let r=(e||"").split(eo),i=r.length,s,o,a,l,c,u;if(this._cache&&this._cache.delete(Ds),!e)for(o in this.eventListeners)this._off(o);for(s=0;s<i;s++)if(a=r[s],l=a.split("."),c=l[0],u=l[1],c)this.eventListeners[c]&&this._off(c,u,n);else for(o in this.eventListeners)this._off(o,u,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const i=this;this.on(e,function(s){const o=s.target.findAncestors(n,!0,i);for(let a=0;a<o.length;a++)s=I.cloneObject(s),s.currentTarget=o[a],r.call(o[a],s)})}remove(){return this.isDragging()&&this.stopDrag(),De._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Cn),this._clearSelfAndDescendantCache(Zs),this._clearSelfAndDescendantCache(td),this._clearSelfAndDescendantCache(id),this._clearSelfAndDescendantCache(dl),this._clearSelfAndDescendantCache(ul)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+I._capitalize(e);return I._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==v4&&(r=nd+I._capitalize(n),I._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(ul,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(dl,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let i=!1;De._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===r)&&(i=!0)});const s=!n&&!ne.hitOnDragEnabled&&(i||ne.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,i,s,o,a;function l(u){for(i=[],s=u.length,o=0;o<s;o++)a=u[o],r++,a.nodeType!==rd&&(i=i.concat(a.getChildren().slice())),a._id===n._id&&(o=s);i.length>0&&i[0].getDepth()<=e&&l(i)}const c=this.getStage();return n.nodeType!==E4&&c&&l(c.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(zn),this._clearSelfAndDescendantCache(Cn)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),s=new Lt,o=this.offset();return s.m=i.slice(),s.translate(o.x,o.y),s.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(zn);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(zn),this._clearSelfAndDescendantCache(Cn),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,i=this.x(),s=this.y();return n!==void 0&&(i+=n),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,n){let r=[],i=this.getParent(),s,o;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(s=r.length,o=0;o<s;o++)e(r[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return I.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return I.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return I.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return I.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return I.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&I.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Zs,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,i,s,o;const a={attrs:{},className:this.getClassName()};for(n in e)r=e[n],o=I.isObject(r)&&!I._isPlainObject(r)&&!I._isArray(r),!o&&(i=typeof this[n]=="function"&&this[n],delete e[n],s=i?i.call(this):null,e[n]=r,s!==r&&(a.attrs[n]=r));return I._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const i=[];n&&this._isMatch(e)&&i.push(this);let s=this.parent;for(;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,i,s;for(i=0;i<r;i++)if(s=n[i],I.isValidSelector(s)||(I.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),I.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),I.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(id,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Cn,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new Lt,this._eachAncestorReverse(function(r){const i=r.transformsEnabled();i==="all"?n.multiply(r.getTransform()):i==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(Cn)||new Lt,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,o=this.attrs.offsetX||0,a=this.attrs.offsetY||0;n.translate(i-o,s-a)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(zn,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(zn)||new Lt;r.reset();const i=this.x(),s=this.y(),o=ne.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,u=this.attrs.skewY||0,d=this.attrs.offsetX||0,h=this.attrs.offsetY||0;return(i!==0||s!==0)&&r.translate(i,s),o!==0&&r.rotate(o),(c!==0||u!==0)&&r.skew(c,u),(a!==1||l!==1)&&r.scale(a,l),(d!==0||h!==0)&&r.translate(-1*d,-1*h),r.dirty=!1,r}clone(e){let n=I.cloneObject(this.attrs),r,i,s,o,a;for(r in e)n[r]=e[r];const l=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],s=i.length,o=0;o<s;o++)a=i[o],a.name.indexOf(y4)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(a));return l}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),o=e.pixelRatio||1,a=new Kn({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:o}),l=a.getContext(),c=new Kn({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(s),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||s)&&l.translate(-1*i,-1*s),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,I._urlToImage(this.toDataURL(e),function(s){n(s),i?.(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),i?.(s)},e?.mimeType,e?.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():ne.dragDistance}_off(e,n,r){let i=this.eventListeners[e],s,o,a;for(s=0;s<i.length;s++)if(o=i[s].name,a=i[s].handler,(o!=="konva"||n==="konva")&&(!n||o===n)&&(!r||r===a)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,r){this._fire(e+m4,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[nd+I._capitalize(e)];return I._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(ne.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!I.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===rd&&(n.target=this);const i=[b4,w4,_4,x4,S4,C4];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const o=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!o&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,i;const s=(n=this._cache.get(Ds))!==null&&n!==void 0?n:{};let o=s?.[e];if(o===void 0){o=[];let a=Object.getPrototypeOf(this);for(;a;){const l=(i=(r=a.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];o.push(...l),a=Object.getPrototypeOf(a)}s[e]=o,this._cache.set(Ds,s)}return o}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let s=0;s<r.length;s++)r[s].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let s=0;s<i.length;s++)i[s].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;const s=r._getPointerById(n)||r._changedPointerPositions[0]||i;De._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){De._dragElements.has(this._id)||this._createDragElement(e);const r=De._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let i={x:r.x-n.offset.x,y:r.y-n.offset.y};const s=this.dragBoundFunc();if(s!==void 0){const o=s.call(this,i,e);o?i=o:I.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=De._dragElements.get(this._id);n&&(n.dragStatus="stopped"),De._endDragBefore(e),De._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=De._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||ne.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;De._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=De._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&De._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return I.haveIntersection(r,this.getClientRect())}static create(e,n){return I._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=hl.prototype.getClassName.call(e),i=e.children,s,o,a;n&&(e.attrs.container=n),ne[r]||(I.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=ne[r];if(s=new l(e.attrs),i)for(o=i.length,a=0;a<o;a++)s.add(hl._createNode(i[a]));return s}};Q.prototype.nodeType="Node";Q.prototype._attrsAffectingSize=[];Q.prototype.eventListeners={};Q.prototype.on.call(Q.prototype,A4,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(zn),this._clearSelfAndDescendantCache(Cn)});Q.prototype.on.call(Q.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(dl)});Q.prototype.on.call(Q.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(ul)});Q.prototype.on.call(Q.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Zs)});const He=S.addGetterSetter;He(Q,"zIndex");He(Q,"absolutePosition");He(Q,"position");He(Q,"x",0,J());He(Q,"y",0,J());He(Q,"globalCompositeOperation","source-over",kr());He(Q,"opacity",1,J());He(Q,"name","",kr());He(Q,"id","",kr());He(Q,"rotation",0,J());S.addComponentsGetterSetter(Q,"scale",["x","y"]);He(Q,"scaleX",1,J());He(Q,"scaleY",1,J());S.addComponentsGetterSetter(Q,"skew",["x","y"]);He(Q,"skewX",0,J());He(Q,"skewY",0,J());S.addComponentsGetterSetter(Q,"offset",["x","y"]);He(Q,"offsetX",0,J());He(Q,"offsetY",0,J());He(Q,"dragDistance",void 0,J());He(Q,"width",0,J());He(Q,"height",0,J());He(Q,"listening",!0,nn());He(Q,"preventDefault",!0,nn());He(Q,"filters",void 0,function(t){return this._filterUpToDate=!1,t});He(Q,"visible",!0,nn());He(Q,"transformsEnabled","all",kr());He(Q,"size");He(Q,"dragBoundFunc");He(Q,"draggable",!1,nn());S.backCompat(Q,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Ft extends Q{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!!(s&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=Q.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Q.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas(),o=s&&s.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=s&&s.isCache;if(!this.isVisible()&&!c)return this;if(l){o.save();const u=this.getAbsoluteTransform(n).getMatrix();o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",s,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),o=this._getCanvasCache();if(o&&o.hit){s.save();const l=this.getAbsoluteTransform(n).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r,i){var s;const o=n&&n.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),u=typeof a=="number"&&typeof l=="number"||c,d=r===this;if(u){o.save();const f=this.getAbsoluteTransform(r);let p=f.getMatrix();o.transform(p[0],p[1],p[2],p[3],p[4],p[5]),o.beginPath();let g;if(c)g=c.call(this,o,this);else{const v=this.clipX(),m=this.clipY();o.rect(v||0,m||0,a,l)}o.clip.apply(o,g),p=f.copy().invert().getMatrix(),o.transform(p[0],p[1],p[2],p[3],p[4],p[5])}const h=!d&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";h&&(o.save(),o._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(f){f[e](n,r,i)}),h&&o.restore(),u&&o.restore()}getClientRect(e={}){var n;const r=e.skipTransform,i=e.relativeTo;let s,o,a,l,c={x:1/0,y:1/0,width:0,height:0};const u=this;(n=this.children)===null||n===void 0||n.forEach(function(f){if(!f.visible())return;const p=f.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});p.width===0&&p.height===0||(s===void 0?(s=p.x,o=p.y,a=p.x+p.width,l=p.y+p.height):(s=Math.min(s,p.x),o=Math.min(o,p.y),a=Math.max(a,p.x+p.width),l=Math.max(l,p.y+p.height)))});const d=this.find("Shape");let h=!1;for(let f=0;f<d.length;f++)if(d[f]._isVisible(this)){h=!0;break}return h&&s!==void 0?c={x:s,y:o,width:a-s,height:l-o}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}}S.addComponentsGetterSetter(Ft,"clip",["x","y","width","height"]);S.addGetterSetter(Ft,"clipX",void 0,J());S.addGetterSetter(Ft,"clipY",void 0,J());S.addGetterSetter(Ft,"clipWidth",void 0,J());S.addGetterSetter(Ft,"clipHeight",void 0,J());S.addGetterSetter(Ft,"clipFunc");const os=new Map,np=ne._global.PointerEvent!==void 0;function Ta(t){return os.get(t)}function lc(t){return{evt:t,pointerId:t.pointerId}}function rp(t,e){return os.get(t)===e}function ip(t,e){Ui(t),e.getStage()&&(os.set(t,e),np&&e._fire("gotpointercapture",lc(new PointerEvent("gotpointercapture"))))}function Ui(t,e){const n=os.get(t);if(!n)return;const r=n.getStage();r&&r.content,os.delete(t),np&&n._fire("lostpointercapture",lc(new PointerEvent("lostpointercapture")))}const k4="Stage",T4="string",sd="px",R4="mouseout",sp="mouseleave",op="mouseover",ap="mouseenter",lp="mousemove",cp="mousedown",up="mouseup",Oi="pointermove",Mi="pointerdown",jr="pointerup",Ii="pointercancel",O4="lostpointercapture",Ns="pointerout",Li="pointerleave",Fs="pointerover",Bs="pointerenter",fl="contextmenu",dp="touchstart",hp="touchend",fp="touchmove",pp="touchcancel",pl="wheel",M4=5,I4=[[ap,"_pointerenter"],[cp,"_pointerdown"],[lp,"_pointermove"],[up,"_pointerup"],[sp,"_pointerleave"],[dp,"_pointerdown"],[fp,"_pointermove"],[hp,"_pointerup"],[pp,"_pointercancel"],[op,"_pointerover"],[pl,"_wheel"],[fl,"_contextmenu"],[Mi,"_pointerdown"],[Oi,"_pointermove"],[jr,"_pointerup"],[Ii,"_pointercancel"],[Li,"_pointerleave"],[O4,"_lostpointercapture"]],Ra={mouse:{[Ns]:R4,[Li]:sp,[Fs]:op,[Bs]:ap,[Oi]:lp,[Mi]:cp,[jr]:up,[Ii]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Ns]:"touchout",[Li]:"touchleave",[Fs]:"touchover",[Bs]:"touchenter",[Oi]:fp,[Mi]:dp,[jr]:hp,[Ii]:pp,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Ns]:Ns,[Li]:Li,[Fs]:Fs,[Bs]:Bs,[Oi]:Oi,[Mi]:Mi,[jr]:jr,[Ii]:Ii,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Di=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",$r=t=>{const e=Di(t);if(e==="pointer")return ne.pointerEventsEnabled&&Ra.pointer;if(e==="touch")return Ra.touch;if(e==="mouse")return Ra.mouse};function od(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&I.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const L4="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Yi=[];class Ko extends Ft{constructor(e){super(od(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Yi.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{od(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||I.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===T4){let n;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),Ft.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&I._isInDocument(e)&&this.container().removeChild(e);const n=Yi.indexOf(this);return n>-1&&Yi.splice(n,1),I.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(I.warn(L4),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new Kn({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(s){if(!s.isVisible())return;const o=s._toKonvaCanvas(e);r.drawImage(o._canvas,e.x,e.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,r=n.length,i=r-1;for(let s=i;s>=0;s--){const o=n[s].getIntersection(e);if(o)return o}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+sd,this.content.style.height=n+sd),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const r=this.children.length;return r>M4&&I.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),ne.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return rp(e,this)}setPointerCapture(e){ip(e,this)}releaseCapture(e){Ui(e)}getLayers(){return this.children}_bindContentEvents(){ne.isBrowser&&I4.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=$r(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=$r(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=$r(e.type),r=Di(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(r),s=!(ne.isDragging()||ne.isTransforming())||ne.hitOnDragEnabled;i&&s?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):s&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=$r(e.type),r=Di(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(s=>{const o=this.getIntersection(s);if(De.justDragged=!1,ne["_"+r+"ListenClick"]=!0,!o||!o.isListening()){this[r+"ClickStartShape"]=void 0;return}ne.capturePointerEventsEnabled&&o.setPointerCapture(s.id),this[r+"ClickStartShape"]=o,o._fireAndBubble(n.pointerdown,{evt:e,pointerId:s.id}),i=!0;const a=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=$r(e.type),r=Di(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(ne.isDragging()&&De.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(ne.isDragging()||ne.isTransforming())||ne.hitOnDragEnabled))return;const o={};let a=!1;const l=this._getTargetShape(r);this._changedPointerPositions.forEach(c=>{const u=Ta(c.id)||this.getIntersection(c),d=c.id,h={evt:e,pointerId:d},f=l!==u;if(f&&l&&(l._fireAndBubble(n.pointerout,{...h},u),l._fireAndBubble(n.pointerleave,{...h},u)),u){if(o[u._id])return;o[u._id]=!0}u&&u.isListening()?(a=!0,f&&(u._fireAndBubble(n.pointerover,{...h},l),u._fireAndBubble(n.pointerenter,{...h},l),this[r+"targetShape"]=u),u._fireAndBubble(n.pointermove,{...h})):l&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:d}),this[r+"targetShape"]=null)}),a||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=$r(e.type),r=Di(e.type);if(!n)return;this.setPointersPositions(e);const i=this[r+"ClickStartShape"],s=this[r+"ClickEndShape"],o={};let a=!1;this._changedPointerPositions.forEach(l=>{const c=Ta(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),o[c._id])return;o[c._id]=!0}const u=l.id,d={evt:e,pointerId:u};let h=!1;ne["_"+r+"InDblClickWindow"]?(h=!0,clearTimeout(this[r+"DblTimeout"])):De.justDragged||(ne["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){ne["_"+r+"InDblClickWindow"]=!1},ne.dblClickWindow),c&&c.isListening()?(a=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(n.pointerup,{...d}),ne["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(n.pointerclick,{...d}),h&&s&&s===c&&c._fireAndBubble(n.pointerdblclick,{...d}))):(this[r+"ClickEndShape"]=null,a||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a=!0),ne["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:u}),h&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:u}))}),a||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),ne["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(fl,{evt:e}):this._fire(fl,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(pl,{evt:e}):this._fire(pl,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=Ta(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(jr,lc(e)),Ui(e.pointerId)}_lostpointercapture(e){Ui(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,s=>{this._pointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,s=>{this._changedPointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:I._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:I._getFirstPointerId(e)}])}_setPointerPosition(e){I.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Kn({width:this.width(),height:this.height()}),this.bufferHitCanvas=new oc({pixelRatio:1,width:this.width(),height:this.height()}),!ne.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return I.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}Ko.prototype.nodeType=k4;Ze(Ko);S.addGetterSetter(Ko,"container");ne.isBrowser&&document.addEventListener("visibilitychange",()=>{Yi.forEach(t=>{t.batchDraw()})});const gp="hasShadow",mp="shadowRGBA",vp="patternImage",yp="linearGradient",bp="radialGradient";let Gs;function Oa(){return Gs||(Gs=I.createCanvasElement().getContext("2d"),Gs)}const Xi={};function D4(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function N4(t){t.stroke()}function F4(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function B4(t){t.stroke()}function G4(){this._clearCache(gp)}function $4(){this._clearCache(mp)}function V4(){this._clearCache(vp)}function H4(){this._clearCache(yp)}function W4(){this._clearCache(bp)}class X extends Q{constructor(e){super(e);let n,r=0;for(;n=I.getHitColor(),!(n&&!(n in Xi));)if(r++,r>=1e4){I.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),n=I.getRandomColor();break}this.colorKey=n,Xi[n]=this}getContext(){return I.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return I.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(gp,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(vp,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=Oa().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new Lt;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(ne.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),s=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(s)}return n}}_getLinearGradient(){return this._getCache(yp,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=Oa(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),s=n.createLinearGradient(r.x,r.y,i.x,i.y);for(let o=0;o<e.length;o+=2)s.addColorStop(e[o],e[o+1]);return s}}_getRadialGradient(){return this._getCache(bp,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=Oa(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),s=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let o=0;o<e.length;o+=2)s.addColorStop(e[o],e[o+1]);return s}}getShadowRGBA(){return this._getCache(mp,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=I.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Q.prototype.destroy.call(this),delete Xi[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),s=this.hasStroke(),o=this.getAbsoluteOpacity()!==1;if(i&&s&&o)return!0;const a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&s&&a&&l)}setStrokeHitEnabled(e){I.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}const i=e.skipTransform,s=e.relativeTo||n&&this.getStage()||void 0,o=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,c=o.width+l,u=o.height+l,d=!e.skipShadow&&this.hasShadow(),h=d?this.shadowOffsetX():0,f=d?this.shadowOffsetY():0,p=c+Math.abs(h),g=u+Math.abs(f),v=d&&this.shadowBlur()||0,m=p+v*2,y=g+v*2,b={width:m,height:y,x:-(l/2+v)+Math.min(h,0)+o.x,y:-(l/2+v)+Math.min(f,0)+o.y};return i?b:this._transformedRect(b,s)}drawScene(e,n,r){const i=this.getLayer(),s=e||i.getCanvas(),o=s.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow();let u;const d=n===this;if(!this.isVisible()&&!d)return this;if(a){o.save();const h=this.getAbsoluteTransform(n).getMatrix();return o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!l)return this;if(o.save(),this._useBufferCanvas()){u=this.getStage();const h=r||u.bufferCanvas,f=h.getContext();f.clear(),f.save(),f._applyLineJoin(this),f._applyMiterLimit(this);const p=this.getAbsoluteTransform(n).getMatrix();f.transform(p[0],p[1],p[2],p[3],p[4],p[5]),l.call(this,f,this),f.restore();const g=h.pixelRatio;c&&o._applyShadow(this),d||(o._applyOpacity(this),o._applyGlobalCompositeOperation(this)),o.drawImage(h._canvas,h.x||0,h.y||0,h.width/g,h.height/g)}else{if(o._applyLineJoin(this),o._applyMiterLimit(this),!d){const h=this.getAbsoluteTransform(n).getMatrix();o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}c&&o._applyShadow(this),l.call(this,o,this)}return o.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;const i=this.getLayer(),s=e||i.hitCanvas,o=s&&s.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||I.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){o.save();const d=this.getAbsoluteTransform(n).getMatrix();return o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!a)return this;if(o.save(),o._applyLineJoin(this),o._applyMiterLimit(this),!(this===n)){const d=this.getAbsoluteTransform(n).getMatrix();o.transform(d[0],d[1],d[2],d[3],d[4],d[5])}return a.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,s=i.getContext(),o=i.getWidth(),a=i.getHeight();s.clear(),s.drawImage(r._canvas,0,0,o,a);try{const l=s.getImageData(0,0,o,a),c=l.data,u=c.length,d=I._hexToRgb(this.colorKey);for(let h=0;h<u;h+=4)c[h+3]>e?(c[h]=d.r,c[h+1]=d.g,c[h+2]=d.b,c[h+3]=255):c[h+3]=0;s.putImageData(l,0,0)}catch(l){I.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return rp(e,this)}setPointerCapture(e){ip(e,this)}releaseCapture(e){Ui(e)}}X.prototype._fillFunc=D4;X.prototype._strokeFunc=N4;X.prototype._fillFuncHit=F4;X.prototype._strokeFuncHit=B4;X.prototype._centroid=!1;X.prototype.nodeType="Shape";Ze(X);X.prototype.eventListeners={};X.prototype.on.call(X.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",G4);X.prototype.on.call(X.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",$4);X.prototype.on.call(X.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",V4);X.prototype.on.call(X.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",H4);X.prototype.on.call(X.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",W4);S.addGetterSetter(X,"stroke",void 0,tp());S.addGetterSetter(X,"strokeWidth",2,J());S.addGetterSetter(X,"fillAfterStrokeEnabled",!1);S.addGetterSetter(X,"hitStrokeWidth","auto",ac());S.addGetterSetter(X,"strokeHitEnabled",!0,nn());S.addGetterSetter(X,"perfectDrawEnabled",!0,nn());S.addGetterSetter(X,"shadowForStrokeEnabled",!0,nn());S.addGetterSetter(X,"lineJoin");S.addGetterSetter(X,"lineCap");S.addGetterSetter(X,"miterLimit");S.addGetterSetter(X,"sceneFunc");S.addGetterSetter(X,"hitFunc");S.addGetterSetter(X,"dash");S.addGetterSetter(X,"dashOffset",0,J());S.addGetterSetter(X,"shadowColor",void 0,kr());S.addGetterSetter(X,"shadowBlur",0,J());S.addGetterSetter(X,"shadowOpacity",1,J());S.addComponentsGetterSetter(X,"shadowOffset",["x","y"]);S.addGetterSetter(X,"shadowOffsetX",0,J());S.addGetterSetter(X,"shadowOffsetY",0,J());S.addGetterSetter(X,"fillPatternImage");S.addGetterSetter(X,"fill",void 0,tp());S.addGetterSetter(X,"fillPatternX",0,J());S.addGetterSetter(X,"fillPatternY",0,J());S.addGetterSetter(X,"fillLinearGradientColorStops");S.addGetterSetter(X,"strokeLinearGradientColorStops");S.addGetterSetter(X,"fillRadialGradientStartRadius",0);S.addGetterSetter(X,"fillRadialGradientEndRadius",0);S.addGetterSetter(X,"fillRadialGradientColorStops");S.addGetterSetter(X,"fillPatternRepeat","repeat");S.addGetterSetter(X,"fillEnabled",!0);S.addGetterSetter(X,"strokeEnabled",!0);S.addGetterSetter(X,"shadowEnabled",!0);S.addGetterSetter(X,"dashEnabled",!0);S.addGetterSetter(X,"strokeScaleEnabled",!0);S.addGetterSetter(X,"fillPriority","color");S.addComponentsGetterSetter(X,"fillPatternOffset",["x","y"]);S.addGetterSetter(X,"fillPatternOffsetX",0,J());S.addGetterSetter(X,"fillPatternOffsetY",0,J());S.addComponentsGetterSetter(X,"fillPatternScale",["x","y"]);S.addGetterSetter(X,"fillPatternScaleX",1,J());S.addGetterSetter(X,"fillPatternScaleY",1,J());S.addComponentsGetterSetter(X,"fillLinearGradientStartPoint",["x","y"]);S.addComponentsGetterSetter(X,"strokeLinearGradientStartPoint",["x","y"]);S.addGetterSetter(X,"fillLinearGradientStartPointX",0);S.addGetterSetter(X,"strokeLinearGradientStartPointX",0);S.addGetterSetter(X,"fillLinearGradientStartPointY",0);S.addGetterSetter(X,"strokeLinearGradientStartPointY",0);S.addComponentsGetterSetter(X,"fillLinearGradientEndPoint",["x","y"]);S.addComponentsGetterSetter(X,"strokeLinearGradientEndPoint",["x","y"]);S.addGetterSetter(X,"fillLinearGradientEndPointX",0);S.addGetterSetter(X,"strokeLinearGradientEndPointX",0);S.addGetterSetter(X,"fillLinearGradientEndPointY",0);S.addGetterSetter(X,"strokeLinearGradientEndPointY",0);S.addComponentsGetterSetter(X,"fillRadialGradientStartPoint",["x","y"]);S.addGetterSetter(X,"fillRadialGradientStartPointX",0);S.addGetterSetter(X,"fillRadialGradientStartPointY",0);S.addComponentsGetterSetter(X,"fillRadialGradientEndPoint",["x","y"]);S.addGetterSetter(X,"fillRadialGradientEndPointX",0);S.addGetterSetter(X,"fillRadialGradientEndPointY",0);S.addGetterSetter(X,"fillPatternRotation",0);S.addGetterSetter(X,"fillRule",void 0,kr());S.backCompat(X,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const z4="beforeDraw",j4="draw",wp=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],U4=wp.length;class Tr extends Ft{constructor(e){super(e),this.canvas=new Kn,this.hitCanvas=new oc({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Q.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Q.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Q.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Q.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Q.prototype.remove.call(this),e&&e.parentNode&&I._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&I.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Q.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){I.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){I.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,I.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let i=0;i<U4;i++){const s=wp[i],o=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),a=o.shape;if(a)return a;if(r=!!o.antialiased,!o.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const s=I.getHitColorKey(r[0],r[1],r[2]),o=Xi[s];return o?{shape:o}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas();return this._fire(z4,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),Ft.prototype.drawScene.call(this,s,n,r),this._fire(j4,{node:this}),this}drawHit(e,n){const r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Ft.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){I.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return I.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return I.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Tr.prototype.nodeType="Layer";Ze(Tr);S.addGetterSetter(Tr,"imageSmoothingEnabled",!0);S.addGetterSetter(Tr,"clearBeforeDraw",!0);S.addGetterSetter(Tr,"hitGraphEnabled",!0,nn());class cc extends Tr{constructor(e){super(e),this.listening(!1),I.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}cc.prototype.nodeType="FastLayer";Ze(cc);class si extends Ft{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&I.throw("You may only add groups and shapes to groups.")}}si.prototype.nodeType="Group";Ze(si);const Ma=(function(){return wr.performance&&wr.performance.now?function(){return wr.performance.now()}:function(){return new Date().getTime()}})();class $t{constructor(e,n){this.id=$t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Ma(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=$t.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Ma(),$t._addAnimation(this),this}stop(){return $t._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,i=r.length;for(let s=0;s<i;s++)if(r[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const i=n[r],s=i.layers,o=i.func;i._updateFrameObject(Ma());const a=s.length;let l;if(o?l=o.call(i,i.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){const u=s[c];u._id!==void 0&&(e[u._id]=u)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=$t;e.animations.length?(e._runFrames(),I.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,I.requestAnimFrame(this._animationLoop))}}$t.animations=[];$t.animIdCounter=0;$t.animRunning=!1;const Y4={node:1,duration:1,easing:1,onFinish:1,yoyo:1},X4=1,ad=2,ld=3,cd=["fill","stroke","shadowColor"];let q4=0;class K4{constructor(e,n,r,i,s,o,a){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=s-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=ad,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=ld,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===ad?this.setTime(e):this.state===ld&&this.setTime(this.duration-e)}pause(){this.state=X4,this.fire("onPause")}getTimer(){return new Date().getTime()}}class ze{constructor(e){const n=this,r=e.node,i=r._id,s=e.easing||qi.Linear,o=!!e.yoyo;let a,l;typeof e.duration>"u"?a=.3:e.duration===0?a=.001:a=e.duration,this.node=r,this._id=q4++;const c=r.getLayer()||(r instanceof ne.Stage?r.getLayers():null);c||I.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new $t(function(){n.tween.onEnterFrame()},c),this.tween=new K4(l,function(u){n._tweenFunc(u)},s,0,1,a*1e3,o),this._addListeners(),ze.attrs[i]||(ze.attrs[i]={}),ze.attrs[i][this._id]||(ze.attrs[i][this._id]={}),ze.tweens[i]||(ze.tweens[i]={});for(l in e)Y4[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const r=this.node,i=r._id;let s,o,a,l,c;const u=ze.tweens[i][e];u&&delete ze.attrs[i][u][e];let d=r.getAttr(e);if(I._isArray(n))if(s=[],o=Math.max(n.length,d.length),e==="points"&&n.length!==d.length&&(n.length>d.length?(l=d,d=I._prepareArrayForTween(d,n,r.closed())):(a=n,n=I._prepareArrayForTween(n,d,r.closed()))),e.indexOf("fill")===0)for(let h=0;h<o;h++)if(h%2===0)s.push(n[h]-d[h]);else{const f=I.colorToRGBA(d[h]);c=I.colorToRGBA(n[h]),d[h]=f,s.push({r:c.r-f.r,g:c.g-f.g,b:c.b-f.b,a:c.a-f.a})}else for(let h=0;h<o;h++)s.push(n[h]-d[h]);else cd.indexOf(e)!==-1?(d=I.colorToRGBA(d),c=I.colorToRGBA(n),s={r:c.r-d.r,g:c.g-d.g,b:c.b-d.b,a:c.a-d.a}):s=n-d;ze.attrs[i][this._id][e]={start:d,diff:s,end:n,trueEnd:a,trueStart:l},ze.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,r=ze.attrs[n._id][this._id];let i,s,o,a,l,c,u,d;for(i in r){if(s=r[i],o=s.start,a=s.diff,d=s.end,I._isArray(o))if(l=[],u=Math.max(o.length,d.length),i.indexOf("fill")===0)for(c=0;c<u;c++)c%2===0?l.push((o[c]||0)+a[c]*e):l.push("rgba("+Math.round(o[c].r+a[c].r*e)+","+Math.round(o[c].g+a[c].g*e)+","+Math.round(o[c].b+a[c].b*e)+","+(o[c].a+a[c].a*e)+")");else for(c=0;c<u;c++)l.push((o[c]||0)+a[c]*e);else cd.indexOf(i)!==-1?l="rgba("+Math.round(o.r+a.r*e)+","+Math.round(o.g+a.g*e)+","+Math.round(o.b+a.b*e)+","+(o.a+a.a*e)+")":l=o+a*e;n.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=ze.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=ze.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,r=ze.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in r)delete ze.tweens[e][i];delete ze.attrs[e][n],ze.tweens[e]&&(Object.keys(ze.tweens[e]).length===0&&delete ze.tweens[e],Object.keys(ze.attrs[e]).length===0&&delete ze.attrs[e])}}ze.attrs={};ze.tweens={};Q.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new ze(t).play()};const qi={BackEaseIn(t,e,n,r){return n*(t/=r)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,r){return n*((t=t/r-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,r){let i=1.70158;return(t/=r/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,r,i,s){let o=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s))+e)},ElasticEaseOut(t,e,n,r,i,s){let o=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/s)+n+e)},ElasticEaseInOut(t,e,n,r,i,s){let o=0;return t===0?e:(t/=r/2)===2?e+n:(s||(s=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-qi.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?qi.BounceEaseIn(t*2,0,n,r)*.5+e:qi.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},ud=I._assign(ne,{Util:I,Transform:Lt,Node:Q,Container:Ft,Stage:Ko,stages:Yi,Layer:Tr,FastLayer:cc,Group:si,DD:De,Shape:X,shapes:Xi,Animation:$t,Tween:ze,Easings:qi,Context:Xo,Canvas:sc});class Fn extends X{_sceneFunc(e){const n=ne.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=ne.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),o=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=s*(s>0?e:n),u=o*n,d=a*(a>0?e:n),h=l*(l>0?n:e);return{x:c,y:r?-1*h:d,width:u-c,height:h-d}}}Fn.prototype._centroid=!0;Fn.prototype.className="Arc";Fn.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Ze(Fn);S.addGetterSetter(Fn,"innerRadius",0,J());S.addGetterSetter(Fn,"outerRadius",0,J());S.addGetterSetter(Fn,"angle",0,J());S.addGetterSetter(Fn,"clockwise",!1,nn());function gl(t,e,n,r,i,s,o){const a=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),c=o*a/(a+l),u=o*l/(a+l),d=n-c*(i-t),h=r-c*(s-e),f=n+u*(i-t),p=r+u*(s-e);return[d,h,f,p]}function dd(t,e){const n=t.length,r=[];for(let i=2;i<n-2;i+=2){const s=gl(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(s[0])||(r.push(s[0]),r.push(s[1]),r.push(t[i]),r.push(t[i+1]),r.push(s[2]),r.push(s[3]))}return r}class Bn extends X{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,i=this.tension(),s=this.closed(),o=this.bezier();if(!r)return;let a=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){const l=this.getTensionPoints(),c=l.length;for(a=s?0:4,s||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);a<c-2;)e.bezierCurveTo(l[a++],l[a++],l[a++],l[a++],l[a++],l[a++]);s||e.quadraticCurveTo(l[c-2],l[c-1],n[r-2],n[r-1])}else if(o)for(a=2;a<r;)e.bezierCurveTo(n[a++],n[a++],n[a++],n[a++],n[a++],n[a++]);else for(a=2;a<r;a+=2)e.lineTo(n[a],n[a+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():dd(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),i=gl(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),s=gl(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),o=dd(e,r);return[i[2],i[3]].concat(o).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],i=e[1],s=e[1],o,a;for(let l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);return{x:n,y:i,width:r-n,height:s-i}}}Bn.prototype.className="Line";Bn.prototype._attrsAffectingSize=["points","bezier","tension"];Ze(Bn);S.addGetterSetter(Bn,"closed",!1);S.addGetterSetter(Bn,"bezier",!1);S.addGetterSetter(Bn,"tension",0,J());S.addGetterSetter(Bn,"points",[],f4());const J4=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],Q4=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],Z4=[[1],[1,1],[1,2,1],[1,3,3,1]],hd=(t,e,n)=>{let r,i;const o=n/2;r=0;for(let a=0;a<20;a++)i=o*J4[20][a]+o,r+=Q4[20][a]*e5(t,e,i);return o*r},fd=(t,e,n)=>{n===void 0&&(n=1);const r=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],s=2*t[1]-2*t[0],o=2*e[1]-2*e[0],a=4*(r*r+i*i),l=4*(r*s+i*o),c=s*s+o*o;if(a===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const u=l/(2*a),d=c/a,h=n+u,f=d-u*u,p=h*h+f>0?Math.sqrt(h*h+f):0,g=u*u+f>0?Math.sqrt(u*u+f):0,v=u+Math.sqrt(u*u+f)!==0?f*Math.log(Math.abs((h+p)/(u+g))):0;return Math.sqrt(a)/2*(h*p-u*g+v)};function e5(t,e,n){const r=ml(1,n,t),i=ml(1,n,e),s=r*r+i*i;return Math.sqrt(s)}const ml=(t,e,n)=>{const r=n.length-1;let i,s;if(r===0)return 0;if(t===0){s=0;for(let o=0;o<=r;o++)s+=Z4[r][o]*Math.pow(1-e,r-o)*Math.pow(e,o)*n[o];return s}else{i=new Array(r);for(let o=0;o<r;o++)i[o]=r*(n[o+1]-n[o]);return ml(t-1,e,i)}},pd=(t,e,n)=>{let r=1,i=t/e,s=(t-n(i))/e,o=0;for(;r>.001;){const a=n(i+s),l=Math.abs(t-a)/e;if(l<r)r=l,i+=s;else{const c=n(i-s),u=Math.abs(t-c)/e;u<r?(r=u,i-=s):s/=2}if(o++,o>500)break}return i};class Ue extends X{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Ue.parsePathData(this.data()),this.pathLength=Ue.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<n.length;i++){const s=n[i].command,o=n[i].points;switch(s){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":const a=o[0],l=o[1],c=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],g=c>u?c:u,v=c>u?1:c/u,m=c>u?u/c:1;e.translate(a,l),e.rotate(f),e.scale(v,m),e.arc(0,0,g,d,d+h,1-p),e.scale(1/v,1/m),e.rotate(-f),e.translate(-a,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const c=l.points[4],u=l.points[5],d=l.points[4]+u;let h=Math.PI/180;if(Math.abs(c-d)<h&&(h=Math.abs(c-d)),u<0)for(let f=c-h;f>d;f-=h){const p=Ue.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],f,0);e.push(p.x,p.y)}else for(let f=c+h;f<d;f+=h){const p=Ue.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],f,0);e.push(p.x,p.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){const u=Ue.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(u.x,u.y)}else e=e.concat(l.points)});let n=e[0],r=e[0],i=e[1],s=e[1],o,a;for(let l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],isNaN(o)||(n=Math.min(n,o),r=Math.max(r,o)),isNaN(a)||(i=Math.min(i,a),s=Math.max(s,a));return{x:n,y:i,width:r-n,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){return Ue.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,i=0,s=n.length;if(!s)return null;for(;i<s&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===s)return r=n[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[i].command==="M"?(r=n[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[i].start.x,y:n[i].start.y};const o=n[i],a=o.points;switch(o.command){case"L":return Ue.getPointOnLine(e,o.start.x,o.start.y,a[0],a[1]);case"C":return Ue.getPointOnCubicBezier(pd(e,Ue.getPathLength(n),g=>hd([o.start.x,a[0],a[2],a[4]],[o.start.y,a[1],a[3],a[5]],g)),o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return Ue.getPointOnQuadraticBezier(pd(e,Ue.getPathLength(n),g=>fd([o.start.x,a[0],a[2]],[o.start.y,a[1],a[3]],g)),o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":const l=a[0],c=a[1],u=a[2],d=a[3],h=a[5],f=a[6];let p=a[4];return p+=h*e/o.pathLength,Ue.getPointOnEllipticalArc(l,c,u,d,p,f)}return null}static getPointOnLine(e,n,r,i,s,o,a){o=o??n,a=a??r;const l=this.getLineLength(n,r,i,s);if(l<1e-10)return{x:n,y:r};if(i===n)return{x:o,y:a+(s>r?e:-e)};const c=(s-r)/(i-n),u=Math.sqrt(e*e/(1+c*c))*(i<n?-1:1),d=c*u;if(Math.abs(a-r-c*(o-n))<1e-10)return{x:o+u,y:a+d};const h=((o-n)*(i-n)+(a-r)*(s-r))/(l*l),f=n+h*(i-n),p=r+h*(s-r),g=this.getLineLength(o,a,f,p),v=Math.sqrt(e*e-g*g),m=Math.sqrt(v*v/(1+c*c))*(i<n?-1:1),y=c*m;return{x:f+m,y:p+y}}static getPointOnCubicBezier(e,n,r,i,s,o,a,l,c){function u(v){return v*v*v}function d(v){return 3*v*v*(1-v)}function h(v){return 3*v*(1-v)*(1-v)}function f(v){return(1-v)*(1-v)*(1-v)}const p=l*u(e)+o*d(e)+i*h(e)+n*f(e),g=c*u(e)+a*d(e)+s*h(e)+r*f(e);return{x:p,y:g}}static getPointOnQuadraticBezier(e,n,r,i,s,o,a){function l(f){return f*f}function c(f){return 2*f*(1-f)}function u(f){return(1-f)*(1-f)}const d=o*l(e)+i*c(e)+n*u(e),h=a*l(e)+s*c(e)+r*u(e);return{x:d,y:h}}static getPointOnEllipticalArc(e,n,r,i,s,o){const a=Math.cos(o),l=Math.sin(o),c={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(c.x*a-c.y*l),y:n+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let d=0;d<r.length;d++)n=n.replace(new RegExp(r[d],"g"),"|"+r[d]);const i=n.split("|"),s=[],o=[];let a=0,l=0;const c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let u;for(let d=1;d<i.length;d++){let h=i[d],f=h.charAt(0);for(h=h.slice(1),o.length=0;u=c.exec(h);)o.push(u[0]);let p=[],g=f==="A"||f==="a"?0:-1;for(let v=0,m=o.length;v<m;v++){const y=o[v];if(y==="00"){p.push(0,0),g>=0&&(g+=2,g>=7&&(g-=7));continue}if(g>=0){if(g===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(y)){p.push(parseInt(y[0],10)),p.push(parseInt(y[1],10)),p.push(parseFloat(y.slice(2))),g+=3,g>=7&&(g-=7);continue}if(y==="11"||y==="10"||y==="01"){p.push(parseInt(y[0],10)),p.push(parseInt(y[1],10)),g+=2,g>=7&&(g-=7);continue}if(y==="0"||y==="1"){p.push(parseInt(y,10)),g+=1,g>=7&&(g-=7);continue}}else if(g===4){if(/^[01]\d+(?:\.\d+)?$/.test(y)){p.push(parseInt(y[0],10)),p.push(parseFloat(y.slice(1))),g+=2,g>=7&&(g-=7);continue}if(y==="0"||y==="1"){p.push(parseInt(y,10)),g+=1,g>=7&&(g-=7);continue}}const b=parseFloat(y);isNaN(b)?p.push(0):p.push(b),g+=1,g>=7&&(g-=7)}else{const b=parseFloat(y);isNaN(b)?p.push(0):p.push(b)}}for(;p.length>0&&!isNaN(p[0]);){let v="",m=[];const y=a,b=l;let w,P,k,O,A,R,N,Z,j,re;switch(f){case"l":a+=p.shift(),l+=p.shift(),v="L",m.push(a,l);break;case"L":a=p.shift(),l=p.shift(),m.push(a,l);break;case"m":const $=p.shift(),V=p.shift();if(a+=$,l+=V,v="M",s.length>2&&s[s.length-1].command==="z"){for(let F=s.length-2;F>=0;F--)if(s[F].command==="M"){a=s[F].points[0]+$,l=s[F].points[1]+V;break}}m.push(a,l),f="l";break;case"M":a=p.shift(),l=p.shift(),v="M",m.push(a,l),f="L";break;case"h":a+=p.shift(),v="L",m.push(a,l);break;case"H":a=p.shift(),v="L",m.push(a,l);break;case"v":l+=p.shift(),v="L",m.push(a,l);break;case"V":l=p.shift(),v="L",m.push(a,l);break;case"C":m.push(p.shift(),p.shift(),p.shift(),p.shift()),a=p.shift(),l=p.shift(),m.push(a,l);break;case"c":m.push(a+p.shift(),l+p.shift(),a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),v="C",m.push(a,l);break;case"S":P=a,k=l,w=s[s.length-1],w.command==="C"&&(P=a+(a-w.points[2]),k=l+(l-w.points[3])),m.push(P,k,p.shift(),p.shift()),a=p.shift(),l=p.shift(),v="C",m.push(a,l);break;case"s":P=a,k=l,w=s[s.length-1],w.command==="C"&&(P=a+(a-w.points[2]),k=l+(l-w.points[3])),m.push(P,k,a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),v="C",m.push(a,l);break;case"Q":m.push(p.shift(),p.shift()),a=p.shift(),l=p.shift(),m.push(a,l);break;case"q":m.push(a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),v="Q",m.push(a,l);break;case"T":P=a,k=l,w=s[s.length-1],w.command==="Q"&&(P=a+(a-w.points[0]),k=l+(l-w.points[1])),a=p.shift(),l=p.shift(),v="Q",m.push(P,k,a,l);break;case"t":P=a,k=l,w=s[s.length-1],w.command==="Q"&&(P=a+(a-w.points[0]),k=l+(l-w.points[1])),a+=p.shift(),l+=p.shift(),v="Q",m.push(P,k,a,l);break;case"A":O=p.shift(),A=p.shift(),R=p.shift(),N=p.shift(),Z=p.shift(),j=a,re=l,a=p.shift(),l=p.shift(),v="A",m=this.convertEndpointToCenterParameterization(j,re,a,l,N,Z,O,A,R);break;case"a":O=p.shift(),A=p.shift(),R=p.shift(),N=p.shift(),Z=p.shift(),j=a,re=l,a+=p.shift(),l+=p.shift(),v="A",m=this.convertEndpointToCenterParameterization(j,re,a,l,N,Z,O,A,R);break}s.push({command:v||f,points:m,start:{x:y,y:b},pathLength:this.calcLength(y,b,v||f,m)})}(f==="z"||f==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,n,r,i){let s,o,a,l;const c=Ue;switch(r){case"L":return c.getLineLength(e,n,i[0],i[1]);case"C":return hd([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return fd([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":s=0;const u=i[4],d=i[5],h=i[4]+d;let f=Math.PI/180;if(Math.abs(u-h)<f&&(f=Math.abs(u-h)),o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),d<0)for(l=u-f;l>h;l-=f)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(l=u+f;l<h;l+=f)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),s}return 0}static convertEndpointToCenterParameterization(e,n,r,i,s,o,a,l,c){const u=c*(Math.PI/180),d=Math.cos(u)*(e-r)/2+Math.sin(u)*(n-i)/2,h=-1*Math.sin(u)*(e-r)/2+Math.cos(u)*(n-i)/2,f=d*d/(a*a)+h*h/(l*l);f>1&&(a*=Math.sqrt(f),l*=Math.sqrt(f));let p=Math.sqrt((a*a*(l*l)-a*a*(h*h)-l*l*(d*d))/(a*a*(h*h)+l*l*(d*d)));s===o&&(p*=-1),isNaN(p)&&(p=0);const g=p*a*h/l,v=p*-l*d/a,m=(e+r)/2+Math.cos(u)*g-Math.sin(u)*v,y=(n+i)/2+Math.sin(u)*g+Math.cos(u)*v,b=function(N){return Math.sqrt(N[0]*N[0]+N[1]*N[1])},w=function(N,Z){return(N[0]*Z[0]+N[1]*Z[1])/(b(N)*b(Z))},P=function(N,Z){return(N[0]*Z[1]<N[1]*Z[0]?-1:1)*Math.acos(w(N,Z))},k=P([1,0],[(d-g)/a,(h-v)/l]),O=[(d-g)/a,(h-v)/l],A=[(-1*d-g)/a,(-1*h-v)/l];let R=P(O,A);return w(O,A)<=-1&&(R=Math.PI),w(O,A)>=1&&(R=0),o===0&&R>0&&(R=R-2*Math.PI),o===1&&R<0&&(R=R+2*Math.PI),[m,y,a,l,k,R,u,o]}}Ue.prototype.className="Path";Ue.prototype._attrsAffectingSize=["data"];Ze(Ue);S.addGetterSetter(Ue,"data");class Rr extends Bn{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let i=r;const s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());const o=this.pointerLength(),a=r.length;let l,c;if(s){const h=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[a-2],r[a-1]],f=Ue.calcLength(i[i.length-4],i[i.length-3],"C",h),p=Ue.getPointOnQuadraticBezier(Math.min(1,1-o/f),h[0],h[1],h[2],h[3],h[4],h[5]);l=r[a-2]-p.x,c=r[a-1]-p.y}else l=r[a-2]-r[a-4],c=r[a-1]-r[a-3];const u=(Math.atan2(c,l)+n)%n,d=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(l=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+n)%n),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}Rr.prototype.className="Arrow";Ze(Rr);S.addGetterSetter(Rr,"pointerLength",10,J());S.addGetterSetter(Rr,"pointerWidth",10,J());S.addGetterSetter(Rr,"pointerAtBeginning",!1);S.addGetterSetter(Rr,"pointerAtEnding",!0);class mi extends X{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}mi.prototype._centroid=!0;mi.prototype.className="Circle";mi.prototype._attrsAffectingSize=["radius"];Ze(mi);S.addGetterSetter(mi,"radius",0,J());class lr extends X{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}lr.prototype.className="Ellipse";lr.prototype._centroid=!0;lr.prototype._attrsAffectingSize=["radiusX","radiusY"];Ze(lr);S.addComponentsGetterSetter(lr,"radius",["x","y"]);S.addGetterSetter(lr,"radiusX",0,J());S.addGetterSetter(lr,"radiusY",0,J());class Gt extends X{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),s=this.attrs.image;let o;if(s){const a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?o=[s,this.cropX(),this.cropY(),a,l,0,0,n,r]:o=[s,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?I.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),s&&(i&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){const n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?I.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n,r;return(r=(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:0}getHeight(){var e,n,r;return(r=(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height)!==null&&r!==void 0?r:0}static fromURL(e,n,r=null){const i=I.createImageElement();i.onload=function(){const s=new Gt({image:i});n(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}Gt.prototype.className="Image";Gt.prototype._attrsAffectingSize=["image"];Ze(Gt);S.addGetterSetter(Gt,"cornerRadius",0,qo(4));S.addGetterSetter(Gt,"image");S.addComponentsGetterSetter(Gt,"crop",["x","y","width","height"]);S.addGetterSetter(Gt,"cropX",0,J());S.addGetterSetter(Gt,"cropY",0,J());S.addGetterSetter(Gt,"cropWidth",0,J());S.addGetterSetter(Gt,"cropHeight",0,J());const _p=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],t5="Change.konva",n5="none",vl="up",yl="right",bl="down",wl="left",r5=_p.length;class uc extends si{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const i=function(){n._sync()};for(r=0;r<r5;r++)e.on(_p[r]+t5,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,i,s,o,a,l,c;if(e&&n){switch(r=e.width(),i=e.height(),s=n.pointerDirection(),o=n.pointerWidth(),c=n.pointerHeight(),a=0,l=0,s){case vl:a=r/2,l=-1*c;break;case yl:a=r+o,l=i/2;break;case bl:a=r/2,l=i+c;break;case wl:a=-1*o,l=i/2;break}n.setAttrs({x:-1*a,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}}uc.prototype.className="Label";Ze(uc);class Or extends X{_sceneFunc(e){const n=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let l=0,c=0,u=0,d=0;typeof a=="number"?l=c=u=d=Math.min(a,n/2,r/2):(l=Math.min(a[0]||0,n/2,r/2),c=Math.min(a[1]||0,n/2,r/2),d=Math.min(a[2]||0,n/2,r/2),u=Math.min(a[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),i===vl&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*o),e.lineTo((n+s)/2,0)),e.lineTo(n-c,0),e.arc(n-c,c,c,Math.PI*3/2,0,!1),i===yl&&(e.lineTo(n,(r-o)/2),e.lineTo(n+s,r/2),e.lineTo(n,(r+o)/2)),e.lineTo(n,r-d),e.arc(n-d,r-d,d,0,Math.PI/2,!1),i===bl&&(e.lineTo((n+s)/2,r),e.lineTo(n/2,r+o),e.lineTo((n-s)/2,r)),e.lineTo(u,r),e.arc(u,r-u,u,Math.PI/2,Math.PI,!1),i===wl&&(e.lineTo(0,(r+o)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-o)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),o=this.width(),a=this.height();return s===vl?(n-=i,a+=i):s===bl?a+=i:s===wl?(e-=r*1.5,o+=r):s===yl&&(o+=r*1.5),{x:e,y:n,width:o,height:a}}}Or.prototype.className="Tag";Ze(Or);S.addGetterSetter(Or,"pointerDirection",n5);S.addGetterSetter(Or,"pointerWidth",0,J());S.addGetterSetter(Or,"pointerHeight",0,J());S.addGetterSetter(Or,"cornerRadius",0,qo(4));class ms extends X{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?I.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}}ms.prototype.className="Rect";Ze(ms);S.addGetterSetter(ms,"cornerRadius",0,qo(4));class cr extends X{_sceneFunc(e){const n=this._getPoints(),r=this.radius(),i=this.sides(),s=this.cornerRadius();if(e.beginPath(),s)I.drawRoundedPolygonPath(e,n,i,r,s);else{e.moveTo(n[0].x,n[0].y);for(let o=1;o<n.length;o++)e.lineTo(n[o].x,n[o].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].x,i=e[0].y,s=e[0].y;return e.forEach(o=>{n=Math.min(n,o.x),r=Math.max(r,o.x),i=Math.min(i,o.y),s=Math.max(s,o.y)}),{x:n,y:i,width:r-n,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}cr.prototype.className="RegularPolygon";cr.prototype._centroid=!0;cr.prototype._attrsAffectingSize=["radius"];Ze(cr);S.addGetterSetter(cr,"radius",0,J());S.addGetterSetter(cr,"sides",0,J());S.addGetterSetter(cr,"cornerRadius",0,qo(4));const gd=Math.PI*2;class Mr extends X{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,gd,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),gd,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Mr.prototype.className="Ring";Mr.prototype._centroid=!0;Mr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Ze(Mr);S.addGetterSetter(Mr,"innerRadius",0,J());S.addGetterSetter(Mr,"outerRadius",0,J());class bn extends X{constructor(e){super(e),this._updated=!0,this.anim=new $t(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],o=this.frameOffsets(),a=s[i+0],l=s[i+1],c=s[i+2],u=s[i+3],d=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,u),e.closePath(),e.fillStrokeShape(this)),d)if(o){const h=o[n],f=r*2;e.drawImage(d,a,l,c,u,h[f+0],h[f+1],c,u)}else e.drawImage(d,a,l,c,u,0,0,c,u)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],o=this.frameOffsets(),a=s[i+2],l=s[i+3];if(e.beginPath(),o){const c=o[n],u=r*2;e.rect(c[u+0],c[u+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}bn.prototype.className="Sprite";Ze(bn);S.addGetterSetter(bn,"animation");S.addGetterSetter(bn,"animations");S.addGetterSetter(bn,"frameOffsets");S.addGetterSetter(bn,"image");S.addGetterSetter(bn,"frameIndex",0,J());S.addGetterSetter(bn,"frameRate",17,J());S.backCompat(bn,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class ur extends X{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let s=1;s<i*2;s++){const o=s%2===0?r:n,a=o*Math.sin(s*Math.PI/i),l=-1*o*Math.cos(s*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}ur.prototype.className="Star";ur.prototype._centroid=!0;ur.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Ze(ur);S.addGetterSetter(ur,"numPoints",5,J());S.addGetterSetter(ur,"innerRadius",0,J());S.addGetterSetter(ur,"outerRadius",0,J());function jn(t){return[...t].reduce((e,n,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const s=i[r+1];s&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(s)?(e.push(n+s),i[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[r+1]||""))?e.push(n+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const Vr="auto",i5="center",xp="inherit",Pi="justify",s5="Change.konva",o5="2d",md="-",Sp="left",a5="text",l5="Text",c5="top",u5="bottom",vd="middle",Cp="normal",d5="px ",$s=" ",h5="right",yd="rtl",f5="word",p5="char",bd="none",Ia="",Ep=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],g5=Ep.length;function m5(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let Vs;function La(){return Vs||(Vs=I.createCanvasElement().getContext(o5),Vs)}function v5(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function y5(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function b5(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class Xe extends X{constructor(e){super(b5(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<g5;n++)this.on(Ep[n]+s5,this._setTextData);this._setTextData()}_sceneFunc(e){var n,r;const i=this.textArr,s=i.length;if(!this.text())return;let o=this.padding(),a=this.fontSize(),l=this.lineHeight()*a,c=this.verticalAlign(),u=this.direction(),d=0,h=this.align(),f=this.getWidth(),p=this.letterSpacing(),g=this.charRenderFunc(),v=this.fill(),m=this.textDecoration(),y=m.indexOf("underline")!==-1,b=m.indexOf("line-through")!==-1,w;u=u===xp?e.direction:u;let P=l/2,k=vd;if(!ne.legacyTextRendering){const O=this.measureSize("M");k="alphabetic";const A=(n=O.fontBoundingBoxAscent)!==null&&n!==void 0?n:O.actualBoundingBoxAscent,R=(r=O.fontBoundingBoxDescent)!==null&&r!==void 0?r:O.actualBoundingBoxDescent;P=(A-R)/2+l/2}for(u===yd&&e.setAttr("direction",u),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",k),e.setAttr("textAlign",Sp),c===vd?d=(this.getHeight()-s*l-o*2)/2:c===u5&&(d=this.getHeight()-s*l-o*2),e.translate(o,d+o),w=0;w<s;w++){let O=0,A=0;const R=i[w],N=R.text,Z=R.width,j=R.lastInParagraph;if(e.save(),h===h5?O+=f-Z-o*2:h===i5&&(O+=(f-Z-o*2)/2),y){e.save(),e.beginPath();const $=ne.legacyTextRendering?Math.round(a/2):Math.round(a/4),V=O,F=P+A+$;e.moveTo(V,F);const T=h===Pi&&!j?f-o*2:Z;e.lineTo(V+Math.round(T),F),e.lineWidth=a/15;const E=this._getLinearGradient();e.strokeStyle=E||v,e.stroke(),e.restore()}const re=O;if(u!==yd&&(p!==0||h===Pi||g)){const $=N.split(" ").length-1,V=jn(N);for(let F=0;F<V.length;F++){const T=V[F];if(T===" "&&!j&&h===Pi&&(O+=(f-o*2-Z)/$),this._partialTextX=O,this._partialTextY=P+A,this._partialText=T,g){e.save();const M=i.slice(0,w).reduce((ie,pe)=>ie+jn(pe.text).length,0),K=F+M;g({char:T,index:K,x:O,y:P+A,lineIndex:w,column:F,isLastInLine:j,width:this.measureSize(T).width,context:e})}e.fillStrokeShape(this),g&&e.restore(),O+=this.measureSize(T).width+p}}else p!==0&&e.setAttr("letterSpacing",`${p}px`),this._partialTextX=O,this._partialTextY=P+A,this._partialText=N,e.fillStrokeShape(this);if(b){e.save(),e.beginPath();const $=ne.legacyTextRendering?0:-Math.round(a/4),V=re;e.moveTo(V,P+A+$);const F=h===Pi&&!j?f-o*2:Z;e.lineTo(V+Math.round(F),P+A+$),e.lineWidth=a/15;const T=this._getLinearGradient();e.strokeStyle=T||v,e.stroke(),e.restore()}e.restore(),s>1&&(P+=l)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=I._isString(e)?e:e==null?"":e+"";return this._setAttr(a5,n),this}getWidth(){return this.attrs.width===Vr||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Vr||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return I.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,i,s,o,a,l,c,u,d,h;let f=La(),p=this.fontSize(),g;f.save(),f.font=this._getContextFont(),g=f.measureText(e),f.restore();const v=p/100;return{actualBoundingBoxAscent:(n=g.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*v,actualBoundingBoxDescent:(r=g.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=g.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*v,actualBoundingBoxRight:(s=g.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*v,alphabeticBaseline:(o=g.alphabeticBaseline)!==null&&o!==void 0?o:0,emHeightAscent:(a=g.emHeightAscent)!==null&&a!==void 0?a:100*v,emHeightDescent:(l=g.emHeightDescent)!==null&&l!==void 0?l:-20*v,fontBoundingBoxAscent:(c=g.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*v,fontBoundingBoxDescent:(u=g.fontBoundingBoxDescent)!==null&&u!==void 0?u:21*v,hangingBaseline:(d=g.hangingBaseline)!==null&&d!==void 0?d:72.80000305175781*v,ideographicBaseline:(h=g.ideographicBaseline)!==null&&h!==void 0?h:-21*v,width:g.width,height:p}}_getContextFont(){return this.fontStyle()+$s+this.fontVariant()+$s+(this.fontSize()+d5)+m5(this.fontFamily())}_addTextLine(e){this.align()===Pi&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return La().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,s=this.attrs.width,o=this.attrs.height,a=s!==Vr&&s!==void 0,l=o!==Vr&&o!==void 0,c=this.padding(),u=s-c*2,d=o-c*2,h=0,f=this.wrap(),p=f!==bd,g=f!==p5&&p,v=this.ellipsis();this.textArr=[],La().font=this._getContextFont();const m=v?this._getTextWidth(Ia):0;for(let y=0,b=e.length;y<b;++y){let w=e[y],P=this._getTextWidth(w);if(a&&P>u)for(;w.length>0;){let k=0,O=jn(w).length,A="",R=0;for(;k<O;){const N=k+O>>>1,Z=jn(w),j=Z.slice(0,N+1).join(""),re=this._getTextWidth(j);(v&&l&&h+i>d?re+m:re)<=u?(k=N+1,A=j,R=re):O=N}if(A){if(g){const j=jn(w),re=jn(A),$=j[re.length],V=$===$s||$===md;let F;if(V&&R<=u)F=re.length;else{const T=re.lastIndexOf($s),E=re.lastIndexOf(md);F=Math.max(T,E)+1}F>0&&(k=F,A=j.slice(0,k).join(""),R=this._getTextWidth(A))}if(A=A.trimRight(),this._addTextLine(A),r=Math.max(r,R),h+=i,this._shouldHandleEllipsis(h)){this._tryToAddEllipsisToLastLine();break}if(w=jn(w).slice(k).join("").trimLeft(),w.length>0&&(P=this._getTextWidth(w),P<=u)){this._addTextLine(w),h+=i,r=Math.max(r,P);break}}else break}else this._addTextLine(w),h+=i,r=Math.max(r,P),this._shouldHandleEllipsis(h)&&y<b-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&h+i>d)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,s=i!==Vr&&i!==void 0,o=this.padding(),a=i-o*2;return!(this.wrap()!==bd)||s&&e+r>a}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==Vr&&e!==void 0,r=this.padding(),i=e-r*2,s=this.ellipsis(),o=this.textArr[this.textArr.length-1];!o||!s||(n&&(this._getTextWidth(o.text+Ia)<i||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+Ia))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}Xe.prototype._fillFunc=v5;Xe.prototype._strokeFunc=y5;Xe.prototype.className=l5;Xe.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Ze(Xe);S.overWriteSetter(Xe,"width",ac());S.overWriteSetter(Xe,"height",ac());S.addGetterSetter(Xe,"direction",xp);S.addGetterSetter(Xe,"fontFamily","Arial");S.addGetterSetter(Xe,"fontSize",12,J());S.addGetterSetter(Xe,"fontStyle",Cp);S.addGetterSetter(Xe,"fontVariant",Cp);S.addGetterSetter(Xe,"padding",0,J());S.addGetterSetter(Xe,"align",Sp);S.addGetterSetter(Xe,"verticalAlign",c5);S.addGetterSetter(Xe,"lineHeight",1,J());S.addGetterSetter(Xe,"wrap",f5);S.addGetterSetter(Xe,"ellipsis",!1,nn());S.addGetterSetter(Xe,"letterSpacing",0,J());S.addGetterSetter(Xe,"text","",kr());S.addGetterSetter(Xe,"textDecoration","");S.addGetterSetter(Xe,"charRenderFunc",void 0);const w5="",Ap="normal";function Pp(t){t.fillText(this.partialText,0,0)}function kp(t){t.strokeText(this.partialText,0,0)}class at extends X{constructor(e){super(e),this.dummyCanvas=I.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Ue.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:Ue.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Ue.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo,o=n.indexOf("underline")!==-1,a=n.indexOf("line-through")!==-1;o&&e.beginPath();for(let l=0;l<s.length;l++){e.save();const c=s[l].p0;e.translate(c.x,c.y),e.rotate(s[l].rotation),this.partialText=s[l].text,e.fillStrokeShape(this),o&&(l===0&&e.moveTo(0,i/2+1),e.lineTo(s[l].width,i/2+1)),e.restore()}if(o&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),a){e.beginPath();for(let l=0;l<s.length;l++){e.save();const c=s[l].p0;e.translate(c.x,c.y),e.rotate(s[l].rotation),l===0&&e.moveTo(0,0),e.lineTo(s[l].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=i/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const i=n[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return I.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Xe.prototype.setText.call(this,e)}_getContextFont(){return Xe.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=jn(this.text()),n=[];let r=0;for(let d=0;d<e.length;d++)n.push({char:e[d],width:this._getTextSize(e[d]).width}),r+=n[d].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const s=this.letterSpacing(),o=this.align(),a=this.kerningFunc(),l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*s,0);let c=0;o==="center"&&(c=Math.max(0,this.pathLength/2-l/2)),o==="right"&&(c=Math.max(0,this.pathLength-l));let u=c;for(let d=0;d<n.length;d++){const h=this._getPointAtLength(u);if(!h)return;const f=n[d].char;let p=n[d].width+s;if(f===" "&&o==="justify"){const w=this.text().split(" ").length-1;p+=(this.pathLength-l)/w}const g=this._getPointAtLength(u+p);if(!g)return;const v=Ue.getLineLength(h.x,h.y,g.x,g.y);let m=0;if(a)try{m=a(n[d-1].char,f)*this.fontSize()}catch{m=0}h.x+=m,g.x+=m,this.textWidth+=m;const y=Ue.getPointOnLine(m+v/2,h.x,h.y,g.x,g.y),b=Math.atan2(g.y-h.y,g.x-h.x);this.glyphInfo.push({transposeX:y.x,transposeY:y.y,text:e[d],rotation:b,p0:h,p1:g,width:v}),u+=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let n=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,o,a;for(let c=0;c<e.length/2;c++)o=e[c*2],a=e[c*2+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);const l=this.fontSize();return{x:n-l/2,y:i-l/2,width:r-n+l,height:s-i+l}}destroy(){return I.releaseCanvas(this.dummyCanvas),super.destroy()}}at.prototype._fillFunc=Pp;at.prototype._strokeFunc=kp;at.prototype._fillFuncHit=Pp;at.prototype._strokeFuncHit=kp;at.prototype.className="TextPath";at.prototype._attrsAffectingSize=["text","fontSize","data"];Ze(at);S.addGetterSetter(at,"data");S.addGetterSetter(at,"fontFamily","Arial");S.addGetterSetter(at,"fontSize",12,J());S.addGetterSetter(at,"fontStyle",Ap);S.addGetterSetter(at,"align","left");S.addGetterSetter(at,"letterSpacing",0,J());S.addGetterSetter(at,"textBaseline","middle");S.addGetterSetter(at,"fontVariant",Ap);S.addGetterSetter(at,"text",w5);S.addGetterSetter(at,"textDecoration","");S.addGetterSetter(at,"kerningFunc",void 0);const Tp="tr-konva",_5=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${Tp}`).join(" "),wd="nodesRect",x5=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],S5={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},C5="ontouchstart"in ne._global;function E5(t,e,n){if(t==="rotater")return n;e+=I.degToRad(S5[t]||0);const r=(I.radToDeg(e)%360+360)%360;return I._inRange(r,315+22.5,360)||I._inRange(r,0,22.5)?"ns-resize":I._inRange(r,45-22.5,45+22.5)?"nesw-resize":I._inRange(r,90-22.5,90+22.5)?"ew-resize":I._inRange(r,135-22.5,135+22.5)?"nwse-resize":I._inRange(r,180-22.5,180+22.5)?"ns-resize":I._inRange(r,225-22.5,225+22.5)?"nesw-resize":I._inRange(r,270-22.5,270+22.5)?"ew-resize":I._inRange(r,315-22.5,315+22.5)?"nwse-resize":(I.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const yo=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function A5(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function Rp(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:i}}function P5(t,e){const n=A5(t);return Rp(t,e,n)}function k5(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=ne.getAngle(t[i]),o=Math.abs(s-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<n&&(r=s)}return r}let _l=0;class Oe extends si{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(_5,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return I.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Tp+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(I.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const o=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(o,s)}i.on(x5.map(o=>o+`.${this._getEventNamespace()}`).join(" "),s),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),s=i.x-n.x,o=i.y-n.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;const l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+s,y:l.y+o}),a.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(wd),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(wd,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),o=e.getAbsolutePosition(r),a=i.x*s.x-e.offsetX()*s.x,l=i.y*s.y-e.offsetY()*s.y,c=(ne.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),u={x:o.x+a*Math.cos(c)+l*Math.sin(-c),y:o.y+l*Math.cos(c)+a*Math.sin(c),width:i.width*s.x,height:i.height*s.y,rotation:c};return Rp(u,-ne.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const u=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),d=[{x:u.x,y:u.y},{x:u.x+u.width,y:u.y},{x:u.x+u.width,y:u.y+u.height},{x:u.x,y:u.y+u.height}],h=c.getAbsoluteTransform();d.forEach(function(f){const p=h.point(f);n.push(p)})});const r=new Lt;r.rotate(-ne.getAngle(this.rotation()));let i=1/0,s=1/0,o=-1/0,a=-1/0;n.forEach(function(c){const u=r.point(c);i===void 0&&(i=o=u.x,s=a=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}),r.invert();const l=r.point({x:i,y:s});return{x:l.x,y:l.y,width:o-i,height:a-s,rotation:ne.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),yo.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new ms({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:C5?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=ne.getAngle(this.rotation()),s=this.rotateAnchorCursor(),o=E5(e,i,s);n.getStage().content&&(n.getStage().content.style.cursor=o),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new X({name:"back",width:0,height:0,sceneFunc(n,r){const i=r.getParent(),s=i.padding();n.beginPath(),n.rect(-s,-s,r.width()+s*2,r.height()+s*2),n.moveTo(r.width()/2,-s),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(r.width()/2,-i.rotateAnchorOffset()*I._sign(r.height())-s),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,i=n.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},_l++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let n,r,i;const s=this.findOne("."+this._movingAnchorName),o=s.getStage();o.setPointersPositions(e);const a=o.getPointerPosition();let l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),s.setAbsolutePosition(l);const u=s.getAbsolutePosition();if(c.x===u.x&&c.y===u.y)return;if(this._movingAnchorName==="rotater"){const y=this._getNodeRect();n=s.x()-y.width/2,r=-s.y()+y.height/2;let b=Math.atan2(-r,n)+Math.PI/2;y.height<0&&(b-=Math.PI);const P=ne.getAngle(this.rotation())+b,k=ne.getAngle(this.rotationSnapTolerance()),A=k5(this.rotationSnaps(),P,k)-y.rotation,R=P5(y,A);this._fitNodesInto(R,e);return}const d=this.shiftBehavior();let h;d==="inverted"?h=this.keepRatio()&&!e.shiftKey:d==="none"?h=this.keepRatio():h=this.keepRatio()||e.shiftKey;let f=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(h){const y=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(y.x-s.x(),2)+Math.pow(y.y-s.y(),2));const b=this.findOne(".top-left").x()>y.x?-1:1,w=this.findOne(".top-left").y()>y.y?-1:1;n=i*this.cos*b,r=i*this.sin*w,this.findOne(".top-left").x(y.x-n),this.findOne(".top-left").y(y.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(h){const y=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-y.x,2)+Math.pow(y.y-s.y(),2));const b=this.findOne(".top-right").x()<y.x?-1:1,w=this.findOne(".top-right").y()>y.y?-1:1;n=i*this.cos*b,r=i*this.sin*w,this.findOne(".top-right").x(y.x+n),this.findOne(".top-right").y(y.y-r)}var p=s.position();this.findOne(".top-left").y(p.y),this.findOne(".bottom-right").x(p.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(h){const y=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(y.x-s.x(),2)+Math.pow(s.y()-y.y,2));const b=y.x<s.x()?-1:1,w=s.y()<y.y?-1:1;n=i*this.cos*b,r=i*this.sin*w,s.x(y.x-n),s.y(y.y+r)}p=s.position(),this.findOne(".top-left").x(p.x),this.findOne(".bottom-right").y(p.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(h){const y=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-y.x,2)+Math.pow(s.y()-y.y,2));const b=this.findOne(".bottom-right").x()<y.x?-1:1,w=this.findOne(".bottom-right").y()<y.y?-1:1;n=i*this.cos*b,r=i*this.sin*w,this.findOne(".bottom-right").x(y.x+n),this.findOne(".bottom-right").y(y.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(f=this.centeredScaling()||e.altKey,f){const y=this.findOne(".top-left"),b=this.findOne(".bottom-right"),w=y.x(),P=y.y(),k=this.getWidth()-b.x(),O=this.getHeight()-b.y();b.move({x:-w,y:-P}),y.move({x:k,y:O})}const g=this.findOne(".top-left").getAbsolutePosition();n=g.x,r=g.y;const v=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),m=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:v,height:m,rotation:ne.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();_l--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(i=>{var s;i._fire("transformend",{evt:e,target:i}),(s=i.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),i=1;if(I._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(I._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=new Lt;if(s.rotate(ne.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const h=s.point({x:-this.padding()*2,y:0});e.x+=h.x,e.y+=h.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const h=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const h=s.point({x:0,y:-this.padding()*2});e.x+=h.x,e.y+=h.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const h=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const h=this.boundBoxFunc()(r,e);h?e=h:I.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,a=new Lt;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/o,r.height/o);const l=new Lt,c=e.width/o,u=e.height/o;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(u))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,u));const d=l.multiply(a.invert());this._nodes.forEach(h=>{var f;if(!h.getStage())return;const p=h.getParent().getAbsoluteTransform(),g=h.getTransform().copy();g.translate(h.offsetX(),h.offsetY());const v=new Lt;v.multiply(p.copy().invert()).multiply(d).multiply(p).multiply(g);const m=v.decompose();h.setAttrs(m),(f=h.getLayer())===null||f===void 0||f.batchDraw()}),this.rotation(I._getRotation(e.rotation)),this._nodes.forEach(h=>{this._fire("transform",{evt:n,target:h}),h._fire("transform",{evt:n,target:h})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(I._getRotation(n.rotation));const r=n.width,i=n.height,s=this.enabledAnchors(),o=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(d=>{d.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:o&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+a,visible:o&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:o&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:o&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-a,visible:o&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-a,visible:o&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*I._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(d=>d.draggable()),x:0,y:0});const u=this.anchorStyleFunc();u&&c.forEach(d=>{u(d)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),si.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Q.prototype.toObject.call(this)}clone(e){return Q.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Oe.isTransforming=()=>_l>0;function T5(t){return t instanceof Array||I.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){yo.indexOf(e)===-1&&I.warn("Unknown anchor name: "+e+". Available names are: "+yo.join(", "))}),t||[]}Oe.prototype.className="Transformer";Ze(Oe);S.addGetterSetter(Oe,"enabledAnchors",yo,T5);S.addGetterSetter(Oe,"flipEnabled",!0,nn());S.addGetterSetter(Oe,"resizeEnabled",!0);S.addGetterSetter(Oe,"anchorSize",10,J());S.addGetterSetter(Oe,"rotateEnabled",!0);S.addGetterSetter(Oe,"rotateLineVisible",!0);S.addGetterSetter(Oe,"rotationSnaps",[]);S.addGetterSetter(Oe,"rotateAnchorOffset",50,J());S.addGetterSetter(Oe,"rotateAnchorCursor","crosshair");S.addGetterSetter(Oe,"rotationSnapTolerance",5,J());S.addGetterSetter(Oe,"borderEnabled",!0);S.addGetterSetter(Oe,"anchorStroke","rgb(0, 161, 255)");S.addGetterSetter(Oe,"anchorStrokeWidth",1,J());S.addGetterSetter(Oe,"anchorFill","white");S.addGetterSetter(Oe,"anchorCornerRadius",0,J());S.addGetterSetter(Oe,"borderStroke","rgb(0, 161, 255)");S.addGetterSetter(Oe,"borderStrokeWidth",1,J());S.addGetterSetter(Oe,"borderDash");S.addGetterSetter(Oe,"keepRatio",!0);S.addGetterSetter(Oe,"shiftBehavior","default");S.addGetterSetter(Oe,"centeredScaling",!1);S.addGetterSetter(Oe,"ignoreStroke",!1);S.addGetterSetter(Oe,"padding",0,J());S.addGetterSetter(Oe,"nodes");S.addGetterSetter(Oe,"node");S.addGetterSetter(Oe,"boundBoxFunc");S.addGetterSetter(Oe,"anchorDragBoundFunc");S.addGetterSetter(Oe,"anchorStyleFunc");S.addGetterSetter(Oe,"shouldOverdrawWholeArea",!1);S.addGetterSetter(Oe,"useSingleNodeRotation",!0);S.backCompat(Oe,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Gn extends X{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,ne.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Gn.prototype.className="Wedge";Gn.prototype._centroid=!0;Gn.prototype._attrsAffectingSize=["radius"];Ze(Gn);S.addGetterSetter(Gn,"radius",0,J());S.addGetterSetter(Gn,"angle",0,J());S.addGetterSetter(Gn,"clockwise",!1);S.backCompat(Gn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function _d(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const R5=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],O5=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function M5(t,e){const n=t.data,r=t.width,i=t.height;let s,o,a,l,c,u,d,h,f,p,g,v,m,y,b,w,P,k,O,A;const R=e+e+1,N=r-1,Z=i-1,j=e+1,re=j*(j+1)/2,$=new _d,V=R5[e],F=O5[e];let T=null,E=$,M=null,K=null;for(let ie=1;ie<R;ie++)E=E.next=new _d,ie===j&&(T=E);E.next=$,a=o=0;for(let ie=0;ie<i;ie++){v=m=y=b=l=c=u=d=0,h=j*(w=n[o]),f=j*(P=n[o+1]),p=j*(k=n[o+2]),g=j*(O=n[o+3]),l+=re*w,c+=re*P,u+=re*k,d+=re*O,E=$;for(let pe=0;pe<j;pe++)E.r=w,E.g=P,E.b=k,E.a=O,E=E.next;for(let pe=1;pe<j;pe++)s=o+((N<pe?N:pe)<<2),l+=(E.r=w=n[s])*(A=j-pe),c+=(E.g=P=n[s+1])*A,u+=(E.b=k=n[s+2])*A,d+=(E.a=O=n[s+3])*A,v+=w,m+=P,y+=k,b+=O,E=E.next;M=$,K=T;for(let pe=0;pe<r;pe++)n[o+3]=O=d*V>>F,O!==0?(O=255/O,n[o]=(l*V>>F)*O,n[o+1]=(c*V>>F)*O,n[o+2]=(u*V>>F)*O):n[o]=n[o+1]=n[o+2]=0,l-=h,c-=f,u-=p,d-=g,h-=M.r,f-=M.g,p-=M.b,g-=M.a,s=a+((s=pe+e+1)<N?s:N)<<2,v+=M.r=n[s],m+=M.g=n[s+1],y+=M.b=n[s+2],b+=M.a=n[s+3],l+=v,c+=m,u+=y,d+=b,M=M.next,h+=w=K.r,f+=P=K.g,p+=k=K.b,g+=O=K.a,v-=w,m-=P,y-=k,b-=O,K=K.next,o+=4;a+=r}for(let ie=0;ie<r;ie++){m=y=b=v=c=u=d=l=0,o=ie<<2,h=j*(w=n[o]),f=j*(P=n[o+1]),p=j*(k=n[o+2]),g=j*(O=n[o+3]),l+=re*w,c+=re*P,u+=re*k,d+=re*O,E=$;for(let ye=0;ye<j;ye++)E.r=w,E.g=P,E.b=k,E.a=O,E=E.next;let pe=r;for(let ye=1;ye<=e;ye++)o=pe+ie<<2,l+=(E.r=w=n[o])*(A=j-ye),c+=(E.g=P=n[o+1])*A,u+=(E.b=k=n[o+2])*A,d+=(E.a=O=n[o+3])*A,v+=w,m+=P,y+=k,b+=O,E=E.next,ye<Z&&(pe+=r);o=ie,M=$,K=T;for(let ye=0;ye<i;ye++)s=o<<2,n[s+3]=O=d*V>>F,O>0?(O=255/O,n[s]=(l*V>>F)*O,n[s+1]=(c*V>>F)*O,n[s+2]=(u*V>>F)*O):n[s]=n[s+1]=n[s+2]=0,l-=h,c-=f,u-=p,d-=g,h-=M.r,f-=M.g,p-=M.b,g-=M.a,s=ie+((s=ye+j)<Z?s:Z)*r<<2,l+=v+=M.r=n[s],c+=m+=M.g=n[s+1],u+=y+=M.b=n[s+2],d+=b+=M.a=n[s+3],M=M.next,h+=w=K.r,f+=P=K.g,p+=k=K.b,g+=O=K.a,v-=w,m-=P,y-=k,b-=O,K=K.next,o+=r}}const I5=function(e){const n=Math.round(this.blurRadius());n>0&&M5(e,n)};S.addGetterSetter(Q,"blurRadius",0,J(),S.afterSetFilter);const L5=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};S.addGetterSetter(Q,"brightness",0,J(),S.afterSetFilter);const D5=function(t){const e=this.brightness(),n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},N5=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let i=150,s=150,o=150;for(let a=0;a<r;a+=4)i=n[a],s=n[a+1],o=n[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,o=o<0?0:o>255?255:o,n[a]=i,n[a+1]=s,n[a+2]=o};S.addGetterSetter(Q,"contrast",0,J(),S.afterSetFilter);const F5=function(t){var e,n,r,i,s,o,a,l,c;const u=t.data,d=t.width,h=t.height,f=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),p=Math.min(1,Math.max(0,(i=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&i!==void 0?i:.5)),v=(a={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(o=(s=this.embossDirection)===null||s===void 0?void 0:s.call(this))!==null&&o!==void 0?o:"top-left"])!==null&&a!==void 0?a:315,m=!!((c=(l=this.embossBlend)===null||l===void 0?void 0:l.call(this))!==null&&c!==void 0&&c),y=f*10,b=p*255,w=v*Math.PI/180,P=Math.cos(w),k=Math.sin(w),O=128/1020*y,A=new Uint8ClampedArray(u),R=new Float32Array(d*h);for(let $=0,V=0;V<u.length;V+=4,$++)R[$]=.2126*A[V]+.7152*A[V+1]+.0722*A[V+2];const N=[-1,0,1,-2,0,2,-1,0,1],Z=[-1,-2,-1,0,0,0,1,2,1],j=[-d-1,-d,-d+1,-1,0,1,d-1,d,d+1],re=$=>$<0?0:$>255?255:$;for(let $=1;$<h-1;$++)for(let V=1;V<d-1;V++){const F=$*d+V;let T=0,E=0;T+=R[F+j[0]]*N[0],E+=R[F+j[0]]*Z[0],T+=R[F+j[1]]*N[1],E+=R[F+j[1]]*Z[1],T+=R[F+j[2]]*N[2],E+=R[F+j[2]]*Z[2],T+=R[F+j[3]]*N[3],E+=R[F+j[3]]*Z[3],T+=R[F+j[5]]*N[5],E+=R[F+j[5]]*Z[5],T+=R[F+j[6]]*N[6],E+=R[F+j[6]]*Z[6],T+=R[F+j[7]]*N[7],E+=R[F+j[7]]*Z[7],T+=R[F+j[8]]*N[8],E+=R[F+j[8]]*Z[8];const M=P*T+k*E,K=re(b+M*O),ie=F*4;if(m){const pe=K-b;u[ie]=re(A[ie]+pe),u[ie+1]=re(A[ie+1]+pe),u[ie+2]=re(A[ie+2]+pe),u[ie+3]=A[ie+3]}else u[ie]=u[ie+1]=u[ie+2]=K,u[ie+3]=A[ie+3]}for(let $=0;$<d;$++){let V=$*4,F=((h-1)*d+$)*4;u[V]=A[V],u[V+1]=A[V+1],u[V+2]=A[V+2],u[V+3]=A[V+3],u[F]=A[F],u[F+1]=A[F+1],u[F+2]=A[F+2],u[F+3]=A[F+3]}for(let $=1;$<h-1;$++){let V=$*d*4,F=($*d+(d-1))*4;u[V]=A[V],u[V+1]=A[V+1],u[V+2]=A[V+2],u[V+3]=A[V+3],u[F]=A[F],u[F+1]=A[F+1],u[F+2]=A[F+2],u[F+3]=A[F+3]}return t};S.addGetterSetter(Q,"embossStrength",.5,J(),S.afterSetFilter);S.addGetterSetter(Q,"embossWhiteLevel",.5,J(),S.afterSetFilter);S.addGetterSetter(Q,"embossDirection","top-left",void 0,S.afterSetFilter);S.addGetterSetter(Q,"embossBlend",!1,void 0,S.afterSetFilter);function Da(t,e,n,r,i){const s=n-e,o=i-r;if(s===0)return r+o/2;if(o===0)return r;let a=(t-e)/s;return a=o*a+r,a}const B5=function(t){const e=t.data,n=e.length;let r=e[0],i=r,s,o=e[1],a=o,l,c=e[2],u=c,d;const h=this.enhance();if(h===0)return;for(let b=0;b<n;b+=4)s=e[b+0],s<r?r=s:s>i&&(i=s),l=e[b+1],l<o?o=l:l>a&&(a=l),d=e[b+2],d<c?c=d:d>u&&(u=d);i===r&&(i=255,r=0),a===o&&(a=255,o=0),u===c&&(u=255,c=0);let f,p,g,v,m,y;if(h>0)f=i+h*(255-i),p=r-h*(r-0),g=a+h*(255-a),v=o-h*(o-0),m=u+h*(255-u),y=c-h*(c-0);else{const b=(i+r)*.5;f=i+h*(i-b),p=r+h*(r-b);const w=(a+o)*.5;g=a+h*(a-w),v=o+h*(o-w);const P=(u+c)*.5;m=u+h*(u-P),y=c+h*(c-P)}for(let b=0;b<n;b+=4)e[b+0]=Da(e[b+0],r,i,p,f),e[b+1]=Da(e[b+1],o,a,v,g),e[b+2]=Da(e[b+2],c,u,y,m)};S.addGetterSetter(Q,"enhance",0,J(),S.afterSetFilter);const G5=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};S.addGetterSetter(Q,"hue",0,J(),S.afterSetFilter);S.addGetterSetter(Q,"saturation",0,J(),S.afterSetFilter);S.addGetterSetter(Q,"luminance",0,J(),S.afterSetFilter);const $5=function(t){const e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=this.luminance()*127,a=r*i*Math.cos(s*Math.PI/180),l=r*i*Math.sin(s*Math.PI/180),c=.299*r+.701*a+.167*l,u=.587*r-.587*a+.33*l,d=.114*r-.114*a-.497*l,h=.299*r-.299*a-.328*l,f=.587*r+.413*a+.035*l,p=.114*r-.114*a+.293*l,g=.299*r-.3*a+1.25*l,v=.587*r-.586*a-1.05*l,m=.114*r+.886*a-.2*l;let y,b,w,P;for(let k=0;k<n;k+=4)y=e[k+0],b=e[k+1],w=e[k+2],P=e[k+3],e[k+0]=c*y+u*b+d*w+o,e[k+1]=h*y+f*b+p*w+o,e[k+2]=g*y+v*b+m*w+o,e[k+3]=P},V5=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=r*i*Math.cos(s*Math.PI/180),a=r*i*Math.sin(s*Math.PI/180),l=.299*r+.701*o+.167*a,c=.587*r-.587*o+.33*a,u=.114*r-.114*o-.497*a,d=.299*r-.299*o-.328*a,h=.587*r+.413*o+.035*a,f=.114*r-.114*o+.293*a,p=.299*r-.3*o+1.25*a,g=.587*r-.586*o-1.05*a,v=.114*r+.886*o-.2*a;for(let m=0;m<n;m+=4){const y=e[m+0],b=e[m+1],w=e[m+2],P=e[m+3];e[m+0]=l*y+c*b+u*w,e[m+1]=d*y+h*b+f*w,e[m+2]=p*y+g*b+v*w,e[m+3]=P}};S.addGetterSetter(Q,"hue",0,J(),S.afterSetFilter);S.addGetterSetter(Q,"saturation",0,J(),S.afterSetFilter);S.addGetterSetter(Q,"value",0,J(),S.afterSetFilter);const H5=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},W5=function(t,e,n){const r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2;let c=Math.sqrt(a*a+l*l),u=s-a,d=o-l;const h=Math.sqrt(u*u+d*d);c=h>c?h:c;const f=o,p=s,g=360/p*Math.PI/180;for(let v=0;v<p;v+=1){const m=Math.sin(v*g),y=Math.cos(v*g);for(let b=0;b<f;b+=1){u=Math.floor(a+c*b/f*y),d=Math.floor(l+c*b/f*m);let w=(d*s+u)*4;const P=r[w+0],k=r[w+1],O=r[w+2],A=r[w+3];w=(v+b*s)*4,i[w+0]=P,i[w+1]=k,i[w+2]=O,i[w+3]=A}}},z5=function(t,e,n){const r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2;let c=Math.sqrt(a*a+l*l),u=s-a,d=o-l;const h=Math.sqrt(u*u+d*d);c=h>c?h:c;const f=o,p=s,g=0;let v,m;for(u=0;u<s;u+=1)for(d=0;d<o;d+=1){const y=u-a,b=d-l,w=Math.sqrt(y*y+b*b)*f/c;let P=(Math.atan2(b,y)*180/Math.PI+360+g)%360;P=P*p/360,v=Math.floor(P),m=Math.floor(w);let k=(m*s+v)*4;const O=r[k+0],A=r[k+1],R=r[k+2],N=r[k+3];k=(d*s+u)*4,i[k+0]=O,i[k+1]=A,i[k+2]=R,i[k+3]=N}},j5=function(t){const e=t.width,n=t.height;let r,i,s,o,a,l,c,u,d,h,f=Math.round(this.kaleidoscopePower());const p=Math.round(this.kaleidoscopeAngle()),g=Math.floor(e*(p%360)/360);if(f<1)return;const v=I.createCanvasElement();v.width=e,v.height=n;const m=v.getContext("2d").getImageData(0,0,e,n);I.releaseCanvas(v),W5(t,m,{polarCenterX:e/2,polarCenterY:n/2});let y=e/Math.pow(2,f);for(;y<=8;)y=y*2,f-=1;y=Math.ceil(y);let b=y,w=0,P=b,k=1;for(g+y>e&&(w=b,P=0,k=-1),i=0;i<n;i+=1)for(r=w;r!==P;r+=k)s=Math.round(r+g)%e,d=(e*i+s)*4,a=m.data[d+0],l=m.data[d+1],c=m.data[d+2],u=m.data[d+3],h=(e*i+r)*4,m.data[h+0]=a,m.data[h+1]=l,m.data[h+2]=c,m.data[h+3]=u;for(i=0;i<n;i+=1)for(b=Math.floor(y),o=0;o<f;o+=1){for(r=0;r<b+1;r+=1)d=(e*i+r)*4,a=m.data[d+0],l=m.data[d+1],c=m.data[d+2],u=m.data[d+3],h=(e*i+b*2-r-1)*4,m.data[h+0]=a,m.data[h+1]=l,m.data[h+2]=c,m.data[h+3]=u;b*=2}z5(m,t,{})};S.addGetterSetter(Q,"kaleidoscopePower",2,J(),S.afterSetFilter);S.addGetterSetter(Q,"kaleidoscopeAngle",0,J(),S.afterSetFilter);function Hs(t,e,n){let r=(n*t.width+e)*4;const i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function ki(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function U5(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function Y5(t,e){const n=Hs(t,0,0),r=Hs(t,t.width-1,0),i=Hs(t,0,t.height-1),s=Hs(t,t.width-1,t.height-1),o=e||10;if(ki(n,r)<o&&ki(r,s)<o&&ki(s,i)<o&&ki(i,n)<o){const a=U5([r,n,s,i]),l=[];for(let c=0;c<t.width*t.height;c++){const u=ki(a,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=u<o?0:255}return l}}function X5(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function q5(t,e,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<i;d++)for(let h=0;h<i;h++){const f=a+d-s,p=l+h-s;if(f>=0&&f<n&&p>=0&&p<e){const g=f*e+p,v=r[d*i+h];u+=t[g]*v}}o[c]=u===2040?255:0}return o}function K5(t,e,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<i;d++)for(let h=0;h<i;h++){const f=a+d-s,p=l+h-s;if(f>=0&&f<n&&p>=0&&p<e){const g=f*e+p,v=r[d*i+h];u+=t[g]*v}}o[c]=u>=1020?255:0}return o}function J5(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<i;d++)for(let h=0;h<i;h++){const f=a+d-s,p=l+h-s;if(f>=0&&f<n&&p>=0&&p<e){const g=f*e+p,v=r[d*i+h];u+=t[g]*v}}o[c]=u}return o}const Q5=function(t){const e=this.threshold();let n=Y5(t,e);return n&&(n=q5(n,t.width,t.height),n=K5(n,t.width,t.height),n=J5(n,t.width,t.height),X5(t,n)),t};S.addGetterSetter(Q,"threshold",0,J(),S.afterSetFilter);const Z5=function(t){const e=this.noise()*255,n=t.data,r=n.length,i=e/2;for(let s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()};S.addGetterSetter(Q,"noise",.2,J(),S.afterSetFilter);const e6=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i=Math.ceil(n/e),s=Math.ceil(r/e),o=t.data;if(e<=0){I.error("pixelSize value can not be <= 0");return}for(let a=0;a<i;a+=1)for(let l=0;l<s;l+=1){let c=0,u=0,d=0,h=0;const f=a*e,p=f+e,g=l*e,v=g+e;let m=0;for(let y=f;y<p;y+=1)if(!(y>=n))for(let b=g;b<v;b+=1){if(b>=r)continue;const w=(n*b+y)*4;c+=o[w+0],u+=o[w+1],d+=o[w+2],h+=o[w+3],m+=1}c=c/m,u=u/m,d=d/m,h=h/m;for(let y=f;y<p;y+=1)if(!(y>=n))for(let b=g;b<v;b+=1){if(b>=r)continue;const w=(n*b+y)*4;o[w+0]=c,o[w+1]=u,o[w+2]=d,o[w+3]=h}}};S.addGetterSetter(Q,"pixelSize",8,J(),S.afterSetFilter);const t6=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e;for(let s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i};S.addGetterSetter(Q,"levels",.5,J(),S.afterSetFilter);const n6=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue();for(let o=0;o<n;o+=4){const a=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255;e[o]=a*r,e[o+1]=a*i,e[o+2]=a*s,e[o+3]=e[o+3]}};S.addGetterSetter(Q,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});S.addGetterSetter(Q,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});S.addGetterSetter(Q,"blue",0,ep,S.afterSetFilter);const r6=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),o=this.alpha();for(let a=0;a<n;a+=4){const l=1-o;e[a]=r*o+e[a]*l,e[a+1]=i*o+e[a+1]*l,e[a+2]=s*o+e[a+2]*l}};S.addGetterSetter(Q,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});S.addGetterSetter(Q,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});S.addGetterSetter(Q,"blue",0,ep,S.afterSetFilter);S.addGetterSetter(Q,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const i6=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=e[r+0],s=e[r+1],o=e[r+2];e[r+0]=Math.min(255,i*.393+s*.769+o*.189),e[r+1]=Math.min(255,i*.349+s*.686+o*.168),e[r+2]=Math.min(255,i*.272+s*.534+o*.131)}},s6=function(t){const n=t.data;for(let r=0;r<n.length;r+=4){const i=n[r],s=n[r+1],o=n[r+2];.2126*i+.7152*s+.0722*o>=128&&(n[r]=255-i,n[r+1]=255-s,n[r+2]=255-o)}return t},o6=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=1)n[i]=n[i]<e?0:255};S.addGetterSetter(Q,"threshold",.5,J(),S.afterSetFilter);const nt=ud.Util._assign(ud,{Arc:Fn,Arrow:Rr,Circle:mi,Ellipse:lr,Image:Gt,Label:uc,Tag:Or,Line:Bn,Path:Ue,Rect:ms,RegularPolygon:cr,Ring:Mr,Sprite:bn,Star:ur,Text:Xe,TextPath:at,Transformer:Oe,Wedge:Gn,Filters:{Blur:I5,Brightness:D5,Brighten:L5,Contrast:N5,Emboss:F5,Enhance:B5,Grayscale:G5,HSL:$5,HSV:V5,Invert:H5,Kaleidoscope:j5,Mask:Q5,Noise:Z5,Pixelate:e6,Posterize:t6,RGB:n6,RGBA:r6,Sepia:i6,Solarize:s6,Threshold:o6}});class Jo{textureCache=new Map;constructor(){}async generateImage(e){const n=this.getTextureKey(e);if(this.textureCache.has(n))return this.textureCache.get(n);const r=await this.renderToDataUrl(e);return this.textureCache.set(n,r),r}async generateThumbnail(e){return this.generateImage(e)}async renderToDataUrl(e){const n=e.size,r=new nt.Stage({container:document.createElement("div"),width:n,height:n}),i=new nt.Layer;r.add(i),e.layers.forEach(o=>{o.visible!==!1&&this.drawLayer(i,o,n)}),i.draw();const s=r.toDataURL();return r.destroy(),s}getTextureKey(e){if(!e||!e.size||!e.layers)return console.error("Invalid texture description:",e),"fallback-texture";const n={size:e.size,layers:e.layers},r=JSON.stringify(n);return`texture-${this.hashString(r)}`}hashString(e){if(!e||typeof e!="string")return"0";let n=0;for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n.toString(36)}drawLayer(e,n,r){if(n.visible!==!1)switch(n.type){case"circle":this.drawCircle(e,n,r);break;case"rect":this.drawRect(e,n,r);break;case"line":this.drawLine(e,n,r);break;case"pattern":this.drawPattern(e,n,r);break;case"ellipse":this.drawEllipse(e,n,r);break;case"polygon":this.drawPolygon(e,n,r);break;case"path":this.drawPath(e,n,r);break}}drawCircle(e,n,r){const i=Gr(n.color),s=n.x!==void 0?n.x:r/2,o=n.y!==void 0?n.y:r/2,a=n.radius!==void 0?n.radius:Math.floor(r/2),l=new nt.Circle({x:s,y:o,radius:a,fill:this.colorToHex(i),rotation:n.rotation||0});e.add(l)}drawRect(e,n,r){const i=Gr(n.color),s=n.width||0,o=n.height||0,a=n.x!==void 0?n.x:(r-s)/2,l=n.y!==void 0?n.y:(r-o)/2,c=new nt.Rect({x:a+s/2,y:l+o/2,width:s,height:o,fill:this.colorToHex(i),offsetX:s/2,offsetY:o/2,rotation:n.rotation||0});e.add(c)}drawLine(e,n,r){const i=Gr(n.color),s=n.lineWidth||1,o=n.x!==void 0?n.x:0,a=n.y!==void 0?n.y:0,l=n.x2!==void 0?n.x2:r,c=n.y2!==void 0?n.y2:r,u=(o+l)/2,d=(a+c)/2,h=new nt.Line({points:[o,a,l,c],stroke:this.colorToHex(i),strokeWidth:s,rotation:n.rotation||0,x:u,y:d,offsetX:u,offsetY:d});e.add(h)}drawPattern(e,n,r){const{patternType:i,color1:s,x:o=0,y:a=0,width:l=r,height:c=r,rotation:u=0}=n,d=8,h=s?this.colorToHex(s):"#000000",f=new nt.Group({x:o+l/2,y:a+c/2,rotation:u}),p=-l/2,g=-c/2;switch(i){case"checkerboard":for(let m=0;m<l;m+=d)for(let y=0;y<c;y+=d)if((Math.floor(m/d)+Math.floor(y/d))%2===0){const b=new nt.Rect({x:p+m,y:g+y,width:d,height:d,fill:h});f.add(b)}break;case"stripes":for(let m=0;m<l;m+=d){const y=new nt.Rect({x:p+m,y:g,width:d,height:c,fill:h});f.add(y)}break;case"dots":const v=3;for(let m=0;m<l;m+=d)for(let y=0;y<c;y+=d){const b=new nt.Circle({x:p+m+d/2,y:g+y+d/2,radius:v,fill:h});f.add(b)}break}e.add(f)}drawEllipse(e,n,r){const i=Gr(n.color),s=Math.max(0,Math.min(n.x||r/2,r)),o=Math.max(0,Math.min(n.y||r/2,r)),a=Math.max(1,Math.min(n.width||r,r)),l=Math.max(1,Math.min(n.height||r,r)),c=new nt.Ellipse({x:s,y:o,radiusX:a/2,radiusY:l/2,fill:this.colorToHex(i),rotation:n.rotation||0});e.add(c)}drawPolygon(e,n,r){const i=Gr(n.color),s=n.points||[];if(s.length<3)return;const o=[];s.forEach(([l,c])=>{const u=Math.max(0,Math.min(l,r)),d=Math.max(0,Math.min(c,r));o.push(u,d)});const a=new nt.Line({points:o,fill:this.colorToHex(i),closed:!0,rotation:n.rotation||0});n.lineWidth&&n.lineWidth>0&&(a.stroke(this.colorToHex(i)),a.strokeWidth(n.lineWidth)),e.add(a)}drawPath(e,n,r){const i=n.path||"",s=Gr(n.color),o=n.fill!==void 0?n.fill:!0,a=n.lineWidth||1;if(!i)return;const l=[];let c=0;for(;c<i.length;){const u=i[c];if(c++,u==="M"||u==="L"){const d=this.parseNumber(i,c);c+=d.length;const h=this.parseNumber(i,c);c+=h.length;const f=Math.max(0,Math.min(parseFloat(d),r)),p=Math.max(0,Math.min(parseFloat(h),r));l.push(f,p)}}if(l.length>0){const u=new nt.Line({points:l,closed:i.includes("Z"),rotation:n.rotation||0});o&&u.fill(this.colorToHex(s)),a>0&&(u.stroke(this.colorToHex(s)),u.strokeWidth(a)),e.add(u)}}parseNumber(e,n){let r=n;for(;r<e.length&&(/\d|\.|-/.test(e[r])||e[r]===" ");)r++;return e.substring(n,r).trim()}colorToHex(e){return typeof e=="string"?e:"#"+e.toString(16).padStart(6,"0")}}const vs=zh("ai",()=>{const t=qn("ai-provider","ollama"),e=qn("openrouter-api-key",""),n=qn("ollama-host","http://localhost:11434"),r=qn("selected-model","cohere/command-r"),i=z([]),s=z(!1),o=["cohere/command-r"],a=qn("favorite-models",o),l=z([]),c=h=>o.includes(h)||a.value.includes(h),u=async()=>{i.value=[];let h;if(t.value==="openrouter"){if(!e.value.trim()){console.error("API key required for OpenRouter");return}try{const f=await fetch("https://openrouter.ai/api/v1/models",{headers:{Authorization:`Bearer ${e.value}`}});if(!f.ok)throw new Error(`Failed to fetch models: ${f.statusText}`);h=(await f.json()).data.map(g=>({id:g.id,name:g.name}))}catch(f){console.error("Error fetching OpenRouter models:",f)}}else if(t.value==="ollama")try{const f=new cl({host:n.value}),{models:p}=await f.list();h=[...p.map(v=>({id:v.name,name:v.name}))]}catch(f){console.error("Error fetching Ollama models:",f)}h&&(i.value.length=0,i.value.push(...h),i.value.sort((f,p)=>{const g=c(f.id),v=c(p.id);return g===v?0:g?-1:1}),l.value.length=0,l.value.push(...i.value.filter(f=>c(f.id))))},d=async(h,f,p={temperature:.01})=>{s.value=!0;try{let g="";if(t.value==="openrouter"){if(!e.value.trim())throw new Error("API key required for OpenRouter");try{const b=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.value}`},body:JSON.stringify({model:h,messages:f,stream:!0,reasoning:{max_tokens:500,exclude:!0},...p})});if(!b.ok)throw new Error(`API error: ${b.statusText}`);if(!b.body)throw new Error("No response body");const w=b.body.getReader(),P=new TextDecoder;for(;;){const{done:k,value:O}=await w.read();if(k)break;const R=P.decode(O,{stream:!0}).split(`
`).filter(N=>N.trim()!=="");for(const N of R)if(N!=="data: [DONE]"&&N.startsWith("data: "))try{let j=JSON.parse(N.slice(6)).choices[0]?.delta?.content||"";g+=j,p.onProgress&&p.onProgress(g)}catch(Z){console.warn("Error parsing stream chunk",Z,N)}}}catch(b){throw console.error("Error generating with OpenRouter:",b),b}}else if(t.value==="ollama")try{const w=await new cl({host:n.value}).chat({model:h,messages:f,format:"json",stream:!0,...p});for await(const P of w)g+=P.message.content,p.onProgress&&p.onProgress(g)}catch(b){throw console.error("Error generating with Ollama:",b),b}else throw new Error("Unknown provider");const v=g.split(`
`),m=v.findIndex(b=>b.startsWith("```"));let y=-1;for(let b=v.length-1;b>=0;b--)if(v[b].startsWith("```")){y=b;break}return m!==-1&&y!==-1&&m!==y?v.slice(m+1,y).join(`
`):g}finally{s.value=!1}};return Qe(()=>Ge(u)),Ae(t,()=>Ge(u)),Ae(n,()=>{t.value==="ollama"&&Ge(u)}),{provider:t,apiKey:e,ollamaHost:n,selectedModel:r,models:i,isLoading:s,fetchModels:u,generate:d,favoriteModels:l,favoriteModelIds:a,isFavorite:c}}),a6={class:"flex items-center"},l6=["onClick"],c6=ae({__name:"Combobox",props:{items:{},selectedItem:{}},emits:["update:selectedItem"],setup(t,{emit:e}){const n=t,r=e,i=z(!1),s=vs(),o=c=>{s.isFavorite(c)?s.favoriteModelIds=s.favoriteModelIds.filter(u=>u!==c):s.favoriteModelIds.push(c),s.fetchModels()},a=c=>{r("update:selectedItem",c),i.value=!1},l=U(()=>[...n.items].sort((c,u)=>{const d=s.isFavorite(c.id)?1:0,h=s.isFavorite(u.id)?1:0;return d!==h?h-d:c.name.localeCompare(u.name)}));return(c,u)=>(D(),fe(_(p3),{open:i.value,"onUpdate:open":u[0]||(u[0]=d=>i.value=d)},{default:oe(()=>[te(_(m3),{"as-child":""},{default:oe(()=>[te(_(i3),{variant:"outline",role:"combobox","aria-expanded":i.value,class:"w-full justify-between"},{default:oe(()=>[st(tt(t.selectedItem&&t.items.find(d=>d.id===t.selectedItem)?.name||"Select Model...")+" ",1),te(_(T2),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),te(_(g3),{class:"w-full p-0 bg-gray-900 border border-gray-700 rounded-md"},{default:oe(()=>[te(_(o3),{class:"text-gray-300"},{default:oe(()=>[te(_(u3),{placeholder:"Search model..."}),te(_(a3),null,{default:oe(()=>[...u[1]||(u[1]=[st("No model found.",-1)])]),_:1}),te(_(f3),null,{default:oe(()=>[te(_(l3),null,{default:oe(()=>[(D(!0),ee(Ye,null,On(l.value,d=>(D(),fe(_(d3),{key:d.id,onSelect:h=>a(d.id),value:d.name,class:"flex justify-between cursor-pointer"},{default:oe(()=>[G("div",a6,[te(_(af),{class:vt(_(tn)("mr-2 h-4 w-4",t.selectedItem===d.id?"opacity-100":"opacity-0"))},null,8,["class"]),st(" "+tt(d.name),1)]),G("button",{class:"ml-2 text-yellow-400 hover:text-yellow-300",onClick:It(h=>o(d.id),["stop"])},tt(_(s).isFavorite(d.id)?"":""),9,l6)]),_:2},1032,["onSelect","value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}});function u6(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}function Qo(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[o=>{const a=Tt(r,o);if(a||a===null)return a;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},o=>(Kr(r,o),o)]}function dc(t){return t?t.flatMap(e=>e.type===Ye?dc(e.children):[e]):[]}const[Op]=Qo("ConfigProvider");function d6(t){return ci()?(ls(t),!0):!1}const Mp=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const xd=()=>{};function h6(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}function f6(t,e={}){let n,r,i=xd;const s=l=>{clearTimeout(l),i(),i=xd};let o;return l=>{const c=Xt(t),u=Xt(e.maxWait);return n&&s(n),c<=0||u!==void 0&&u<=0?(r&&(s(r),r=null),Promise.resolve(l())):new Promise((d,h)=>{i=e.rejectOnCancel?h:d,o=l,u&&!r&&(r=setTimeout(()=>{n&&s(n),r=null,d(o())},u)),n=setTimeout(()=>{r&&s(r),r=null,d(l())},c)})}}function Ip(t,e=200,n={}){return h6(f6(e,n),t)}function p6(t,e,n){const r=Ae(t,(...i)=>(Ge(()=>r()),e(...i)),n);return r}const Lp=Mp?window:void 0;function bo(t){var e;const n=Xt(t);return(e=n?.$el)!=null?e:n}function g6(){const t=ui(!1),e=At();return e&&Qe(()=>{t.value=!0},e),t}function m6(t){const e=g6();return U(()=>(e.value,!!t()))}function oi(t,e,n={}){const{window:r=Lp,...i}=n;let s;const o=m6(()=>r&&"ResizeObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=U(()=>{const d=Xt(t);return Array.isArray(d)?d.map(h=>bo(h)):[bo(d)]}),c=Ae(l,d=>{if(a(),o.value&&r){s=new ResizeObserver(e);for(const h of d)h&&s.observe(h,i)}},{immediate:!0,flush:"post"}),u=()=>{a(),c()};return d6(u),{isSupported:o,stop:u}}function v6(t){const e=Op({dir:z("ltr")});return U(()=>t?.value||e.dir?.value||"ltr")}function jt(){const t=At(),e=z(),n=U(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:bo(e)),r=Object.assign({},t.exposed),i={};for(const o in t.props)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>r[o]});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=i;function s(o){e.value=o,o&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=i)}return{forwardRef:s,currentRef:e,currentElement:n}}function Dp(t,e){const n=z(t);function r(s){return e[n.value][s]??n.value}return{state:n,dispatch:s=>{n.value=r(s)}}}function y6(t,e){const n=z({}),r=z("none"),i=z(t),s=t.value?"mounted":"unmounted";let o;const a=e.value?.ownerDocument.defaultView??Lp,{state:l,dispatch:c}=Dp(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=v=>{if(Mp){const m=new CustomEvent(v,{bubbles:!1,cancelable:!1});e.value?.dispatchEvent(m)}};Ae(t,async(v,m)=>{const y=m!==v;if(await Ge(),y){const b=r.value,w=Ws(e.value);v?(c("MOUNT"),u("enter"),w==="none"&&u("after-enter")):w==="none"||w==="undefined"||n.value?.display==="none"?(c("UNMOUNT"),u("leave"),u("after-leave")):m&&b!==w?(c("ANIMATION_OUT"),u("leave")):(c("UNMOUNT"),u("after-leave"))}},{immediate:!0});const d=v=>{const m=Ws(e.value),y=m.includes(CSS.escape(v.animationName)),b=l.value==="mounted"?"enter":"leave";if(v.target===e.value&&y&&(u(`after-${b}`),c("ANIMATION_END"),!i.value)){const w=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",o=a?.setTimeout(()=>{e.value?.style.animationFillMode==="forwards"&&(e.value.style.animationFillMode=w)})}v.target===e.value&&m==="none"&&c("ANIMATION_END")},h=v=>{v.target===e.value&&(r.value=Ws(e.value))},f=Ae(e,(v,m)=>{v?(n.value=getComputedStyle(v),v.addEventListener("animationstart",h),v.addEventListener("animationcancel",d),v.addEventListener("animationend",d)):(c("ANIMATION_END"),o!==void 0&&a?.clearTimeout(o),m?.removeEventListener("animationstart",h),m?.removeEventListener("animationcancel",d),m?.removeEventListener("animationend",d))},{immediate:!0}),p=Ae(l,()=>{const v=Ws(e.value);r.value=l.value==="mounted"?v:"none"});return zt(()=>{f(),p()}),{isPresent:U(()=>["mounted","unmountSuspended"].includes(l.value))}}function Ws(t){return t&&getComputedStyle(t).animationName||"none"}var hc=ae({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){const{present:r,forceMount:i}=mn(t),s=z(),{isPresent:o}=y6(r,s);n({present:o});let a=e.default({present:o.value});a=dc(a||[]);const l=At();if(a&&a?.length>1){const c=l?.parent?.type.name?`<${l.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${c}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(u=>`  - ${u}`).join(`
`)].join(`
`))}return()=>i.value||r.value||o.value?Et(e.default({present:o.value})[0],{ref:c=>{const u=bo(c);return typeof u?.hasAttribute>"u"||(u?.hasAttribute("data-reka-popper-content-wrapper")?s.value=u.firstElementChild:s.value=u),u}}):null}});const b6=ae({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{if(!n.default)return null;const r=dc(n.default()),i=r.findIndex(l=>l.type!==Kt);if(i===-1)return r;const s=r[i];delete s.props?.ref;const o=s.props?Te(e,s.props):e,a=er({...s,props:{}},o);return r.length===1?a:(r[i]=a,r)}}}),w6=["area","img","input"],ai=ae({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&w6.includes(r)?()=>Et(r,e):r!=="template"?()=>Et(t.as,e,{default:n.default}):()=>Et(b6,e,{default:n.default})}});function _6(t){const e=Op({nonce:z()});return U(()=>t?.value||e.nonce?.value)}const[Ut,x6]=Qo("ScrollAreaRoot");var S6=ae({__name:"ScrollAreaRoot",props:{type:{type:String,required:!1,default:"hover"},dir:{type:String,required:!1},scrollHideDelay:{type:Number,required:!1,default:600},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t,{expose:e}){const n=t,r=z(0),i=z(0),s=z(),o=z(),a=z(),l=z(),c=z(!1),u=z(!1),{type:d,dir:h,scrollHideDelay:f}=mn(n),p=v6(h);function g(){s.value?.scrollTo({top:0})}function v(){s.value?.scrollTo({top:0,left:0})}e({viewport:s,scrollTop:g,scrollTopLeft:v});const{forwardRef:m,currentElement:y}=jt();return x6({type:d,dir:p,scrollHideDelay:f,scrollArea:y,viewport:s,onViewportChange:b=>{s.value=b||void 0},content:o,onContentChange:b=>{o.value=b},scrollbarX:a,scrollbarXEnabled:c,scrollbarY:l,scrollbarYEnabled:u,onScrollbarXChange:b=>{a.value=b||void 0},onScrollbarYChange:b=>{l.value=b||void 0},onScrollbarXEnabledChange:b=>{c.value=b},onScrollbarYEnabledChange:b=>{u.value=b},onCornerWidthChange:b=>{r.value=b},onCornerHeightChange:b=>{i.value=b}}),(b,w)=>(D(),fe(_(ai),{ref:_(m),"as-child":n.asChild,as:b.as,dir:_(p),style:en({position:"relative","--reka-scroll-area-corner-width":`${r.value}px`,"--reka-scroll-area-corner-height":`${i.value}px`})},{default:oe(()=>[_e(b.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),C6=S6,E6=ae({__name:"ScrollAreaCornerImpl",setup(t){const e=Ut(),n=z(0),r=z(0),i=U(()=>!!n.value&&!!r.value);function s(){const a=e.scrollbarX.value?.offsetHeight||0;e.onCornerHeightChange(a),r.value=a}function o(){const a=e.scrollbarY.value?.offsetWidth||0;e.onCornerWidthChange(a),n.value=a}return oi(e.scrollbarX.value,s),oi(e.scrollbarY.value,o),Ae(()=>e.scrollbarX.value,s),Ae(()=>e.scrollbarY.value,o),(a,l)=>i.value?(D(),fe(_(ai),Te({key:0,style:{width:`${n.value}px`,height:`${r.value}px`,position:"absolute",right:_(e).dir.value==="ltr"?0:void 0,left:_(e).dir.value==="rtl"?0:void 0,bottom:0}},a.$parent?.$props),{default:oe(()=>[_e(a.$slots,"default")]),_:3},16,["style"])):Le("v-if",!0)}}),A6=E6,P6=ae({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{forwardRef:n}=jt(),r=Ut(),i=U(()=>!!r.scrollbarX.value&&!!r.scrollbarY.value),s=U(()=>r.type.value!=="scroll"&&i.value);return(o,a)=>s.value?(D(),fe(A6,Te({key:0},e,{ref:_(n)}),{default:oe(()=>[_e(o.$slots,"default")]),_:3},16)):Le("v-if",!0)}}),k6=P6;function Np(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Zo(t){const e=Fp(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Fp(t,e){const n=t/e;return Number.isNaN(n)?0:n}function T6(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)}function Sd(t,e,n="ltr"){const r=Zo(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=u6(t,l[0],l[1]);return Np([0,o],[0,a])(c)}function zs(t){return t?Number.parseInt(t,10):0}function R6(t,e,n,r="ltr"){const i=Zo(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return Np([l,c],d)(t)}function Cd(t,e){return t>0&&t<e}var O6=ae({__name:"ScrollAreaScrollbarX",setup(t){const e=Ut(),n=ta(),{forwardRef:r,currentElement:i}=jt();Qe(()=>{i.value&&e.onScrollbarXChange(i.value)});const s=U(()=>n.sizes.value);return(o,a)=>(D(),fe(Gp,{ref:_(r),"is-horizontal":!0,"data-orientation":"horizontal",style:en({bottom:0,left:_(e).dir.value==="rtl"?"var(--reka-scroll-area-corner-width)":0,right:_(e).dir.value==="ltr"?"var(--reka-scroll-area-corner-width)":0,"--reka-scroll-area-thumb-width":s.value?`${_(Zo)(s.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=l=>_(n).onDragScroll(l.x))},{default:oe(()=>[_e(o.$slots,"default")]),_:3},8,["style"]))}}),M6=O6,I6=ae({__name:"ScrollAreaScrollbarY",setup(t){const e=Ut(),n=ta(),{forwardRef:r,currentElement:i}=jt();Qe(()=>{i.value&&e.onScrollbarYChange(i.value)});const s=U(()=>n.sizes.value);return(o,a)=>(D(),fe(Gp,{ref:_(r),"is-horizontal":!1,"data-orientation":"vertical",style:en({top:0,right:_(e).dir.value==="ltr"?0:void 0,left:_(e).dir.value==="rtl"?0:void 0,bottom:"var(--reka-scroll-area-corner-height)","--reka-scroll-area-thumb-height":s.value?`${_(Zo)(s.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=l=>_(n).onDragScroll(l.y))},{default:oe(()=>[_e(o.$slots,"default")]),_:3},8,["style"]))}}),L6=I6,D6=ae({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=Ut(),n=ea(),{forwardRef:r}=jt(),i=z(!1),s=Ip(()=>{if(e.viewport.value){const o=e.viewport.value.offsetWidth<e.viewport.value.scrollWidth,a=e.viewport.value.offsetHeight<e.viewport.value.scrollHeight;i.value=n.isHorizontal.value?o:a}},10);return Qe(()=>s()),oi(e.viewport,s),oi(e.content,s),(o,a)=>(D(),fe(_(hc),{present:o.forceMount||i.value},{default:oe(()=>[te(fc,Te(o.$attrs,{ref:_(r),"data-state":i.value?"visible":"hidden"}),{default:oe(()=>[_e(o.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Bp=D6,N6=ae({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=Ut(),{forwardRef:n}=jt();let r;const i=z(!1);function s(){window.clearTimeout(r),i.value=!0}function o(){r=window.setTimeout(()=>{i.value=!1},e.scrollHideDelay.value)}return Qe(()=>{const a=e.scrollArea.value;a&&(a.addEventListener("pointerenter",s),a.addEventListener("pointerleave",o))}),zt(()=>{const a=e.scrollArea.value;a&&(window.clearTimeout(r),a.removeEventListener("pointerenter",s),a.removeEventListener("pointerleave",o))}),(a,l)=>(D(),fe(_(hc),{present:a.forceMount||i.value},{default:oe(()=>[te(Bp,Te(a.$attrs,{ref:_(n),"data-state":i.value?"visible":"hidden"}),{default:oe(()=>[_e(a.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),F6=N6,B6=ae({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=Ut(),n=ea(),{forwardRef:r}=jt(),{state:i,dispatch:s}=Dp("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}}),o=U(()=>i.value!=="hidden");Bt(l=>{if(i.value==="idle"){const c=window.setTimeout(()=>s("HIDE"),e.scrollHideDelay.value);l(()=>{window.clearTimeout(c)})}});const a=Ip(()=>s("SCROLL_END"),100);return Bt(l=>{const c=e.viewport.value,u=n.isHorizontal.value?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const f=c[u];d!==f&&(s("SCROLL"),a()),d=f};c.addEventListener("scroll",h),l(()=>{c.removeEventListener("scroll",h)})}}),(l,c)=>(D(),fe(_(hc),{present:l.forceMount||o.value},{default:oe(()=>[te(fc,Te(l.$attrs,{ref:_(r),"data-state":o.value?"visible":"hidden"}),{default:oe(()=>[_e(l.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),G6=B6;const[ea,$6]=Qo("ScrollAreaScrollbar");var V6=ae({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{type:String,required:!1,default:"vertical"},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const e=t,{forwardRef:n}=jt(),r=Ut(),i=U(()=>e.orientation==="horizontal");Ae(i,()=>{i.value?r.onScrollbarXEnabledChange(!0):r.onScrollbarYEnabledChange(!0)},{immediate:!0}),zt(()=>{r.onScrollbarXEnabledChange(!1),r.onScrollbarYEnabledChange(!1)});const{orientation:s,forceMount:o,asChild:a,as:l}=mn(e);return $6({orientation:s,forceMount:o,isHorizontal:i,as:l,asChild:a}),(c,u)=>_(r).type.value==="hover"?(D(),fe(F6,Te({key:0},c.$attrs,{ref:_(n),"force-mount":_(o)}),{default:oe(()=>[_e(c.$slots,"default")]),_:3},16,["force-mount"])):_(r).type.value==="scroll"?(D(),fe(G6,Te({key:1},c.$attrs,{ref:_(n),"force-mount":_(o)}),{default:oe(()=>[_e(c.$slots,"default")]),_:3},16,["force-mount"])):_(r).type.value==="auto"?(D(),fe(Bp,Te({key:2},c.$attrs,{ref:_(n),"force-mount":_(o)}),{default:oe(()=>[_e(c.$slots,"default")]),_:3},16,["force-mount"])):_(r).type.value==="always"?(D(),fe(fc,Te({key:3},c.$attrs,{ref:_(n),"data-state":"visible"}),{default:oe(()=>[_e(c.$slots,"default")]),_:3},16)):Le("v-if",!0)}}),H6=V6;const[ta,W6]=Qo("ScrollAreaScrollbarVisible");var z6=ae({__name:"ScrollAreaScrollbarVisible",setup(t){const e=Ut(),n=ea(),{forwardRef:r}=jt(),i=z({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),s=U(()=>{const m=Fp(i.value.viewport,i.value.content);return m>0&&m<1}),o=z(),a=z(0);function l(m,y){if(f.value){const b=e.viewport.value.scrollLeft+m.deltaY;e.viewport.value.scrollLeft=b,Cd(b,y)&&m.preventDefault()}else{const b=e.viewport.value.scrollTop+m.deltaY;e.viewport.value.scrollTop=b,Cd(b,y)&&m.preventDefault()}}function c(m,y){f.value?a.value=y.x:a.value=y.y}function u(m){a.value=0}function d(m){i.value=m}function h(m,y){return R6(m,a.value,i.value,y)}const f=U(()=>n.isHorizontal.value);function p(m){f.value?e.viewport.value.scrollLeft=h(m,e.dir.value):e.viewport.value.scrollTop=h(m)}function g(){if(f.value){if(e.viewport.value&&o.value){const m=e.viewport.value.scrollLeft,y=Sd(m,i.value,e.dir.value);o.value.style.transform=`translate3d(${y}px, 0, 0)`}}else if(e.viewport.value&&o.value){const m=e.viewport.value.scrollTop,y=Sd(m,i.value);o.value.style.transform=`translate3d(0, ${y}px, 0)`}}function v(m){o.value=m}return W6({sizes:i,hasThumb:s,handleWheelScroll:l,handleThumbDown:c,handleThumbUp:u,handleSizeChange:d,onThumbPositionChange:g,onThumbChange:v,onDragScroll:p}),(m,y)=>f.value?(D(),fe(M6,Te({key:0},m.$attrs,{ref:_(r)}),{default:oe(()=>[_e(m.$slots,"default")]),_:3},16)):(D(),fe(L6,Te({key:1},m.$attrs,{ref:_(r)}),{default:oe(()=>[_e(m.$slots,"default")]),_:3},16))}}),fc=z6,j6=ae({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean,required:!0}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(t,{emit:e}){const n=t,r=e,i=Ut(),s=ta(),o=ea(),{forwardRef:a,currentElement:l}=jt(),c=z(""),u=z();function d(m){if(u.value){const y=m.clientX-u.value?.left,b=m.clientY-u.value?.top;r("onDragScroll",{x:y,y:b})}}function h(m){m.button===0&&(m.target.setPointerCapture(m.pointerId),u.value=l.value.getBoundingClientRect(),c.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",i.viewport&&(i.viewport.value.style.scrollBehavior="auto"),d(m))}function f(m){d(m)}function p(m){const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),document.body.style.webkitUserSelect=c.value,i.viewport&&(i.viewport.value.style.scrollBehavior=""),u.value=void 0}function g(m){const y=m.target,b=l.value?.contains(y),w=s.sizes.value.content-s.sizes.value.viewport;b&&s.handleWheelScroll(m,w)}Qe(()=>{document.addEventListener("wheel",g,{passive:!1})}),zt(()=>{document.removeEventListener("wheel",g)});function v(){l.value&&(n.isHorizontal?s.handleSizeChange({content:i.viewport.value?.scrollWidth??0,viewport:i.viewport.value?.offsetWidth??0,scrollbar:{size:l.value.clientWidth??0,paddingStart:zs(getComputedStyle(l.value).paddingLeft),paddingEnd:zs(getComputedStyle(l.value).paddingRight)}}):s.handleSizeChange({content:i.viewport.value?.scrollHeight??0,viewport:i.viewport.value?.offsetHeight??0,scrollbar:{size:l.value?.clientHeight??0,paddingStart:zs(getComputedStyle(l.value).paddingLeft),paddingEnd:zs(getComputedStyle(l.value).paddingRight)}}))}return oi(l,v),oi(i.content,v),(m,y)=>(D(),fe(_(ai),{ref:_(a),style:{position:"absolute"},"data-scrollbarimpl":"",as:_(o).as.value,"as-child":_(o).asChild.value,onPointerdown:h,onPointermove:f,onPointerup:p},{default:oe(()=>[_e(m.$slots,"default")]),_:3},8,["as","as-child"]))}}),Gp=j6,U6=ae({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=Ut(),r=ta();function i(h){const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,v=h.clientY-p.top;r.handleThumbDown(h,{x:g,y:v})}function s(h){r.handleThumbUp(h)}const{forwardRef:o,currentElement:a}=jt(),l=z(),c=U(()=>n.viewport.value);function u(){if(!l.value){const h=T6(c.value,r.onThumbPositionChange);l.value=h,r.onThumbPositionChange()}}const d=U(()=>r.sizes.value);return p6(d,()=>{r.onThumbChange(a.value),c.value&&(r.onThumbPositionChange(),c.value.addEventListener("scroll",u))}),zt(()=>{c.value.removeEventListener("scroll",u),n.viewport.value?.removeEventListener("scroll",u)}),(h,f)=>(D(),fe(_(ai),{ref:_(o),"data-state":_(r).hasThumb?"visible":"hidden",style:{width:"var(--reka-scroll-area-thumb-width)",height:"var(--reka-scroll-area-thumb-height)"},"as-child":e.asChild,as:h.as,onPointerdown:i,onPointerup:s},{default:oe(()=>[_e(h.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),Y6=U6,X6=ae({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t,{expose:e}){const n=t,{nonce:r}=mn(n),i=_6(r),s=Ut(),o=z();Qe(()=>{s.onViewportChange(o.value),s.onContentChange(l.value)}),e({viewportElement:o});const{forwardRef:a,currentElement:l}=jt();return(c,u)=>(D(),ee(Ye,null,[G("div",Te({ref_key:"viewportElement",ref:o,"data-reka-scroll-area-viewport":"",style:{overflowX:_(s).scrollbarXEnabled.value?"scroll":"hidden",overflowY:_(s).scrollbarYEnabled.value?"scroll":"hidden"}},c.$attrs,{tabindex:0}),[te(_(ai),{ref:_(a),style:en({minWidth:_(s).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":n.asChild,as:c.as},{default:oe(()=>[_e(c.$slots,"default")]),_:3},8,["style","as-child","as"])],16),te(_(ai),{as:"style",nonce:_(i)},{default:oe(()=>u[0]||(u[0]=[st(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-reka-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),q6=X6;const K6=ae({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=U(()=>{const{class:r,...i}=e;return i});return(r,i)=>(D(),fe(_(H6),Te(n.value,{class:_(tn)("flex touch-none select-none transition-colors",t.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",t.orientation==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",e.class)}),{default:oe(()=>[te(_(Y6),{class:"relative flex-1 rounded-full bg-border"})]),_:1},16,["class"]))}}),J6=ae({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=U(()=>{const{class:r,...i}=e;return i});return(r,i)=>(D(),fe(_(C6),Te(n.value,{class:_(tn)("relative overflow-hidden",e.class)}),{default:oe(()=>[te(_(q6),{class:"h-full w-full rounded-[inherit]"},{default:oe(()=>[_e(r.$slots,"default")]),_:3}),te(K6),te(_(k6))]),_:3},16,["class"]))}}),Q6={class:"bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-700 space-y-4 w-80 mx-auto"},Z6=["placeholder"],e8={class:"mb-2"},t8={key:1,class:"relative"},n8=["type"],r8={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},i8={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s8=["onClick"],$p=ae({__name:"GeneratorForm",props:{placeholder:{}},setup(t,{expose:e}){const n=t,r=vs(),i=z(!1),s=qn(n.placeholder==="Describe your SVG..."?"svg-prompt":"sprite-prompt","");return e({prompt:s}),(o,a)=>(D(),ee("div",Q6,[Vt(G("textarea",{"onUpdate:modelValue":a[0]||(a[0]=l=>Ke(s)?s.value=l:null),placeholder:t.placeholder,class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"4"},null,8,Z6),[[ei,_(s)]]),G("div",e8,[a[7]||(a[7]=G("label",{class:"block text-sm font-bold mb-1"},"AI Provider:",-1)),Vt(G("select",{"onUpdate:modelValue":a[1]||(a[1]=l=>_(r).provider=l),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...a[6]||(a[6]=[G("option",{value:"openrouter"},"OpenRouter",-1),G("option",{value:"ollama"},"Ollama (Local)",-1)])],512),[[Fl,_(r).provider]])]),_(r).provider==="ollama"?Vt((D(),ee("input",{key:0,"onUpdate:modelValue":a[2]||(a[2]=l=>_(r).ollamaHost=l),placeholder:"Ollama Host (e.g., http://localhost:11434)",class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512)),[[ei,_(r).ollamaHost]]):Le("",!0),_(r).provider==="openrouter"?(D(),ee("div",t8,[Vt(G("input",{type:i.value?"text":"password","onUpdate:modelValue":a[3]||(a[3]=l=>_(r).apiKey=l),placeholder:"OpenRouter API Key",class:"w-full p-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,n8),[[am,_(r).apiKey]]),G("button",{onClick:a[4]||(a[4]=l=>i.value=!i.value),class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white"},[i.value?(D(),ee("svg",r8,[...a[8]||(a[8]=[G("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(D(),ee("svg",i8,[...a[9]||(a[9]=[G("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),G("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])])):Le("",!0),G("div",null,[a[10]||(a[10]=G("label",{class:"block text-sm font-bold mb-1"},"Choose Model:",-1)),_(r).favoriteModels.length>0?(D(),fe(_(J6),{key:0,class:"flex flex-wrap gap-2 mb-2"},{default:oe(()=>[(D(!0),ee(Ye,null,On(_(r).favoriteModels,l=>(D(),ee("button",{key:l.id,onClick:c=>_(r).selectedModel=l.id,class:vt(["px-3 py-1 text-sm rounded border border-gray-600 bg-gray-700 hover:bg-gray-600",{"bg-blue-600 border-blue-500 text-white":_(r).selectedModel===l.id}])},tt(l.name),11,s8))),128))]),_:1})):Le("",!0),te(c6,{items:_(r).models,selectedItem:_(r).selectedModel,"onUpdate:selectedItem":a[5]||(a[5]=l=>_(r).selectedModel=l)},null,8,["items","selectedItem"])]),_e(o.$slots,"button")]))}}),Vp={id:"brown-bear-1",name:"brown-bear-standing",size:64,layers:[{type:"ellipse",color:"#8B4513",x:32,y:40,width:28,height:24},{type:"circle",color:"#8B4513",x:32,y:24,radius:16},{type:"ellipse",color:"#8B4513",x:32,y:12,width:20,height:16},{type:"circle",color:"#8B4513",x:20,y:16,radius:6},{type:"circle",color:"#8B4513",x:44,y:16,radius:6},{type:"ellipse",color:"#654321",x:32,y:22,width:12,height:8},{type:"circle",color:"#000000",x:26,y:20,radius:2},{type:"circle",color:"#000000",x:38,y:20,radius:2},{type:"ellipse",color:"#000000",x:32,y:26,width:6,height:2}]},Hp={id:"tree-1",name:"tree",size:64,layers:[{type:"rect",color:"#8B4513",x:28,y:40,width:8,height:20},{type:"circle",color:"#228B22",radius:16,x:32,y:24},{type:"circle",color:"#006400",radius:12,x:24,y:32},{type:"circle",color:"#228B22",radius:14,x:40,y:28},{type:"circle",color:"#006400",radius:15,x:32,y:20}]},Wp={id:"villager-1",name:"villager",size:64,layers:[{type:"rect",color:"#8B4000",x:10,y:36,width:44,height:22},{type:"rect",color:"#CD853F",x:12,y:34,width:40,height:22},{type:"circle",color:"#A0522D",radius:18,x:32,y:24},{type:"circle",color:"#FFE4C4",radius:16,x:32,y:24},{type:"circle",color:"black",radius:2,x:26,y:22},{type:"circle",color:"black",radius:2,x:38,y:22},{type:"rect",color:"#D2691E",x:28,y:28,width:8,height:2},{type:"rect",color:"#8B4513",x:16,y:6,width:32,height:8},{type:"rect",color:"#654321",x:22,y:4,width:20,height:6}]};function pc(t){const e=t.layers.map(n=>`    ${JSON.stringify(n)}`).join(`,
`);return`{
  "name": "${t.name}",
  "size": ${t.size},
  "layers": [
${e}
  ]
}`}const o8=pc(Hp),a8=pc(Wp),l8=pc(Vp),c8=t=>{const e=[];return e.push({role:"system",content:`Assistant's task is to create a new detailed texture based on the INPUT, by using the provided instructions and example(s).

# Texture Schema
{
  "name": "string",
  "size": number,
  "layers": Layer[]
}

Each layer is drawn in order and must have a "type" and "color".
All layers support an optional "rotation" property (in degrees).

## Layer Types
- Rectangle: { "type": "rect", "color": string, "x": number, "y": number, "width": number, "height": number }
- Circle:    { "type": "circle", "color": string, "x": number, "y": number, "radius": number }
- Line:      { "type": "line", "color": string, "x": number, "y": number, "x2": number, "y2": number, "lineWidth": number }
- Ellipse:   { "type": "ellipse", "color": string, "x": number, "y": number, "width": number, "height": number }
- Polygon:   { "type": "polygon", "color": string, "points": [[x,y],...], "lineWidth": number }
- Path:      { "type": "path", "color": string, "path": string, "fill": boolean, "lineWidth": number }

Colors: hex codes ("#FF0000") or names ("red","gray","transparent").

## Rules
1. Base the design on the INPUT concept.
2. Keep size reasonable (64 or 128).
3. Use multiple shapes to build details when desired.
4. Use rotation to add visual interest or create angled shapes.
5. IMPORTANT: Output must be VALID JSON -- for example, there should be no comments.

## Examples

INPUT: tree
OUTPUT:
${o8}

INPUT: villager
OUTPUT:
${a8}

INPUT: brown bear
OUTPUT:
${l8}`}),e.push({role:"user",content:`INPUT:

${t}`}),e},u8={id:"game-container",class:"relative mt-2 mx-auto border-2 border-gray-700 shadow-lg rounded-lg overflow-hidden w-full max-w-6xl"},d8=ae({__name:"GameContainer",setup(t){const e=z();let n=null,r=null;const i=new Jo;Qe(()=>{if(!e.value)return;n=new nt.Stage({container:e.value,width:e.value.clientWidth||800,height:400}),r=new nt.Layer,n.add(r);const a=new nt.Rect({x:0,y:0,width:n.width(),height:n.height(),fill:"#1f2937"});r.add(a),r.draw(),window.addEventListener("spriteSelected",o),window.addEventListener("spriteCleared",s)}),zt(()=>{window.removeEventListener("spriteSelected",o),window.removeEventListener("spriteCleared",s),n?.destroy()});function s(){if(!n||!r)return;const a=r.children;for(let l=a.length-1;l>0;l--)a[l].destroy();r.batchDraw()}async function o(a){const c=a.detail;if(!n||!r)return;const u=r.children;for(let h=u.length-1;h>0;h--)u[h].destroy();const d=new nt.Group({x:n.width()/2,y:n.height()/2,offset:{x:c.size/2,y:c.size/2},scale:{x:4,y:4}});c.layers.forEach(h=>{h.visible!==!1&&i.drawLayer(d,h,c.size)}),r.add(d),r.batchDraw()}return(a,l)=>(D(),ee("div",u8,[G("div",{ref_key:"containerRef",ref:e,class:"w-full h-full"},null,512)]))}}),gc=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},h8=gc(d8,[["__scopeId","data-v-14b6a388"]]),f8={class:"flex flex-col xl:flex-row gap-6 h-full"},p8=["disabled"],g8={key:0},m8={key:1,class:"flex items-center justify-center"},v8={class:"flex-1 min-w-0 space-y-4"},y8={key:0,class:"bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-700"},b8={class:"flex items-center justify-between mb-3"},w8=["disabled"],_8={key:0},x8={key:1,class:"flex items-center"},S8={class:"flex items-center gap-4"},C8={class:"bg-gray-900 p-4 rounded-md border border-gray-600"},E8=["src"],A8={class:"flex-1 space-y-3"},P8={class:"text-sm text-gray-300"},k8={key:0},T8={key:1},R8={class:"flex gap-2"},O8={key:0,class:"text-green-400 text-sm"},M8={class:"mt-4 pt-4 border-t border-gray-700 flex items-center"},I8={key:0,class:"mt-2 bg-gray-900 rounded-md overflow-hidden text-xs"},L8=ae({__name:"SpriteGenerator",setup(t){const e=z(),n=vs(),r=hs(),i=new Jo,s=z(null),o=z(null),a=z(null),l=z(!1),c=z(!1),u=z(!1),d=qn("formCollapsed",!0),h=qn("jsonCollapsed",!0),f=U(()=>o.value||s.value),p=U(()=>!!o.value),g=U(()=>a.value?a.value:s.value?.thumbnail?s.value.thumbnail:null),v=U(()=>{if(!f.value)return null;const{thumbnail:A,...R}=f.value;return R?(Object.keys(R).forEach(N=>{R[N]===void 0&&delete R[N]}),R):null}),m=U(()=>{if(n.isLoading)return!1;const A=e.value;return!(!A||!A.prompt)});async function y(){const A=e.value;if(!A)return;const R=A.prompt;if(!(!R.trim()||!n.selectedModel)){o.value=null,a.value=null,s.value=null,l.value=!1,c.value=!1,window.dispatchEvent(new Event("spriteCleared"));try{const{parse:N}=await xu(async()=>{const{parse:j}=await import("./index-TQGKwJyT.js").then(re=>re.i);return{parse:j}},[],import.meta.url),Z=await n.generate(n.selectedModel,c8(R),{temperature:.01,onProgress:async j=>{try{let re=j;const $=re.split(`
`);$[0]?.startsWith("```")&&$.shift(),re=$.join(`
`);const V=N(re);if(V&&typeof V=="object"){V.size||(V.size=64),V.layers||(V.layers=[]),o.value={...V,prompt:R,id:o.value?.id||Za()};try{a.value=await i.generateImage(o.value)}catch{}window.dispatchEvent(new CustomEvent("spriteSelected",{detail:o.value}))}}catch{}}});console.log("Full (parsed) model response",Z),o.value&&(a.value=await i.generateImage(o.value),window.dispatchEvent(new CustomEvent("newTexture",{detail:o.value})),window.dispatchEvent(new CustomEvent("spriteSelected",{detail:o.value}))),A.prompt=""}catch(N){console.error("Error generating sprite:",N)}}}function b(){if(!f.value)return;const A={...f.value,thumbnail:g.value||void 0,id:f.value.id||Za()};r.addGeneratedTexture(A),l.value=!0,c.value=!0,setTimeout(()=>{l.value=!1},3e3)}function w(){O(),window.dispatchEvent(new Event("spriteCleared"))}async function P(){if(!f.value)return;const A=g.value||await i.generateImage(f.value),R=`${f.value.name||f.value.id||"sprite"}.png`,N=document.createElement("a");N.href=A,N.download=R,document.body.appendChild(N),N.click(),document.body.removeChild(N)}async function k(){if(!f.value||u.value)return;u.value=!0;const A=f.value,{thumbnail:R,...N}=A,Z=JSON.stringify(N,null,2);try{const{parse:j}=await xu(async()=>{const{parse:re}=await import("./index-TQGKwJyT.js").then($=>$.i);return{parse:re}},[],import.meta.url);for(let re=0;re<Z.length;re++){const $=Z.substring(0,re+1);try{const F=j($);if(F&&typeof F=="object"){F.size||(F.size=A.size||64),F.layers||(F.layers=[]);const T={...F,id:A.id,prompt:A.prompt};o.value?o.value=T:s.value=T;try{a.value=await i.generateImage(T)}catch{}window.dispatchEvent(new CustomEvent("spriteSelected",{detail:T}))}}catch{}const V=Math.max(1,Math.min(10,1e3/Z.length));await new Promise(F=>setTimeout(F,V))}o.value?(a.value=await i.generateImage(o.value),window.dispatchEvent(new CustomEvent("spriteSelected",{detail:o.value}))):s.value&&(a.value=await i.generateImage(s.value),window.dispatchEvent(new CustomEvent("spriteSelected",{detail:s.value})))}catch(j){console.error("Error redrawing sprite:",j)}finally{u.value=!1}}function O(){o.value=null,a.value=null,s.value=null,l.value=!1}return Qe(()=>{window.addEventListener("spriteSelected",async A=>{const N=A.detail;o.value&&o.value.id===N.id||(o.value=null,a.value=null,s.value=N,s.value.thumbnail||(s.value.thumbnail=await i.generateImage(s.value)),!(!s.value.prompt||!e.value)&&(e.value.prompt=s.value.prompt))}),window.addEventListener("spriteCleared",()=>{s.value=null})}),(A,R)=>(D(),ee("div",f8,[G("div",{class:vt(["flex-shrink-0 transition-all duration-300 ease-in-out",[_(d)?"w-full xl:w-auto":"w-full xl:w-80"]])},[G("button",{onClick:R[0]||(R[0]=N=>d.value=!_(d)),class:"w-full flex items-center justify-between gap-2 py-2 px-3 bg-gray-800 hover:bg-gray-700 rounded-md transition mb-2 border border-gray-700"},[R[3]||(R[3]=G("span",{class:"text-sm font-medium text-gray-300"},"Generate",-1)),(D(),ee("svg",{class:vt(["w-4 h-4 text-gray-400 transition-transform duration-200",{"rotate-180":_(d)}]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...R[2]||(R[2]=[G("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),Vt(G("div",null,[te($p,{ref_key:"Form",ref:e,placeholder:"Describe your sprite..."},{button:oe(()=>[G("button",{disabled:!m.value,onClick:y,class:"w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 transition disabled:opacity-50"},[_(n).isLoading?(D(),ee("span",m8,[...R[4]||(R[4]=[G("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},null,-1),st(" Generating... ",-1)])])):(D(),ee("span",g8,"Generate Sprite"))],8,p8)]),_:1},512)],512),[[Wi,!_(d)]])],2),G("div",v8,[Vt(te(h8,null,null,512),[[Wi,f.value]]),f.value?(D(),ee("div",y8,[G("div",b8,[R[6]||(R[6]=G("h3",{class:"text-lg font-bold text-white"},"Sprite Preview",-1)),G("button",{onClick:k,disabled:u.value,class:"px-3 py-1 text-sm bg-purple-600 text-white rounded-md hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed"},[u.value?(D(),ee("span",x8,[...R[5]||(R[5]=[G("div",{class:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-1"},null,-1),st(" Redrawing... ",-1)])])):(D(),ee("span",_8," Draw Again"))],8,w8)]),G("div",S8,[G("div",C8,[g.value?(D(),ee("img",{key:0,src:g.value,alt:"Sprite preview",class:"w-32 h-32 pixelated"},null,8,E8)):Le("",!0)]),G("div",A8,[G("div",P8,[f.value.prompt?(D(),ee("p",k8,[R[7]||(R[7]=G("strong",null,"Prompt:",-1)),st(" "+tt(f.value.prompt),1)])):Le("",!0),f.value.name?(D(),ee("p",T8,[R[8]||(R[8]=G("strong",null,"Name:",-1)),st(" "+tt(f.value.name),1)])):Le("",!0),G("p",null,[R[9]||(R[9]=G("strong",null,"Size:",-1)),st(" "+tt(f.value.size)+"x"+tt(f.value.size)+"px",1)]),G("p",null,[R[10]||(R[10]=G("strong",null,"Layers:",-1)),st(" "+tt(f.value.layers.length),1)])]),G("div",R8,[p.value&&!c.value?(D(),ee("button",{key:0,onClick:b,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition"}," Save ")):Le("",!0),p.value&&!c.value?(D(),ee("button",{key:1,onClick:w,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition"}," Discard ")):Le("",!0),G("button",{onClick:P,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition"}," Download ")]),l.value?(D(),ee("p",O8," Sprite saved successfully!")):Le("",!0)])]),G("div",M8,[te(cf,{data:v.value,class:"mr-4"},null,8,["data"]),G("button",{onClick:R[1]||(R[1]=N=>h.value=!_(h)),class:"flex items-center gap-2 text-sm font-medium text-gray-400 hover:text-white transition-colors w-full"},[(D(),ee("svg",{class:vt(["w-4 h-4 transition-transform duration-200",{"-rotate-90":_(h)}]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...R[11]||(R[11]=[G("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2)),R[12]||(R[12]=st(" JSON Data ",-1))])]),v.value!==void 0&&v.value!==null?Vt((D(),ee("div",I8,[te(_(A2),{data:v.value},null,8,["data"])],512)),[[Wi,!_(h)]]):Le("",!0)])):Le("",!0)])]))}}),D8=gc(L8,[["__scopeId","data-v-be2cd4d4"]]),N8={id:"cloud-1",name:"cloud",size:64,layers:[{type:"circle",color:"#FFFFFF",radius:12,x:24,y:32},{type:"circle",color:"#FFFFFF",radius:16,x:32,y:28},{type:"circle",color:"#FFFFFF",radius:14,x:44,y:32},{type:"circle",color:"#FFFFFF",radius:10,x:36,y:36}]},F8={id:"fence-1",name:"fence",size:64,layers:[{type:"line",color:"#8B4513",x:16,y:16,x2:16,y2:48,lineWidth:4},{type:"line",color:"#8B4513",x:48,y:16,x2:48,y2:48,lineWidth:4},{type:"line",color:"#8B4513",x:8,y:24,x2:56,y2:24,lineWidth:3},{type:"line",color:"#8B4513",x:8,y:40,x2:56,y2:40,lineWidth:3}]},B8={id:"gory-rotting-zombie-1",name:"gory-rotting-zombie",size:64,layers:[{type:"circle",color:"#3A5A22",x:32,y:32,radius:24},{type:"circle",color:"black",x:22,y:26,radius:5},{type:"circle",color:"black",x:42,y:26,radius:5},{type:"circle",color:"white",x:42,y:26,radius:3},{type:"circle",color:"red",x:42,y:26,radius:1},{type:"rect",color:"black",x:24,y:42,width:16,height:6},{type:"line",color:"red",x:24,y:48,x2:40,y2:48,lineWidth:2},{type:"line",color:"#9E9E9E",x:18,y:14,x2:28,y2:18,lineWidth:2},{type:"rect",color:"red",x:36,y:10,width:8,height:6},{type:"line",color:"red",x:28,y:48,x2:28,y2:58,lineWidth:2},{type:"line",color:"red",x:36,y:48,x2:36,y2:56,lineWidth:2},{type:"rect",color:"red",x:20,y:36,width:6,height:4},{type:"rect",color:"red",x:40,y:38,width:5,height:3},{type:"rect",color:"#5B7C3A",x:28,y:18,width:6,height:4},{type:"rect",color:"#5B7C3A",x:38,y:24,width:5,height:3}]},G8={id:"house-1",name:"house",size:64,layers:[{type:"rect",color:"#8B4513",x:8,y:8,width:48,height:20},{type:"rect",color:"#A52A2A",x:4,y:16,width:56,height:12},{type:"rect",color:"#DEB887",x:12,y:28,width:40,height:32},{type:"rect",color:"#8B4513",x:24,y:40,width:16,height:20},{type:"rect",color:"#87CEEB",x:16,y:32,width:8,height:8},{type:"rect",color:"#87CEEB",x:40,y:32,width:8,height:8}]},$8={id:"treasure-chest-1",name:"treasure-chest",size:64,layers:[{type:"rect",color:"#8B4513",x:16,y:24,width:32,height:24},{type:"rect",color:"#A0522D",x:14,y:16,width:36,height:8},{type:"rect",color:"#FFD700",x:28,y:20,width:8,height:6},{type:"rect",color:"#DAA520",x:16,y:32,width:32,height:4},{type:"rect",color:"#DAA520",x:16,y:40,width:32,height:4}]},V8={id:"abandoned-warehouse-1",name:"abandoned-warehouse",size:128,layers:[{type:"rect",color:"#8b4343",x:10,y:20,width:108,height:90},{type:"rect",color:"#696969",x:8,y:100,width:112,height:10},{type:"rect",color:"#4a4a4a",x:5,y:15,width:118,height:15},{type:"line",color:"#363636",x:5,y:18,x2:123,y2:18,lineWidth:1},{type:"line",color:"#363636",x:5,y:22,x2:123,y2:22,lineWidth:1},{type:"line",color:"#363636",x:5,y:26,x2:123,y2:26,lineWidth:1},{type:"rect",color:"#595959",x:30,y:60,width:40,height:40},{type:"line",color:"#333333",x:30,y:60,x2:70,y2:100,lineWidth:2},{type:"line",color:"#333333",x:30,y:100,x2:70,y2:60,lineWidth:2},{type:"rect",color:"#4d4d4d",x:85,y:75,width:15,height:25},{type:"rect",color:"#1a1a1a",x:20,y:35,width:15,height:10},{type:"rect",color:"#1a1a1a",x:45,y:35,width:15,height:10},{type:"rect",color:"#1a1a1a",x:70,y:35,width:15,height:10},{type:"rect",color:"#1a1a1a",x:95,y:35,width:15,height:10},{type:"line",color:"#4a5660",x:20,y:35,x2:35,y2:45,lineWidth:1},{type:"line",color:"#4a5660",x:95,y:35,x2:110,y2:45,lineWidth:1},{type:"rect",color:"#6b3939",x:15,y:45,width:25,height:40},{type:"rect",color:"#6b3939",x:75,y:50,width:30,height:35},{type:"line",color:"#c4c4c4",x:90,y:60,x2:105,y2:70,lineWidth:3},{type:"circle",color:"#6b2727",x:25,y:85,radius:5},{type:"circle",color:"#6b2727",x:100,y:65,radius:6},{type:"rect",color:"#8b6b4a",x:110,y:30,width:4,height:70}]},H8={id:"rotting-zombie-1",name:"rotting-zombie",size:64,layers:[{type:"rect",color:"#94a183",x:16,y:8,width:32,height:48},{type:"rect",color:"#737b63",x:20,y:28,width:24,height:20},{type:"circle",color:"#8b9677",x:32,y:16,radius:8},{type:"circle",color:"#3d3f34",x:28,y:14,radius:2},{type:"circle",color:"#2a2b24",x:36,y:14,radius:3},{type:"rect",color:"#2a2b24",x:28,y:18,width:8,height:3},{type:"rect",color:"#656b57",x:12,y:28,width:8,height:20},{type:"rect",color:"#656b57",x:44,y:28,width:8,height:24},{type:"circle",color:"#e8e4d9",x:24,y:36,radius:3},{type:"circle",color:"#e8e4d9",x:40,y:42,radius:2},{type:"circle",color:"#8b3f3f",x:28,y:32,radius:4},{type:"circle",color:"#732525",x:36,y:46,radius:3},{type:"line",color:"#5c6150",x:20,y:24,x2:28,y2:30,lineWidth:2},{type:"line",color:"#5c6150",x:36,y:28,x2:44,y2:34,lineWidth:2}]},W8={id:"pattern-1",name:"pattern-texture",size:64,layers:[{type:"pattern",patternType:"checkerboard",color1:"#FFFFFF",color2:"#000000",x:0,y:0,width:64,height:64}]},mc=[N8,Vp,F8,G8,$8,Hp,Wp,V8,H8,W8,B8],z8={class:"sprite-list flex flex-col items-center overflow-y-auto h-full border-r border-gray-700"},j8=["onClick"],U8={key:0,class:"w-16 h-16 rounded flex-shrink-0"},Y8=["src","alt"],X8={key:1,class:"w-16 h-16 bg-gray-600 flex items-center justify-center rounded flex-shrink-0"},q8={class:"text-xs text-center px-1"},K8={class:"flex-1 ml-2 text-sm"},J8={key:0},Q8=["onBlur","onKeyup"],Z8={key:1},ew=["onClick"],tw=["onClick","disabled"],nw=["onClick"],rw=["onClick"],iw=["onClick","title"],sw=ae({__name:"SpriteList",props:{mode:{default:"generate"}},setup(t){const e=t,n=hs(),r=vs(),i=R1(),s=Vo(),o=z(!0),a=z(null),l=z(""),c=z(null);Ae(()=>s.params.id,w=>{w?c.value=w:c.value=null},{immediate:!0});const u=new Jo,d=U(()=>e.mode==="edit");Qe(()=>{const w=localStorage.getItem("showPresets");w!==null&&(o.value=JSON.parse(w))});function h(){o.value=!o.value,localStorage.setItem("showPresets",JSON.stringify(o.value))}const f=U(()=>{const w=new Map(n.generatedTextures.map(k=>[k.id,k]));let P=[];return o.value&&(P=mc.map(k=>{if(w.has(k.id)){const O=w.get(k.id);return w.delete(k.id),O}return n.presetThumbnails[k.id]?{...k,thumbnail:n.presetThumbnails[k.id]}:k})),P=[...P,...w.values()],P});Ae(()=>f.value,async w=>{for(const P of w)P.thumbnail||u.generateThumbnail(P).then(k=>{P.thumbnail=k,P.generated?n.updateGeneratedTexture(P.id,P):n.savePresetThumbnail(P.id,k)})},{immediate:!0,deep:!0});function p(w){w.generated&&w.id===a.value||(d.value?(i.push({name:"sprite-edit",params:{id:w.id}}),window.dispatchEvent(new CustomEvent("editSprite",{detail:w}))):(i.push({name:"sprite-generation",params:{id:w.id}}),c.value=w.id,window.dispatchEvent(new CustomEvent("spriteSelected",{detail:w}))))}function g(w){w.prompt&&window.dispatchEvent(new CustomEvent("regenerateTexture",{detail:{id:w.id,prompt:w.prompt}}))}function v(w,P){a.value=w,l.value=P}function m(w){a.value===w&&l.value.trim()&&y()}function y(){a.value&&(n.updateTextureName(a.value,l.value),a.value=null)}function b(w){window.dispatchEvent(new CustomEvent("editSprite",{detail:w})),i.push({name:"sprite-edit",params:{id:w.id}})}return(w,P)=>(D(),ee("div",z8,[G("button",{onClick:h,class:"w-full bg-gray-700 text-white p-2 rounded-md hover:bg-gray-600 mb-2"},tt(o.value?"Hide Presets":"Show Presets"),1),(D(!0),ee(Ye,null,On(f.value,k=>(D(),ee("div",{key:`texture-${k.id}`,class:vt(["sprite-item flex items-center space-x-2 p-2 cursor-pointer",{"bg-gray-700":c.value===k.id||_(s).params.id===k.id}]),onClick:O=>p(k)},[k.thumbnail?(D(),ee("div",U8,[G("img",{src:k.thumbnail,alt:k.name,class:"w-16 h-16 object-contain rounded bg-gray-800"},null,8,Y8)])):(D(),ee("div",X8,[G("span",q8,tt(k.name),1)])),G("div",K8,[k.generated&&k.id===a.value?(D(),ee("span",J8,[Vt(G("input",{"onUpdate:modelValue":P[0]||(P[0]=O=>l.value=O),onBlur:O=>m(k.id),onKeyup:Qs(O=>m(k.id),["enter"]),class:"bg-transparent text-white border-none focus:outline-none w-full",autofocus:""},null,40,Q8),[[ei,l.value]])])):(D(),ee("span",Z8,tt(k.name),1))]),k.generated&&k.id===a.value?(D(),ee("button",{key:2,onClick:It(O=>m(k.id),["stop"]),class:"ml-2 text-yellow-400 hover:text-yellow-600 text-lg",title:"Confirm Name Change"},[te(_(af),{class:"w-4 h-4"})],8,ew)):Le("",!0),!d.value&&k.generated&&k.prompt?(D(),ee("button",{key:3,onClick:It(O=>g(k),["stop"]),disabled:_(r).isLoading,class:"ml-2 text-green-400 hover:text-green-600 text-lg disabled:opacity-50",title:"Regenerate Sprite"},[te(_(L2),{class:"w-4 h-4"})],8,tw)):Le("",!0),d.value?Le("",!0):(D(),fe(cf,{key:4,data:k,class:"ml-2 text-lg"},null,8,["data"])),!d.value&&k.generated&&k.id!==a.value?(D(),ee("button",{key:5,onClick:It(O=>v(k.id,k.name),["stop"]),class:"ml-2 text-blue-400 hover:text-blue-600 text-lg",title:"Edit Sprite Name"},[te(_(I2),{class:"w-4 h-4"})],8,nw)):Le("",!0),d.value?Le("",!0):(D(),ee("button",{key:6,onClick:It(O=>b(k),["stop"]),class:"ml-2 text-green-400 hover:text-green-600 text-lg",title:"Edit Sprite"},[te(_(N2),{class:"w-4 h-4"})],8,rw)),k.generated?(D(),ee("button",{key:7,onClick:It(O=>_(n).removeGeneratedTexture(k.id),["stop"]),class:"ml-2 text-red-400 hover:text-red-600 text-xl font-bold",title:k.generated?"Remove Sprite":"Reset Modified Preset"},[te(_(lf),{class:"w-5 h-5"})],8,iw)):Le("",!0)],10,j8))),128))]))}}),zp=gc(sw,[["__scopeId","data-v-8902f6e5"]]),ow={class:"flex flex-row gap-4"},aw={class:"flex flex-col flex-1 space-y-4"},lw=ae({__name:"SpriteGenerationView",setup(t){const e=Vo(),n=hs();Qe(()=>{r()}),Ae(()=>e.params.id,()=>{r()});function r(){const i=e.params.id;if(i){const s=n.generatedTextures.find(o=>o.id===i)||mc.find(o=>o.id===i);s&&window.dispatchEvent(new CustomEvent("spriteSelected",{detail:s}))}}return(i,s)=>(D(),ee("div",ow,[te(zp),G("div",aw,[te(D8)])]))}}),Ed={circle:{type:"circle",color:"#FFFFFF",x:32,y:32,radius:16,visible:!0},rect:{type:"rect",color:"#FFFFFF",x:0,y:0,width:32,height:32,visible:!0},line:{type:"line",color:"#FFFFFF",x:0,y:0,x2:64,y2:64,lineWidth:2,visible:!0},gradient:{type:"gradient",colorStart:"#FFFFFF",colorEnd:"#000000",direction:"vertical",x:0,y:0,width:64,height:64,visible:!0},pattern:{type:"pattern",color1:"#FFFFFF",color2:"#CCCCCC",patternType:"checkerboard",x:0,y:0,width:64,height:64,visible:!0},ellipse:{type:"ellipse",color:"#FFFFFF",x:32,y:32,width:40,height:20,visible:!0},polygon:{type:"polygon",color:"#FFFFFF",points:[[10,10],[50,10],[30,50]],lineWidth:0,visible:!0},path:{type:"path",color:"#FFFFFF",path:"M10 10 L50 10 L30 50 Z",fill:!0,lineWidth:0,visible:!0}},cw={class:"draggable-number-input w-full flex flex-col gap-1 my-2"},uw=["value"],lt=ae({__name:"DraggableNumberInput",props:{modelValue:{},label:{default:void 0},step:{default:1},min:{},max:{},sensitivity:{default:.5},inputClass:{default:"w-full p-2 bg-gray-700 text-white rounded"}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,i=z(null),s=z(!1),o=z(0),a=z(0);U(()=>n.label?.toLowerCase().replace(/ /g,"-"));function l(f){const p=f.target,g=parseFloat(p.value)||0;r("update:modelValue",g)}function c(f){f.button===0&&(s.value=!1,o.value=n.modelValue,a.value=f.clientX,document.addEventListener("mousemove",u),document.addEventListener("mouseup",d),f.preventDefault())}function u(f){const p=f.clientX-a.value;if(!s.value&&Math.abs(p)>5&&(s.value=!0),!s.value)return;const g=p*n.sensitivity*n.step;let v=o.value+g;n.min!==void 0&&(v=Math.max(n.min,v)),n.max!==void 0&&(v=Math.min(n.max,v)),r("update:modelValue",Math.round(v/n.step)*n.step)}function d(){!s.value&&i.value&&i.value.focus(),s.value=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d)}function h(f){}return(f,p)=>(D(),ee("div",cw,[t.label?(D(),ee("label",{key:0,class:"cursor-ew-resize select-none",onMousedown:c},tt(t.label),33)):Le("",!0),G("input",{ref_key:"inputRef",ref:i,value:t.modelValue,type:"number",class:vt(t.inputClass+" cursor-ew-resize"),onInput:l,onMousedown:c,onWheel:h},null,42,uw)]))}}),dw={class:"space-y-4"},hw=ae({__name:"CircleProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(D(),ee("div",dw,[te(lt,{modelValue:t.layer.radius,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.radius=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"Radius",step:1,min:1,max:t.spriteSize/2},null,8,["modelValue","max"])]))}}),fw={class:"space-y-4"},pw=ae({__name:"RectProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(D(),ee("div",fw,[te(lt,{modelValue:t.layer.width,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.width=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),te(lt,{modelValue:t.layer.height,"onUpdate:modelValue":[r[2]||(r[2]=i=>t.layer.height=i),r[3]||(r[3]=i=>n.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),gw={class:"gap-4 flex items-stretch"},mw=ae({__name:"LineProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(D(),ee(Ye,null,[G("div",gw,[te(lt,{modelValue:t.layer.x2,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.x2=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"X2",step:1,min:0,max:t.spriteSize},null,8,["modelValue","max"]),te(lt,{modelValue:t.layer.y2,"onUpdate:modelValue":[r[2]||(r[2]=i=>t.layer.y2=i),r[3]||(r[3]=i=>n.$emit("update:layer",t.layer))],label:"Y2",step:1,min:0,max:t.spriteSize},null,8,["modelValue","max"])]),te(lt,{modelValue:t.layer.lineWidth,"onUpdate:modelValue":[r[4]||(r[4]=i=>t.layer.lineWidth=i),r[5]||(r[5]=i=>n.$emit("update:layer",t.layer))],label:"Line Width",step:1,min:1,max:20},null,8,["modelValue"])],64))}}),vw={class:"space-y-4"},yw=ae({__name:"EllipseProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(D(),ee("div",vw,[te(lt,{modelValue:t.layer.width,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.width=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),te(lt,{modelValue:t.layer.height,"onUpdate:modelValue":[r[2]||(r[2]=i=>t.layer.height=i),r[3]||(r[3]=i=>n.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),bw={class:"space-y-4"},ww=["value"],_w=["value"],xw=["value"],Sw=ae({__name:"PatternProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e;function i(a){const l=a.target,c={...n.layer,patternType:l.value};r("update:layer",c)}function s(a){const l=a.target,c={...n.layer,color1:l.value};r("update:layer",c)}function o(a){const l=a.target,c={...n.layer,color2:l.value};r("update:layer",c)}return(a,l)=>(D(),ee("div",bw,[G("div",null,[l[8]||(l[8]=G("label",{class:"block text-sm font-medium text-gray-300"},"Pattern Type",-1)),G("select",{value:t.layer.patternType,class:"w-full p-2 bg-gray-700 text-white rounded",onChange:l[0]||(l[0]=c=>i(c))},[...l[7]||(l[7]=[G("option",{value:"checkerboard"},"Checkerboard",-1),G("option",{value:"stripes"},"Stripes",-1),G("option",{value:"dots"},"Dots",-1)])],40,ww)]),G("div",null,[l[9]||(l[9]=G("label",{class:"block text-sm font-medium text-gray-300"},"Color 1",-1)),G("input",{value:t.layer.color1,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[1]||(l[1]=c=>s(c))},null,40,_w)]),G("div",null,[l[10]||(l[10]=G("label",{class:"block text-sm font-medium text-gray-300"},"Color 2",-1)),G("input",{value:t.layer.color2,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[2]||(l[2]=c=>o(c))},null,40,xw)]),te(lt,{modelValue:t.layer.width,"onUpdate:modelValue":[l[3]||(l[3]=c=>t.layer.width=c),l[4]||(l[4]=c=>a.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),te(lt,{modelValue:t.layer.height,"onUpdate:modelValue":[l[5]||(l[5]=c=>t.layer.height=c),l[6]||(l[6]=c=>a.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),Cw={class:"space-y-4"},Ew=["value"],Aw=["value"],Pw=["value"],kw=ae({__name:"GradientProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e;function i(a){const l=a.target,c={...n.layer,colorStart:l.value};r("update:layer",c)}function s(a){const l=a.target,c={...n.layer,colorEnd:l.value};r("update:layer",c)}function o(a){const l=a.target,c={...n.layer,direction:l.value};r("update:layer",c)}return(a,l)=>(D(),ee("div",Cw,[G("div",null,[l[7]||(l[7]=G("label",{class:"block text-sm font-medium text-gray-300"},"Color Start",-1)),G("input",{value:t.layer.colorStart,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[0]||(l[0]=c=>i(c))},null,40,Ew)]),G("div",null,[l[8]||(l[8]=G("label",{class:"block text-sm font-medium text-gray-300"},"Color End",-1)),G("input",{value:t.layer.colorEnd,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[1]||(l[1]=c=>s(c))},null,40,Aw)]),G("div",null,[l[10]||(l[10]=G("label",{class:"block text-sm font-medium text-gray-300"},"Direction",-1)),G("select",{value:t.layer.direction,class:"w-full p-2 bg-gray-700 text-white rounded",onChange:l[2]||(l[2]=c=>o(c))},[...l[9]||(l[9]=[G("option",{value:"horizontal"},"Horizontal",-1),G("option",{value:"vertical"},"Vertical",-1)])],40,Pw)]),te(lt,{modelValue:t.layer.width,"onUpdate:modelValue":[l[3]||(l[3]=c=>t.layer.width=c),l[4]||(l[4]=c=>a.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),te(lt,{modelValue:t.layer.height,"onUpdate:modelValue":[l[5]||(l[5]=c=>t.layer.height=c),l[6]||(l[6]=c=>a.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),Tw={class:"space-y-4"},Rw=["value"],Ow=ae({__name:"PolygonProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e,i=U(()=>n.layer.points?.map(o=>`[${o[0]},${o[1]}]`).join(",")||"");function s(o){const l=o.target.value;let c=[];try{c=l.split(",").map(h=>{const f=h.trim().match(/\[(\d+),(\d+)\]/);return f?[parseInt(f[1]),parseInt(f[2])]:null}).filter(h=>h)}catch{c=n.layer.points||[]}const u={...n.layer,points:c};r("update:layer",u)}return(o,a)=>(D(),ee("div",Tw,[G("div",null,[a[3]||(a[3]=G("label",{class:"block text-sm font-medium text-gray-300"},"Points",-1)),G("textarea",{value:i.value,class:"w-full p-2 bg-gray-700 text-white rounded",rows:"3",placeholder:"e.g., [10,10],[50,10],[30,50]",onInput:a[0]||(a[0]=l=>s(l))},null,40,Rw)]),te(lt,{modelValue:t.layer.lineWidth,"onUpdate:modelValue":[a[1]||(a[1]=l=>t.layer.lineWidth=l),a[2]||(a[2]=l=>o.$emit("update:layer",t.layer))],label:"Line Width",step:1,min:0,max:20},null,8,["modelValue"])]))}}),Mw={class:"space-y-4"},Iw=["value"],Lw={class:"flex items-center"},Dw=["checked"],Nw=ae({__name:"PathProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e;function i(o){const a=o.target,l={...n.layer,path:a.value};r("update:layer",l)}function s(o){const a=o.target,l={...n.layer,fill:a.checked};r("update:layer",l)}return(o,a)=>(D(),ee("div",Mw,[G("div",null,[a[4]||(a[4]=G("label",{class:"block text-sm font-medium text-gray-300"},"Path Data",-1)),G("textarea",{value:t.layer.path,class:"w-full p-2 bg-gray-700 text-white rounded",rows:"3",placeholder:"e.g., M10 10 L50 10 L30 50 Z",onInput:a[0]||(a[0]=l=>i(l))},null,40,Iw)]),G("div",Lw,[G("input",{checked:t.layer.fill,type:"checkbox",class:"mr-2",onChange:a[1]||(a[1]=l=>s(l))},null,40,Dw),a[5]||(a[5]=G("label",{class:"text-sm font-medium text-gray-300"},"Fill",-1))]),te(lt,{modelValue:t.layer.lineWidth,"onUpdate:modelValue":[a[2]||(a[2]=l=>t.layer.lineWidth=l),a[3]||(a[3]=l=>o.$emit("update:layer",t.layer))],label:"Line Width",step:1,min:0,max:20},null,8,["modelValue"])]))}}),Fw={class:"sprite-editor flex h-full"},Bw={key:0,class:"flex-1 flex items-center justify-center text-gray-400"},Gw={class:"layer-panel w-64 bg-gray-800 p-4 border-r border-gray-700 overflow-y-auto"},$w={class:"space-y-2"},Vw=["onClick"],Hw={class:"mx-2 flex-1 text-sm text-white"},Ww=["onClick"],zw=["onClick"],jw={class:"mt-4"},Uw={class:"editor-main flex-1 flex flex-col"},Yw={class:"properties-panel bg-gray-800 p-4 border-t border-gray-700"},Xw={key:0,class:"space-y-4"},qw={class:"grid grid-cols-2 gap-4"},Kw={key:1,class:"text-gray-400"},js=4,Jw=ae({__name:"SpriteEditor",props:{spriteData:{}},emits:["spriteUpdated"],setup(t,{emit:e}){const n=t,r=e,i=z(),s=z(),o=z(),a=z(),l=z(null),c=z(n.spriteData?.size||64),u=new Jo,d=U(()=>l.value!==null&&n.spriteData?n.spriteData.layers[l.value]:null),h=U(()=>{if(!d.value)return null;switch(d.value.type){case"circle":return hw;case"rect":return pw;case"line":return mw;case"gradient":return kw;case"pattern":return Sw;case"ellipse":return yw;case"polygon":return Ow;case"path":return Nw;default:return null}});function f(){if(!d.value||l.value===null||!n.spriteData)return;const T=d.value.type,E={x:d.value.x,y:d.value.y,color:d.value.color,visible:d.value.visible,rotation:d.value.rotation},M={...Ed[T],...E,type:T};v(l.value,M)}function p(T,E){if(!d.value||l.value===null)return;const M={...d.value,[T]:E};v(l.value,M)}function g(T){l.value!==null&&v(l.value,T)}function v(T,E){if(!n.spriteData)return;const M=[...n.spriteData.layers];M[T]=E;const K={...n.spriteData,layers:M};r("spriteUpdated",K)}Qe(()=>{i.value&&u2(i,T=>{const E=T[0],{width:M,height:K}=E.contentRect;M>0&&K>0&&(!s.value&&n.spriteData?m():s.value&&(s.value.width(M),s.value.height(K),y()))})});function m(){!i.value||!n.spriteData||i.value.clientWidth===0||i.value.clientHeight===0||(s.value=new nt.Stage({container:i.value,width:i.value.clientWidth,height:i.value.clientHeight}),o.value=new nt.Layer,s.value.add(o.value),a.value=new nt.Transformer({nodes:[],ignoreStroke:!0,rotateEnabled:!0,rotateAnchorOffset:30,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],boundBoxFunc:(T,E)=>E.width<5||E.height<5?T:E}),o.value.add(a.value),s.value.on("click tap",T=>{T.target===s.value&&w(-1)}),y(),Z(n.spriteData,!0))}function y(){if(!s.value||!o.value||!n.spriteData)return;const T=s.value.width(),E=s.value.height(),M=n.spriteData.size*js;o.value.x(T/2-M/2),o.value.y(E/2-M/2),o.value.scale({x:js,y:js})}function b(T,E){return`${T.type} ${E+1}`}function w(T){l.value=T===-1?null:T,P()}function P(){if(!a.value||!o.value)return;if(l.value===null){a.value.nodes([]);return}const T=o.value.findOne(`#layer-${l.value}`);T?a.value.nodes([T]):a.value.nodes([])}function k(T){if(!n.spriteData)return;const E=n.spriteData.layers[T],M={...E,visible:E.visible===!1};v(T,M)}function O(){if(!n.spriteData)return;const T={...Ed.rect,type:"rect",x:n.spriteData.size/2-10,y:n.spriteData.size/2-10,width:20,height:20},E={...n.spriteData,layers:[...n.spriteData.layers,T]};r("spriteUpdated",E)}function A(T){if(n.spriteData&&n.spriteData.layers.length>1){const E=n.spriteData.layers.filter((K,ie)=>ie!==T),M={...n.spriteData,layers:E};l.value===T?l.value=null:l.value&&l.value>T&&l.value--,r("spriteUpdated",M)}}function R(){if(!n.spriteData)return;const T=JSON.parse(JSON.stringify(n.spriteData));r("spriteUpdated",T)}function N(){if(!n.spriteData)return;const T={...n.spriteData,size:c.value};r("spriteUpdated",T)}async function Z(T,E=!1){if(!s.value||!o.value)return;const M=o.value.find("Group");a.value&&a.value.nodes([]),M.forEach(pe=>{pe!==a.value&&pe.destroy()}),T.layers.forEach((pe,ye)=>{if(pe.visible===!1)return;const Re=j(pe,T.size),Ee=new nt.Group({id:`layer-${ye}`,draggable:!0,x:Re.x,y:Re.y,offsetX:Re.x,offsetY:Re.y,rotation:pe.rotation||0}),qe={...pe,rotation:0};u.drawLayer(Ee,qe,T.size),Ee.on("click tap",B=>{B.cancelBubble=!0,w(ye)}),Ee.on("dragend",B=>{re(ye,B.target)}),Ee.on("transformend",B=>{$(ye,B.target)}),o.value?.add(Ee),a.value&&a.value.getLayer()&&a.value.moveToTop()}),P();const K=o.value.findOne("#sprite-border");K&&K.destroy();const ie=new nt.Rect({id:"sprite-border",x:0,y:0,width:T.size,height:T.size,stroke:"#444",strokeWidth:1/js,listening:!1});if(o.value.add(ie),ie.moveToBottom(),y(),!E){const pe=await u.generateImage(T);if(T.thumbnail!==pe){const ye={...T,thumbnail:pe};r("spriteUpdated",ye)}}}function j(T,E){if(T.type==="circle"||T.type==="ellipse"){const M=T.x!==void 0?T.x:E/2,K=T.y!==void 0?T.y:E/2;return{x:M,y:K}}else if(T.type==="line"){const M=T.x!==void 0?T.x:0,K=T.y!==void 0?T.y:0,ie=T.x2!==void 0?T.x2:E,pe=T.y2!==void 0?T.y2:E;return{x:(M+ie)/2,y:(K+pe)/2}}else{const M=T.width||0,K=T.height||0,ie=T.x!==void 0?T.x:(E-M)/2,pe=T.y!==void 0?T.y:(E-K)/2;return{x:ie+M/2,y:pe+K/2}}}function re(T,E){if(!n.spriteData)return;const M=n.spriteData.layers[T],K=E.x(),ie=E.y(),pe=j(M,n.spriteData.size),ye=K-pe.x,Re=ie-pe.y;E.position({x:K,y:ie});const Ee={...M};M.x!==void 0&&(Ee.x=Math.round((M.x||0)+ye)),M.y!==void 0&&(Ee.y=Math.round((M.y||0)+Re)),M.type==="line"&&(M.x2!==void 0&&(Ee.x2=Math.round((M.x2||0)+ye)),M.y2!==void 0&&(Ee.y2=Math.round((M.y2||0)+Re))),v(T,Ee)}function $(T,E){if(!n.spriteData)return;const M=n.spriteData.layers[T],K=E.scaleX(),ie=E.scaleY(),pe=E.rotation(),ye=E.x(),Re=E.y();E.scaleX(1),E.scaleY(1);const Ee={...M};if(Ee.rotation=pe,M.type==="circle")M.radius&&(Ee.radius=Math.round(M.radius*((K+ie)/2))),Ee.x=Math.round(ye),Ee.y=Math.round(Re);else if(M.type==="ellipse")M.width&&(Ee.width=Math.round((M.width||0)*K)),M.height&&(Ee.height=Math.round((M.height||0)*ie)),Ee.x=Math.round(ye),Ee.y=Math.round(Re);else if(M.type==="line"){M.lineWidth&&(Ee.lineWidth=Math.round(M.lineWidth*((K+ie)/2)));const qe=j(M,n.spriteData.size),B=ye-qe.x,de=Re-qe.y;M.x!==void 0&&(Ee.x=Math.round((M.x||0)+B)),M.y!==void 0&&(Ee.y=Math.round((M.y||0)+de)),M.x2!==void 0&&(Ee.x2=Math.round((M.x2||0)+B)),M.y2!==void 0&&(Ee.y2=Math.round((M.y2||0)+de))}else{const qe=Math.round((M.width||0)*K),B=Math.round((M.height||0)*ie);Ee.width=qe,Ee.height=B,Ee.x=Math.round(ye-qe/2),Ee.y=Math.round(Re-B/2),M.radius&&(Ee.radius=Math.round((M.radius||0)*((K+ie)/2)))}v(T,Ee)}zt(()=>{s.value?.destroy()});const V=z(null),F=z("");return Ae(()=>n.spriteData,(T,E)=>{if(T){c.value=T.size;const M=u.getTextureKey(T),K=E?.generated&&!T.generated,ie=T.id!==V.value||K;if(!ie&&M===F.value)return;V.value=T.id,F.value=M,!s.value&&i.value?m():Z(T,ie)}else V.value=null,F.value="",s.value?.destroy(),s.value=void 0},{deep:!0,flush:"post"}),(T,E)=>(D(),ee("div",Fw,[t.spriteData?(D(),ee(Ye,{key:1},[G("div",Gw,[E[7]||(E[7]=G("h3",{class:"text-lg font-bold mb-4 text-white"},"Layers",-1)),G("div",$w,[(D(!0),ee(Ye,null,On(t.spriteData.layers,(M,K)=>(D(),ee("div",{key:K,class:vt(["layer-item flex items-center p-2 bg-gray-700 rounded cursor-pointer",{"bg-blue-600":l.value===K}]),onClick:ie=>w(K)},[G("div",{class:"layer-preview w-8 h-8 border border-gray-600 rounded flex-shrink-0",style:en({backgroundColor:M.color||"#ccc"})},null,4),G("span",Hw,tt(b(M,K)),1),G("button",{onClick:It(ie=>k(K),["stop"]),class:"mr-2 text-gray-400 hover:text-white"},[M.visible!==!1?(D(),fe(_(M2),{key:0,class:"w-4 h-4"})):(D(),fe(_(O2),{key:1,class:"w-4 h-4"}))],8,Ww),G("button",{onClick:It(ie=>A(K),["stop"]),class:"text-red-400 hover:text-red-600"},[te(_(lf),{class:"w-4 h-4"})],8,zw)],10,Vw))),128))]),G("button",{onClick:O,class:"w-full mt-4 bg-green-600 text-white py-2 rounded hover:bg-green-700"},"+ Layer "),G("div",jw,[te(lt,{modelValue:c.value,"onUpdate:modelValue":[E[0]||(E[0]=M=>c.value=M),N],label:"Texture Size",step:1,min:16,max:512},null,8,["modelValue"])])]),G("div",Uw,[G("div",{class:"canvas-container flex-1 min-h-96",ref_key:"canvasContainer",ref:i},null,512),G("div",Yw,[E[10]||(E[10]=G("h3",{class:"text-lg font-bold mb-4 text-white"},"Properties",-1)),d.value?(D(),ee("div",Xw,[G("div",null,[Vt(G("select",{"onUpdate:modelValue":E[1]||(E[1]=M=>d.value.type=M),class:"w-full p-2 bg-gray-700 text-white rounded",onChange:f},[...E[8]||(E[8]=[Tg('<option value="circle">Circle</option><option value="rect">Rectangle</option><option value="line">Line</option><option value="gradient">Gradient</option><option value="pattern">Pattern</option><option value="ellipse">Ellipse</option><option value="polygon">Polygon</option><option value="path">Path</option>',8)])],544),[[Fl,d.value.type]])]),G("div",qw,[te(lt,{modelValue:d.value.x,"onUpdate:modelValue":[E[2]||(E[2]=M=>d.value.x=M),R],label:"X",step:1,min:0,max:t.spriteData.size},null,8,["modelValue","max"]),te(lt,{modelValue:d.value.y,"onUpdate:modelValue":[E[3]||(E[3]=M=>d.value.y=M),R],label:"Y",step:1,min:0,max:t.spriteData.size},null,8,["modelValue","max"])]),G("div",null,[te(lt,{"model-value":d.value.rotation||0,label:"Rotation",step:1,min:0,max:360,"onUpdate:modelValue":E[4]||(E[4]=M=>p("rotation",M))},null,8,["model-value"])]),G("div",null,[E[9]||(E[9]=G("label",{class:"block text-sm font-medium text-gray-300"},"Color",-1)),Vt(G("input",{"onUpdate:modelValue":E[5]||(E[5]=M=>d.value.color=M),type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:R},null,544),[[ei,d.value.color]])]),(D(),fe(lo(h.value),{layer:d.value,"sprite-size":t.spriteData.size,"onUpdate:layer":g},null,40,["layer","sprite-size"]))])):(D(),ee("div",Kw,"Select a layer to edit properties"))])])],64)):(D(),ee("div",Bw,[...E[6]||(E[6]=[G("div",{class:"text-center"},[G("p",{class:"text-xl mb-2"},"Select a sprite to edit"),G("p",{class:"text-sm"},"Choose a sprite from the list on the left")],-1)])]))]))}}),Qw={class:"flex flex-row gap-4 h-[calc(100vh-150px)]"},Zw={class:"flex-1 h-full"},e_=ae({__name:"SpriteEditView",setup(t){const e=Vo(),n=z(null),r=hs();function i(a){r.generatedTextures.some(c=>c.id===a.id)?r.updateGeneratedTexture(a.id,a):r.addGeneratedTexture(a),n.value=a}function s(a){const l=a;n.value=l.detail}Qe(()=>{window.addEventListener("editSprite",s),o()}),zt(()=>{window.removeEventListener("editSprite",s)}),Ae(()=>e.params.id,()=>{o()}),Ae(()=>r.generatedTextures,()=>{o()},{deep:!0});function o(){const a=e.params.id;if(a){const l=r.generatedTextures.find(c=>c.id===a)||mc.find(c=>c.id===a);l?n.value=l:n.value=null}else n.value=null}return(a,l)=>(D(),ee("div",Qw,[te(zp,{mode:"edit"}),G("div",Zw,[te(Jw,{spriteData:n.value,onSpriteUpdated:i},null,8,["spriteData"])])]))}}),t_=`<svg viewBox="0 0 100 150" xmlns="http://www.w3.org/2000/svg">
  <!-- Balloon shape -->
  <ellipse cx="50" cy="50" rx="30" ry="40" fill="red" />

  <!-- Balloon highlight -->
  <ellipse cx="40" cy="40" rx="10" ry="15" fill="white" opacity="0.5" />

  <!-- Balloon string -->
  <path d="M50,90 C50,110 40,130 50,150" stroke="gray" stroke-width="2" fill="none" />
</svg>`,n_=[t_],r_={class:"flex items-center gap-4"},i_={class:"max-w-sm"},s_=["disabled"],o_={key:0},a_={key:1,class:"flex items-center"},l_={key:0,class:"w-full px-2 whitespace-pre-line max-h-32 overflow-auto bg-gray-800 p-1 rounded-md shadow-md mt-2"},c_={key:1,class:"w-full px-2 whitespace-pre-line max-h-32 overflow-auto bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-700 space-y-4 w-80 mx-auto"},u_={key:0},d_={class:"flex flex-wrap gap-4"},h_=["innerHTML","onClick"],f_=["innerHTML","onClick"],p_=ae({__name:"SvgGenerator",setup(t){const e=z(),n=z([]),r=z(""),i=vs(),s=U(()=>{if(i.isLoading)return!1;const u=e.value;return!(!u||!u.prompt)}),o=n_;function a(u){return[{role:"system",content:`You are an SVG generator. Create SVG code based on text descriptions. Follow these rules:
  - Generate valid, working SVG code
  - Use viewBox instead of fixed width/height
  - Keep the SVG simple and clean
  - Use basic shapes (rect, circle, path, etc.)
  - Add comments to explain the main elements
  - Return ONLY the SVG code with no markdown or other text`},{role:"user",content:u}]}async function l(){const u=e.value;if(!u)return;const d=u.prompt;if(!(!d.trim()||!i.selectedModel))try{const h=await i.generate(i.selectedModel,a(d),{temperature:.01});n.value.push(h),u.prompt="",r.value=h}catch(h){console.error("Error generating SVG:",h)}}function c(){const u=new Blob([r.value],{type:"image/svg+xml"}),d=URL.createObjectURL(u),h=document.createElement("a");h.href=d,h.download="generated.svg",document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(d)}return(u,d)=>(D(),ee("div",r_,[G("div",i_,[te($p,{ref_key:"Form",ref:e,placeholder:"Describe your SVG..."},{button:oe(()=>[G("button",{disabled:!s.value,onClick:l,class:"w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 transition disabled:opacity-50"},[_(i).isLoading?(D(),ee("span",a_,[...d[0]||(d[0]=[G("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},null,-1),st(" Generating... ",-1)])])):(D(),ee("span",o_,"Generate SVG"))],8,s_)]),_:1},512),r.value?(D(),ee("p",l_," Selected SVG ")):Le("",!0),r.value?(D(),ee("p",c_,tt(r.value),1)):Le("",!0),r.value?(D(),ee("button",{key:2,onClick:c,class:"w-full mt-2 bg-green-500 text-white p-2 rounded-md hover:bg-green-600 transition"}," Download SVG ")):Le("",!0)]),n.value.length||_(o).length?(D(),ee("div",u_,[d[1]||(d[1]=G("h3",{class:"text-lg font-bold mb-2"},"SVG Gallery",-1)),G("div",d_,[(D(!0),ee(Ye,null,On(_(o),(h,f)=>(D(),ee("div",{key:"preset-"+f,class:"border p-2 rounded overflow-hidden"},[G("div",{innerHTML:h,class:"w-64 h-64",onClick:p=>r.value=h},null,8,h_)]))),128)),(D(!0),ee(Ye,null,On(n.value,(h,f)=>(D(),ee("div",{key:"generated-"+f,class:"border p-2 rounded overflow-hidden"},[G("div",{innerHTML:h,class:"w-64 h-64",onClick:p=>r.value=h},null,8,f_)]))),128))])])):Le("",!0)]))}}),g_=ae({__name:"SvgGenerationView",setup(t){return(e,n)=>(D(),fe(p_))}}),m_=T1({history:a1("./"),routes:[{path:"/",redirect:"/view"},{path:"/view/:id?",name:"sprite-generation",component:lw},{path:"/edit/:id?",name:"sprite-edit",component:e_},{path:"/svg",name:"svg-generation",component:g_}]}),vc=pm($1);vc.use(vm());vc.use(m_);vc.mount("#app");
