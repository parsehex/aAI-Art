(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _l(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const $e={},Wr=[],un=()=>{},wd=()=>!1,vo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),xl=t=>t.startsWith("onUpdate:"),vt=Object.assign,Sl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Gp=Object.prototype.hasOwnProperty,De=(t,e)=>Gp.call(t,e),xe=Array.isArray,zr=t=>rs(t)==="[object Map]",yo=t=>rs(t)==="[object Set]",yc=t=>rs(t)==="[object Date]",Se=t=>typeof t=="function",qe=t=>typeof t=="string",Xt=t=>typeof t=="symbol",Ge=t=>t!==null&&typeof t=="object",_d=t=>(Ge(t)||Se(t))&&Se(t.then)&&Se(t.catch),xd=Object.prototype.toString,rs=t=>xd.call(t),$p=t=>rs(t).slice(8,-1),Sd=t=>rs(t)==="[object Object]",Cl=t=>qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Oi=_l(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bo=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Hp=/-\w/g,Rt=bo(t=>t.replace(Hp,e=>e.slice(1).toUpperCase())),Vp=/\B([A-Z])/g,tr=bo(t=>t.replace(Vp,"-$1").toLowerCase()),wo=bo(t=>t.charAt(0).toUpperCase()+t.slice(1)),Hs=bo(t=>t?`on${wo(t)}`:""),qn=(t,e)=>!Object.is(t,e),Vs=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Cd=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},_o=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let bc;const xo=()=>bc||(bc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zt(t){if(xe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=qe(r)?Up(r):Zt(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(qe(t)||Ge(t))return t}const Wp=/;(?![^(]*\))/g,zp=/:([^]+)/,jp=/\/\*[^]*?\*\//g;function Up(t){const e={};return t.replace(jp,"").split(Wp).forEach(n=>{if(n){const r=n.split(zp);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Et(t){let e="";if(qe(t))e=t;else if(xe(t))for(let n=0;n<t.length;n++){const r=Et(t[n]);r&&(e+=r+" ")}else if(Ge(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function So(t){if(!t)return null;let{class:e,style:n}=t;return e&&!qe(e)&&(t.class=Et(e)),n&&(t.style=Zt(n)),t}const Yp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xp=_l(Yp);function Ed(t){return!!t||t===""}function qp(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Co(t[r],e[r]);return n}function Co(t,e){if(t===e)return!0;let n=yc(t),r=yc(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Xt(t),r=Xt(e),n||r)return t===e;if(n=xe(t),r=xe(e),n||r)return n&&r?qp(t,e):!1;if(n=Ge(t),r=Ge(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Co(t[o],e[o]))return!1}}return String(t)===String(e)}function Kp(t,e){return t.findIndex(n=>Co(n,e))}const Ad=t=>!!(t&&t.__v_isRef===!0),et=t=>qe(t)?t:t==null?"":xe(t)||Ge(t)&&(t.toString===xd||!Se(t.toString))?Ad(t)?et(t.value):JSON.stringify(t,Pd,2):String(t),Pd=(t,e)=>Ad(e)?Pd(t,e.value):zr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[ta(r,s)+" =>"]=i,n),{})}:yo(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ta(n))}:Xt(e)?ta(e):Ge(e)&&!xe(e)&&!Sd(e)?String(e):e,ta=(t,e="")=>{var n;return Xt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let pt;class Td{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pt,!e&&pt&&(this.index=(pt.scopes||(pt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=pt;try{return pt=this,e()}finally{pt=n}}}on(){++this._on===1&&(this.prevScope=pt,pt=this)}off(){this._on>0&&--this._on===0&&(pt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Eo(t){return new Td(t)}function ii(){return pt}function is(t,e=!1){pt&&pt.cleanups.push(t)}let ze;const na=new WeakSet;class kd{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pt&&pt.active&&pt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,na.has(this)&&(na.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Od(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wc(this),Md(this);const e=ze,n=Ut;ze=this,Ut=!0;try{return this.fn()}finally{Id(this),ze=e,Ut=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Pl(e);this.deps=this.depsTail=void 0,wc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?na.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Da(this)&&this.run()}get dirty(){return Da(this)}}let Rd=0,Mi,Ii;function Od(t,e=!1){if(t.flags|=8,e){t.next=Ii,Ii=t;return}t.next=Mi,Mi=t}function El(){Rd++}function Al(){if(--Rd>0)return;if(Ii){let e=Ii;for(Ii=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Mi;){let e=Mi;for(Mi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Md(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Id(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Pl(r),Jp(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Da(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ld(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ld(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ui)||(t.globalVersion=Ui,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Da(t))))return;t.flags|=2;const e=t.dep,n=ze,r=Ut;ze=t,Ut=!0;try{Md(t);const i=t.fn(t._value);(e.version===0||qn(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{ze=n,Ut=r,Id(t),t.flags&=-3}}function Pl(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Pl(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Jp(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Ut=!0;const Dd=[];function Pn(){Dd.push(Ut),Ut=!1}function Tn(){const t=Dd.pop();Ut=t===void 0?!0:t}function wc(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ze;ze=void 0;try{e()}finally{ze=n}}}let Ui=0;class Qp{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ao{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ze||!Ut||ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ze)n=this.activeLink=new Qp(ze,this),ze.deps?(n.prevDep=ze.depsTail,ze.depsTail.nextDep=n,ze.depsTail=n):ze.deps=ze.depsTail=n,Nd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ze.depsTail,n.nextDep=void 0,ze.depsTail.nextDep=n,ze.depsTail=n,ze.deps===n&&(ze.deps=r)}return n}trigger(e){this.version++,Ui++,this.notify(e)}notify(e){El();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Al()}}}function Nd(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Nd(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ks=new WeakMap,br=Symbol(""),Na=Symbol(""),Yi=Symbol("");function gt(t,e,n){if(Ut&&ze){let r=Ks.get(t);r||Ks.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Ao),i.map=r,i.key=n),i.track()}}function En(t,e,n,r,i,s){const o=Ks.get(t);if(!o){Ui++;return}const a=l=>{l&&l.trigger()};if(El(),e==="clear")o.forEach(a);else{const l=xe(t),c=l&&Cl(n);if(l&&n==="length"){const u=Number(r);o.forEach((d,h)=>{(h==="length"||h===Yi||!Xt(h)&&h>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Yi)),e){case"add":l?c&&a(o.get("length")):(a(o.get(br)),zr(t)&&a(o.get(Na)));break;case"delete":l||(a(o.get(br)),zr(t)&&a(o.get(Na)));break;case"set":zr(t)&&a(o.get(br));break}}Al()}function Zp(t,e){const n=Ks.get(t);return n&&n.get(e)}function Rr(t){const e=Me(t);return e===t?e:(gt(e,"iterate",Yi),Vt(t)?e:e.map(ut))}function Po(t){return gt(t=Me(t),"iterate",Yi),t}const e0={__proto__:null,[Symbol.iterator](){return ra(this,Symbol.iterator,ut)},concat(...t){return Rr(this).concat(...t.map(e=>xe(e)?Rr(e):e))},entries(){return ra(this,"entries",t=>(t[1]=ut(t[1]),t))},every(t,e){return bn(this,"every",t,e,void 0,arguments)},filter(t,e){return bn(this,"filter",t,e,n=>n.map(ut),arguments)},find(t,e){return bn(this,"find",t,e,ut,arguments)},findIndex(t,e){return bn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return bn(this,"findLast",t,e,ut,arguments)},findLastIndex(t,e){return bn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return bn(this,"forEach",t,e,void 0,arguments)},includes(...t){return ia(this,"includes",t)},indexOf(...t){return ia(this,"indexOf",t)},join(t){return Rr(this).join(t)},lastIndexOf(...t){return ia(this,"lastIndexOf",t)},map(t,e){return bn(this,"map",t,e,void 0,arguments)},pop(){return fi(this,"pop")},push(...t){return fi(this,"push",t)},reduce(t,...e){return _c(this,"reduce",t,e)},reduceRight(t,...e){return _c(this,"reduceRight",t,e)},shift(){return fi(this,"shift")},some(t,e){return bn(this,"some",t,e,void 0,arguments)},splice(...t){return fi(this,"splice",t)},toReversed(){return Rr(this).toReversed()},toSorted(t){return Rr(this).toSorted(t)},toSpliced(...t){return Rr(this).toSpliced(...t)},unshift(...t){return fi(this,"unshift",t)},values(){return ra(this,"values",ut)}};function ra(t,e,n){const r=Po(t),i=r[e]();return r!==t&&!Vt(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=n(s.value)),s}),i}const t0=Array.prototype;function bn(t,e,n,r,i,s){const o=Po(t),a=o!==t&&!Vt(t),l=o[e];if(l!==t0[e]){const d=l.apply(t,s);return a?ut(d):d}let c=n;o!==t&&(a?c=function(d,h){return n.call(this,ut(d),h,t)}:n.length>2&&(c=function(d,h){return n.call(this,d,h,t)}));const u=l.call(o,c,r);return a&&i?i(u):u}function _c(t,e,n,r){const i=Po(t);let s=n;return i!==t&&(Vt(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,ut(a),l,t)}),i[e](s,...r)}function ia(t,e,n){const r=Me(t);gt(r,"iterate",Yi);const i=r[e](...n);return(i===-1||i===!1)&&Tl(n[0])?(n[0]=Me(n[0]),r[e](...n)):i}function fi(t,e,n=[]){Pn(),El();const r=Me(t)[e].apply(t,n);return Al(),Tn(),r}const n0=_l("__proto__,__v_isRef,__isVue"),Fd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Xt));function r0(t){Xt(t)||(t=String(t));const e=Me(this);return gt(e,"has",t),e.hasOwnProperty(t)}class Bd{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?zd:Wd:s?Vd:Hd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=xe(e);if(!i){let l;if(o&&(l=e0[n]))return l;if(n==="hasOwnProperty")return r0}const a=Reflect.get(e,n,Xe(e)?e:r);if((Xt(n)?Fd.has(n):n0(n))||(i||gt(e,"get",n),s))return a;if(Xe(a)){const l=o&&Cl(n)?a:a.value;return i&&Ge(l)?Jr(l):l}return Ge(a)?i?Jr(a):Sr(a):a}}class Gd extends Bd{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Jn(s);if(!Vt(r)&&!Jn(r)&&(s=Me(s),r=Me(r)),!xe(e)&&Xe(s)&&!Xe(r))return l||(s.value=r),!0}const o=xe(e)&&Cl(n)?Number(n)<e.length:De(e,n),a=Reflect.set(e,n,r,Xe(e)?e:i);return e===Me(i)&&(o?qn(r,s)&&En(e,"set",n,r):En(e,"add",n,r)),a}deleteProperty(e,n){const r=De(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&En(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Xt(n)||!Fd.has(n))&&gt(e,"has",n),r}ownKeys(e){return gt(e,"iterate",xe(e)?"length":br),Reflect.ownKeys(e)}}class $d extends Bd{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const i0=new Gd,s0=new $d,o0=new Gd(!0),a0=new $d(!0),Fa=t=>t,ps=t=>Reflect.getPrototypeOf(t);function l0(t,e,n){return function(...r){const i=this.__v_raw,s=Me(i),o=zr(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),u=n?Fa:e?Js:ut;return!e&&gt(s,"iterate",l?Na:br),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function gs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function c0(t,e){const n={get(i){const s=this.__v_raw,o=Me(s),a=Me(i);t||(qn(i,a)&&gt(o,"get",i),gt(o,"get",a));const{has:l}=ps(o),c=e?Fa:t?Js:ut;if(l.call(o,i))return c(s.get(i));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&gt(Me(i),"iterate",br),i.size},has(i){const s=this.__v_raw,o=Me(s),a=Me(i);return t||(qn(i,a)&&gt(o,"has",i),gt(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=Me(a),c=e?Fa:t?Js:ut;return!t&&gt(l,"iterate",br),a.forEach((u,d)=>i.call(s,c(u),c(d),o))}};return vt(n,t?{add:gs("add"),set:gs("set"),delete:gs("delete"),clear:gs("clear")}:{add(i){!e&&!Vt(i)&&!Jn(i)&&(i=Me(i));const s=Me(this);return ps(s).has.call(s,i)||(s.add(i),En(s,"add",i,i)),this},set(i,s){!e&&!Vt(s)&&!Jn(s)&&(s=Me(s));const o=Me(this),{has:a,get:l}=ps(o);let c=a.call(o,i);c||(i=Me(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,s),c?qn(s,u)&&En(o,"set",i,s):En(o,"add",i,s),this},delete(i){const s=Me(this),{has:o,get:a}=ps(s);let l=o.call(s,i);l||(i=Me(i),l=o.call(s,i)),a&&a.call(s,i);const c=s.delete(i);return l&&En(s,"delete",i,void 0),c},clear(){const i=Me(this),s=i.size!==0,o=i.clear();return s&&En(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=l0(i,t,e)}),n}function To(t,e){const n=c0(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(De(n,i)&&i in r?n:r,i,s)}const u0={get:To(!1,!1)},d0={get:To(!1,!0)},h0={get:To(!0,!1)},f0={get:To(!0,!0)},Hd=new WeakMap,Vd=new WeakMap,Wd=new WeakMap,zd=new WeakMap;function p0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function g0(t){return t.__v_skip||!Object.isExtensible(t)?0:p0($p(t))}function Sr(t){return Jn(t)?t:ko(t,!1,i0,u0,Hd)}function jd(t){return ko(t,!1,o0,d0,Vd)}function Jr(t){return ko(t,!0,s0,h0,Wd)}function Or(t){return ko(t,!0,a0,f0,zd)}function ko(t,e,n,r,i){if(!Ge(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=g0(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function Kn(t){return Jn(t)?Kn(t.__v_raw):!!(t&&t.__v_isReactive)}function Jn(t){return!!(t&&t.__v_isReadonly)}function Vt(t){return!!(t&&t.__v_isShallow)}function Tl(t){return t?!!t.__v_raw:!1}function Me(t){const e=t&&t.__v_raw;return e?Me(e):t}function Ro(t){return!De(t,"__v_skip")&&Object.isExtensible(t)&&Cd(t,"__v_skip",!0),t}const ut=t=>Ge(t)?Sr(t):t,Js=t=>Ge(t)?Jr(t):t;function Xe(t){return t?t.__v_isRef===!0:!1}function W(t){return Ud(t,!1)}function si(t){return Ud(t,!0)}function Ud(t,e){return Xe(t)?t:new m0(t,e)}class m0{constructor(e,n){this.dep=new Ao,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Me(e),this._value=n?e:ut(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Vt(e)||Jn(e);e=r?e:Me(e),qn(e,n)&&(this._rawValue=e,this._value=r?e:ut(e),this.dep.trigger())}}function _(t){return Xe(t)?t.value:t}function Yt(t){return Se(t)?t():_(t)}const v0={get:(t,e,n)=>e==="__v_raw"?t:_(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Xe(i)&&!Xe(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Yd(t){return Kn(t)?t:new Proxy(t,v0)}class y0{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ao,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function b0(t){return new y0(t)}function gn(t){const e=xe(t)?new Array(t.length):{};for(const n in t)e[n]=qd(t,n);return e}class w0{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Zp(Me(this._object),this._key)}}class _0{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Xd(t,e,n){return Xe(t)?t:Se(t)?new _0(t):Ge(t)&&arguments.length>1?qd(t,e,n):W(t)}function qd(t,e,n){const r=t[e];return Xe(r)?r:new w0(t,e,n)}class x0{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ao(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ui-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ze!==this)return Od(this,!0),!0}get value(){const e=this.dep.track();return Ld(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function S0(t,e,n=!1){let r,i;return Se(t)?r=t:(r=t.get,i=t.set),new x0(r,i,n)}const ms={},Qs=new WeakMap;let hr;function C0(t,e=!1,n=hr){if(n){let r=Qs.get(n);r||Qs.set(n,r=[]),r.push(t)}}function E0(t,e,n=$e){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,c=w=>i?w:Vt(w)||i===!1||i===0?An(w,1):An(w);let u,d,h,f,p=!1,m=!1;if(Xe(t)?(d=()=>t.value,p=Vt(t)):Kn(t)?(d=()=>c(t),p=!0):xe(t)?(m=!0,p=t.some(w=>Kn(w)||Vt(w)),d=()=>t.map(w=>{if(Xe(w))return w.value;if(Kn(w))return c(w);if(Se(w))return l?l(w,2):w()})):Se(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){Pn();try{h()}finally{Tn()}}const w=hr;hr=u;try{return l?l(t,3,[f]):t(f)}finally{hr=w}}:d=un,e&&i){const w=d,A=i===!0?1/0:i;d=()=>An(w(),A)}const v=ii(),g=()=>{u.stop(),v&&v.active&&Sl(v.effects,u)};if(s&&e){const w=e;e=(...A)=>{w(...A),g()}}let y=m?new Array(t.length).fill(ms):ms;const b=w=>{if(!(!(u.flags&1)||!u.dirty&&!w))if(e){const A=u.run();if(i||p||(m?A.some((T,O)=>qn(T,y[O])):qn(A,y))){h&&h();const T=hr;hr=u;try{const O=[A,y===ms?void 0:m&&y[0]===ms?[]:y,f];y=A,l?l(e,3,O):e(...O)}finally{hr=T}}}else u.run()};return a&&a(b),u=new kd(d),u.scheduler=o?()=>o(b,!1):b,f=w=>C0(w,!1,u),h=u.onStop=()=>{const w=Qs.get(u);if(w){if(l)l(w,4);else for(const A of w)A();Qs.delete(u)}},e?r?b(!0):y=u.run():o?o(b.bind(null,!0),!0):u.run(),g.pause=u.pause.bind(u),g.resume=u.resume.bind(u),g.stop=g,g}function An(t,e=1/0,n){if(e<=0||!Ge(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Xe(t))An(t.value,e,n);else if(xe(t))for(let r=0;r<t.length;r++)An(t[r],e,n);else if(yo(t)||zr(t))t.forEach(r=>{An(r,e,n)});else if(Sd(t)){for(const r in t)An(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&An(t[r],e,n)}return t}function ss(t,e,n,r){try{return r?t(...r):t()}catch(i){Oo(i,e,n)}}function hn(t,e,n,r){if(Se(t)){const i=ss(t,e,n,r);return i&&_d(i)&&i.catch(s=>{Oo(s,e,n)}),i}if(xe(t)){const i=[];for(let s=0;s<t.length;s++)i.push(hn(t[s],e,n,r));return i}}function Oo(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||$e;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(s){Pn(),ss(s,null,10,[t,l,c]),Tn();return}}A0(t,n,i,r,o)}function A0(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const St=[];let an=-1;const jr=[];let zn=null,Gr=0;const Kd=Promise.resolve();let Zs=null;function Be(t){const e=Zs||Kd;return t?e.then(this?t.bind(this):t):e}function P0(t){let e=an+1,n=St.length;for(;e<n;){const r=e+n>>>1,i=St[r],s=Xi(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function kl(t){if(!(t.flags&1)){const e=Xi(t),n=St[St.length-1];!n||!(t.flags&2)&&e>=Xi(n)?St.push(t):St.splice(P0(e),0,t),t.flags|=1,Jd()}}function Jd(){Zs||(Zs=Kd.then(Zd))}function T0(t){xe(t)?jr.push(...t):zn&&t.id===-1?zn.splice(Gr+1,0,t):t.flags&1||(jr.push(t),t.flags|=1),Jd()}function xc(t,e,n=an+1){for(;n<St.length;n++){const r=St[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;St.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Qd(t){if(jr.length){const e=[...new Set(jr)].sort((n,r)=>Xi(n)-Xi(r));if(jr.length=0,zn){zn.push(...e);return}for(zn=e,Gr=0;Gr<zn.length;Gr++){const n=zn[Gr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}zn=null,Gr=0}}const Xi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Zd(t){try{for(an=0;an<St.length;an++){const e=St[an];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ss(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;an<St.length;an++){const e=St[an];e&&(e.flags&=-2)}an=-1,St.length=0,Qd(),Zs=null,(St.length||jr.length)&&Zd()}}let ht=null,eh=null;function eo(t){const e=ht;return ht=t,eh=t&&t.type.__scopeId||null,e}function ne(t,e=ht,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&so(-1);const s=eo(e);let o;try{o=t(...i)}finally{eo(s),r._d&&so(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ht(t,e){if(ht===null)return t;const n=No(ht),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=$e]=e[i];s&&(Se(s)&&(s={mounted:s,updated:s}),s.deep&&An(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function lr(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Pn(),hn(l,n,8,[t.el,a,t,e]),Tn())}}const th=Symbol("_vte"),k0=t=>t.__isTeleport,Li=t=>t&&(t.disabled||t.disabled===""),Sc=t=>t&&(t.defer||t.defer===""),Cc=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ec=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Ba=(t,e)=>{const n=t&&t.to;return qe(n)?e?e(n):null:n},nh={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:v}}=c,g=Li(e.props);let{shapeFlag:y,children:b,dynamicChildren:w}=e;if(t==null){const A=e.el=m(""),T=e.anchor=m("");f(A,n,r),f(T,n,r);const O=(D,F)=>{y&16&&u(b,D,F,i,s,o,a,l)},k=()=>{const D=e.target=Ba(e.props,p),F=rh(D,e,m,f);D&&(o!=="svg"&&Cc(D)?o="svg":o!=="mathml"&&Ec(D)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(D),g||(O(D,F),Ws(e,!1)))};g&&(O(n,T),Ws(e,!0)),Sc(e.props)?(e.el.__isMounted=!1,wt(()=>{k(),delete e.el.__isMounted},s)):k()}else{if(Sc(e.props)&&t.el.__isMounted===!1){wt(()=>{nh.process(t,e,n,r,i,s,o,a,l,c)},s);return}e.el=t.el,e.targetStart=t.targetStart;const A=e.anchor=t.anchor,T=e.target=t.target,O=e.targetAnchor=t.targetAnchor,k=Li(t.props),D=k?n:T,F=k?A:O;if(o==="svg"||Cc(T)?o="svg":(o==="mathml"||Ec(T))&&(o="mathml"),w?(h(t.dynamicChildren,w,D,i,s,o,a),Il(t,e,!0)):l||d(t,e,D,F,i,s,o,a,!1),g)k?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):vs(e,n,A,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const oe=e.target=Ba(e.props,p);oe&&vs(e,oe,null,c,0)}else k&&vs(e,T,O,c,1);Ws(e,g)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:h}=t;if(d&&(i(c),i(u)),s&&i(l),o&16){const f=s||!Li(h);for(let p=0;p<a.length;p++){const m=a[p];r(m,e,n,f,!!m.dynamicChildren)}}},move:vs,hydrate:R0};function vs(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=s===2;if(d&&r(o,e,n),(!d||Li(u))&&l&16)for(let h=0;h<c.length;h++)i(c[h],e,n,2);d&&r(a,e,n)}function R0(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){function h(m,v,g,y){v.anchor=d(o(m),v,a(m),n,r,i,s),v.targetStart=g,v.targetAnchor=y}const f=e.target=Ba(e.props,l),p=Li(e.props);if(f){const m=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)h(t,e,m,m&&o(m));else{e.anchor=o(t);let v=m;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")e.targetStart=v;else if(v.data==="teleport anchor"){e.targetAnchor=v,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}v=o(v)}e.targetAnchor||rh(f,e,u,c),d(m&&o(m),e,f,n,r,i,s)}Ws(e,p)}else p&&e.shapeFlag&16&&h(t,e,t,o(t));return e.anchor&&o(e.anchor)}const O0=nh;function Ws(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function rh(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[th]=s,t&&(r(i,t),r(s,t)),s}const M0=Symbol("_leaveCb");function Rl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Rl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function re(t,e){return Se(t)?vt({name:t.name},e,{setup:t}):t}function Ac(){const t=At();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function ih(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const to=new WeakMap;function Di(t,e,n,r,i=!1){if(xe(t)){t.forEach((p,m)=>Di(p,e&&(xe(e)?e[m]:e),n,r,i));return}if(Ur(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Di(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?No(r.component):r.el,o=i?null:s,{i:a,r:l}=t,c=e&&e.r,u=a.refs===$e?a.refs={}:a.refs,d=a.setupState,h=Me(d),f=d===$e?wd:p=>De(h,p);if(c!=null&&c!==l){if(Pc(e),qe(c))u[c]=null,f(c)&&(d[c]=null);else if(Xe(c)){c.value=null;const p=e;p.k&&(u[p.k]=null)}}if(Se(l))ss(l,a,12,[o,u]);else{const p=qe(l),m=Xe(l);if(p||m){const v=()=>{if(t.f){const g=p?f(l)?d[l]:u[l]:l.value;if(i)xe(g)&&Sl(g,s);else if(xe(g))g.includes(s)||g.push(s);else if(p)u[l]=[s],f(l)&&(d[l]=u[l]);else{const y=[s];l.value=y,t.k&&(u[t.k]=y)}}else p?(u[l]=o,f(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const g=()=>{v(),to.delete(t)};g.id=-1,to.set(t,g),wt(g,n)}else Pc(t),v()}}}function Pc(t){const e=to.get(t);e&&(e.flags|=8,to.delete(t))}xo().requestIdleCallback;xo().cancelIdleCallback;const Ur=t=>!!t.type.__asyncLoader,sh=t=>t.type.__isKeepAlive;function I0(t,e){oh(t,"a",e)}function L0(t,e){oh(t,"da",e)}function oh(t,e,n=mt){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Mo(e,r,n),n){let i=n.parent;for(;i&&i.parent;)sh(i.parent.vnode)&&D0(r,e,n,i),i=i.parent}}function D0(t,e,n,r){const i=Mo(e,t,r,!0);Wt(()=>{Sl(r[e],i)},n)}function Mo(t,e,n=mt,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Pn();const a=as(n),l=hn(e,n,t,o);return a(),Tn(),l});return r?i.unshift(s):i.push(s),s}}const Mn=t=>(e,n=mt)=>{(!Ji||t==="sp")&&Mo(t,(...r)=>e(...r),n)},N0=Mn("bm"),Ke=Mn("m"),F0=Mn("bu"),B0=Mn("u"),ah=Mn("bum"),Wt=Mn("um"),G0=Mn("sp"),$0=Mn("rtg"),H0=Mn("rtc");function V0(t,e=mt){Mo("ec",t,e)}const lh="components";function no(t,e){return uh(lh,t,!0,e)||t}const ch=Symbol.for("v-ndc");function ro(t){return qe(t)?uh(lh,t,!1)||t:t||ch}function uh(t,e,n=!0,r=!1){const i=ht||mt;if(i){const s=i.type;{const a=Mg(s,!1);if(a&&(a===e||a===Rt(e)||a===wo(Rt(e))))return s}const o=Tc(i[t]||s[t],e)||Tc(i.appContext[t],e);return!o&&r?s:o}}function Tc(t,e){return t&&(t[e]||t[Rt(e)]||t[wo(Rt(e))])}function kn(t,e,n,r){let i;const s=n,o=xe(t);if(o||qe(t)){const a=o&&Kn(t);let l=!1,c=!1;a&&(l=!Vt(t),c=Jn(t),t=Po(t)),i=new Array(t.length);for(let u=0,d=t.length;u<d;u++)i[u]=e(l?c?Js(ut(t[u])):ut(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(Ge(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,s)}}else i=[];return i}function we(t,e,n={},r,i){if(ht.ce||ht.parent&&Ur(ht.parent)&&ht.parent.ce){const c=Object.keys(n).length>0;return e!=="default"&&(n.name=e),L(),fe(Ue,null,[J("slot",n,r&&r())],c?-2:64)}let s=t[e];s&&s._c&&(s._d=!1),L();const o=s&&dh(s(n)),a=n.key||o&&o.key,l=fe(Ue,{key:(a&&!Xt(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function dh(t){return t.some(e=>Ki(e)?!(e.type===qt||e.type===Ue&&!dh(e.children)):!0)?t:null}const Ga=t=>t?kh(t)?No(t):Ga(t.parent):null,Ni=vt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ga(t.parent),$root:t=>Ga(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>fh(t),$forceUpdate:t=>t.f||(t.f=()=>{kl(t.update)}),$nextTick:t=>t.n||(t.n=Be.bind(t.proxy)),$watch:t=>fg.bind(t)}),sa=(t,e)=>t!==$e&&!t.__isScriptSetup&&De(t,e),W0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(sa(r,e))return o[e]=1,r[e];if(i!==$e&&De(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&De(c,e))return o[e]=3,s[e];if(n!==$e&&De(n,e))return o[e]=4,n[e];Ha&&(o[e]=0)}}const u=Ni[e];let d,h;if(u)return e==="$attrs"&&gt(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==$e&&De(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,De(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return sa(i,e)?(i[e]=n,!0):r!==$e&&De(r,e)?(r[e]=n,!0):De(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s,type:o}},a){let l,c;return!!(n[a]||t!==$e&&a[0]!=="$"&&De(t,a)||sa(e,a)||(l=s[0])&&De(l,a)||De(r,a)||De(Ni,a)||De(i.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:De(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function $a(t){return xe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function z0(t,e){const n=$a(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?xe(i)||Se(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}let Ha=!0;function j0(t){const e=fh(t),n=t.proxy,r=t.ctx;Ha=!1,e.beforeCreate&&kc(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:v,beforeDestroy:g,beforeUnmount:y,destroyed:b,unmounted:w,render:A,renderTracked:T,renderTriggered:O,errorCaptured:k,serverPrefetch:D,expose:F,inheritAttrs:oe,components:q,directives:he,filters:$}=e;if(c&&U0(c,r,null),o)for(const I in o){const C=o[I];Se(C)&&(r[I]=C.bind(n))}if(i){const I=i.call(n,n);Ge(I)&&(t.data=Sr(I))}if(Ha=!0,s)for(const I in s){const C=s[I],B=Se(C)?C.bind(n,n):Se(C.get)?C.get.bind(n,n):un,ie=!Se(C)&&Se(C.set)?C.set.bind(n):un,ae=z({get:B,set:ie});Object.defineProperty(r,I,{enumerable:!0,configurable:!0,get:()=>ae.value,set:ye=>ae.value=ye})}if(a)for(const I in a)hh(a[I],r,n,I);if(l){const I=Se(l)?l.call(n):l;Reflect.ownKeys(I).forEach(C=>{Yr(C,I[C])})}u&&kc(u,t,"c");function P(I,C){xe(C)?C.forEach(B=>I(B.bind(n))):C&&I(C.bind(n))}if(P(N0,d),P(Ke,h),P(F0,f),P(B0,p),P(I0,m),P(L0,v),P(V0,k),P(H0,T),P($0,O),P(ah,y),P(Wt,w),P(G0,D),xe(F))if(F.length){const I=t.exposed||(t.exposed={});F.forEach(C=>{Object.defineProperty(I,C,{get:()=>n[C],set:B=>n[C]=B,enumerable:!0})})}else t.exposed||(t.exposed={});A&&t.render===un&&(t.render=A),oe!=null&&(t.inheritAttrs=oe),q&&(t.components=q),he&&(t.directives=he),D&&ih(t)}function U0(t,e,n=un){xe(t)&&(t=Va(t));for(const r in t){const i=t[r];let s;Ge(i)?"default"in i?s=kt(i.from||r,i.default,!0):s=kt(i.from||r):s=kt(i),Xe(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function kc(t,e,n){hn(xe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function hh(t,e,n,r){let i=r.includes(".")?Ch(n,r):()=>n[r];if(qe(t)){const s=e[t];Se(s)&&Ee(i,s)}else if(Se(t))Ee(i,t.bind(n));else if(Ge(t))if(xe(t))t.forEach(s=>hh(s,e,n,r));else{const s=Se(t.handler)?t.handler.bind(n):e[t.handler];Se(s)&&Ee(i,s,t)}}function fh(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>io(l,c,o,!0)),io(l,e,o)),Ge(e)&&s.set(e,l),l}function io(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&io(t,s,n,!0),i&&i.forEach(o=>io(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Y0[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Y0={data:Rc,props:Oc,emits:Oc,methods:Ci,computed:Ci,beforeCreate:bt,created:bt,beforeMount:bt,mounted:bt,beforeUpdate:bt,updated:bt,beforeDestroy:bt,beforeUnmount:bt,destroyed:bt,unmounted:bt,activated:bt,deactivated:bt,errorCaptured:bt,serverPrefetch:bt,components:Ci,directives:Ci,watch:q0,provide:Rc,inject:X0};function Rc(t,e){return e?t?function(){return vt(Se(t)?t.call(this,this):t,Se(e)?e.call(this,this):e)}:e:t}function X0(t,e){return Ci(Va(t),Va(e))}function Va(t){if(xe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function bt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ci(t,e){return t?vt(Object.create(null),t,e):e}function Oc(t,e){return t?xe(t)&&xe(e)?[...new Set([...t,...e])]:vt(Object.create(null),$a(t),$a(e??{})):e}function q0(t,e){if(!t)return e;if(!e)return t;const n=vt(Object.create(null),t);for(const r in e)n[r]=bt(t[r],e[r]);return n}function ph(){return{app:null,config:{isNativeTag:wd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let K0=0;function J0(t,e){return function(r,i=null){Se(r)||(r=vt({},r)),i!=null&&!Ge(i)&&(i=null);const s=ph(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:K0++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Lg,get config(){return s.config},set config(u){},use(u,...d){return o.has(u)||(u&&Se(u.install)?(o.add(u),u.install(c,...d)):Se(u)&&(o.add(u),u(c,...d))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,d){return d?(s.components[u]=d,c):s.components[u]},directive(u,d){return d?(s.directives[u]=d,c):s.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||J(r,i);return f.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,No(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(hn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return s.provides[u]=d,c},runWithContext(u){const d=wr;wr=c;try{return u()}finally{wr=d}}};return c}}let wr=null;function Yr(t,e){if(mt){let n=mt.provides;const r=mt.parent&&mt.parent.provides;r===n&&(n=mt.provides=Object.create(r)),n[t]=e}}function kt(t,e,n=!1){const r=At();if(r||wr){let i=wr?wr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Se(e)?e.call(r&&r.proxy):e}}function Q0(){return!!(At()||wr)}const gh={},mh=()=>Object.create(gh),vh=t=>Object.getPrototypeOf(t)===gh;function Z0(t,e,n,r=!1){const i={},s=mh();t.propsDefaults=Object.create(null),yh(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:jd(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function eg(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Me(i),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Io(t.emitsOptions,h))continue;const f=e[h];if(l)if(De(s,h))f!==s[h]&&(s[h]=f,c=!0);else{const p=Rt(h);i[p]=Wa(l,a,p,f,t,!1)}else f!==s[h]&&(s[h]=f,c=!0)}}}else{yh(t,e,i,s)&&(c=!0);let u;for(const d in a)(!e||!De(e,d)&&((u=tr(d))===d||!De(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Wa(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!De(e,d))&&(delete s[d],c=!0)}c&&En(t.attrs,"set","")}function yh(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Oi(l))continue;const c=e[l];let u;i&&De(i,u=Rt(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:Io(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=Me(n),c=a||$e;for(let u=0;u<s.length;u++){const d=s[u];n[d]=Wa(i,l,d,c[d],t,!De(c,d))}}return o}function Wa(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=De(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Se(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=as(i);r=c[n]=l.call(null,e),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===tr(n))&&(r=!0))}return r}const tg=new WeakMap;function bh(t,e,n=!1){const r=n?tg:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Se(t)){const u=d=>{l=!0;const[h,f]=bh(d,e,!0);vt(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return Ge(t)&&r.set(t,Wr),Wr;if(xe(s))for(let u=0;u<s.length;u++){const d=Rt(s[u]);Mc(d)&&(o[d]=$e)}else if(s)for(const u in s){const d=Rt(u);if(Mc(d)){const h=s[u],f=o[d]=xe(h)||Se(h)?{type:h}:vt({},h),p=f.type;let m=!1,v=!0;if(xe(p))for(let g=0;g<p.length;++g){const y=p[g],b=Se(y)&&y.name;if(b==="Boolean"){m=!0;break}else b==="String"&&(v=!1)}else m=Se(p)&&p.name==="Boolean";f[0]=m,f[1]=v,(m||De(f,"default"))&&a.push(d)}}const c=[o,a];return Ge(t)&&r.set(t,c),c}function Mc(t){return t[0]!=="$"&&!Oi(t)}const Ol=t=>t==="_"||t==="_ctx"||t==="$stable",Ml=t=>xe(t)?t.map(ln):[ln(t)],ng=(t,e,n)=>{if(e._n)return e;const r=ne((...i)=>Ml(e(...i)),n);return r._c=!1,r},wh=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Ol(i))continue;const s=t[i];if(Se(s))e[i]=ng(i,s,r);else if(s!=null){const o=Ml(s);e[i]=()=>o}}},_h=(t,e)=>{const n=Ml(e);t.slots.default=()=>n},xh=(t,e,n)=>{for(const r in e)(n||!Ol(r))&&(t[r]=e[r])},rg=(t,e,n)=>{const r=t.slots=mh();if(t.vnode.shapeFlag&32){const i=e._;i?(xh(r,e,n),n&&Cd(r,"_",i,!0)):wh(e,r)}else e&&_h(t,e)},ig=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=$e;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:xh(i,e,n):(s=!e.$stable,wh(e,i)),o=e}else e&&(_h(t,e),o={default:1});if(s)for(const a in i)!Ol(a)&&o[a]==null&&delete i[a]},wt=_g;function sg(t){return og(t)}function og(t,e){const n=xo();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=un,insertStaticContent:p}=t,m=(x,E,M,V=null,j=null,H=null,ce=void 0,se=null,te=!!E.dynamicChildren)=>{if(x===E)return;x&&!pi(x,E)&&(V=N(x),ye(x,j,H,!0),x=null),E.patchFlag===-2&&(te=!1,E.dynamicChildren=null);const{type:X,ref:_e,shapeFlag:de}=E;switch(X){case Lo:v(x,E,M,V);break;case qt:g(x,E,M,V);break;case zs:x==null&&y(E,M,V,ce);break;case Ue:q(x,E,M,V,j,H,ce,se,te);break;default:de&1?A(x,E,M,V,j,H,ce,se,te):de&6?he(x,E,M,V,j,H,ce,se,te):(de&64||de&128)&&X.process(x,E,M,V,j,H,ce,se,te,ve)}_e!=null&&j?Di(_e,x&&x.ref,H,E||x,!E):_e==null&&x&&x.ref!=null&&Di(x.ref,null,H,x,!0)},v=(x,E,M,V)=>{if(x==null)r(E.el=a(E.children),M,V);else{const j=E.el=x.el;E.children!==x.children&&c(j,E.children)}},g=(x,E,M,V)=>{x==null?r(E.el=l(E.children||""),M,V):E.el=x.el},y=(x,E,M,V)=>{[x.el,x.anchor]=p(x.children,E,M,V,x.el,x.anchor)},b=({el:x,anchor:E},M,V)=>{let j;for(;x&&x!==E;)j=h(x),r(x,M,V),x=j;r(E,M,V)},w=({el:x,anchor:E})=>{let M;for(;x&&x!==E;)M=h(x),i(x),x=M;i(E)},A=(x,E,M,V,j,H,ce,se,te)=>{if(E.type==="svg"?ce="svg":E.type==="math"&&(ce="mathml"),x==null)T(E,M,V,j,H,ce,se,te);else{const X=x.el&&x.el._isVueCE?x.el:null;try{X&&X._beginPatch(),D(x,E,j,H,ce,se,te)}finally{X&&X._endPatch()}}},T=(x,E,M,V,j,H,ce,se)=>{let te,X;const{props:_e,shapeFlag:de,transition:be,dirs:Ce}=x;if(te=x.el=o(x.type,H,_e&&_e.is,_e),de&8?u(te,x.children):de&16&&k(x.children,te,null,V,j,oa(x,H),ce,se),Ce&&lr(x,null,V,"created"),O(te,x,x.scopeId,ce,V),_e){for(const Ve in _e)Ve!=="value"&&!Oi(Ve)&&s(te,Ve,null,_e[Ve],H,V);"value"in _e&&s(te,"value",null,_e.value,H),(X=_e.onVnodeBeforeMount)&&on(X,V,x)}Ce&&lr(x,null,V,"beforeMount");const Oe=ag(j,be);Oe&&be.beforeEnter(te),r(te,E,M),((X=_e&&_e.onVnodeMounted)||Oe||Ce)&&wt(()=>{X&&on(X,V,x),Oe&&be.enter(te),Ce&&lr(x,null,V,"mounted")},j)},O=(x,E,M,V,j)=>{if(M&&f(x,M),V)for(let H=0;H<V.length;H++)f(x,V[H]);if(j){let H=j.subTree;if(E===H||Ah(H.type)&&(H.ssContent===E||H.ssFallback===E)){const ce=j.vnode;O(x,ce,ce.scopeId,ce.slotScopeIds,j.parent)}}},k=(x,E,M,V,j,H,ce,se,te=0)=>{for(let X=te;X<x.length;X++){const _e=x[X]=se?jn(x[X]):ln(x[X]);m(null,_e,E,M,V,j,H,ce,se)}},D=(x,E,M,V,j,H,ce)=>{const se=E.el=x.el;let{patchFlag:te,dynamicChildren:X,dirs:_e}=E;te|=x.patchFlag&16;const de=x.props||$e,be=E.props||$e;let Ce;if(M&&cr(M,!1),(Ce=be.onVnodeBeforeUpdate)&&on(Ce,M,E,x),_e&&lr(E,x,M,"beforeUpdate"),M&&cr(M,!0),(de.innerHTML&&be.innerHTML==null||de.textContent&&be.textContent==null)&&u(se,""),X?F(x.dynamicChildren,X,se,M,V,oa(E,j),H):ce||C(x,E,se,null,M,V,oa(E,j),H,!1),te>0){if(te&16)oe(se,de,be,M,j);else if(te&2&&de.class!==be.class&&s(se,"class",null,be.class,j),te&4&&s(se,"style",de.style,be.style,j),te&8){const Oe=E.dynamicProps;for(let Ve=0;Ve<Oe.length;Ve++){const Ne=Oe[Ve],Pt=de[Ne],Tt=be[Ne];(Tt!==Pt||Ne==="value")&&s(se,Ne,Pt,Tt,j,M)}}te&1&&x.children!==E.children&&u(se,E.children)}else!ce&&X==null&&oe(se,de,be,M,j);((Ce=be.onVnodeUpdated)||_e)&&wt(()=>{Ce&&on(Ce,M,E,x),_e&&lr(E,x,M,"updated")},V)},F=(x,E,M,V,j,H,ce)=>{for(let se=0;se<E.length;se++){const te=x[se],X=E[se],_e=te.el&&(te.type===Ue||!pi(te,X)||te.shapeFlag&198)?d(te.el):M;m(te,X,_e,null,V,j,H,ce,!0)}},oe=(x,E,M,V,j)=>{if(E!==M){if(E!==$e)for(const H in E)!Oi(H)&&!(H in M)&&s(x,H,E[H],null,j,V);for(const H in M){if(Oi(H))continue;const ce=M[H],se=E[H];ce!==se&&H!=="value"&&s(x,H,se,ce,j,V)}"value"in M&&s(x,"value",E.value,M.value,j)}},q=(x,E,M,V,j,H,ce,se,te)=>{const X=E.el=x?x.el:a(""),_e=E.anchor=x?x.anchor:a("");let{patchFlag:de,dynamicChildren:be,slotScopeIds:Ce}=E;Ce&&(se=se?se.concat(Ce):Ce),x==null?(r(X,M,V),r(_e,M,V),k(E.children||[],M,_e,j,H,ce,se,te)):de>0&&de&64&&be&&x.dynamicChildren?(F(x.dynamicChildren,be,M,j,H,ce,se),(E.key!=null||j&&E===j.subTree)&&Il(x,E,!0)):C(x,E,M,_e,j,H,ce,se,te)},he=(x,E,M,V,j,H,ce,se,te)=>{E.slotScopeIds=se,x==null?E.shapeFlag&512?j.ctx.activate(E,M,V,ce,te):$(E,M,V,j,H,ce,te):U(x,E,te)},$=(x,E,M,V,j,H,ce)=>{const se=x.component=Pg(x,V,j);if(sh(x)&&(se.ctx.renderer=ve),Tg(se,!1,ce),se.asyncDep){if(j&&j.registerDep(se,P,ce),!x.el){const te=se.subTree=J(qt);g(null,te,E,M),x.placeholder=te.el}}else P(se,x,E,M,j,H,ce)},U=(x,E,M)=>{const V=E.component=x.component;if(bg(x,E,M))if(V.asyncDep&&!V.asyncResolved){I(V,E,M);return}else V.next=E,V.update();else E.el=x.el,V.vnode=E},P=(x,E,M,V,j,H,ce)=>{const se=()=>{if(x.isMounted){let{next:de,bu:be,u:Ce,parent:Oe,vnode:Ve}=x;{const rn=Sh(x);if(rn){de&&(de.el=Ve.el,I(x,de,ce)),rn.asyncDep.then(()=>{x.isUnmounted||se()});return}}let Ne=de,Pt;cr(x,!1),de?(de.el=Ve.el,I(x,de,ce)):de=Ve,be&&Vs(be),(Pt=de.props&&de.props.onVnodeBeforeUpdate)&&on(Pt,Oe,de,Ve),cr(x,!0);const Tt=Lc(x),nn=x.subTree;x.subTree=Tt,m(nn,Tt,d(nn.el),N(nn),x,j,H),de.el=Tt.el,Ne===null&&wg(x,Tt.el),Ce&&wt(Ce,j),(Pt=de.props&&de.props.onVnodeUpdated)&&wt(()=>on(Pt,Oe,de,Ve),j)}else{let de;const{el:be,props:Ce}=E,{bm:Oe,m:Ve,parent:Ne,root:Pt,type:Tt}=x,nn=Ur(E);cr(x,!1),Oe&&Vs(Oe),!nn&&(de=Ce&&Ce.onVnodeBeforeMount)&&on(de,Ne,E),cr(x,!0);{Pt.ce&&Pt.ce._def.shadowRoot!==!1&&Pt.ce._injectChildStyle(Tt);const rn=x.subTree=Lc(x);m(null,rn,M,V,x,j,H),E.el=rn.el}if(Ve&&wt(Ve,j),!nn&&(de=Ce&&Ce.onVnodeMounted)){const rn=E;wt(()=>on(de,Ne,rn),j)}(E.shapeFlag&256||Ne&&Ur(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&x.a&&wt(x.a,j),x.isMounted=!0,E=M=V=null}};x.scope.on();const te=x.effect=new kd(se);x.scope.off();const X=x.update=te.run.bind(te),_e=x.job=te.runIfDirty.bind(te);_e.i=x,_e.id=x.uid,te.scheduler=()=>kl(_e),cr(x,!0),X()},I=(x,E,M)=>{E.component=x;const V=x.vnode.props;x.vnode=E,x.next=null,eg(x,E.props,V,M),ig(x,E.children,M),Pn(),xc(x),Tn()},C=(x,E,M,V,j,H,ce,se,te=!1)=>{const X=x&&x.children,_e=x?x.shapeFlag:0,de=E.children,{patchFlag:be,shapeFlag:Ce}=E;if(be>0){if(be&128){ie(X,de,M,V,j,H,ce,se,te);return}else if(be&256){B(X,de,M,V,j,H,ce,se,te);return}}Ce&8?(_e&16&&Qe(X,j,H),de!==X&&u(M,de)):_e&16?Ce&16?ie(X,de,M,V,j,H,ce,se,te):Qe(X,j,H,!0):(_e&8&&u(M,""),Ce&16&&k(de,M,V,j,H,ce,se,te))},B=(x,E,M,V,j,H,ce,se,te)=>{x=x||Wr,E=E||Wr;const X=x.length,_e=E.length,de=Math.min(X,_e);let be;for(be=0;be<de;be++){const Ce=E[be]=te?jn(E[be]):ln(E[be]);m(x[be],Ce,M,null,j,H,ce,se,te)}X>_e?Qe(x,j,H,!0,!1,de):k(E,M,V,j,H,ce,se,te,de)},ie=(x,E,M,V,j,H,ce,se,te)=>{let X=0;const _e=E.length;let de=x.length-1,be=_e-1;for(;X<=de&&X<=be;){const Ce=x[X],Oe=E[X]=te?jn(E[X]):ln(E[X]);if(pi(Ce,Oe))m(Ce,Oe,M,null,j,H,ce,se,te);else break;X++}for(;X<=de&&X<=be;){const Ce=x[de],Oe=E[be]=te?jn(E[be]):ln(E[be]);if(pi(Ce,Oe))m(Ce,Oe,M,null,j,H,ce,se,te);else break;de--,be--}if(X>de){if(X<=be){const Ce=be+1,Oe=Ce<_e?E[Ce].el:V;for(;X<=be;)m(null,E[X]=te?jn(E[X]):ln(E[X]),M,Oe,j,H,ce,se,te),X++}}else if(X>be)for(;X<=de;)ye(x[X],j,H,!0),X++;else{const Ce=X,Oe=X,Ve=new Map;for(X=Oe;X<=be;X++){const Ot=E[X]=te?jn(E[X]):ln(E[X]);Ot.key!=null&&Ve.set(Ot.key,X)}let Ne,Pt=0;const Tt=be-Oe+1;let nn=!1,rn=0;const hi=new Array(Tt);for(X=0;X<Tt;X++)hi[X]=0;for(X=Ce;X<=de;X++){const Ot=x[X];if(Pt>=Tt){ye(Ot,j,H,!0);continue}let sn;if(Ot.key!=null)sn=Ve.get(Ot.key);else for(Ne=Oe;Ne<=be;Ne++)if(hi[Ne-Oe]===0&&pi(Ot,E[Ne])){sn=Ne;break}sn===void 0?ye(Ot,j,H,!0):(hi[sn-Oe]=X+1,sn>=rn?rn=sn:nn=!0,m(Ot,E[sn],M,null,j,H,ce,se,te),Pt++)}const gc=nn?lg(hi):Wr;for(Ne=gc.length-1,X=Tt-1;X>=0;X--){const Ot=Oe+X,sn=E[Ot],mc=E[Ot+1],vc=Ot+1<_e?mc.el||mc.placeholder:V;hi[X]===0?m(null,sn,M,vc,j,H,ce,se,te):nn&&(Ne<0||X!==gc[Ne]?ae(sn,M,vc,2):Ne--)}}},ae=(x,E,M,V,j=null)=>{const{el:H,type:ce,transition:se,children:te,shapeFlag:X}=x;if(X&6){ae(x.component.subTree,E,M,V);return}if(X&128){x.suspense.move(E,M,V);return}if(X&64){ce.move(x,E,M,ve);return}if(ce===Ue){r(H,E,M);for(let de=0;de<te.length;de++)ae(te[de],E,M,V);r(x.anchor,E,M);return}if(ce===zs){b(x,E,M);return}if(V!==2&&X&1&&se)if(V===0)se.beforeEnter(H),r(H,E,M),wt(()=>se.enter(H),j);else{const{leave:de,delayLeave:be,afterLeave:Ce}=se,Oe=()=>{x.ctx.isUnmounted?i(H):r(H,E,M)},Ve=()=>{H._isLeaving&&H[M0](!0),de(H,()=>{Oe(),Ce&&Ce()})};be?be(H,Oe,Ve):Ve()}else r(H,E,M)},ye=(x,E,M,V=!1,j=!1)=>{const{type:H,props:ce,ref:se,children:te,dynamicChildren:X,shapeFlag:_e,patchFlag:de,dirs:be,cacheIndex:Ce}=x;if(de===-2&&(j=!1),se!=null&&(Pn(),Di(se,null,M,x,!0),Tn()),Ce!=null&&(E.renderCache[Ce]=void 0),_e&256){E.ctx.deactivate(x);return}const Oe=_e&1&&be,Ve=!Ur(x);let Ne;if(Ve&&(Ne=ce&&ce.onVnodeBeforeUnmount)&&on(Ne,E,x),_e&6)nt(x.component,M,V);else{if(_e&128){x.suspense.unmount(M,V);return}Oe&&lr(x,null,E,"beforeUnmount"),_e&64?x.type.remove(x,E,M,ve,V):X&&!X.hasOnce&&(H!==Ue||de>0&&de&64)?Qe(X,E,M,!1,!0):(H===Ue&&de&384||!j&&_e&16)&&Qe(te,E,M),V&&me(x)}(Ve&&(Ne=ce&&ce.onVnodeUnmounted)||Oe)&&wt(()=>{Ne&&on(Ne,E,x),Oe&&lr(x,null,E,"unmounted")},M)},me=x=>{const{type:E,el:M,anchor:V,transition:j}=x;if(E===Ue){Te(M,V);return}if(E===zs){w(x);return}const H=()=>{i(M),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(x.shapeFlag&1&&j&&!j.persisted){const{leave:ce,delayLeave:se}=j,te=()=>ce(M,H);se?se(x.el,H,te):te()}else H()},Te=(x,E)=>{let M;for(;x!==E;)M=h(x),i(x),x=M;i(E)},nt=(x,E,M)=>{const{bum:V,scope:j,job:H,subTree:ce,um:se,m:te,a:X}=x;Ic(te),Ic(X),V&&Vs(V),j.stop(),H&&(H.flags|=8,ye(ce,x,E,M)),se&&wt(se,E),wt(()=>{x.isUnmounted=!0},E)},Qe=(x,E,M,V=!1,j=!1,H=0)=>{for(let ce=H;ce<x.length;ce++)ye(x[ce],E,M,V,j)},N=x=>{if(x.shapeFlag&6)return N(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const E=h(x.anchor||x.el),M=E&&E[th];return M?h(M):E};let ue=!1;const ee=(x,E,M)=>{x==null?E._vnode&&ye(E._vnode,null,null,!0):m(E._vnode||null,x,E,null,null,null,M),E._vnode=x,ue||(ue=!0,xc(),Qd(),ue=!1)},ve={p:m,um:ye,m:ae,r:me,mt:$,mc:k,pc:C,pbc:F,n:N,o:t};return{render:ee,hydrate:void 0,createApp:J0(ee)}}function oa({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function cr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ag(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Il(t,e,n=!1){const r=t.children,i=e.children;if(xe(r)&&xe(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=jn(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Il(o,a)),a.type===Lo&&a.patchFlag!==-1&&(a.el=o.el),a.type===qt&&!a.el&&(a.el=o.el)}}function lg(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Sh(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Sh(e)}function Ic(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const cg=Symbol.for("v-scx"),ug=()=>kt(cg);function Bt(t,e){return os(t,null,e)}function dg(t,e){return os(t,null,{flush:"post"})}function hg(t,e){return os(t,null,{flush:"sync"})}function Ee(t,e,n){return os(t,e,n)}function os(t,e,n=$e){const{immediate:r,deep:i,flush:s,once:o}=n,a=vt({},n),l=e&&r||!e&&s!=="post";let c;if(Ji){if(s==="sync"){const f=ug();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=un,f.resume=un,f.pause=un,f}}const u=mt;a.call=(f,p,m)=>hn(f,u,p,m);let d=!1;s==="post"?a.scheduler=f=>{wt(f,u&&u.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(f,p)=>{p?f():kl(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=E0(t,e,a);return Ji&&(c?c.push(h):l&&h()),h}function fg(t,e,n){const r=this.proxy,i=qe(t)?t.includes(".")?Ch(r,t):()=>r[t]:t.bind(r,r);let s;Se(e)?s=e:(s=e.handler,n=e);const o=as(this),a=os(i,s.bind(r),n);return o(),a}function Ch(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const pg=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Rt(e)}Modifiers`]||t[`${tr(e)}Modifiers`];function gg(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||$e;let i=n;const s=e.startsWith("update:"),o=s&&pg(r,e.slice(7));o&&(o.trim&&(i=n.map(u=>qe(u)?u.trim():u)),o.number&&(i=n.map(_o)));let a,l=r[a=Hs(e)]||r[a=Hs(Rt(e))];!l&&s&&(l=r[a=Hs(tr(e))]),l&&hn(l,t,6,i);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,hn(c,t,6,i)}}const mg=new WeakMap;function Eh(t,e,n=!1){const r=n?mg:e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Se(t)){const l=c=>{const u=Eh(c,e,!0);u&&(a=!0,vt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Ge(t)&&r.set(t,null),null):(xe(s)?s.forEach(l=>o[l]=null):vt(o,s),Ge(t)&&r.set(t,o),o)}function Io(t,e){return!t||!vo(e)?!1:(e=e.slice(2).replace(/Once$/,""),De(t,e[0].toLowerCase()+e.slice(1))||De(t,tr(e))||De(t,e))}function Lc(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=t,v=eo(t);let g,y;try{if(n.shapeFlag&4){const w=i||r,A=w;g=ln(c.call(A,w,u,d,f,h,p)),y=a}else{const w=e;g=ln(w.length>1?w(d,{attrs:a,slots:o,emit:l}):w(d,null)),y=e.props?a:vg(a)}}catch(w){Fi.length=0,Oo(w,t,1),g=J(qt)}let b=g;if(y&&m!==!1){const w=Object.keys(y),{shapeFlag:A}=b;w.length&&A&7&&(s&&w.some(xl)&&(y=yg(y,s)),b=Qn(b,y,!1,!0))}return n.dirs&&(b=Qn(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Rl(b,n.transition),g=b,eo(v),g}const vg=t=>{let e;for(const n in t)(n==="class"||n==="style"||vo(n))&&((e||(e={}))[n]=t[n]);return e},yg=(t,e)=>{const n={};for(const r in t)(!xl(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function bg(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Dc(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==r[h]&&!Io(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Dc(r,o,c):!0:!!o;return!1}function Dc(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Io(n,s))return!0}return!1}function wg({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ah=t=>t.__isSuspense;function _g(t,e){e&&e.pendingBranch?xe(t)?e.effects.push(...t):e.effects.push(t):T0(t)}const Ue=Symbol.for("v-fgt"),Lo=Symbol.for("v-txt"),qt=Symbol.for("v-cmt"),zs=Symbol.for("v-stc"),Fi=[];let Dt=null;function L(t=!1){Fi.push(Dt=t?null:[])}function xg(){Fi.pop(),Dt=Fi[Fi.length-1]||null}let qi=1;function so(t,e=!1){qi+=t,t<0&&Dt&&e&&(Dt.hasOnce=!0)}function Ph(t){return t.dynamicChildren=qi>0?Dt||Wr:null,xg(),qi>0&&Dt&&Dt.push(t),t}function le(t,e,n,r,i,s){return Ph(G(t,e,n,r,i,s,!0))}function fe(t,e,n,r,i){return Ph(J(t,e,n,r,i,!0))}function Ki(t){return t?t.__v_isVNode===!0:!1}function pi(t,e){return t.type===e.type&&t.key===e.key}const Th=({key:t})=>t??null,js=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?qe(t)||Xe(t)||Se(t)?{i:ht,r:t,k:e,f:!!n}:t:null);function G(t,e=null,n=null,r=0,i=null,s=t===Ue?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Th(e),ref:e&&js(e),scopeId:eh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ht};return a?(Ll(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=qe(n)?8:16),qi>0&&!o&&Dt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Dt.push(l),l}const J=Sg;function Sg(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===ch)&&(t=qt),Ki(t)){const a=Qn(t,e,!0);return n&&Ll(a,n),qi>0&&!s&&Dt&&(a.shapeFlag&6?Dt[Dt.indexOf(t)]=a:Dt.push(a)),a.patchFlag=-2,a}if(Ig(t)&&(t=t.__vccOpts),e){e=Do(e);let{class:a,style:l}=e;a&&!qe(a)&&(e.class=Et(a)),Ge(l)&&(Tl(l)&&!xe(l)&&(l=vt({},l)),e.style=Zt(l))}const o=qe(t)?1:Ah(t)?128:k0(t)?64:Ge(t)?4:Se(t)?2:0;return G(t,e,n,r,i,o,s,!0)}function Do(t){return t?Tl(t)||vh(t)?vt({},t):t:null}function Qn(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?ke(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Th(c),ref:e&&e.ref?n&&s?xe(s)?s.concat(js(e)):[s,js(e)]:js(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ue?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Qn(t.ssContent),ssFallback:t.ssFallback&&Qn(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Rl(u,l.clone(u)),u}function at(t=" ",e=0){return J(Lo,null,t,e)}function Cg(t,e){const n=J(zs,null,t);return n.staticCount=e,n}function Fe(t="",e=!1){return e?(L(),fe(qt,null,t)):J(qt,null,t)}function ln(t){return t==null||typeof t=="boolean"?J(qt):xe(t)?J(Ue,null,t.slice()):Ki(t)?jn(t):J(Lo,null,String(t))}function jn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Qn(t)}function Ll(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(xe(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Ll(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!vh(e)?e._ctx=ht:i===3&&ht&&(ht.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Se(e)?(e={default:e,_ctx:ht},n=32):(e=String(e),r&64?(n=16,e=[at(e)]):n=8);t.children=e,t.shapeFlag|=n}function ke(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Et([e.class,r.class]));else if(i==="style")e.style=Zt([e.style,r.style]);else if(vo(i)){const s=e[i],o=r[i];o&&s!==o&&!(xe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function on(t,e,n,r=null){hn(t,e,7,[n,r])}const Eg=ph();let Ag=0;function Pg(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Eg,s={uid:Ag++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Td(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bh(r,i),emitsOptions:Eh(r,i),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:r.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=gg.bind(null,s),t.ce&&t.ce(s),s}let mt=null;const At=()=>mt||ht;let oo,za;{const t=xo(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};oo=e("__VUE_INSTANCE_SETTERS__",n=>mt=n),za=e("__VUE_SSR_SETTERS__",n=>Ji=n)}const as=t=>{const e=mt;return oo(t),t.scope.on(),()=>{t.scope.off(),oo(e)}},Nc=()=>{mt&&mt.scope.off(),oo(null)};function kh(t){return t.vnode.shapeFlag&4}let Ji=!1;function Tg(t,e=!1,n=!1){e&&za(e);const{props:r,children:i}=t.vnode,s=kh(t);Z0(t,r,s,e),rg(t,i,n||e);const o=s?kg(t,e):void 0;return e&&za(!1),o}function kg(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,W0);const{setup:r}=n;if(r){Pn();const i=t.setupContext=r.length>1?Og(t):null,s=as(t),o=ss(r,t,0,[t.props,i]),a=_d(o);if(Tn(),s(),(a||t.sp)&&!Ur(t)&&ih(t),a){if(o.then(Nc,Nc),e)return o.then(l=>{Fc(t,l)}).catch(l=>{Oo(l,t,0)});t.asyncDep=o}else Fc(t,o)}else Rh(t)}function Fc(t,e,n){Se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ge(e)&&(t.setupState=Yd(e)),Rh(t)}function Rh(t,e,n){const r=t.type;t.render||(t.render=r.render||un);{const i=as(t);Pn();try{j0(t)}finally{Tn(),i()}}}const Rg={get(t,e){return gt(t,"get",""),t[e]}};function Og(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Rg),slots:t.slots,emit:t.emit,expose:e}}function No(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Yd(Ro(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ni)return Ni[n](t)},has(e,n){return n in e||n in Ni}})):t.proxy}function Mg(t,e=!0){return Se(t)?t.displayName||t.name:t.name||e&&t.__name}function Ig(t){return Se(t)&&"__vccOpts"in t}const z=(t,e)=>S0(t,e,Ji);function Ct(t,e,n){try{so(-1);const r=arguments.length;return r===2?Ge(e)&&!xe(e)?Ki(e)?J(t,null,[e]):J(t,e):J(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ki(n)&&(n=[n]),J(t,e,n))}finally{so(1)}}const Lg="3.5.24";let ja;const Bc=typeof window<"u"&&window.trustedTypes;if(Bc)try{ja=Bc.createPolicy("vue",{createHTML:t=>t})}catch{}const Oh=ja?t=>ja.createHTML(t):t=>t,Dg="http://www.w3.org/2000/svg",Ng="http://www.w3.org/1998/Math/MathML",Cn=typeof document<"u"?document:null,Gc=Cn&&Cn.createElement("template"),Fg={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Cn.createElementNS(Dg,t):e==="mathml"?Cn.createElementNS(Ng,t):n?Cn.createElement(t,{is:n}):Cn.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Cn.createTextNode(t),createComment:t=>Cn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Cn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Gc.innerHTML=Oh(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Gc.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Bg=Symbol("_vtc");function Gg(t,e,n){const r=t[Bg];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ao=Symbol("_vod"),Mh=Symbol("_vsh"),Bi={name:"show",beforeMount(t,{value:e},{transition:n}){t[ao]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):gi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),gi(t,!0),r.enter(t)):r.leave(t,()=>{gi(t,!1)}):gi(t,e))},beforeUnmount(t,{value:e}){gi(t,e)}};function gi(t,e){t.style.display=e?t[ao]:"none",t[Mh]=!e}const $g=Symbol(""),Hg=/(?:^|;)\s*display\s*:/;function Vg(t,e,n){const r=t.style,i=qe(n);let s=!1;if(n&&!i){if(e)if(qe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Us(r,a,"")}else for(const o in e)n[o]==null&&Us(r,o,"");for(const o in n)o==="display"&&(s=!0),Us(r,o,n[o])}else if(i){if(e!==n){const o=r[$g];o&&(n+=";"+o),r.cssText=n,s=Hg.test(n)}}else e&&t.removeAttribute("style");ao in t&&(t[ao]=s?r.display:"",t[Mh]&&(r.display="none"))}const $c=/\s*!important$/;function Us(t,e,n){if(xe(n))n.forEach(r=>Us(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Wg(t,e);$c.test(n)?t.setProperty(tr(r),n.replace($c,""),"important"):t[r]=n}}const Hc=["Webkit","Moz","ms"],aa={};function Wg(t,e){const n=aa[e];if(n)return n;let r=Rt(e);if(r!=="filter"&&r in t)return aa[e]=r;r=wo(r);for(let i=0;i<Hc.length;i++){const s=Hc[i]+r;if(s in t)return aa[e]=s}return e}const Vc="http://www.w3.org/1999/xlink";function Wc(t,e,n,r,i,s=Xp(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Vc,e.slice(6,e.length)):t.setAttributeNS(Vc,e,n):n==null||s&&!Ed(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Xt(n)?String(n):n)}function zc(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Oh(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Ed(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function fr(t,e,n,r){t.addEventListener(e,n,r)}function zg(t,e,n,r){t.removeEventListener(e,n,r)}const jc=Symbol("_vei");function jg(t,e,n,r,i=null){const s=t[jc]||(t[jc]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=Ug(e);if(r){const c=s[e]=qg(r,i);fr(t,a,c,l)}else o&&(zg(t,a,o,l),s[e]=void 0)}}const Uc=/(?:Once|Passive|Capture)$/;function Ug(t){let e;if(Uc.test(t)){e={};let r;for(;r=t.match(Uc);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):tr(t.slice(2)),e]}let la=0;const Yg=Promise.resolve(),Xg=()=>la||(Yg.then(()=>la=0),la=Date.now());function qg(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;hn(Kg(r,n.value),e,5,[r])};return n.value=t,n.attached=Xg(),n}function Kg(t,e){if(xe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Yc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Jg=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?Gg(t,r,o):e==="style"?Vg(t,n,r):vo(e)?xl(e)||jg(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Qg(t,e,r,o))?(zc(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Wc(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!qe(r))?zc(t,Rt(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Wc(t,e,r,o))};function Qg(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Yc(e)&&Se(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Yc(e)&&qe(n)?!1:e in t}const lo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return xe(e)?n=>Vs(e,n):e};function Zg(t){t.target.composing=!0}function Xc(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xr=Symbol("_assign");function qc(t,e,n){return e&&(t=t.trim()),n&&(t=_o(t)),t}const Gi={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Xr]=lo(i);const s=r||i.props&&i.props.type==="number";fr(t,e?"change":"input",o=>{o.target.composing||t[Xr](qc(t.value,n,s))}),(n||s)&&fr(t,"change",()=>{t.value=qc(t.value,n,s)}),e||(fr(t,"compositionstart",Zg),fr(t,"compositionend",Xc),fr(t,"change",Xc))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[Xr]=lo(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?_o(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},Ih={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=yo(e);fr(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?_o(co(o)):co(o));t[Xr](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Be(()=>{t._assigning=!1})}),t[Xr]=lo(r)},mounted(t,{value:e}){Kc(t,e)},beforeUpdate(t,e,n){t[Xr]=lo(n)},updated(t,{value:e}){t._assigning||Kc(t,e)}};function Kc(t,e){const n=t.multiple,r=xe(e);if(!(n&&!r&&!yo(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=co(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Kp(e,a)>-1}else o.selected=e.has(a);else if(Co(co(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function co(t){return"_value"in t?t._value:t.value}const em=["ctrl","shift","alt","meta"],tm={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>em.some(n=>t[`${n}Key`]&&!e.includes(n))},It=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((i,...s)=>{for(let o=0;o<e.length;o++){const a=tm[e[o]];if(a&&a(i,e))return}return t(i,...s)}))},nm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ys=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(i=>{if(!("key"in i))return;const s=tr(i.key);if(e.some(o=>o===s||nm[o]===s))return t(i)}))},rm=vt({patchProp:Jg},Fg);let Jc;function im(){return Jc||(Jc=sg(rm))}const sm=((...t)=>{const e=im().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=am(r);if(!i)return;const s=e._component;!Se(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,om(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function om(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function am(t){return qe(t)?document.querySelector(t):t}let Lh;const Fo=t=>Lh=t,Dh=Symbol();function Ua(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var $i;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})($i||($i={}));function lm(){const t=Eo(!0),e=t.run(()=>W({}));let n=[],r=[];const i=Ro({install(s){Fo(i),i._a=s,s.provide(Dh,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return this._a?n.push(s):r.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Nh=()=>{};function Qc(t,e,n,r=Nh){t.add(e);const i=()=>{t.delete(e)&&r()};return!n&&ii()&&is(i),i}function Mr(t,...e){t.forEach(n=>{n(...e)})}const cm=t=>t(),Zc=Symbol(),ca=Symbol();function Ya(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Ua(i)&&Ua(r)&&t.hasOwnProperty(n)&&!Xe(r)&&!Kn(r)?t[n]=Ya(i,r):t[n]=r}return t}const um=Symbol();function dm(t){return!Ua(t)||!Object.prototype.hasOwnProperty.call(t,um)}const{assign:$n}=Object;function hm(t){return!!(Xe(t)&&t.effect)}function fm(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=gn(n.state.value[t]);return $n(u,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=Ro(z(()=>{Fo(n);const f=n._s.get(t);return o[h].call(f,f)})),d),{}))}return l=Fh(t,c,e,n,r,!0),l}function Fh(t,e,n={},r,i,s){let o;const a=$n({actions:{}},n),l={deep:!0};let c,u,d=new Set,h=new Set,f;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),W({});let m;function v(k){let D;c=u=!1,typeof k=="function"?(k(r.state.value[t]),D={type:$i.patchFunction,storeId:t,events:f}):(Ya(r.state.value[t],k),D={type:$i.patchObject,payload:k,storeId:t,events:f});const F=m=Symbol();Be().then(()=>{m===F&&(c=!0)}),u=!0,Mr(d,D,r.state.value[t])}const g=s?function(){const{state:D}=n,F=D?D():{};this.$patch(oe=>{$n(oe,F)})}:Nh;function y(){o.stop(),d.clear(),h.clear(),r._s.delete(t)}const b=(k,D="")=>{if(Zc in k)return k[ca]=D,k;const F=function(){Fo(r);const oe=Array.from(arguments),q=new Set,he=new Set;function $(I){q.add(I)}function U(I){he.add(I)}Mr(h,{args:oe,name:F[ca],store:A,after:$,onError:U});let P;try{P=k.apply(this&&this.$id===t?this:A,oe)}catch(I){throw Mr(he,I),I}return P instanceof Promise?P.then(I=>(Mr(q,I),I)).catch(I=>(Mr(he,I),Promise.reject(I))):(Mr(q,P),P)};return F[Zc]=!0,F[ca]=D,F},w={_p:r,$id:t,$onAction:Qc.bind(null,h),$patch:v,$reset:g,$subscribe(k,D={}){const F=Qc(d,k,D.detached,()=>oe()),oe=o.run(()=>Ee(()=>r.state.value[t],q=>{(D.flush==="sync"?u:c)&&k({storeId:t,type:$i.direct,events:f},q)},$n({},l,D)));return F},$dispose:y},A=Sr(w);r._s.set(t,A);const O=(r._a&&r._a.runWithContext||cm)(()=>r._e.run(()=>(o=Eo()).run(()=>e({action:b}))));for(const k in O){const D=O[k];if(Xe(D)&&!hm(D)||Kn(D))s||(p&&dm(D)&&(Xe(D)?D.value=p[k]:Ya(D,p[k])),r.state.value[t][k]=D);else if(typeof D=="function"){const F=b(D,k);O[k]=F,a.actions[k]=D}}return $n(A,O),$n(Me(A),O),Object.defineProperty(A,"$state",{get:()=>r.state.value[t],set:k=>{v(D=>{$n(D,k)})}}),r._p.forEach(k=>{$n(A,o.run(()=>k({store:A,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(A.$state,p),c=!0,u=!0,A}function Bh(t,e,n){let r;const i=typeof e=="function";r=i?n:e;function s(o,a){const l=Q0();return o=o||(l?kt(Dh,null):null),o&&Fo(o),o=Lh,o._s.has(t)||(i?Fh(t,e,r,o):fm(t,r,o)),o._s.get(t)}return s.$id=t,s}const $r=typeof document<"u";function Gh(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function pm(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Gh(t.default)}const Le=Object.assign;function ua(t,e){const n={};for(const r in e){const i=e[r];n[r]=Kt(i)?i.map(t):t(i)}return n}const Hi=()=>{},Kt=Array.isArray;function eu(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const $h=/#/g,gm=/&/g,mm=/\//g,vm=/=/g,ym=/\?/g,Hh=/\+/g,bm=/%5B/g,wm=/%5D/g,Vh=/%5E/g,_m=/%60/g,Wh=/%7B/g,xm=/%7C/g,zh=/%7D/g,Sm=/%20/g;function Dl(t){return t==null?"":encodeURI(""+t).replace(xm,"|").replace(bm,"[").replace(wm,"]")}function Cm(t){return Dl(t).replace(Wh,"{").replace(zh,"}").replace(Vh,"^")}function Xa(t){return Dl(t).replace(Hh,"%2B").replace(Sm,"+").replace($h,"%23").replace(gm,"%26").replace(_m,"`").replace(Wh,"{").replace(zh,"}").replace(Vh,"^")}function Em(t){return Xa(t).replace(vm,"%3D")}function Am(t){return Dl(t).replace($h,"%23").replace(ym,"%3F")}function Pm(t){return Am(t).replace(mm,"%2F")}function Qi(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Tm=/\/$/,km=t=>t.replace(Tm,"");function da(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(r=e.slice(0,l),s=e.slice(l,a>0?a:e.length),i=t(s.slice(1))),a>=0&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Im(r??e,n),{fullPath:r+s+o,path:r,query:i,hash:Qi(o)}}function Rm(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function tu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Om(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Qr(e.matched[r],n.matched[i])&&jh(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Qr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jh(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Mm(t[n],e[n]))return!1;return!0}function Mm(t,e){return Kt(t)?nu(t,e):Kt(e)?nu(e,t):t===e}function nu(t,e){return Kt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Im(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Bn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let qa=(function(t){return t.pop="pop",t.push="push",t})({}),ha=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Lm(t){if(!t)if($r){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),km(t)}const Dm=/^[^#]+#/;function Nm(t,e){return t.replace(Dm,"#")+e}function Fm(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Bo=()=>({left:window.scrollX,top:window.scrollY});function Bm(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=Fm(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ru(t,e){return(history.state?history.state.position-e:-1)+t}const Ka=new Map;function Gm(t,e){Ka.set(t,e)}function $m(t){const e=Ka.get(t);return Ka.delete(t),e}function Hm(t){return typeof t=="string"||t&&typeof t=="object"}function Uh(t){return typeof t=="string"||typeof t=="symbol"}let Ze=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Yh=Symbol("");Ze.MATCHER_NOT_FOUND+"",Ze.NAVIGATION_GUARD_REDIRECT+"",Ze.NAVIGATION_ABORTED+"",Ze.NAVIGATION_CANCELLED+"",Ze.NAVIGATION_DUPLICATED+"";function Zr(t,e){return Le(new Error,{type:t,[Yh]:!0},e)}function wn(t,e){return t instanceof Error&&Yh in t&&(e==null||!!(t.type&e))}const Vm=["params","query","hash"];function Wm(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of Vm)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function zm(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Hh," "),s=i.indexOf("="),o=Qi(s<0?i:i.slice(0,s)),a=s<0?null:Qi(i.slice(s+1));if(o in e){let l=e[o];Kt(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function iu(t){let e="";for(let n in t){const r=t[n];if(n=Em(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Kt(r)?r.map(i=>i&&Xa(i)):[r&&Xa(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function jm(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Kt(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const Um=Symbol(""),su=Symbol(""),Go=Symbol(""),Nl=Symbol(""),Ja=Symbol("");function mi(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Un(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(Zr(Ze.NAVIGATION_ABORTED,{from:n,to:e})):h instanceof Error?l(h):Hm(h)?l(Zr(Ze.NAVIGATION_GUARD_REDIRECT,{from:e,to:h})):(o&&r.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},u=s(()=>t.call(r&&r.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function fa(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Gh(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Un(c,n,r,o,a,i))}else{let c=l();s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=pm(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&Un(h,n,r,o,a,i)()}))}}return s}function Ym(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>Qr(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Qr(c,l))||i.push(l))}return[n,r,i]}let Xm=()=>location.protocol+"//"+location.host;function Xh(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),tu(a,"")}return tu(n,t)+r+i}function qm(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const f=Xh(t,location),p=n.value,m=e.value;let v=0;if(h){if(n.value=f,e.value=h,o&&o===p){o=null;return}v=m?h.position-m.position:0}else r(f);i.forEach(g=>{g(n.value,p,{delta:v,type:qa.pop,direction:v?v>0?ha.forward:ha.back:ha.unknown})})};function l(){o=n.value}function c(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(Le({},h.state,{scroll:Bo()}),"")}}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:d}}function ou(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Bo():null}}function Km(t){const{history:e,location:n}=window,r={value:Xh(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:Xm()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](h)}}function o(l,c){s(l,Le({},e.state,ou(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),r.value=l}function a(l,c){const u=Le({},i.value,e.state,{forward:l,scroll:Bo()});s(u.current,u,!0),s(l,Le({},ou(r.value,l,null),{position:u.position+1},c),!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function Jm(t){t=Lm(t);const e=Km(t),n=qm(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Le({location:"",base:t,go:r,createHref:Nm.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function Qm(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Jm(t)}let gr=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var it=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(it||{});const Zm={type:gr.Static,value:""},e1=/[a-zA-Z0-9_]/;function t1(t){if(!t)return[[]];if(t==="/")return[[Zm]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=it.Static,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",u="";function d(){c&&(n===it.Static?s.push({type:gr.Static,value:c}):n===it.Param||n===it.ParamRegExp||n===it.ParamRegExpEnd?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:gr.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==it.ParamRegExp){r=n,n=it.EscapeNext;continue}switch(n){case it.Static:l==="/"?(c&&d(),o()):l===":"?(d(),n=it.Param):h();break;case it.EscapeNext:h(),n=r;break;case it.Param:l==="("?n=it.ParamRegExp:e1.test(l)?h():(d(),n=it.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case it.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=it.ParamRegExpEnd:u+=l;break;case it.ParamRegExpEnd:d(),n=it.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===it.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}const au="[^/]+?",n1={sensitive:!1,strict:!1,start:!0,end:!0};var _t=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(_t||{});const r1=/[.+*?^${}()[\]/\\]/g;function i1(t,e){const n=Le({},n1,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const u=c.length?[]:[_t.Root];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=_t.Segment+(n.sensitive?_t.BonusCaseSensitive:0);if(h.type===gr.Static)d||(i+="/"),i+=h.value.replace(r1,"\\$&"),f+=_t.Static;else if(h.type===gr.Param){const{value:p,repeatable:m,optional:v,regexp:g}=h;s.push({name:p,repeatable:m,optional:v});const y=g||au;if(y!==au){f+=_t.BonusCustomRegExp;try{`${y}`}catch(w){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+w.message)}}let b=m?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(b=v&&c.length<2?`(?:/${b})`:"/"+b),v&&(b+="?"),i+=b,f+=_t.Dynamic,v&&(f+=_t.BonusOptional),m&&(f+=_t.BonusRepeatable),y===".*"&&(f+=_t.BonusWildcard)}u.push(f)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=_t.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",p=s[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===gr.Static)u+=f.value;else if(f.type===gr.Param){const{value:p,repeatable:m,optional:v}=f,g=p in c?c[p]:"";if(Kt(g)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Kt(g)?g.join("/"):g;if(!y)if(v)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function s1(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===_t.Static+_t.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===_t.Static+_t.Segment?1:-1:0}function qh(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=s1(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(lu(r))return 1;if(lu(i))return-1}return i.length-r.length}function lu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const o1={strict:!1,end:!0,sensitive:!1};function a1(t,e,n){const r=i1(t1(t.path),n),i=Le(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function l1(t,e){const n=[],r=new Map;e=eu(o1,e);function i(d){return r.get(d)}function s(d,h,f){const p=!f,m=uu(d);m.aliasOf=f&&f.record;const v=eu(e,d),g=[m];if("alias"in d){const w=typeof d.alias=="string"?[d.alias]:d.alias;for(const A of w)g.push(uu(Le({},m,{components:f?f.record.components:m.components,path:A,aliasOf:f?f.record:m})))}let y,b;for(const w of g){const{path:A}=w;if(h&&A[0]!=="/"){const T=h.record.path,O=T[T.length-1]==="/"?"":"/";w.path=h.record.path+(A&&O+A)}if(y=a1(w,h,v),f?f.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),p&&d.name&&!du(y)&&o(d.name)),Kh(y)&&l(y),m.children){const T=m.children;for(let O=0;O<T.length;O++)s(T[O],y,f&&f.children[O])}f=f||y}return b?()=>{o(b)}:Hi}function o(d){if(Uh(d)){const h=r.get(d);h&&(r.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const h=d1(d,n);n.splice(h,0,d),d.record.name&&!du(d)&&r.set(d.record.name,d)}function c(d,h){let f,p={},m,v;if("name"in d&&d.name){if(f=r.get(d.name),!f)throw Zr(Ze.MATCHER_NOT_FOUND,{location:d});v=f.record.name,p=Le(cu(h.params,f.keys.filter(b=>!b.optional).concat(f.parent?f.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),d.params&&cu(d.params,f.keys.map(b=>b.name))),m=f.stringify(p)}else if(d.path!=null)m=d.path,f=n.find(b=>b.re.test(m)),f&&(p=f.parse(m),v=f.record.name);else{if(f=h.name?r.get(h.name):n.find(b=>b.re.test(h.path)),!f)throw Zr(Ze.MATCHER_NOT_FOUND,{location:d,currentLocation:h});v=f.record.name,p=Le({},h.params,d.params),m=f.stringify(p)}const g=[];let y=f;for(;y;)g.unshift(y.record),y=y.parent;return{name:v,path:m,params:p,matched:g,meta:u1(g)}}t.forEach(d=>s(d));function u(){n.length=0,r.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function cu(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function uu(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:c1(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function c1(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function du(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function u1(t){return t.reduce((e,n)=>Le(e,n.meta),{})}function d1(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;qh(t,e[s])<0?r=s:n=s+1}const i=h1(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function h1(t){let e=t;for(;e=e.parent;)if(Kh(e)&&qh(t,e)===0)return e}function Kh({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function hu(t){const e=kt(Go),n=kt(Nl),r=z(()=>{const l=_(t.to);return e.resolve(l)}),i=z(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(Qr.bind(null,u));if(h>-1)return h;const f=fu(l[c-2]);return c>1&&fu(u)===f&&d[d.length-1].path!==f?d.findIndex(Qr.bind(null,l[c-2])):h}),s=z(()=>i.value>-1&&v1(n.params,r.value.params)),o=z(()=>i.value>-1&&i.value===n.matched.length-1&&jh(n.params,r.value.params));function a(l={}){if(m1(l)){const c=e[_(t.replace)?"replace":"push"](_(t.to)).catch(Hi);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:z(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function f1(t){return t.length===1?t[0]:t}const p1=re({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:hu,setup(t,{slots:e}){const n=Sr(hu(t)),{options:r}=kt(Go),i=z(()=>({[pu(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[pu(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&f1(e.default(n));return t.custom?s:Ct("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),g1=p1;function m1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function v1(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Kt(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function fu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const pu=(t,e,n)=>t??e??n,y1=re({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=kt(Ja),i=z(()=>t.route||r.value),s=kt(su,0),o=z(()=>{let c=_(s);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=z(()=>i.value.matched[o.value]);Yr(su,z(()=>o.value+1)),Yr(Um,a),Yr(Ja,i);const l=W();return Ee(()=>[l.value,a.value,t.name],([c,u,d],[h,f,p])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Qr(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return gu(n.default,{Component:h,route:c});const f=d.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,v=Ct(h,Le({},p,e,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return gu(n.default,{Component:v,route:c})||v}}});function gu(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const b1=y1;function w1(t){const e=l1(t.routes,t),n=t.parseQuery||zm,r=t.stringifyQuery||iu,i=t.history,s=mi(),o=mi(),a=mi(),l=si(Bn);let c=Bn;$r&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ua.bind(null,N=>""+N),d=ua.bind(null,Pm),h=ua.bind(null,Qi);function f(N,ue){let ee,ve;return Uh(N)?(ee=e.getRecordMatcher(N),ve=ue):ve=N,e.addRoute(ve,ee)}function p(N){const ue=e.getRecordMatcher(N);ue&&e.removeRoute(ue)}function m(){return e.getRoutes().map(N=>N.record)}function v(N){return!!e.getRecordMatcher(N)}function g(N,ue){if(ue=Le({},ue||l.value),typeof N=="string"){const M=da(n,N,ue.path),V=e.resolve({path:M.path},ue),j=i.createHref(M.fullPath);return Le(M,V,{params:h(V.params),hash:Qi(M.hash),redirectedFrom:void 0,href:j})}let ee;if(N.path!=null)ee=Le({},N,{path:da(n,N.path,ue.path).path});else{const M=Le({},N.params);for(const V in M)M[V]==null&&delete M[V];ee=Le({},N,{params:d(M)}),ue.params=d(ue.params)}const ve=e.resolve(ee,ue),Ae=N.hash||"";ve.params=u(h(ve.params));const x=Rm(r,Le({},N,{hash:Cm(Ae),path:ve.path})),E=i.createHref(x);return Le({fullPath:x,hash:Ae,query:r===iu?jm(N.query):N.query||{}},ve,{redirectedFrom:void 0,href:E})}function y(N){return typeof N=="string"?da(n,N,l.value.path):Le({},N)}function b(N,ue){if(c!==N)return Zr(Ze.NAVIGATION_CANCELLED,{from:ue,to:N})}function w(N){return O(N)}function A(N){return w(Le(y(N),{replace:!0}))}function T(N,ue){const ee=N.matched[N.matched.length-1];if(ee&&ee.redirect){const{redirect:ve}=ee;let Ae=typeof ve=="function"?ve(N,ue):ve;return typeof Ae=="string"&&(Ae=Ae.includes("?")||Ae.includes("#")?Ae=y(Ae):{path:Ae},Ae.params={}),Le({query:N.query,hash:N.hash,params:Ae.path!=null?{}:N.params},Ae)}}function O(N,ue){const ee=c=g(N),ve=l.value,Ae=N.state,x=N.force,E=N.replace===!0,M=T(ee,ve);if(M)return O(Le(y(M),{state:typeof M=="object"?Le({},Ae,M.state):Ae,force:x,replace:E}),ue||ee);const V=ee;V.redirectedFrom=ue;let j;return!x&&Om(r,ve,ee)&&(j=Zr(Ze.NAVIGATION_DUPLICATED,{to:V,from:ve}),ae(ve,ve,!0,!1)),(j?Promise.resolve(j):F(V,ve)).catch(H=>wn(H)?wn(H,Ze.NAVIGATION_GUARD_REDIRECT)?H:ie(H):C(H,V,ve)).then(H=>{if(H){if(wn(H,Ze.NAVIGATION_GUARD_REDIRECT))return O(Le({replace:E},y(H.to),{state:typeof H.to=="object"?Le({},Ae,H.to.state):Ae,force:x}),ue||V)}else H=q(V,ve,!0,E,Ae);return oe(V,ve,H),H})}function k(N,ue){const ee=b(N,ue);return ee?Promise.reject(ee):Promise.resolve()}function D(N){const ue=Te.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(N):N()}function F(N,ue){let ee;const[ve,Ae,x]=Ym(N,ue);ee=fa(ve.reverse(),"beforeRouteLeave",N,ue);for(const M of ve)M.leaveGuards.forEach(V=>{ee.push(Un(V,N,ue))});const E=k.bind(null,N,ue);return ee.push(E),Qe(ee).then(()=>{ee=[];for(const M of s.list())ee.push(Un(M,N,ue));return ee.push(E),Qe(ee)}).then(()=>{ee=fa(Ae,"beforeRouteUpdate",N,ue);for(const M of Ae)M.updateGuards.forEach(V=>{ee.push(Un(V,N,ue))});return ee.push(E),Qe(ee)}).then(()=>{ee=[];for(const M of x)if(M.beforeEnter)if(Kt(M.beforeEnter))for(const V of M.beforeEnter)ee.push(Un(V,N,ue));else ee.push(Un(M.beforeEnter,N,ue));return ee.push(E),Qe(ee)}).then(()=>(N.matched.forEach(M=>M.enterCallbacks={}),ee=fa(x,"beforeRouteEnter",N,ue,D),ee.push(E),Qe(ee))).then(()=>{ee=[];for(const M of o.list())ee.push(Un(M,N,ue));return ee.push(E),Qe(ee)}).catch(M=>wn(M,Ze.NAVIGATION_CANCELLED)?M:Promise.reject(M))}function oe(N,ue,ee){a.list().forEach(ve=>D(()=>ve(N,ue,ee)))}function q(N,ue,ee,ve,Ae){const x=b(N,ue);if(x)return x;const E=ue===Bn,M=$r?history.state:{};ee&&(ve||E?i.replace(N.fullPath,Le({scroll:E&&M&&M.scroll},Ae)):i.push(N.fullPath,Ae)),l.value=N,ae(N,ue,ee,E),ie()}let he;function $(){he||(he=i.listen((N,ue,ee)=>{if(!nt.listening)return;const ve=g(N),Ae=T(ve,nt.currentRoute.value);if(Ae){O(Le(Ae,{replace:!0,force:!0}),ve).catch(Hi);return}c=ve;const x=l.value;$r&&Gm(ru(x.fullPath,ee.delta),Bo()),F(ve,x).catch(E=>wn(E,Ze.NAVIGATION_ABORTED|Ze.NAVIGATION_CANCELLED)?E:wn(E,Ze.NAVIGATION_GUARD_REDIRECT)?(O(Le(y(E.to),{force:!0}),ve).then(M=>{wn(M,Ze.NAVIGATION_ABORTED|Ze.NAVIGATION_DUPLICATED)&&!ee.delta&&ee.type===qa.pop&&i.go(-1,!1)}).catch(Hi),Promise.reject()):(ee.delta&&i.go(-ee.delta,!1),C(E,ve,x))).then(E=>{E=E||q(ve,x,!1),E&&(ee.delta&&!wn(E,Ze.NAVIGATION_CANCELLED)?i.go(-ee.delta,!1):ee.type===qa.pop&&wn(E,Ze.NAVIGATION_ABORTED|Ze.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),oe(ve,x,E)}).catch(Hi)}))}let U=mi(),P=mi(),I;function C(N,ue,ee){ie(N);const ve=P.list();return ve.length?ve.forEach(Ae=>Ae(N,ue,ee)):console.error(N),Promise.reject(N)}function B(){return I&&l.value!==Bn?Promise.resolve():new Promise((N,ue)=>{U.add([N,ue])})}function ie(N){return I||(I=!N,$(),U.list().forEach(([ue,ee])=>N?ee(N):ue()),U.reset()),N}function ae(N,ue,ee,ve){const{scrollBehavior:Ae}=t;if(!$r||!Ae)return Promise.resolve();const x=!ee&&$m(ru(N.fullPath,0))||(ve||!ee)&&history.state&&history.state.scroll||null;return Be().then(()=>Ae(N,ue,x)).then(E=>E&&Bm(E)).catch(E=>C(E,N,ue))}const ye=N=>i.go(N);let me;const Te=new Set,nt={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:m,resolve:g,options:t,push:w,replace:A,go:ye,back:()=>ye(-1),forward:()=>ye(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:P.add,isReady:B,install(N){N.component("RouterLink",g1),N.component("RouterView",b1),N.config.globalProperties.$router=nt,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>_(l)}),$r&&!me&&l.value===Bn&&(me=!0,w(i.location).catch(ve=>{}));const ue={};for(const ve in Bn)Object.defineProperty(ue,ve,{get:()=>l.value[ve],enumerable:!0});N.provide(Go,nt),N.provide(Nl,jd(ue)),N.provide(Ja,l);const ee=N.unmount;Te.add(N),N.unmount=function(){Te.delete(N),Te.size<1&&(c=Bn,he&&he(),he=null,l.value=Bn,me=!1,I=!1),ee()}}};function Qe(N){return N.reduce((ue,ee)=>ue.then(()=>D(ee)),Promise.resolve())}return nt}function _1(){return kt(Go)}function $o(t){return kt(Nl)}const ct=[];for(let t=0;t<256;++t)ct.push((t+256).toString(16).slice(1));function x1(t,e=0){return(ct[t[e+0]]+ct[t[e+1]]+ct[t[e+2]]+ct[t[e+3]]+"-"+ct[t[e+4]]+ct[t[e+5]]+"-"+ct[t[e+6]]+ct[t[e+7]]+"-"+ct[t[e+8]]+ct[t[e+9]]+"-"+ct[t[e+10]]+ct[t[e+11]]+ct[t[e+12]]+ct[t[e+13]]+ct[t[e+14]]+ct[t[e+15]]).toLowerCase()}let pa;const S1=new Uint8Array(16);function C1(){if(!pa){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");pa=crypto.getRandomValues.bind(crypto)}return pa(S1)}const E1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mu={randomUUID:E1};function A1(t,e,n){t=t||{};const r=t.random??t.rng?.()??C1();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,x1(r)}function Qa(t,e,n){return mu.randomUUID&&!t?mu.randomUUID():A1(t)}const ls=Bh("textures",()=>{const t=W([]),e=W({});function n(){localStorage.setItem("generatedTextures",JSON.stringify(t.value))}function r(c){t.value.push({...c,id:c.id||Qa(),generated:!0}),n()}function i(c,u){const d=t.value.findIndex(h=>h.id===c);d>-1?(u.generated=!0,t.value[d]=u,n()):r(u)}function s(c){const u=t.value.findIndex(d=>d.id===c);u>-1&&(t.value.splice(u,1),n())}function o(c,u){const d=t.value.find(h=>h.id===c);d&&(d.name=u,n())}function a(c,u){e.value[c]=u,localStorage.setItem("presetThumbnails",JSON.stringify(e.value))}function l(){const c=localStorage.getItem("generatedTextures");if(c){const d=JSON.parse(c);t.value=Array.isArray(d)?d.map(h=>({...h,generated:!0})):[]}const u=localStorage.getItem("presetThumbnails");u&&(e.value=JSON.parse(u))}return{generatedTextures:t,presetThumbnails:e,addGeneratedTexture:r,updateGeneratedTexture:i,removeGeneratedTexture:s,updateTextureName:o,savePresetThumbnail:a,load:l}}),P1={class:"flex flex-col items-center min-h-screen min-w-screen text-white px-2"},T1={class:"w-full max-w-6xl"},k1={class:"flex space-x-4 mb-4"},R1={class:"w-full"},O1=re({__name:"App",setup(t){const e=$o(),n=ls();return Ke(()=>{n.load()}),(r,i)=>{const s=no("router-link"),o=no("router-view");return L(),le("div",P1,[i[2]||(i[2]=G("p",{class:"my-2"},[at(" An app to generate and edit graphics using AI language models. Unless edited, all sprites shown are created by prompting an LLM (bigger models are better). "),G("a",{href:"https://parsehex.github.io/aAI-Art/docs/"},"Docs")],-1)),G("div",T1,[G("nav",k1,[J(s,{to:"/view",class:Et(["px-4 py-2 rounded-md transition",_(e).path.startsWith("/view")?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])},{default:ne(()=>[...i[0]||(i[0]=[at(" View / Generate ",-1)])]),_:1},8,["class"]),J(s,{to:"/edit",class:Et(["px-4 py-2 rounded-md transition",_(e).path.startsWith("/edit")?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])},{default:ne(()=>[...i[1]||(i[1]=[at(" Edit ",-1)])]),_:1},8,["class"])]),G("div",R1,[J(o)])])])}}});function Jh(t,e){return ii()?(is(t,e),!0):!1}const M1=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const I1=Object.prototype.toString,L1=t=>I1.call(t)==="[object Object]",D1=()=>{};function N1(...t){if(t.length!==1)return Xd(...t);const e=t[0];return typeof e=="function"?Jr(b0(()=>({get:e,set:D1}))):W(e)}function F1(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}const Qh=t=>t();function B1(t=Qh,e={}){const{initialState:n="active"}=e,r=N1(n==="active");function i(){r.value=!1}function s(){r.value=!0}const o=(...a)=>{r.value&&t(...a)};return{isActive:Jr(r),pause:i,resume:s,eventFilter:o}}function ga(t){return Array.isArray(t)?t:[t]}function G1(t){return At()}function $1(t,e,n={}){const{eventFilter:r=Qh,...i}=n;return Ee(t,F1(r,e),i)}function H1(t,e,n={}){const{eventFilter:r,initialState:i="active",...s}=n,{eventFilter:o,pause:a,resume:l,isActive:c}=B1(r,{initialState:i});return{stop:$1(t,e,{...s,eventFilter:o}),pause:a,resume:l,isActive:c}}const V1=H1;function W1(t,e=!0,n){G1()?Ke(t,n):e?t():Be(t)}function z1(t,e,n){return Ee(t,e,{...n,immediate:!0})}const mr=M1?window:void 0;function Za(t){var e;const n=Yt(t);return(e=n?.$el)!==null&&e!==void 0?e:n}function vu(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},r=(a,l,c,u)=>(a.addEventListener(l,c,u),()=>a.removeEventListener(l,c,u)),i=z(()=>{const a=ga(Yt(t[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),s=z1(()=>{var a,l;return[(a=(l=i.value)===null||l===void 0?void 0:l.map(c=>Za(c)))!==null&&a!==void 0?a:[mr].filter(c=>c!=null),ga(Yt(i.value?t[1]:t[0])),ga(_(i.value?t[2]:t[1])),Yt(i.value?t[3]:t[2])]},([a,l,c,u])=>{if(n(),!a?.length||!l?.length||!c?.length)return;const d=L1(u)?{...u}:u;e.push(...a.flatMap(h=>l.flatMap(f=>c.map(p=>r(h,f,p,d)))))},{flush:"post"}),o=()=>{s(),n()};return Jh(n),o}function j1(){const t=si(!1),e=At();return e&&Ke(()=>{t.value=!0},e),t}function U1(t){const e=j1();return z(()=>(e.value,!!t()))}const ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bs="__vueuse_ssr_handlers__",Y1=X1();function X1(){return bs in ys||(ys[bs]=ys[bs]||{}),ys[bs]}function q1(t,e){return Y1[t]||e}function K1(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const J1={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},yu="vueuse-storage";function Q1(t,e,n,r={}){var i;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:u,window:d=mr,eventFilter:h,onError:f=$=>{console.error($)},initOnMounted:p}=r,m=(u?si:W)(typeof e=="function"?e():e),v=z(()=>Yt(t));if(!n)try{n=q1("getDefaultStorage",()=>mr?.localStorage)()}catch($){f($)}if(!n)return m;const g=Yt(e),y=K1(g),b=(i=r.serializer)!==null&&i!==void 0?i:J1[y],{pause:w,resume:A}=V1(m,$=>F($),{flush:s,deep:o,eventFilter:h});Ee(v,()=>q(),{flush:s});let T=!1;const O=$=>{p&&!T||q($)},k=$=>{p&&!T||he($)};d&&a&&(n instanceof Storage?vu(d,"storage",O,{passive:!0}):vu(d,yu,k)),p?W1(()=>{T=!0,q()}):q();function D($,U){if(d){const P={key:v.value,oldValue:$,newValue:U,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",P):new CustomEvent(yu,{detail:P}))}}function F($){try{const U=n.getItem(v.value);if($==null)D(U,null),n.removeItem(v.value);else{const P=b.write($);U!==P&&(n.setItem(v.value,P),D(U,P))}}catch(U){f(U)}}function oe($){const U=$?$.newValue:n.getItem(v.value);if(U==null)return l&&g!=null&&n.setItem(v.value,b.write(g)),g;if(!$&&c){const P=b.read(U);return typeof c=="function"?c(P,g):y==="object"&&!Array.isArray(P)?{...g,...P}:P}else return typeof U!="string"?U:b.read(U)}function q($){if(!($&&$.storageArea!==n)){if($&&$.key==null){m.value=g;return}if(!($&&$.key!==v.value)){w();try{const U=b.write(m.value);($===void 0||$?.newValue!==U)&&(m.value=oe($))}catch(U){f(U)}finally{$?Be(A):A()}}}}function he($){q($.detail)}return m}function Z1(t,e,n={}){const{window:r=mr,...i}=n;let s;const o=U1(()=>r&&"ResizeObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=Ee(z(()=>{const u=Yt(t);return Array.isArray(u)?u.map(d=>Za(d)):[Za(u)]}),u=>{if(a(),o.value&&r){s=new ResizeObserver(e);for(const d of u)d&&s.observe(d,i)}},{immediate:!0,flush:"post"}),c=()=>{a(),l()};return Jh(c),{isSupported:o,stop:c}}function Yn(t,e,n={}){const{window:r=mr}=n;return Q1(t,e,r?.localStorage,n)}const e2=re({name:"JsonViewerItem",props:{data:{type:[Object,Array,String,Number,Boolean],required:!0},depth:{type:Number,default:0}},setup(t){const e=W(!0),n=z(()=>typeof t.data=="object"&&t.data!==null),r=z(()=>Array.isArray(t.data)),i=z(()=>typeof t.data),s=()=>{e.value=!e.value},o=l=>typeof l=="string"?`"${l}"`:String(l);function a(l){try{const c=document.createElement("textarea");c.value=l,c.style.position="fixed",c.style.opacity="0",document.body.appendChild(c),c.select();const u=document.execCommand("copy");return document.body.removeChild(c),u}catch(c){return console.error("Failed to copy text:",c),!1}}return{isExpanded:e,isObject:n,isArray:r,valueType:i,toggle:s,formatValue:o,copyValue:a}}}),Zh=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},t2={class:"json-viewer-item"},n2={class:"toggle-icon"},r2={class:"key"},i2={key:1,class:"nested-content"},s2={class:"key-line"},o2={class:"key"},a2={class:"value-line"};function l2(t,e,n,r,i,s){const o=no("JsonViewerItem");return L(),le("div",t2,[t.isObject?(L(),le("div",{key:0,onClick:e[0]||(e[0]=(...a)=>t.toggle&&t.toggle(...a)),class:"item-content"},[G("span",n2,et(t.isExpanded?"":""),1),G("span",r2,et(t.isArray?`[${t.data.length}]`:"{...}"),1)])):Fe("",!0),t.isExpanded&&t.isObject?(L(),le("div",i2,[t.isArray?(L(!0),le(Ue,{key:0},kn(t.data,(a,l)=>(L(),le("div",{key:l,class:"array-item"},[J(o,{data:a,depth:t.depth+1},null,8,["data","depth"])]))),128)):(L(!0),le(Ue,{key:1},kn(t.data,(a,l)=>(L(),le("div",{key:l,class:"object-item"},[G("div",s2,[G("span",o2,et(l)+":",1)]),G("div",a2,[J(o,{class:"inline",data:a,depth:t.depth+1},null,8,["data","depth"])])]))),128))])):Fe("",!0),t.isObject?Fe("",!0):(L(),le("span",{key:2,class:Et(["primitive",t.valueType])},et(t.formatValue(t.data)),3))])}const c2=Zh(e2,[["render",l2],["__scopeId","data-v-ac6add2f"]]),u2=re({name:"JsonViewer",components:{JsonViewerItem:c2},props:{data:{type:[Object,Array,String,Number,Boolean],required:!0}}}),d2={class:"json-viewer root"};function h2(t,e,n,r,i,s){const o=no("JsonViewerItem");return L(),le("div",d2,[J(o,{data:t.data,depth:0},null,8,["data"])])}const f2=Zh(u2,[["render",h2],["__scopeId","data-v-accd1387"]]);const p2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var ws={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const g2=({size:t,strokeWidth:e=2,absoluteStrokeWidth:n,color:r,iconNode:i,name:s,class:o,...a},{slots:l})=>Ct("svg",{...ws,width:t||ws.width,height:t||ws.height,stroke:r||ws.stroke,"stroke-width":n?Number(e)*24/Number(t):e,class:["lucide",`lucide-${p2(s??"icon")}`],...a},[...i.map(c=>Ct(...c)),...l.default?[l.default()]:[]]);const mn=(t,e)=>(n,{slots:r})=>Ct(g2,{...n,iconNode:e,name:t},r);const ef=mn("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const m2=mn("ChevronsUpDownIcon",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);const v2=mn("ClipboardIcon",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);const y2=mn("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const b2=mn("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const w2=mn("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const _2=mn("RefreshCwIcon",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const x2=mn("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const S2=mn("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const tf=mn("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nf=re({__name:"CopyButton",props:{data:{}},setup(t){const e=t;async function n(){try{const{thumbnail:r,...i}=e.data;await navigator.clipboard.writeText(JSON.stringify(i,null,2)),console.log("Texture JSON copied to clipboard")}catch(r){console.error("Failed to copy JSON:",r)}}return(r,i)=>(L(),le("button",{onClick:It(n,["stop"]),class:"text-purple-400 hover:text-purple-600 transition-colors",title:"Copy JSON to Clipboard"},[J(_(v2),{class:"w-4 h-4"})]))}});function rf(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=rf(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sf(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=rf(t))&&(r&&(r+=" "),r+=e);return r}const bu=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,wu=sf,C2=(t,e)=>n=>{var r;if(e?.variants==null)return wu(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n?.[c],d=s?.[c];if(u===null)return null;const h=bu(u)||bu(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(p=>{let[m,v]=p;return Array.isArray(v)?v.includes({...s,...a}[m]):{...s,...a}[m]===v})?[...c,d,h]:c},[]);return wu(t,o,l,n?.class,n?.className)},E2=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},A2=(t,e)=>({classGroupId:t,validator:e}),of=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),uo="-",_u=[],P2="arbitrary..",T2=t=>{const e=R2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return k2(o);const a=o.split(uo),l=a[0]===""&&a.length>1?1:0;return af(a,l,e)},getConflictingClassGroupIds:(o,a)=>{if(a){const l=r[o],c=n[o];return l?c?E2(c,l):l:c||_u}return n[o]||_u}}},af=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const c=af(t,e+1,s);if(c)return c}const o=n.validators;if(o===null)return;const a=e===0?t.join(uo):t.slice(e).join(uo),l=o.length;for(let c=0;c<l;c++){const u=o[c];if(u.validator(a))return u.classGroupId}},k2=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?P2+r:void 0})(),R2=t=>{const{theme:e,classGroups:n}=t;return O2(n,e)},O2=(t,e)=>{const n=of();for(const r in t){const i=t[r];Fl(i,n,r,e)}return n},Fl=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const o=t[s];M2(o,e,n,r)}},M2=(t,e,n,r)=>{if(typeof t=="string"){I2(t,e,n);return}if(typeof t=="function"){L2(t,e,n,r);return}D2(t,e,n,r)},I2=(t,e,n)=>{const r=t===""?e:lf(e,t);r.classGroupId=n},L2=(t,e,n,r)=>{if(N2(t)){Fl(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(A2(n,t))},D2=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];Fl(l,lf(e,a),n,r)}},lf=(t,e)=>{let n=t;const r=e.split(uo),i=r.length;for(let s=0;s<i;s++){const o=r[s];let a=n.nextPart.get(o);a||(a=of(),n.nextPart.set(o,a)),n=a}return n},N2=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,F2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,o)=>{n[s]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let o=n[s];if(o!==void 0)return o;if((o=r[s])!==void 0)return i(s,o),o},set(s,o){s in n?n[s]=o:i(s,o)}}},el="!",xu=":",B2=[],Su=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),G2=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,c;const u=i.length;for(let m=0;m<u;m++){const v=i[m];if(o===0&&a===0){if(v===xu){s.push(i.slice(l,m)),l=m+1;continue}if(v==="/"){c=m;continue}}v==="["?o++:v==="]"?o--:v==="("?a++:v===")"&&a--}const d=s.length===0?i:i.slice(l);let h=d,f=!1;d.endsWith(el)?(h=d.slice(0,-1),f=!0):d.startsWith(el)&&(h=d.slice(1),f=!0);const p=c&&c>l?c-l:void 0;return Su(s,f,h,p)};if(e){const i=e+xu,s=r;r=o=>o.startsWith(i)?s(o.slice(i.length)):Su(B2,!1,o,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},$2=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const o=n[s],a=o[0]==="[",l=e.has(o);a||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},H2=t=>({cache:F2(t.cacheSize),parseClassName:G2(t),sortModifiers:$2(t),...T2(t)}),V2=/\s+/,W2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(V2);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let v=!!m,g=r(v?p.substring(0,m):p);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=r(p),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const y=h.length===0?"":h.length===1?h[0]:s(h).join(":"),b=f?y+el:y,w=b+g;if(o.indexOf(w)>-1)continue;o.push(w);const A=i(g,v);for(let T=0;T<A.length;++T){const O=A[T];o.push(b+O)}l=u+(l.length>0?" "+l:l)}return l},z2=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=cf(n))&&(i&&(i+=" "),i+=r);return i},cf=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=cf(t[r]))&&(n&&(n+=" "),n+=e);return n},j2=(t,...e)=>{let n,r,i,s;const o=l=>{const c=e.reduce((u,d)=>d(u),t());return n=H2(c),r=n.cache.get,i=n.cache.set,s=a,a(l)},a=l=>{const c=r(l);if(c)return c;const u=W2(l,n);return i(l,u),u};return s=o,(...l)=>s(z2(...l))},U2=[],rt=t=>{const e=n=>n[t]||U2;return e.isThemeGetter=!0,e},uf=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,df=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Y2=/^\d+\/\d+$/,X2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,q2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,K2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,J2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Q2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ir=t=>Y2.test(t),Pe=t=>!!t&&!Number.isNaN(Number(t)),Gn=t=>!!t&&Number.isInteger(Number(t)),ma=t=>t.endsWith("%")&&Pe(t.slice(0,-1)),_n=t=>X2.test(t),Z2=()=>!0,ev=t=>q2.test(t)&&!K2.test(t),hf=()=>!1,tv=t=>J2.test(t),nv=t=>Q2.test(t),rv=t=>!pe(t)&&!ge(t),iv=t=>oi(t,gf,hf),pe=t=>uf.test(t),ur=t=>oi(t,mf,ev),va=t=>oi(t,cv,Pe),Cu=t=>oi(t,ff,hf),sv=t=>oi(t,pf,nv),_s=t=>oi(t,vf,tv),ge=t=>df.test(t),vi=t=>ai(t,mf),ov=t=>ai(t,uv),Eu=t=>ai(t,ff),av=t=>ai(t,gf),lv=t=>ai(t,pf),xs=t=>ai(t,vf,!0),oi=(t,e,n)=>{const r=uf.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ai=(t,e,n=!1)=>{const r=df.exec(t);return r?r[1]?e(r[1]):n:!1},ff=t=>t==="position"||t==="percentage",pf=t=>t==="image"||t==="url",gf=t=>t==="length"||t==="size"||t==="bg-size",mf=t=>t==="length",cv=t=>t==="number",uv=t=>t==="family-name",vf=t=>t==="shadow",dv=()=>{const t=rt("color"),e=rt("font"),n=rt("text"),r=rt("font-weight"),i=rt("tracking"),s=rt("leading"),o=rt("breakpoint"),a=rt("container"),l=rt("spacing"),c=rt("radius"),u=rt("shadow"),d=rt("inset-shadow"),h=rt("text-shadow"),f=rt("drop-shadow"),p=rt("blur"),m=rt("perspective"),v=rt("aspect"),g=rt("ease"),y=rt("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...w(),ge,pe],T=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],k=()=>[ge,pe,l],D=()=>[Ir,"full","auto",...k()],F=()=>[Gn,"none","subgrid",ge,pe],oe=()=>["auto",{span:["full",Gn,ge,pe]},Gn,ge,pe],q=()=>[Gn,"auto",ge,pe],he=()=>["auto","min","max","fr",ge,pe],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],P=()=>["auto",...k()],I=()=>[Ir,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],C=()=>[t,ge,pe],B=()=>[...w(),Eu,Cu,{position:[ge,pe]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",av,iv,{size:[ge,pe]}],ye=()=>[ma,vi,ur],me=()=>["","none","full",c,ge,pe],Te=()=>["",Pe,vi,ur],nt=()=>["solid","dashed","dotted","double"],Qe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>[Pe,ma,Eu,Cu],ue=()=>["","none",p,ge,pe],ee=()=>["none",Pe,ge,pe],ve=()=>["none",Pe,ge,pe],Ae=()=>[Pe,ge,pe],x=()=>[Ir,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_n],breakpoint:[_n],color:[Z2],container:[_n],"drop-shadow":[_n],ease:["in","out","in-out"],font:[rv],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_n],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_n],shadow:[_n],spacing:["px",Pe],text:[_n],"text-shadow":[_n],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ir,pe,ge,v]}],container:["container"],columns:[{columns:[Pe,pe,ge,a]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Gn,"auto",ge,pe]}],basis:[{basis:[Ir,"full","auto",a,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,Ir,"auto","initial","none",pe]}],grow:[{grow:["",Pe,ge,pe]}],shrink:[{shrink:["",Pe,ge,pe]}],order:[{order:[Gn,"first","last","none",ge,pe]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:oe()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:oe()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":he()}],"auto-rows":[{"auto-rows":he()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:P()}],mx:[{mx:P()}],my:[{my:P()}],ms:[{ms:P()}],me:[{me:P()}],mt:[{mt:P()}],mr:[{mr:P()}],mb:[{mb:P()}],ml:[{ml:P()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[a,"screen",...I()]}],"min-w":[{"min-w":[a,"screen","none",...I()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",n,vi,ur]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ge,va]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ma,pe]}],"font-family":[{font:[ov,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ge,pe]}],"line-clamp":[{"line-clamp":[Pe,"none",ge,va]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",ge,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...nt(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",ge,ur]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[Pe,"auto",ge,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Gn,ge,pe],radial:["",ge,pe],conic:[Gn,ge,pe]},lv,sv]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:ye()}],"gradient-via-pos":[{via:ye()}],"gradient-to-pos":[{to:ye()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:Te()}],"border-w-x":[{"border-x":Te()}],"border-w-y":[{"border-y":Te()}],"border-w-s":[{"border-s":Te()}],"border-w-e":[{"border-e":Te()}],"border-w-t":[{"border-t":Te()}],"border-w-r":[{"border-r":Te()}],"border-w-b":[{"border-b":Te()}],"border-w-l":[{"border-l":Te()}],"divide-x":[{"divide-x":Te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...nt(),"hidden","none"]}],"divide-style":[{divide:[...nt(),"hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...nt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,ge,pe]}],"outline-w":[{outline:["",Pe,vi,ur]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",u,xs,_s]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",d,xs,_s]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:Te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[Pe,ur]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":Te()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",h,xs,_s]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[Pe,ge,pe]}],"mix-blend":[{"mix-blend":[...Qe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Qe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":N()}],"mask-image-linear-to-pos":[{"mask-linear-to":N()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":N()}],"mask-image-t-to-pos":[{"mask-t-to":N()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":N()}],"mask-image-r-to-pos":[{"mask-r-to":N()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":N()}],"mask-image-b-to-pos":[{"mask-b-to":N()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":N()}],"mask-image-l-to-pos":[{"mask-l-to":N()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":N()}],"mask-image-x-to-pos":[{"mask-x-to":N()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":N()}],"mask-image-y-to-pos":[{"mask-y-to":N()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[ge,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":N()}],"mask-image-radial-to-pos":[{"mask-radial-to":N()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":N()}],"mask-image-conic-to-pos":[{"mask-conic-to":N()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,pe]}],filter:[{filter:["","none",ge,pe]}],blur:[{blur:ue()}],brightness:[{brightness:[Pe,ge,pe]}],contrast:[{contrast:[Pe,ge,pe]}],"drop-shadow":[{"drop-shadow":["","none",f,xs,_s]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",Pe,ge,pe]}],"hue-rotate":[{"hue-rotate":[Pe,ge,pe]}],invert:[{invert:["",Pe,ge,pe]}],saturate:[{saturate:[Pe,ge,pe]}],sepia:[{sepia:["",Pe,ge,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,pe]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,ge,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,ge,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,ge,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,ge,pe]}],"backdrop-invert":[{"backdrop-invert":["",Pe,ge,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,ge,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,ge,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,ge,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",ge,pe]}],ease:[{ease:["linear","initial",g,ge,pe]}],delay:[{delay:[Pe,ge,pe]}],animate:[{animate:["none",y,ge,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,ge,pe]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:ee()}],"rotate-x":[{"rotate-x":ee()}],"rotate-y":[{"rotate-y":ee()}],"rotate-z":[{"rotate-z":ee()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:Ae()}],"skew-x":[{"skew-x":Ae()}],"skew-y":[{"skew-y":Ae()}],transform:[{transform:[ge,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:x()}],"translate-x":[{"translate-x":x()}],"translate-y":[{"translate-y":x()}],"translate-z":[{"translate-z":x()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,pe]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[Pe,vi,ur,va]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hv=j2(dv);function en(...t){return hv(sf(t))}const fv=["top","right","bottom","left"],Zn=Math.min,Mt=Math.max,ho=Math.round,Ss=Math.floor,dn=t=>({x:t,y:t}),pv={left:"right",right:"left",bottom:"top",top:"bottom"},gv={start:"end",end:"start"};function tl(t,e,n){return Mt(t,Zn(e,n))}function Rn(t,e){return typeof t=="function"?t(e):t}function On(t){return t.split("-")[0]}function li(t){return t.split("-")[1]}function Bl(t){return t==="x"?"y":"x"}function Gl(t){return t==="y"?"height":"width"}const mv=new Set(["top","bottom"]);function cn(t){return mv.has(On(t))?"y":"x"}function $l(t){return Bl(cn(t))}function vv(t,e,n){n===void 0&&(n=!1);const r=li(t),i=$l(t),s=Gl(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=fo(o)),[o,fo(o)]}function yv(t){const e=fo(t);return[nl(t),e,nl(e)]}function nl(t){return t.replace(/start|end/g,e=>gv[e])}const Au=["left","right"],Pu=["right","left"],bv=["top","bottom"],wv=["bottom","top"];function _v(t,e,n){switch(t){case"top":case"bottom":return n?e?Pu:Au:e?Au:Pu;case"left":case"right":return e?bv:wv;default:return[]}}function xv(t,e,n,r){const i=li(t);let s=_v(On(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(nl)))),s}function fo(t){return t.replace(/left|right|bottom|top/g,e=>pv[e])}function Sv(t){return{top:0,right:0,bottom:0,left:0,...t}}function yf(t){return typeof t!="number"?Sv(t):{top:t,right:t,bottom:t,left:t}}function po(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Tu(t,e,n){let{reference:r,floating:i}=t;const s=cn(e),o=$l(e),a=Gl(o),l=On(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(li(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}const Cv=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=Tu(c,r,l),h=r,f={},p=0;for(let m=0;m<a.length;m++){const{name:v,fn:g}=a[m],{x:y,y:b,data:w,reset:A}=await g({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=b??d,f={...f,[v]:{...f[v],...w}},A&&p<=50&&(p++,typeof A=="object"&&(A.placement&&(h=A.placement),A.rects&&(c=A.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:u,y:d}=Tu(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function Zi(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Rn(e,t),p=yf(f),v=a[h?d==="floating"?"reference":"floating":d],g=po(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},A=po(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(g.top-A.top+p.top)/w.y,bottom:(A.bottom-g.bottom+p.bottom)/w.y,left:(g.left-A.left+p.left)/w.x,right:(A.right-g.right+p.right)/w.x}}const Ev=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Rn(t,e)||{};if(c==null)return{};const d=yf(u),h={x:n,y:r},f=$l(i),p=Gl(f),m=await o.getDimensions(c),v=f==="y",g=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[f]-h[f]-s.floating[p],A=h[f]-s.reference[f],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let O=T?T[b]:0;(!O||!await(o.isElement==null?void 0:o.isElement(T)))&&(O=a.floating[b]||s.floating[p]);const k=w/2-A/2,D=O/2-m[p]/2-1,F=Zn(d[g],D),oe=Zn(d[y],D),q=F,he=O-m[p]-oe,$=O/2-m[p]/2+k,U=tl(q,$,he),P=!l.arrow&&li(i)!=null&&$!==U&&s.reference[p]/2-($<q?F:oe)-m[p]/2<0,I=P?$<q?$-q:$-he:0;return{[f]:h[f]+I,data:{[f]:U,centerOffset:$-U-I,...P&&{alignmentOffset:I}},reset:P}}}),Av=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...v}=Rn(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=On(i),y=cn(a),b=On(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=h||(b||!m?[fo(a)]:yv(a)),T=p!=="none";!h&&T&&A.push(...xv(a,m,p,w));const O=[a,...A],k=await Zi(e,v),D=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&D.push(k[g]),d){const $=vv(i,o,w);D.push(k[$[0]],k[$[1]])}if(F=[...F,{placement:i,overflows:D}],!D.every($=>$<=0)){var oe,q;const $=(((oe=s.flip)==null?void 0:oe.index)||0)+1,U=O[$];if(U&&(!(d==="alignment"?y!==cn(U):!1)||F.every(C=>cn(C.placement)===y?C.overflows[0]>0:!0)))return{data:{index:$,overflows:F},reset:{placement:U}};let P=(q=F.filter(I=>I.overflows[0]<=0).sort((I,C)=>I.overflows[1]-C.overflows[1])[0])==null?void 0:q.placement;if(!P)switch(f){case"bestFit":{var he;const I=(he=F.filter(C=>{if(T){const B=cn(C.placement);return B===y||B==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(B=>B>0).reduce((B,ie)=>B+ie,0)]).sort((C,B)=>C[1]-B[1])[0])==null?void 0:he[0];I&&(P=I);break}case"initialPlacement":P=a;break}if(i!==P)return{reset:{placement:P}}}return{}}}};function ku(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ru(t){return fv.some(e=>t[e]>=0)}const Pv=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Rn(t,e);switch(r){case"referenceHidden":{const s=await Zi(e,{...i,elementContext:"reference"}),o=ku(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ru(o)}}}case"escaped":{const s=await Zi(e,{...i,altBoundary:!0}),o=ku(s,n.floating);return{data:{escapedOffsets:o,escaped:Ru(o)}}}default:return{}}}}},bf=new Set(["left","top"]);async function Tv(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=On(n),a=li(n),l=cn(n)==="y",c=bf.has(o)?-1:1,u=s&&l?-1:1,d=Rn(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const kv=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Tv(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Rv=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:g,y}=v;return{x:g,y}}},...l}=Rn(t,e),c={x:n,y:r},u=await Zi(e,l),d=cn(On(i)),h=Bl(d);let f=c[h],p=c[d];if(s){const v=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=f+u[v],b=f-u[g];f=tl(y,f,b)}if(o){const v=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=p+u[v],b=p-u[g];p=tl(y,p,b)}const m=a.fn({...e,[h]:f,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[d]:o}}}}}},Ov=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Rn(t,e),u={x:n,y:r},d=cn(i),h=Bl(d);let f=u[h],p=u[d];const m=Rn(a,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=h==="y"?"height":"width",w=s.reference[h]-s.floating[b]+v.mainAxis,A=s.reference[h]+s.reference[b]-v.mainAxis;f<w?f=w:f>A&&(f=A)}if(c){var g,y;const b=h==="y"?"width":"height",w=bf.has(On(i)),A=s.reference[d]-s.floating[b]+(w&&((g=o.offset)==null?void 0:g[d])||0)+(w?0:v.crossAxis),T=s.reference[d]+s.reference[b]+(w?0:((y=o.offset)==null?void 0:y[d])||0)-(w?v.crossAxis:0);p<A?p=A:p>T&&(p=T)}return{[h]:f,[d]:p}}}},Mv=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Rn(t,e),u=await Zi(e,c),d=On(i),h=li(i),f=cn(i)==="y",{width:p,height:m}=s.floating;let v,g;d==="top"||d==="bottom"?(v=d,g=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=d,v=h==="end"?"top":"bottom");const y=m-u.top-u.bottom,b=p-u.left-u.right,w=Zn(m-u[v],y),A=Zn(p-u[g],b),T=!e.middlewareData.shift;let O=w,k=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=y),T&&!h){const F=Mt(u.left,0),oe=Mt(u.right,0),q=Mt(u.top,0),he=Mt(u.bottom,0);f?k=p-2*(F!==0||oe!==0?F+oe:Mt(u.left,u.right)):O=m-2*(q!==0||he!==0?q+he:Mt(u.top,u.bottom))}await l({...e,availableWidth:k,availableHeight:O});const D=await o.getDimensions(a.floating);return p!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function Ho(){return typeof window<"u"}function Cr(t){return Hl(t)?(t.nodeName||"").toLowerCase():"#document"}function Nt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vn(t){var e;return(e=(Hl(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Hl(t){return Ho()?t instanceof Node||t instanceof Nt(t).Node:!1}function Jt(t){return Ho()?t instanceof Element||t instanceof Nt(t).Element:!1}function fn(t){return Ho()?t instanceof HTMLElement||t instanceof Nt(t).HTMLElement:!1}function Ou(t){return!Ho()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nt(t).ShadowRoot}const Iv=new Set(["inline","contents"]);function cs(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Qt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Iv.has(i)}const Lv=new Set(["table","td","th"]);function Dv(t){return Lv.has(Cr(t))}const Nv=[":popover-open",":modal"];function Vo(t){return Nv.some(e=>{try{return t.matches(e)}catch{return!1}})}const Fv=["transform","translate","scale","rotate","perspective"],Bv=["transform","translate","scale","rotate","perspective","filter"],Gv=["paint","layout","strict","content"];function Vl(t){const e=Wl(),n=Jt(t)?Qt(t):t;return Fv.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Bv.some(r=>(n.willChange||"").includes(r))||Gv.some(r=>(n.contain||"").includes(r))}function $v(t){let e=er(t);for(;fn(e)&&!ei(e);){if(Vl(e))return e;if(Vo(e))return null;e=er(e)}return null}function Wl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Hv=new Set(["html","body","#document"]);function ei(t){return Hv.has(Cr(t))}function Qt(t){return Nt(t).getComputedStyle(t)}function Wo(t){return Jt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function er(t){if(Cr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ou(t)&&t.host||vn(t);return Ou(e)?e.host:e}function wf(t){const e=er(t);return ei(e)?t.ownerDocument?t.ownerDocument.body:t.body:fn(e)&&cs(e)?e:wf(e)}function es(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=wf(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Nt(i);if(s){const a=rl(o);return e.concat(o,o.visualViewport||[],cs(i)?i:[],a&&n?es(a):[])}return e.concat(i,es(i,[],n))}function rl(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _f(t){const e=Qt(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=fn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=ho(n)!==s||ho(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function zl(t){return Jt(t)?t:t.contextElement}function qr(t){const e=zl(t);if(!fn(e))return dn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=_f(e);let o=(s?ho(n.width):n.width)/r,a=(s?ho(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Vv=dn(0);function xf(t){const e=Nt(t);return!Wl()||!e.visualViewport?Vv:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Wv(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nt(t)?!1:e}function _r(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=zl(t);let o=dn(1);e&&(r?Jt(r)&&(o=qr(r)):o=qr(t));const a=Wv(s,n,r)?xf(s):dn(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Nt(s),f=r&&Jt(r)?Nt(r):r;let p=h,m=rl(p);for(;m&&r&&f!==p;){const v=qr(m),g=m.getBoundingClientRect(),y=Qt(m),b=g.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,w=g.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=b,c+=w,p=Nt(m),m=rl(p)}}return po({width:u,height:d,x:l,y:c})}function zo(t,e){const n=Wo(t).scrollLeft;return e?e.left+n:_r(vn(t)).left+n}function Sf(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-zo(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function zv(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=vn(r),a=e?Vo(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=dn(1);const u=dn(0),d=fn(r);if((d||!d&&!s)&&((Cr(r)!=="body"||cs(o))&&(l=Wo(r)),fn(r))){const f=_r(r);c=qr(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!d&&!s?Sf(o,l):dn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function jv(t){return Array.from(t.getClientRects())}function Uv(t){const e=vn(t),n=Wo(t),r=t.ownerDocument.body,i=Mt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Mt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+zo(t);const a=-n.scrollTop;return Qt(r).direction==="rtl"&&(o+=Mt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const Mu=25;function Yv(t,e){const n=Nt(t),r=vn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=Wl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=zo(r);if(c<=0){const u=r.ownerDocument,d=u.body,h=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-f);p<=Mu&&(s-=p)}else c<=Mu&&(s+=c);return{width:s,height:o,x:a,y:l}}const Xv=new Set(["absolute","fixed"]);function qv(t,e){const n=_r(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=fn(t)?qr(t):dn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function Iu(t,e,n){let r;if(e==="viewport")r=Yv(t,n);else if(e==="document")r=Uv(vn(t));else if(Jt(e))r=qv(e,n);else{const i=xf(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return po(r)}function Cf(t,e){const n=er(t);return n===e||!Jt(n)||ei(n)?!1:Qt(n).position==="fixed"||Cf(n,e)}function Kv(t,e){const n=e.get(t);if(n)return n;let r=es(t,[],!1).filter(a=>Jt(a)&&Cr(a)!=="body"),i=null;const s=Qt(t).position==="fixed";let o=s?er(t):t;for(;Jt(o)&&!ei(o);){const a=Qt(o),l=Vl(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&Xv.has(i.position)||cs(o)&&!l&&Cf(t,o))?r=r.filter(u=>u!==o):i=a,o=er(o)}return e.set(t,r),r}function Jv(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Vo(e)?[]:Kv(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=Iu(e,u,i);return c.top=Mt(d.top,c.top),c.right=Zn(d.right,c.right),c.bottom=Zn(d.bottom,c.bottom),c.left=Mt(d.left,c.left),c},Iu(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Qv(t){const{width:e,height:n}=_f(t);return{width:e,height:n}}function Zv(t,e,n){const r=fn(e),i=vn(e),s=n==="fixed",o=_r(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=dn(0);function c(){l.x=zo(i)}if(r||!r&&!s)if((Cr(e)!=="body"||cs(i))&&(a=Wo(e)),r){const f=_r(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?Sf(i,a):dn(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function ya(t){return Qt(t).position==="static"}function Lu(t,e){if(!fn(t)||Qt(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return vn(t)===n&&(n=n.ownerDocument.body),n}function Ef(t,e){const n=Nt(t);if(Vo(t))return n;if(!fn(t)){let i=er(t);for(;i&&!ei(i);){if(Jt(i)&&!ya(i))return i;i=er(i)}return n}let r=Lu(t,e);for(;r&&Dv(r)&&ya(r);)r=Lu(r,e);return r&&ei(r)&&ya(r)&&!Vl(r)?n:r||$v(t)||n}const ey=async function(t){const e=this.getOffsetParent||Ef,n=this.getDimensions,r=await n(t.floating);return{reference:Zv(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ty(t){return Qt(t).direction==="rtl"}const ny={convertOffsetParentRelativeRectToViewportRelativeRect:zv,getDocumentElement:vn,getClippingRect:Jv,getOffsetParent:Ef,getElementRects:ey,getClientRects:jv,getDimensions:Qv,getScale:qr,isElement:Jt,isRTL:ty};function Af(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ry(t,e){let n=null,r;const i=vn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const p=Ss(d),m=Ss(i.clientWidth-(u+h)),v=Ss(i.clientHeight-(d+f)),g=Ss(u),b={rootMargin:-p+"px "+-m+"px "+-v+"px "+-g+"px",threshold:Mt(0,Zn(1,l))||1};let w=!0;function A(T){const O=T[0].intersectionRatio;if(O!==l){if(!w)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!Af(c,t.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(A,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,b)}n.observe(t)}return o(!0),s}function iy(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=zl(t),u=i||s?[...c?es(c):[],...es(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const d=c&&a?ry(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(g=>{let[y]=g;y&&y.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let p,m=l?_r(t):null;l&&v();function v(){const g=_r(t);m&&!Af(m,g)&&n(),m=g,p=requestAnimationFrame(v)}return n(),()=>{var g;u.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),d?.(),(g=f)==null||g.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const sy=kv,oy=Rv,Du=Av,ay=Mv,ly=Pv,cy=Ev,uy=Ov,dy=(t,e,n)=>{const r=new Map,i={platform:ny,...n},s={...i.platform,_c:r};return Cv(t,e,{...i,platform:s})};function hy(t){return t!=null&&typeof t=="object"&&"$el"in t}function il(t){if(hy(t)){const e=t.$el;return Hl(e)&&Cr(e)==="#comment"?null:e}return t}function Hr(t){return typeof t=="function"?t():_(t)}function fy(t){return{name:"arrow",options:t,fn(e){const n=il(Hr(t.element));return n==null?{}:cy({element:n,padding:t.padding}).fn(e)}}}function Pf(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Nu(t,e){const n=Pf(t);return Math.round(e*n)/n}function py(t,e,n){n===void 0&&(n={});const r=n.whileElementsMounted,i=z(()=>{var O;return(O=Hr(n.open))!=null?O:!0}),s=z(()=>Hr(n.middleware)),o=z(()=>{var O;return(O=Hr(n.placement))!=null?O:"bottom"}),a=z(()=>{var O;return(O=Hr(n.strategy))!=null?O:"absolute"}),l=z(()=>{var O;return(O=Hr(n.transform))!=null?O:!0}),c=z(()=>il(t.value)),u=z(()=>il(e.value)),d=W(0),h=W(0),f=W(a.value),p=W(o.value),m=si({}),v=W(!1),g=z(()=>{const O={position:f.value,left:"0",top:"0"};if(!u.value)return O;const k=Nu(u.value,d.value),D=Nu(u.value,h.value);return l.value?{...O,transform:"translate("+k+"px, "+D+"px)",...Pf(u.value)>=1.5&&{willChange:"transform"}}:{position:f.value,left:k+"px",top:D+"px"}});let y;function b(){if(c.value==null||u.value==null)return;const O=i.value;dy(c.value,u.value,{middleware:s.value,placement:o.value,strategy:a.value}).then(k=>{d.value=k.x,h.value=k.y,f.value=k.strategy,p.value=k.placement,m.value=k.middlewareData,v.value=O!==!1})}function w(){typeof y=="function"&&(y(),y=void 0)}function A(){if(w(),r===void 0){b();return}if(c.value!=null&&u.value!=null){y=r(c.value,u.value,b);return}}function T(){i.value||(v.value=!1)}return Ee([s,o,a,i],b,{flush:"sync"}),Ee([c,u],A,{flush:"sync"}),Ee(i,T,{flush:"sync"}),ii()&&is(w),{x:Or(d),y:Or(h),strategy:Or(f),placement:Or(p),middlewareData:Or(m),isPositioned:Or(v),floatingStyles:g,update:b}}function In(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[i=>{const s=kt(r,i);if(s||s===null)return s;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},i=>(Yr(r,i),i)]}function jl(t,e,n){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),r.dispatchEvent(i)}function gy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var my=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const vr=gy(my);function vy(t,e){var n;const r=si();return Bt(()=>{r.value=t()},{...e,flush:(n=void 0)!=null?n:"sync"}),Jr(r)}function Ul(t){return ii()?(is(t),!0):!1}function yy(t){let e=!1,n;const r=Eo(!0);return(...i)=>(e||(n=r.run(()=>t(...i)),e=!0),n)}function by(t){let e=0,n,r;const i=()=>{e-=1,r&&e<=0&&(r.stop(),n=void 0,r=void 0)};return(...s)=>(e+=1,n||(r=Eo(!0),n=r.run(()=>t(...s))),Ul(i),n)}function us(t){return typeof t=="function"?t():_(t)}const nr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const wy=t=>typeof t<"u",_y=t=>t!=null,xy=Object.prototype.toString,Sy=t=>xy.call(t)==="[object Object]",Cy=()=>{},Fu=Ey();function Ey(){var t,e;return nr&&((t=window?.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window?.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function Ay(t){return At()}function Py(t,e){Ay()&&ah(t,e)}function rr(t){var e;const n=us(t);return(e=n?.$el)!=null?e:n}const jo=nr?window:void 0;function Tf(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=jo):[e,n,r,i]=t,!e)return Cy;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],o=()=>{s.forEach(u=>u()),s.length=0},a=(u,d,h,f)=>(u.addEventListener(d,h,f),()=>u.removeEventListener(d,h,f)),l=Ee(()=>[rr(e),us(i)],([u,d])=>{if(o(),!u)return;const h=Sy(d)?{...d}:d;s.push(...n.flatMap(f=>r.map(p=>a(u,f,p,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return Ul(c),c}function Ty(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function ky(...t){let e,n,r={};t.length===3?(e=t[0],n=t[1],r=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],r=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:i=jo,eventName:s="keydown",passive:o=!1,dedupe:a=!1}=r,l=Ty(e);return Tf(i,s,c=>{c.repeat&&us(a)||l(c)&&n(c)},o)}function kf(){const t=W(!1),e=At();return e&&Ke(()=>{t.value=!0},e),t}function Ry(t){const e=kf();return z(()=>(e.value,!!t()))}function Oy(t,e,n={}){const{window:r=jo,...i}=n;let s;const o=Ry(()=>r&&"MutationObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=z(()=>{const h=us(t),f=(Array.isArray(h)?h:[h]).map(rr).filter(_y);return new Set(f)}),c=Ee(()=>l.value,h=>{a(),o.value&&h.size&&(s=new MutationObserver(e),h.forEach(f=>s.observe(f,i)))},{immediate:!0,flush:"post"}),u=()=>s?.takeRecords(),d=()=>{a(),c()};return Ul(d),{isSupported:o,stop:d,takeRecords:u}}function My(t){return JSON.parse(JSON.stringify(t))}function Ei(t,e,n,r={}){var i,s,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:h}=r,f=At(),p=n||f?.emit||((i=f?.$emit)==null?void 0:i.bind(f))||((o=(s=f?.proxy)==null?void 0:s.$emit)==null?void 0:o.bind(f?.proxy));let m=c;e||(e="modelValue"),m=m||`update:${e.toString()}`;const v=b=>a?typeof a=="function"?a(b):My(b):b,g=()=>wy(t[e])?v(t[e]):d,y=b=>{h?h(b)&&p(m,b):p(m,b)};if(l){const b=g(),w=W(b);let A=!1;return Ee(()=>t[e],T=>{A||(A=!0,w.value=v(T),Be(()=>A=!1))}),Ee(w,T=>{!A&&(T!==t[e]||u)&&y(T)},{deep:u}),w}else return z({get(){return g()},set(b){y(b)}})}function Yl(t){return t?t.flatMap(e=>e.type===Ue?Yl(e.children):[e]):[]}function Kr(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function ba(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function sl(t,e,n=".",r){if(!ba(e))return sl(t,{},n);const i=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const o=t[s];o!=null&&(Array.isArray(o)&&Array.isArray(i[s])?i[s]=[...o,...i[s]]:ba(o)&&ba(i[s])?i[s]=sl(o,i[s],(n?`${n}.`:"")+s.toString()):i[s]=o)}return i}function Iy(t){return(...e)=>e.reduce((n,r)=>sl(n,r,""),{})}const Ly=Iy(),[Xl]=In("ConfigProvider");let Dy="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Ny=(t=21)=>{let e="",n=t;for(;n--;)e+=Dy[Math.random()*64|0];return e};const Fy=by(()=>{const t=W(new Map),e=W(),n=z(()=>{for(const o of t.value.values())if(o)return!0;return!1}),r=Xl({scrollBody:W(!0)});let i=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",Fu&&i?.(),e.value=void 0};return Ee(n,(o,a)=>{var l;if(!nr)return;if(!o){a&&s();return}e.value===void 0&&(e.value=document.body.style.overflow);const c=window.innerWidth-document.documentElement.clientWidth,u={padding:c,margin:0},d=(l=r.scrollBody)!=null&&l.value?typeof r.scrollBody.value=="object"?Ly({padding:r.scrollBody.value.padding===!0?c:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?c:r.scrollBody.value.margin},u):u:{padding:0,margin:0};c>0&&(document.body.style.paddingRight=typeof d.padding=="number"?`${d.padding}px`:String(d.padding),document.body.style.marginRight=typeof d.margin=="number"?`${d.margin}px`:String(d.margin),document.body.style.setProperty("--scrollbar-width",`${c}px`),document.body.style.overflow="hidden"),Fu&&(i=Tf(document,"touchmove",h=>By(h),{passive:!1})),Be(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function Rf(t){const e=Ny(6),n=Fy();n.value.set(e,t??!1);const r=z({get:()=>n.value.get(e)??!1,set:i=>n.value.set(e,i)});return Py(()=>{n.value.delete(e)}),r}function Of(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:Of(n)}}function By(t){const e=t||window.event,n=e.target;return n instanceof Element&&Of(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.cancelable&&e.preventDefault(),!1)}function Gy(t){const e=Xl({dir:W("ltr")});return z(()=>{var n;return t?.value||((n=e.dir)==null?void 0:n.value)||"ltr"})}function $y(t){const e=At(),n=e?.type.emits,r={};return n!=null&&n.length||console.warn(`No emitted event found. Please check component: ${e?.type.__name}`),n?.forEach(i=>{r[Hs(Rt(i))]=(...s)=>t(i,...s)}),r}let wa=0;function Hy(){Bt(t=>{if(!nr)return;const e=document.querySelectorAll("[data-radix-focus-guard]");document.body.insertAdjacentElement("afterbegin",e[0]??Bu()),document.body.insertAdjacentElement("beforeend",e[1]??Bu()),wa++,t(()=>{wa===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),wa--})})}function Bu(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function Vy(t){return z(()=>{var e;return us(t)?!!((e=rr(t))!=null&&e.closest("form")):!0})}function Uo(t){const e=At(),n=Object.keys(e?.type.props??{}).reduce((i,s)=>{const o=(e?.type.props[s]).default;return o!==void 0&&(i[s]=o),i},{}),r=Xd(t);return z(()=>{const i={},s=e?.vnode.props??{};return Object.keys(s).forEach(o=>{i[Rt(o)]=s[o]}),Object.keys({...n,...i}).reduce((o,a)=>(r.value[a]!==void 0&&(o[a]=r.value[a]),o),{})})}function Ln(t,e){const n=Uo(t),r=e?$y(e):{};return z(()=>({...n.value,...r}))}function ft(){const t=At(),e=W(),n=z(()=>{var o,a;return["#text","#comment"].includes((o=e.value)==null?void 0:o.$el.nodeName)?(a=e.value)==null?void 0:a.$el.nextElementSibling:rr(e)}),r=Object.assign({},t.exposed),i={};for(const o in t.props)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>r[o]});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=i;function s(o){e.value=o,o&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=i)}return{forwardRef:s,currentRef:e,currentElement:n}}var Wy=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Lr=new WeakMap,Cs=new WeakMap,Es={},_a=0,Mf=function(t){return t&&(t.host||Mf(t.parentNode))},zy=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Mf(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},jy=function(t,e,n,r){var i=zy(e,Array.isArray(t)?t:[t]);Es[n]||(Es[n]=new WeakMap);var s=Es[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var f=h.getAttribute(r),p=f!==null&&f!=="false",m=(Lr.get(h)||0)+1,v=(s.get(h)||0)+1;Lr.set(h,m),s.set(h,v),o.push(h),m===1&&p&&Cs.set(h,!0),v===1&&h.setAttribute(n,"true"),p||h.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return u(e),a.clear(),_a++,function(){o.forEach(function(d){var h=Lr.get(d)-1,f=s.get(d)-1;Lr.set(d,h),s.set(d,f),h||(Cs.has(d)||d.removeAttribute(r),Cs.delete(d)),f||d.removeAttribute(n)}),_a--,_a||(Lr=new WeakMap,Lr=new WeakMap,Cs=new WeakMap,Es={})}},Uy=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Wy(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),jy(r,i,n,"aria-hidden")):function(){return null}};function If(t){let e;Ee(()=>rr(t),n=>{n?e=Uy(n):e&&e()}),Wt(()=>{e&&e()})}let Yy=0;function ts(t,e="radix"){const n=Xl({useId:void 0});return Ac?`${e}-${Ac()}`:n.useId?`${e}-${n.useId()}`:`${e}-${++Yy}`}function Xy(t){const e=W(),n=z(()=>{var i;return((i=e.value)==null?void 0:i.width)??0}),r=z(()=>{var i;return((i=e.value)==null?void 0:i.height)??0});return Ke(()=>{const i=rr(t);if(i){e.value={width:i.offsetWidth,height:i.offsetHeight};const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,c;if("borderBoxSize"in a){const u=a.borderBoxSize,d=Array.isArray(u)?u[0]:u;l=d.inlineSize,c=d.blockSize}else l=i.offsetWidth,c=i.offsetHeight;e.value={width:l,height:c}});return s.observe(i,{box:"border-box"}),()=>s.unobserve(i)}else e.value=void 0}),{width:n,height:r}}function qy(t,e){const n=W(t);function r(i){return e[n.value][i]??n.value}return{state:n,dispatch:i=>{n.value=r(i)}}}const ql=re({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{var r,i;if(!n.default)return null;const s=Yl(n.default()),o=s.findIndex(u=>u.type!==qt);if(o===-1)return s;const a=s[o];(r=a.props)==null||delete r.ref;const l=a.props?ke(e,a.props):e;e.class&&(i=a.props)!=null&&i.class&&delete a.props.class;const c=Qn(a,l);for(const u in l)u.startsWith("on")&&(c.props||(c.props={}),c.props[u]=l[u]);return s.length===1?c:(s[o]=c,s)}}}),yt=re({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&["area","img","input"].includes(r)?()=>Ct(r,e):r!=="template"?()=>Ct(t.as,e,{default:n.default}):()=>Ct(ql,e,{default:n.default})}});function Lf(){const t=W(),e=z(()=>{var n,r;return["#text","#comment"].includes((n=t.value)==null?void 0:n.$el.nodeName)?(r=t.value)==null?void 0:r.$el.nextElementSibling:rr(t)});return{primitiveElement:t,currentElement:e}}function Ky(t,e){var n;const r=W({}),i=W("none"),s=W(t),o=t.value?"mounted":"unmounted";let a;const l=((n=e.value)==null?void 0:n.ownerDocument.defaultView)??jo,{state:c,dispatch:u}=qy(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),d=v=>{var g;if(nr){const y=new CustomEvent(v,{bubbles:!1,cancelable:!1});(g=e.value)==null||g.dispatchEvent(y)}};Ee(t,async(v,g)=>{var y;const b=g!==v;if(await Be(),b){const w=i.value,A=As(e.value);v?(u("MOUNT"),d("enter"),A==="none"&&d("after-enter")):A==="none"||((y=r.value)==null?void 0:y.display)==="none"?(u("UNMOUNT"),d("leave"),d("after-leave")):g&&w!==A?(u("ANIMATION_OUT"),d("leave")):(u("UNMOUNT"),d("after-leave"))}},{immediate:!0});const h=v=>{const g=As(e.value),y=g.includes(v.animationName),b=c.value==="mounted"?"enter":"leave";if(v.target===e.value&&y&&(d(`after-${b}`),u("ANIMATION_END"),!s.value)){const w=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",a=l?.setTimeout(()=>{var A;((A=e.value)==null?void 0:A.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=w)})}v.target===e.value&&g==="none"&&u("ANIMATION_END")},f=v=>{v.target===e.value&&(i.value=As(e.value))},p=Ee(e,(v,g)=>{v?(r.value=getComputedStyle(v),v.addEventListener("animationstart",f),v.addEventListener("animationcancel",h),v.addEventListener("animationend",h)):(u("ANIMATION_END"),a!==void 0&&l?.clearTimeout(a),g?.removeEventListener("animationstart",f),g?.removeEventListener("animationcancel",h),g?.removeEventListener("animationend",h))},{immediate:!0}),m=Ee(c,()=>{const v=As(e.value);i.value=c.value==="mounted"?v:"none"});return Wt(()=>{p(),m()}),{isPresent:z(()=>["mounted","unmountSuspended"].includes(c.value))}}function As(t){return t&&getComputedStyle(t).animationName||"none"}const Df=re({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){var r;const{present:i,forceMount:s}=gn(t),o=W(),{isPresent:a}=Ky(i,o);n({present:a});let l=e.default({present:a});l=Yl(l||[]);const c=At();if(l&&l?.length>1){const u=(r=c?.parent)!=null&&r.type.name?`<${c.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(d=>`  - ${d}`).join(`
`)].join(`
`))}return()=>s.value||i.value||a.value?Ct(e.default({present:a})[0],{ref:u=>{const d=rr(u);return typeof d?.hasAttribute>"u"||(d!=null&&d.hasAttribute("data-radix-popper-content-wrapper")?o.value=d.firstElementChild:o.value=d),d}}):null}}),Jy=re({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=kf();return(n,r)=>_(e)||n.forceMount?(L(),fe(O0,{key:0,to:n.to,disabled:n.disabled},[we(n.$slots,"default")],8,["to","disabled"])):Fe("",!0)}}),Qy="dismissableLayer.pointerDownOutside",Zy="dismissableLayer.focusOutside";function Nf(t,e){const n=e.closest("[data-dismissable-layer]"),r=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),i=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&r===n||i.indexOf(r)<i.indexOf(n))}function eb(t,e){var n;const r=((n=e?.value)==null?void 0:n.ownerDocument)??globalThis?.document,i=W(!1),s=W(()=>{});return Bt(o=>{if(!nr)return;const a=async c=>{const u=c.target;if(e!=null&&e.value){if(Nf(e.value,u)){i.value=!1;return}if(c.target&&!i.value){let d=function(){jl(Qy,t,h)};const h={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",s.value),s.value=d,r.addEventListener("click",s.value,{once:!0})):d()}else r.removeEventListener("click",s.value);i.value=!1}},l=window.setTimeout(()=>{r.addEventListener("pointerdown",a)},0);o(()=>{window.clearTimeout(l),r.removeEventListener("pointerdown",a),r.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>i.value=!0}}function tb(t,e){var n;const r=((n=e?.value)==null?void 0:n.ownerDocument)??globalThis?.document,i=W(!1);return Bt(s=>{if(!nr)return;const o=async a=>{e!=null&&e.value&&(await Be(),!(!e.value||Nf(e.value,a.target))&&a.target&&!i.value&&jl(Zy,t,{originalEvent:a}))};r.addEventListener("focusin",o),s(()=>r.removeEventListener("focusin",o))}),{onFocusCapture:()=>i.value=!0,onBlurCapture:()=>i.value=!1}}const xn=Sr({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ff=re({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:i,currentElement:s}=ft(),o=z(()=>{var p;return((p=s.value)==null?void 0:p.ownerDocument)??globalThis.document}),a=z(()=>xn.layersRoot),l=z(()=>s.value?Array.from(a.value).indexOf(s.value):-1),c=z(()=>xn.layersWithOutsidePointerEventsDisabled.size>0),u=z(()=>{const p=Array.from(a.value),[m]=[...xn.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(m);return l.value>=v}),d=eb(async p=>{const m=[...xn.branches].some(v=>v?.contains(p.target));!u.value||m||(r("pointerDownOutside",p),r("interactOutside",p),await Be(),p.defaultPrevented||r("dismiss"))},s),h=tb(p=>{[...xn.branches].some(m=>m?.contains(p.target))||(r("focusOutside",p),r("interactOutside",p),p.defaultPrevented||r("dismiss"))},s);ky("Escape",p=>{l.value===a.value.size-1&&(r("escapeKeyDown",p),p.defaultPrevented||r("dismiss"))});let f;return Bt(p=>{s.value&&(n.disableOutsidePointerEvents&&(xn.layersWithOutsidePointerEventsDisabled.size===0&&(f=o.value.body.style.pointerEvents,o.value.body.style.pointerEvents="none"),xn.layersWithOutsidePointerEventsDisabled.add(s.value)),a.value.add(s.value),p(()=>{n.disableOutsidePointerEvents&&xn.layersWithOutsidePointerEventsDisabled.size===1&&(o.value.body.style.pointerEvents=f)}))}),Bt(p=>{p(()=>{s.value&&(a.value.delete(s.value),xn.layersWithOutsidePointerEventsDisabled.delete(s.value))})}),(p,m)=>(L(),fe(_(yt),{ref:_(i),"as-child":p.asChild,as:p.as,"data-dismissable-layer":"",style:Zt({pointerEvents:c.value?u.value?"auto":"none":void 0}),onFocusCapture:_(h).onFocusCapture,onBlurCapture:_(h).onBlurCapture,onPointerdownCapture:_(d).onPointerDownCapture},{default:ne(()=>[we(p.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),xa="focusScope.autoFocusOnMount",Sa="focusScope.autoFocusOnUnmount",Gu={bubbles:!1,cancelable:!0};function nb(t,{select:e=!1}={}){const n=Kr();for(const r of t)if(Hn(r,{select:e}),Kr()!==n)return!0}function rb(t){const e=Bf(t),n=$u(e,t),r=$u(e.reverse(),t);return[n,r]}function Bf(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $u(t,e){for(const n of t)if(!ib(n,{upTo:e}))return n}function ib(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sb(t){return t instanceof HTMLInputElement&&"select"in t}function Hn(t,{select:e=!1}={}){if(t&&t.focus){const n=Kr();t.focus({preventScroll:!0}),t!==n&&sb(t)&&e&&t.select()}}const ob=yy(()=>W([]));function ab(){const t=ob();return{add(e){const n=t.value[0];e!==n&&n?.pause(),t.value=Hu(t.value,e),t.value.unshift(e)},remove(e){var n;t.value=Hu(t.value,e),(n=t.value[0])==null||n.resume()}}}function Hu(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function lb(t){return t.filter(e=>e.tagName!=="A")}const cb=re({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:e}){const n=t,r=e,{currentRef:i,currentElement:s}=ft(),o=W(null),a=ab(),l=Sr({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});Bt(u=>{if(!nr)return;const d=s.value;if(!n.trapped)return;function h(v){if(l.paused||!d)return;const g=v.target;d.contains(g)?o.value=g:Hn(o.value,{select:!0})}function f(v){if(l.paused||!d)return;const g=v.relatedTarget;g!==null&&(d.contains(g)||Hn(o.value,{select:!0}))}function p(v){d.contains(o.value)||Hn(d)}document.addEventListener("focusin",h),document.addEventListener("focusout",f);const m=new MutationObserver(p);d&&m.observe(d,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",f),m.disconnect()})}),Bt(async u=>{const d=s.value;if(await Be(),!d)return;a.add(l);const h=Kr();if(!d.contains(h)){const f=new CustomEvent(xa,Gu);d.addEventListener(xa,p=>r("mountAutoFocus",p)),d.dispatchEvent(f),f.defaultPrevented||(nb(lb(Bf(d)),{select:!0}),Kr()===h&&Hn(d))}u(()=>{d.removeEventListener(xa,m=>r("mountAutoFocus",m));const f=new CustomEvent(Sa,Gu),p=m=>{r("unmountAutoFocus",m)};d.addEventListener(Sa,p),d.dispatchEvent(f),setTimeout(()=>{f.defaultPrevented||Hn(h??document.body,{select:!0}),d.removeEventListener(Sa,p),a.remove(l)},0)})});function c(u){if(!n.loop&&!n.trapped||l.paused)return;const d=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,h=Kr();if(d&&h){const f=u.currentTarget,[p,m]=rb(f);p&&m?!u.shiftKey&&h===m?(u.preventDefault(),n.loop&&Hn(p,{select:!0})):u.shiftKey&&h===p&&(u.preventDefault(),n.loop&&Hn(m,{select:!0})):h===f&&u.preventDefault()}}return(u,d)=>(L(),fe(_(yt),{ref_key:"currentRef",ref:i,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:c},{default:ne(()=>[we(u.$slots,"default")]),_:3},8,["as-child","as"]))}}),[Gf,ub]=In("PopperRoot"),$f=re({inheritAttrs:!1,__name:"PopperRoot",setup(t){const e=W();return ub({anchor:e,onAnchorChange:n=>e.value=n}),(n,r)=>we(n.$slots,"default")}}),db=re({__name:"PopperAnchor",props:{element:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n,currentElement:r}=ft(),i=Gf();return Bt(()=>{i.onAnchorChange(e.element??r.value)}),(s,o)=>(L(),fe(_(yt),{ref:_(n),as:s.as,"as-child":s.asChild},{default:ne(()=>[we(s.$slots,"default")]),_:3},8,["as","as-child"]))}});function hb(t){return t!==null}function fb(t){return{name:"transformOrigin",options:t,fn(e){var n,r,i;const{placement:s,rects:o,middlewareData:a}=e,l=((n=a.arrow)==null?void 0:n.centerOffset)!==0,c=l?0:t.arrowWidth,u=l?0:t.arrowHeight,[d,h]=ol(s),f={start:"0%",center:"50%",end:"100%"}[h],p=(((r=a.arrow)==null?void 0:r.x)??0)+c/2,m=(((i=a.arrow)==null?void 0:i.y)??0)+u/2;let v="",g="";return d==="bottom"?(v=l?f:`${p}px`,g=`${-u}px`):d==="top"?(v=l?f:`${p}px`,g=`${o.floating.height+u}px`):d==="right"?(v=`${-u}px`,g=l?f:`${m}px`):d==="left"&&(v=`${o.floating.width+u}px`,g=l?f:`${m}px`),{data:{x:v,y:g}}}}}function ol(t){const[e,n="center"]=t.split("-");return[e,n]}const pb={side:"bottom",sideOffset:0,align:"center",alignOffset:0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,updatePositionStrategy:"optimized",prioritizePosition:!1},[jw,gb]=In("PopperContent"),al=re({inheritAttrs:!1,__name:"PopperContent",props:z0({side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},{...pb}),emits:["placed"],setup(t,{emit:e}){const n=t,r=e,i=Gf(),{forwardRef:s,currentElement:o}=ft(),a=W(),l=W(),{width:c,height:u}=Xy(l),d=z(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),h=z(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),f=z(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),p=z(()=>({padding:h.value,boundary:f.value.filter(hb),altBoundary:f.value.length>0})),m=vy(()=>[sy({mainAxis:n.sideOffset+u.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&Du({...p.value}),n.avoidCollisions&&oy({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?uy():void 0,...p.value}),!n.prioritizePosition&&n.avoidCollisions&&Du({...p.value}),ay({...p.value,apply:({elements:F,rects:oe,availableWidth:q,availableHeight:he})=>{const{width:$,height:U}=oe.reference,P=F.floating.style;P.setProperty("--radix-popper-available-width",`${q}px`),P.setProperty("--radix-popper-available-height",`${he}px`),P.setProperty("--radix-popper-anchor-width",`${$}px`),P.setProperty("--radix-popper-anchor-height",`${U}px`)}}),l.value&&fy({element:l.value,padding:n.arrowPadding}),fb({arrowWidth:c.value,arrowHeight:u.value}),n.hideWhenDetached&&ly({strategy:"referenceHidden",...p.value})]),{floatingStyles:v,placement:g,isPositioned:y,middlewareData:b}=py(i.anchor,a,{strategy:"fixed",placement:d,whileElementsMounted:(...F)=>iy(...F,{animationFrame:n.updatePositionStrategy==="always"}),middleware:m}),w=z(()=>ol(g.value)[0]),A=z(()=>ol(g.value)[1]);dg(()=>{y.value&&r("placed")});const T=z(()=>{var F;return((F=b.value.arrow)==null?void 0:F.centerOffset)!==0}),O=W("");Bt(()=>{o.value&&(O.value=window.getComputedStyle(o.value).zIndex)});const k=z(()=>{var F;return((F=b.value.arrow)==null?void 0:F.x)??0}),D=z(()=>{var F;return((F=b.value.arrow)==null?void 0:F.y)??0});return gb({placedSide:w,onArrowChange:F=>l.value=F,arrowX:k,arrowY:D,shouldHideArrow:T}),(F,oe)=>{var q,he,$;return L(),le("div",{ref_key:"floatingRef",ref:a,"data-radix-popper-content-wrapper":"",style:Zt({..._(v),transform:_(y)?_(v).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O.value,"--radix-popper-transform-origin":[(q=_(b).transformOrigin)==null?void 0:q.x,(he=_(b).transformOrigin)==null?void 0:he.y].join(" "),...(($=_(b).hide)==null?void 0:$.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[J(_(yt),ke({ref:_(s)},F.$attrs,{"as-child":n.asChild,as:F.as,"data-side":w.value,"data-align":A.value,style:{animation:_(y)?void 0:"none"}}),{default:ne(()=>[we(F.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}}),mb=re({__name:"VisuallyHidden",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){return ft(),(e,n)=>(L(),fe(_(yt),{as:e.as,"as-child":e.asChild,style:{position:"absolute",border:0,width:"1px",display:"inline-block",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:ne(()=>[we(e.$slots,"default")]),_:3},8,["as","as-child"]))}}),vb=re({__name:"VisuallyHiddenInput",props:{name:{},value:{},required:{type:Boolean},disabled:{type:Boolean}},setup(t){const e=t,n=z(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((r,i)=>typeof r=="object"?Object.entries(r).map(([s,o])=>({name:`[${i}][${e.name}][${s}]`,value:o})):{name:`[${e.name}][${i}]`,value:r}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([r,i])=>({name:`[${e.name}][${r}]`,value:i})):[]);return(r,i)=>(L(!0),le(Ue,null,kn(n.value,s=>(L(),fe(mb,{key:s.name,as:"input",type:"hidden",hidden:"",readonly:"",name:s.name,value:s.value,required:r.required,disabled:r.disabled},null,8,["name","value","required","disabled"]))),128))}}),yb="data-radix-vue-collection-item",[Kl,bb]=In("CollectionProvider");function wb(t=yb){const e=W(new Map),n=W(),r=bb({collectionRef:n,itemMap:e,attrName:t}),{getItems:i}=Sb(r),s=z(()=>Array.from(r.itemMap.value.values())),o=z(()=>r.itemMap.value.size);return{getItems:i,reactiveItems:s,itemMapSize:o}}const _b=re({name:"CollectionSlot",setup(t,{slots:e}){const n=Kl(),{primitiveElement:r,currentElement:i}=Lf();return Ee(i,()=>{n.collectionRef.value=i.value}),()=>Ct(ql,{ref:r},e)}}),xb=re({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(t,{slots:e,attrs:n}){const r=Kl(),{primitiveElement:i,currentElement:s}=Lf();return Bt(o=>{if(s.value){const a=Ro(s.value);r.itemMap.value.set(a,{ref:s.value,value:t.value}),o(()=>r.itemMap.value.delete(a))}}),()=>Ct(ql,{...n,[r.attrName]:"",ref:i},e)}});function Sb(t){const e=t??Kl();return{getItems:()=>{const n=e.collectionRef.value;if(!n)return[];const r=Array.from(n.querySelectorAll(`[${e.attrName}]`));return Array.from(e.itemMap.value.values()).sort((i,s)=>r.indexOf(i.ref)-r.indexOf(s.ref))}}}const[ci,Cb]=In("ComboboxRoot"),Eb=re({__name:"ComboboxRoot",props:{modelValue:{},defaultValue:{},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},searchTerm:{},selectedValue:{},multiple:{type:Boolean},disabled:{type:Boolean},name:{},dir:{},filterFunction:{},displayValue:{},resetSearchTermOnBlur:{type:Boolean,default:!0},resetSearchTermOnSelect:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:modelValue","update:open","update:searchTerm","update:selectedValue"],setup(t,{emit:e}){const n=t,r=e,{multiple:i,disabled:s,dir:o}=gn(n),a=Gy(o),l=Ei(n,"searchTerm",r,{defaultValue:"",passive:n.searchTerm===void 0}),c=Ei(n,"modelValue",r,{defaultValue:n.defaultValue??i.value?[]:void 0,passive:n.modelValue===void 0,deep:!0}),u=Ei(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),d=Ei(n,"selectedValue",r,{defaultValue:void 0,passive:n.selectedValue===void 0});async function h(B){var ie,ae;u.value=B,await Be(),B?(c.value&&(Array.isArray(c.value)&&i.value?d.value=(ie=b().find(ye=>{var me,Te;return((Te=(me=ye.ref)==null?void 0:me.dataset)==null?void 0:Te.state)==="checked"}))==null?void 0:ie.value:d.value=c.value),await Be(),(ae=m.value)==null||ae.focus(),he()):(p.value=!1,n.resetSearchTermOnBlur&&k("blur"))}function f(B){if(Array.isArray(c.value)&&i.value){const ie=c.value.findIndex(ye=>vr(ye,B)),ae=[...c.value];ie===-1?ae.push(B):ae.splice(ie,1),c.value=ae}else c.value=B,h(!1)}const p=W(!1),m=W(),v=W(),{forwardRef:g,currentElement:y}=ft(),{getItems:b,reactiveItems:w,itemMapSize:A}=wb("data-radix-vue-combobox-item"),T=W([]);Ee(()=>A.value,()=>{T.value=b().map(B=>B.value)},{immediate:!0,flush:"post"});const O=z(()=>{if(p.value){if(n.filterFunction)return n.filterFunction(T.value,l.value);const B=T.value.filter(ie=>typeof ie=="string");if(B.length)return B.filter(ie=>{var ae;return ie.toLowerCase().includes((ae=l.value)==null?void 0:ae.toLowerCase())})}return T.value});function k(B){const ie=B==="blur"||B==="select"&&n.resetSearchTermOnSelect;!i.value&&c.value&&!Array.isArray(c.value)?n.displayValue?l.value=n.displayValue(c.value):typeof c.value!="object"?l.value=c.value.toString():ie&&(l.value=""):ie&&(l.value="")}const D=z(()=>O.value.findIndex(B=>vr(B,d.value))),F=z(()=>{var B;return(B=w.value.find(ie=>vr(ie.value,d.value)))==null?void 0:B.ref}),oe=z(()=>JSON.stringify(c.value));Ee(oe,async()=>{await Be(),await Be(),k("select")},{immediate:!n.searchTerm}),Ee(()=>[O.value.length,l.value.length],async([B,ie],[ae,ye])=>{await Be(),await Be(),B&&(ye>ie||D.value===-1)&&(d.value=O.value[0])});const q=Vy(y);function he(){var B;F.value instanceof Element&&((B=F.value)==null||B.scrollIntoView({block:"nearest"}))}function $(){F.value instanceof Element&&F.value.focus&&F.value.focus()}const U=W(!1);function P(){U.value=!0}function I(){requestAnimationFrame(()=>{U.value=!1})}async function C(B){var ie;O.value.length&&d.value&&F.value instanceof Element&&(B.preventDefault(),B.stopPropagation(),U.value||(ie=F.value)==null||ie.click())}return Cb({searchTerm:l,modelValue:c,onValueChange:f,isUserInputted:p,multiple:i,disabled:s,open:u,onOpenChange:h,filteredOptions:O,contentId:"",inputElement:m,selectedElement:F,onInputElementChange:B=>m.value=B,onInputNavigation:async B=>{const ie=D.value;ie===0&&B==="up"||ie===O.value.length-1&&B==="down"||(ie===-1&&O.value.length||B==="home"?d.value=O.value[0]:B==="end"?d.value=O.value[O.value.length-1]:d.value=O.value[B==="up"?ie-1:ie+1],await Be(),he(),$(),Be(()=>{var ae;return(ae=m.value)==null?void 0:ae.focus({preventScroll:!0})}))},onInputEnter:C,onCompositionEnd:I,onCompositionStart:P,selectedValue:d,onSelectedValueChange:B=>d.value=B,parentElement:y,contentElement:v,onContentElementChange:B=>v.value=B}),(B,ie)=>(L(),fe(_($f),null,{default:ne(()=>[J(_(yt),ke({ref:_(g),style:{pointerEvents:_(u)?"auto":void 0},as:B.as,"as-child":B.asChild,dir:_(a)},B.$attrs),{default:ne(()=>[we(B.$slots,"default",{open:_(u),modelValue:_(c)}),_(q)&&n.name?(L(),fe(_(vb),{key:0,name:n.name,value:_(c)},null,8,["name","value"])):Fe("",!0)]),_:3},16,["style","as","as-child","dir"])]),_:3}))}}),Ab=re({__name:"ComboboxInput",props:{type:{default:"text"},disabled:{type:Boolean},autoFocus:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},setup(t){const e=t,n=ci(),{forwardRef:r,currentElement:i}=ft();Ke(()=>{const u=i.value.nodeName==="INPUT"?i.value:i.value.querySelector("input");u&&(n.onInputElementChange(u),setTimeout(()=>{e.autoFocus&&u?.focus()},1))});const s=z(()=>e.disabled||n.disabled.value||!1),o=W();hg(()=>{var u;return o.value=(u=n.selectedElement.value)==null?void 0:u.id});function a(u){n.open.value?n.onInputNavigation(u.key==="ArrowUp"?"up":"down"):n.onOpenChange(!0)}function l(u){n.open.value&&n.onInputNavigation(u.key==="Home"?"home":"end")}function c(u){var d;n.searchTerm.value=(d=u.target)==null?void 0:d.value,n.open.value||n.onOpenChange(!0),n.isUserInputted.value=!0}return(u,d)=>(L(),fe(_(yt),{ref:_(r),as:u.as,"as-child":u.asChild,type:u.type,disabled:s.value,value:_(n).searchTerm.value,"aria-expanded":_(n).open.value,"aria-controls":_(n).contentId,"aria-disabled":s.value??void 0,"aria-activedescendant":o.value,"aria-autocomplete":"list",role:"combobox",autocomplete:"false",onInput:c,onKeydown:[Ys(It(a,["prevent"]),["down","up"]),Ys(_(n).onInputEnter,["enter"]),Ys(It(l,["prevent"]),["home","end"])],onCompositionstart:_(n).onCompositionStart,onCompositionend:_(n).onCompositionEnd},{default:ne(()=>[we(u.$slots,"default")]),_:3},8,["as","as-child","type","disabled","value","aria-expanded","aria-controls","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),[Hf,Pb]=In("ComboboxGroup"),Tb=re({__name:"ComboboxGroup",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,{currentRef:n,currentElement:r}=ft(),i=ts(void 0,"radix-vue-combobox-group"),s=ci(),o=W(!1);function a(){if(!r.value)return;const l=r.value.querySelectorAll("[data-radix-vue-combobox-item]:not([data-hidden])");o.value=!!l.length}return Oy(r,()=>{Be(()=>{a()})},{childList:!0}),Ee(()=>s.searchTerm.value,()=>{Be(()=>{a()})},{immediate:!0}),Pb({id:i}),(l,c)=>Ht((L(),fe(_(yt),ke(e,{ref_key:"currentRef",ref:n,role:"group","aria-labelledby":_(i)}),{default:ne(()=>[we(l.$slots,"default")]),_:3},16,["aria-labelledby"])),[[Bi,o.value]])}}),kb=re({__name:"ComboboxLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t;ft();const n=Hf({id:""});return(r,i)=>(L(),fe(_(yt),ke(e,{id:_(n).id}),{default:ne(()=>[we(r.$slots,"default")]),_:3},16,["id"]))}}),[Uw,Rb]=In("ComboboxContent"),Ob=re({__name:"ComboboxContentImpl",props:{position:{default:"inline"},bodyLock:{type:Boolean},dismissable:{type:Boolean,default:!0},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(t,{emit:e}){const n=t,r=e,{position:i}=gn(n),s=ci();Rf(n.bodyLock);const{forwardRef:o,currentElement:a}=ft();If(s.parentElement);const l=z(()=>n.position==="popper"?n:{}),c=Uo(l.value);function u(h){s.onSelectedValueChange("")}Ke(()=>{s.onContentElementChange(a.value)});const d={boxSizing:"border-box","--radix-combobox-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-combobox-content-available-width":"var(--radix-popper-available-width)","--radix-combobox-content-available-height":"var(--radix-popper-available-height)","--radix-combobox-trigger-width":"var(--radix-popper-anchor-width)","--radix-combobox-trigger-height":"var(--radix-popper-anchor-height)"};return Rb({position:i}),(h,f)=>(L(),fe(_(_b),null,{default:ne(()=>[h.dismissable?(L(),fe(_(Ff),{key:0,"as-child":"","disable-outside-pointer-events":h.disableOutsidePointerEvents,onDismiss:f[0]||(f[0]=p=>_(s).onOpenChange(!1)),onFocusOutside:f[1]||(f[1]=p=>{var m;(m=_(s).parentElement.value)!=null&&m.contains(p.target)&&p.preventDefault(),r("focusOutside",p)}),onInteractOutside:f[2]||(f[2]=p=>r("interactOutside",p)),onEscapeKeyDown:f[3]||(f[3]=p=>r("escapeKeyDown",p)),onPointerDownOutside:f[4]||(f[4]=p=>{var m;(m=_(s).parentElement.value)!=null&&m.contains(p.target)&&p.preventDefault(),r("pointerDownOutside",p)})},{default:ne(()=>[(L(),fe(ro(_(i)==="popper"?_(al):_(yt)),ke({...h.$attrs,..._(c)},{id:_(s).contentId,ref:_(o),role:"listbox","data-state":_(s).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",..._(i)==="popper"?d:{}},onPointerleave:u}),{default:ne(()=>[we(h.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])):(L(),fe(ro(_(i)==="popper"?_(al):_(yt)),ke({key:1},{...h.$attrs,...l.value},{id:_(s).contentId,ref:_(o),role:"listbox","data-state":_(s).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",..._(i)==="popper"?d:{}},onPointerleave:u}),{default:ne(()=>[we(h.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3}))}}),Mb=re({__name:"ComboboxContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},dismissable:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(t,{emit:e}){const n=Ln(t,e),{forwardRef:r}=ft(),i=ci();return i.contentId||(i.contentId=ts(void 0,"radix-vue-combobox-content")),(s,o)=>(L(),fe(_(Df),{present:s.forceMount||_(i).open.value},{default:ne(()=>[J(Ob,ke({..._(n),...s.$attrs},{ref:_(r)}),{default:ne(()=>[we(s.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),Ib=re({__name:"ComboboxEmpty",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;ft();const n=ci(),r=z(()=>n.filteredOptions.value.length===0);return(i,s)=>r.value?(L(),fe(_(yt),So(ke({key:0},e)),{default:ne(()=>[we(i.$slots,"default",{},()=>[at("No options")])]),_:3},16)):Fe("",!0)}}),[Yw,Lb]=In("ComboboxItem"),Db="combobox.select",Nb=re({__name:"ComboboxItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,r=e,{disabled:i}=gn(n),s=ci();Hf({id:"",options:W([])});const{forwardRef:o}=ft(),a=z(()=>{var m,v;return s.multiple.value&&Array.isArray(s.modelValue.value)?(m=s.modelValue.value)==null?void 0:m.some(g=>vr(g,n.value)):vr((v=s.modelValue)==null?void 0:v.value,n.value)}),l=z(()=>vr(s.selectedValue.value,n.value)),c=ts(void 0,"radix-vue-combobox-item"),u=ts(void 0,"radix-vue-combobox-option"),d=z(()=>s.isUserInputted.value?s.searchTerm.value===""||!!s.filteredOptions.value.find(m=>vr(m,n.value)):!0);async function h(m){r("select",m),!(m!=null&&m.defaultPrevented)&&!i.value&&m&&s.onValueChange(n.value)}function f(m){if(!m)return;const v={originalEvent:m,value:n.value};jl(Db,h,v)}async function p(m){await Be(),!m.defaultPrevented&&s.onSelectedValueChange(n.value)}if(n.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");return Lb({isSelected:a}),(m,v)=>(L(),fe(_(xb),{value:m.value},{default:ne(()=>[Ht(J(_(yt),{id:_(u),ref:_(o),role:"option",tabindex:"-1","aria-labelledby":_(c),"data-highlighted":l.value?"":void 0,"aria-selected":a.value,"data-state":a.value?"checked":"unchecked","aria-disabled":_(i)||void 0,"data-disabled":_(i)?"":void 0,as:m.as,"as-child":m.asChild,"data-hidden":d.value?void 0:!0,onClick:f,onPointermove:p},{default:ne(()=>[we(m.$slots,"default",{},()=>[at(et(m.value),1)])]),_:3},8,["id","aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","as","as-child","data-hidden"]),[[Bi,d.value]])]),_:3},8,["value"]))}}),[ds,Fb]=In("PopoverRoot"),Bb=re({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=e,{modal:i}=gn(n),s=Ei(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),o=W(),a=W(!1);return Fb({contentId:"",modal:i,open:s,onOpenChange:l=>{s.value=l},onOpenToggle:()=>{s.value=!s.value},triggerElement:o,hasCustomAnchor:a}),(l,c)=>(L(),fe(_($f),null,{default:ne(()=>[we(l.$slots,"default",{open:_(s)})]),_:3}))}}),Gb=re({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=ds(),{forwardRef:r,currentElement:i}=ft();return Ke(()=>{n.triggerElement.value=i.value}),(s,o)=>(L(),fe(ro(_(n).hasCustomAnchor.value?_(yt):_(db)),{"as-child":""},{default:ne(()=>[J(_(yt),{ref:_(r),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":_(n).open.value,"aria-controls":_(n).contentId,"data-state":_(n).open.value?"open":"closed",as:s.as,"as-child":e.asChild,onClick:_(n).onOpenToggle},{default:ne(()=>[we(s.$slots,"default")]),_:3},8,["type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),$b=re({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,r)=>(L(),fe(_(Jy),So(Do(e)),{default:ne(()=>[we(n.$slots,"default")]),_:3},16))}}),Vf=re({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=Uo(n),{forwardRef:s}=ft(),o=ds();return Hy(),(a,l)=>(L(),fe(_(cb),{"as-child":"",loop:"",trapped:a.trapFocus,onMountAutoFocus:l[5]||(l[5]=c=>r("openAutoFocus",c)),onUnmountAutoFocus:l[6]||(l[6]=c=>r("closeAutoFocus",c))},{default:ne(()=>[J(_(Ff),{"as-child":"","disable-outside-pointer-events":a.disableOutsidePointerEvents,onPointerDownOutside:l[0]||(l[0]=c=>r("pointerDownOutside",c)),onInteractOutside:l[1]||(l[1]=c=>r("interactOutside",c)),onEscapeKeyDown:l[2]||(l[2]=c=>r("escapeKeyDown",c)),onFocusOutside:l[3]||(l[3]=c=>r("focusOutside",c)),onDismiss:l[4]||(l[4]=c=>_(o).onOpenChange(!1))},{default:ne(()=>[J(_(al),ke(_(i),{id:_(o).contentId,ref:_(s),"data-state":_(o).open.value?"open":"closed",role:"dialog",style:{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}),{default:ne(()=>[we(a.$slots,"default")]),_:3},16,["id","data-state"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Hb=re({__name:"PopoverContentModal",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=ds(),s=W(!1);Rf(!0);const o=Ln(n,r),{forwardRef:a,currentElement:l}=ft();return If(l),(c,u)=>(L(),fe(Vf,ke(_(o),{ref:_(a),"trap-focus":_(i).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:u[0]||(u[0]=It(d=>{var h;r("closeAutoFocus",d),s.value||(h=_(i).triggerElement.value)==null||h.focus()},["prevent"])),onPointerDownOutside:u[1]||(u[1]=d=>{r("pointerDownOutside",d);const h=d.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,p=h.button===2||f;s.value=p}),onFocusOutside:u[2]||(u[2]=It(()=>{},["prevent"]))}),{default:ne(()=>[we(c.$slots,"default")]),_:3},16,["trap-focus"]))}}),Vb=re({__name:"PopoverContentNonModal",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=ds(),s=W(!1),o=W(!1),a=Ln(n,r);return(l,c)=>(L(),fe(Vf,ke(_(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=u=>{var d;r("closeAutoFocus",u),u.defaultPrevented||(s.value||(d=_(i).triggerElement.value)==null||d.focus(),u.preventDefault()),s.value=!1,o.value=!1}),onInteractOutside:c[1]||(c[1]=async u=>{var d;r("interactOutside",u),u.defaultPrevented||(s.value=!0,u.detail.originalEvent.type==="pointerdown"&&(o.value=!0));const h=u.target;(d=_(i).triggerElement.value)!=null&&d.contains(h)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&o.value&&u.preventDefault()})}),{default:ne(()=>[we(l.$slots,"default")]),_:3},16))}}),Wb=re({__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=ds(),s=Ln(n,r),{forwardRef:o}=ft();return i.contentId||(i.contentId=ts(void 0,"radix-vue-popover-content")),(a,l)=>(L(),fe(_(Df),{present:a.forceMount||_(i).open.value},{default:ne(()=>[_(i).modal.value?(L(),fe(Hb,ke({key:0},_(s),{ref:_(o)}),{default:ne(()=>[we(a.$slots,"default")]),_:3},16)):(L(),fe(Vb,ke({key:1},_(s),{ref:_(o)}),{default:ne(()=>[we(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}});function zb(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}zb();const jb=re({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;return(n,r)=>(L(),fe(_(yt),{as:t.as,"as-child":t.asChild,class:Et(_(en)(_(Ub)({variant:t.variant,size:t.size}),e.class))},{default:ne(()=>[we(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),Ub=C2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Yb=re({__name:"Command",props:{modelValue:{default:""},defaultValue:{},open:{type:Boolean,default:!0},defaultOpen:{type:Boolean},searchTerm:{},selectedValue:{},multiple:{type:Boolean},disabled:{type:Boolean},name:{},dir:{},filterFunction:{},displayValue:{},resetSearchTermOnBlur:{type:Boolean},resetSearchTermOnSelect:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:open","update:searchTerm","update:selectedValue"],setup(t,{emit:e}){const n=t,r=e,i=z(()=>{const{class:o,...a}=n;return a}),s=Ln(i,r);return(o,a)=>(L(),fe(_(Eb),ke(_(s),{class:_(en)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n.class)}),{default:ne(()=>[we(o.$slots,"default")]),_:3},16,["class"]))}}),Xb=re({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=z(()=>{const{class:r,...i}=e;return i});return(r,i)=>(L(),fe(_(Ib),ke(n.value,{class:_(en)("py-6 text-center text-sm",e.class)}),{default:ne(()=>[we(r.$slots,"default")]),_:3},16,["class"]))}}),qb=re({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(t){const e=t,n=z(()=>{const{class:r,...i}=e;return i});return(r,i)=>(L(),fe(_(Tb),ke(n.value,{class:_(en)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e.class)}),{default:ne(()=>[t.heading?(L(),fe(_(kb),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:ne(()=>[at(et(t.heading),1)]),_:1})):Fe("",!0),we(r.$slots,"default")]),_:3},16,["class"]))}}),Kb={class:"flex items-center border-b px-3","cmdk-input-wrapper":""},Jb=re({inheritAttrs:!1,__name:"CommandInput",props:{type:{},disabled:{type:Boolean},autoFocus:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=z(()=>{const{class:i,...s}=e;return s}),r=Uo(n);return(i,s)=>(L(),le("div",Kb,[J(_(x2),{class:"mr-2 h-4 w-4 shrink-0 opacity-50"}),J(_(Ab),ke({..._(r),...i.$attrs},{"auto-focus":"",class:_(en)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e.class)}),null,16,["class"])]))}}),Qb=re({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(t,{emit:e}){const n=t,r=e,i=z(()=>{const{class:o,...a}=n;return a}),s=Ln(i,r);return(o,a)=>(L(),fe(_(Nb),ke(_(s),{class:_(en)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.class)}),{default:ne(()=>[we(o.$slots,"default")]),_:3},16,["class"]))}}),Zb={role:"presentation"},e3=re({__name:"CommandList",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},dismissable:{type:Boolean,default:!1},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(t,{emit:e}){const n=t,r=e,i=z(()=>{const{class:o,...a}=n;return a}),s=Ln(i,r);return(o,a)=>(L(),fe(_(Mb),ke(_(s),{class:_(en)("max-h-[300px] overflow-y-auto overflow-x-hidden",n.class)}),{default:ne(()=>[G("div",Zb,[we(o.$slots,"default")])]),_:3},16,["class"]))}}),t3=re({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const i=Ln(t,e);return(s,o)=>(L(),fe(_(Bb),So(Do(_(i))),{default:ne(()=>[we(s.$slots,"default")]),_:3},16))}}),n3=re({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,i=z(()=>{const{class:o,...a}=n;return a}),s=Ln(i,r);return(o,a)=>(L(),fe(_($b),null,{default:ne(()=>[J(_(Wb),ke({..._(s),...o.$attrs},{class:_(en)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:ne(()=>[we(o.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),r3=re({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(L(),fe(_(Gb),So(Do(e)),{default:ne(()=>[we(n.$slots,"default")]),_:3},16))}});var dt=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},xt={searchParams:"URLSearchParams"in dt,iterable:"Symbol"in dt&&"iterator"in Symbol,blob:"FileReader"in dt&&"Blob"in dt&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in dt,arrayBuffer:"ArrayBuffer"in dt};function i3(t){return t&&DataView.prototype.isPrototypeOf(t)}if(xt.arrayBuffer)var s3=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o3=ArrayBuffer.isView||function(t){return t&&s3.indexOf(Object.prototype.toString.call(t))>-1};function ui(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function Jl(t){return typeof t!="string"&&(t=String(t)),t}function Ql(t){var e={next:function(){var n=t.shift();return{done:n===void 0,value:n}}};return xt.iterable&&(e[Symbol.iterator]=function(){return e}),e}function st(t){this.map={},t instanceof st?t.forEach(function(e,n){this.append(n,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}st.prototype.append=function(t,e){t=ui(t),e=Jl(e);var n=this.map[t];this.map[t]=n?n+", "+e:e};st.prototype.delete=function(t){delete this.map[ui(t)]};st.prototype.get=function(t){return t=ui(t),this.has(t)?this.map[t]:null};st.prototype.has=function(t){return this.map.hasOwnProperty(ui(t))};st.prototype.set=function(t,e){this.map[ui(t)]=Jl(e)};st.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};st.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),Ql(t)};st.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),Ql(t)};st.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),Ql(t)};xt.iterable&&(st.prototype[Symbol.iterator]=st.prototype.entries);function Ca(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function Wf(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a3(t){var e=new FileReader,n=Wf(e);return e.readAsArrayBuffer(t),n}function l3(t){var e=new FileReader,n=Wf(e),r=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=r?r[1]:"utf-8";return e.readAsText(t,i),n}function c3(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function Vu(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function zf(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:xt.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:xt.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:xt.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():xt.arrayBuffer&&xt.blob&&i3(t)?(this._bodyArrayBuffer=Vu(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):xt.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||o3(t))?this._bodyArrayBuffer=Vu(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):xt.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},xt.blob&&(this.blob=function(){var t=Ca(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=Ca(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(xt.blob)return this.blob().then(a3);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=Ca(this);if(t)return t;if(this._bodyBlob)return l3(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c3(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},xt.formData&&(this.formData=function(){return this.text().then(h3)}),this.json=function(){return this.text().then(JSON.parse)},this}var u3=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function d3(t){var e=t.toUpperCase();return u3.indexOf(e)>-1?e:t}function xr(t,e){if(!(this instanceof xr))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var n=e.body;if(t instanceof xr){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new st(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!n&&t._bodyInit!=null&&(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new st(e.headers)),this.method=d3(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||(function(){if("AbortController"in dt){var s=new AbortController;return s.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}xr.prototype.clone=function(){return new xr(this,{body:this._bodyInit})};function h3(t){var e=new FormData;return t.trim().split("&").forEach(function(n){if(n){var r=n.split("="),i=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(s))}}),e}function f3(t){var e=new st,n=t.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var i=r.split(":"),s=i.shift().trim();if(s){var o=i.join(":").trim();try{e.append(s,o)}catch(a){console.warn("Response "+a.message)}}}),e}zf.call(xr.prototype);function pn(t,e){if(!(this instanceof pn))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new st(e.headers),this.url=e.url||"",this._initBody(t)}zf.call(pn.prototype);pn.prototype.clone=function(){return new pn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new st(this.headers),url:this.url})};pn.error=function(){var t=new pn(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var p3=[301,302,303,307,308];pn.redirect=function(t,e){if(p3.indexOf(e)===-1)throw new RangeError("Invalid status code");return new pn(null,{status:e,headers:{location:t}})};var pr=dt.DOMException;try{new pr}catch{pr=function(e,n){this.message=e,this.name=n;var r=Error(e);this.stack=r.stack},pr.prototype=Object.create(Error.prototype),pr.prototype.constructor=pr}function jf(t,e){return new Promise(function(n,r){var i=new xr(t,e);if(i.signal&&i.signal.aborted)return r(new pr("Aborted","AbortError"));var s=new XMLHttpRequest;function o(){s.abort()}s.onload=function(){var c={statusText:s.statusText,headers:f3(s.getAllResponseHeaders()||"")};i.url.indexOf("file://")===0&&(s.status<200||s.status>599)?c.status=200:c.status=s.status,c.url="responseURL"in s?s.responseURL:c.headers.get("X-Request-URL");var u="response"in s?s.response:s.responseText;setTimeout(function(){n(new pn(u,c))},0)},s.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},s.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"))},0)},s.onabort=function(){setTimeout(function(){r(new pr("Aborted","AbortError"))},0)};function a(c){try{return c===""&&dt.location.href?dt.location.href:c}catch{return c}}if(s.open(i.method,a(i.url),!0),i.credentials==="include"?s.withCredentials=!0:i.credentials==="omit"&&(s.withCredentials=!1),"responseType"in s&&(xt.blob?s.responseType="blob":xt.arrayBuffer&&(s.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof st||dt.Headers&&e.headers instanceof dt.Headers)){var l=[];Object.getOwnPropertyNames(e.headers).forEach(function(c){l.push(ui(c)),s.setRequestHeader(c,Jl(e.headers[c]))}),i.headers.forEach(function(c,u){l.indexOf(u)===-1&&s.setRequestHeader(u,c)})}else i.headers.forEach(function(c,u){s.setRequestHeader(u,c)});i.signal&&(i.signal.addEventListener("abort",o),s.onreadystatechange=function(){s.readyState===4&&i.signal.removeEventListener("abort",o)}),s.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}jf.polyfill=!0;dt.fetch||(dt.fetch=jf,dt.Headers=st,dt.Request=xr,dt.Response=pn);const Uf="11434",Yf=`http://127.0.0.1:${Uf}`,g3="0.5.18";var m3=Object.defineProperty,v3=(t,e,n)=>e in t?m3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ea=(t,e,n)=>(v3(t,typeof e!="symbol"?e+"":e,n),n);class Zl extends Error{constructor(e,n){super(e),this.error=e,this.status_code=n,this.name="ResponseError",Error.captureStackTrace&&Error.captureStackTrace(this,Zl)}}class y3{constructor(e,n,r){Ea(this,"abortController"),Ea(this,"itr"),Ea(this,"doneCallback"),this.abortController=e,this.itr=n,this.doneCallback=r}abort(){this.abortController.abort()}async*[Symbol.asyncIterator](){for await(const e of this.itr){if("error"in e)throw new Error(e.error);if(yield e,e.done||e.status==="success"){this.doneCallback();return}}throw new Error("Did not receive done or success response in stream.")}}const ec=async t=>{if(t.ok)return;let e=`Error ${t.status}: ${t.statusText}`,n=null;if(t.headers.get("content-type")?.includes("application/json"))try{n=await t.json(),e=n.error||e}catch{console.log("Failed to parse error response as JSON")}else try{console.log("Getting text from response"),e=await t.text()||e}catch{console.log("Failed to get text from error response")}throw new Zl(e,t.status)};function b3(){if(typeof window<"u"&&window.navigator){const t=navigator;return"userAgentData"in t&&t.userAgentData?.platform?`${t.userAgentData.platform.toLowerCase()} Browser/${navigator.userAgent};`:navigator.platform?`${navigator.platform.toLowerCase()} Browser/${navigator.userAgent};`:`unknown Browser/${navigator.userAgent};`}else if(typeof process<"u")return`${process.arch} ${process.platform} Node.js/${process.version}`;return""}function w3(t){if(t instanceof Headers){const e={};return t.forEach((n,r)=>{e[r]=n}),e}else return Array.isArray(t)?Object.fromEntries(t):t||{}}const tc=async(t,e,n={})=>{const r={"Content-Type":"application/json",Accept:"application/json","User-Agent":`ollama-js/${g3} (${b3()})`};n.headers=w3(n.headers);const i=Object.fromEntries(Object.entries(n.headers).filter(([s])=>!Object.keys(r).some(o=>o.toLowerCase()===s.toLowerCase())));return n.headers={...r,...i},t(e,n)},Wu=async(t,e,n)=>{const r=await tc(t,e,{headers:n?.headers});return await ec(r),r},Dr=async(t,e,n,r)=>{const s=(a=>a!==null&&typeof a=="object"&&!Array.isArray(a))(n)?JSON.stringify(n):n,o=await tc(t,e,{method:"POST",body:s,signal:r?.signal,headers:r?.headers});return await ec(o),o},_3=async(t,e,n,r)=>{const i=await tc(t,e,{method:"DELETE",body:JSON.stringify(n),headers:r?.headers});return await ec(i),i},x3=async function*(t){const e=new TextDecoder("utf-8");let n="";const r=t.getReader();for(;;){const{done:i,value:s}=await r.read();if(i)break;n+=e.decode(s);const o=n.split(`
`);n=o.pop()??"";for(const a of o)try{yield JSON.parse(a)}catch{console.warn("invalid json: ",a)}}for(const i of n.split(`
`).filter(s=>s!==""))try{yield JSON.parse(i)}catch{console.warn("invalid json: ",i)}},S3=t=>{if(!t)return Yf;let e=t.includes("://");t.startsWith(":")&&(t=`http://127.0.0.1${t}`,e=!0),e||(t=`http://${t}`);const n=new URL(t);let r=n.port;r||(e?r=n.protocol==="https:"?"443":"80":r=Uf);let i="";n.username&&(i=n.username,n.password&&(i+=`:${n.password}`),i+="@");let s=`${n.protocol}//${i}${n.hostname}:${r}${n.pathname}`;return s.endsWith("/")&&(s=s.slice(0,-1)),s};var C3=Object.defineProperty,E3=(t,e,n)=>e in t?C3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Aa=(t,e,n)=>(E3(t,typeof e!="symbol"?e+"":e,n),n);let ll=class{constructor(e){Aa(this,"config"),Aa(this,"fetch"),Aa(this,"ongoingStreamedRequests",[]),this.config={host:"",headers:e?.headers},e?.proxy||(this.config.host=S3(e?.host??Yf)),this.fetch=e?.fetch??fetch}abort(){for(const e of this.ongoingStreamedRequests)e.abort();this.ongoingStreamedRequests.length=0}async processStreamableRequest(e,n){n.stream=n.stream??!1;const r=`${this.config.host}/api/${e}`;if(n.stream){const s=new AbortController,o=await Dr(this.fetch,r,n,{signal:s.signal,headers:this.config.headers});if(!o.body)throw new Error("Missing body");const a=x3(o.body),l=new y3(s,a,()=>{const c=this.ongoingStreamedRequests.indexOf(l);c>-1&&this.ongoingStreamedRequests.splice(c,1)});return this.ongoingStreamedRequests.push(l),l}return await(await Dr(this.fetch,r,n,{headers:this.config.headers})).json()}async encodeImage(e){if(typeof e!="string"){const n=new Uint8Array(e);let r="";const i=n.byteLength;for(let s=0;s<i;s++)r+=String.fromCharCode(n[s]);return btoa(r)}return e}async generate(e){return e.images&&(e.images=await Promise.all(e.images.map(this.encodeImage.bind(this)))),this.processStreamableRequest("generate",e)}async chat(e){if(e.messages)for(const n of e.messages)n.images&&(n.images=await Promise.all(n.images.map(this.encodeImage.bind(this))));return this.processStreamableRequest("chat",e)}async create(e){return this.processStreamableRequest("create",{...e})}async pull(e){return this.processStreamableRequest("pull",{name:e.model,stream:e.stream,insecure:e.insecure})}async push(e){return this.processStreamableRequest("push",{name:e.model,stream:e.stream,insecure:e.insecure})}async delete(e){return await _3(this.fetch,`${this.config.host}/api/delete`,{name:e.model},{headers:this.config.headers}),{status:"success"}}async copy(e){return await Dr(this.fetch,`${this.config.host}/api/copy`,{...e},{headers:this.config.headers}),{status:"success"}}async list(){return await(await Wu(this.fetch,`${this.config.host}/api/tags`,{headers:this.config.headers})).json()}async show(e){return await(await Dr(this.fetch,`${this.config.host}/api/show`,{...e},{headers:this.config.headers})).json()}async embed(e){return await(await Dr(this.fetch,`${this.config.host}/api/embed`,{...e},{headers:this.config.headers})).json()}async embeddings(e){return await(await Dr(this.fetch,`${this.config.host}/api/embeddings`,{...e},{headers:this.config.headers})).json()}async ps(){return await(await Wu(this.fetch,`${this.config.host}/api/ps`,{headers:this.config.headers})).json()}};new ll;function Nr(t){return t.startsWith("#")?parseInt(t.replace("#","0x")):{red:16711680,green:65280,blue:255,white:16777215,black:0,yellow:16776960,transparent:0}[t.toLowerCase()]||16777215}const A3=Math.PI/180;function P3(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const yr=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Z={_global:yr,version:"10.0.12",isBrowser:P3(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Z.angleDeg?t*A3:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Z.DD.isDragging},isTransforming(){var t,e;return(e=(t=Z.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Z.DD.node},releaseCanvasOnDestroy:!0,document:yr.document,_injectGlobal(t){typeof yr.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),yr.Konva=t}},Je=t=>{Z[t.prototype.getClassName()]=t};Z._injectGlobal(Z);const T3=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,zu=()=>{if(typeof document>"u")throw new Error(T3)};class Lt{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new Lt(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.m[0]*n+this.m[2]*r,s=this.m[1]*n+this.m[3]*r,o=this.m[0]*-r+this.m[2]*n,a=this.m[1]*-r+this.m[3]*n;return this.m[0]=i,this.m[1]=s,this.m[2]=o,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const r=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,s=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=s,this.m[3]=o,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],s=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=a,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,s=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=a,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],s=this.m[4],o=this.m[5],a=e*i-n*r,l={x:s,y:o,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const c=Math.sqrt(e*e+n*n);l.rotation=n>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=a/c,l.skewX=(e*r+n*i)/a,l.skewY=0}else if(r!=0||i!=0){const c=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/c):-Math.acos(r/c)),l.scaleX=a/c,l.scaleY=c,l.skewX=0,l.skewY=(e*r+n*i)/a}return l.rotation=R._getRotation(l.rotation),l}}const k3="[object Array]",R3="[object Number]",O3="[object String]",M3="[object Boolean]",I3=Math.PI/180,L3=180/Math.PI,yi="#",D3="",N3="0",F3="Konva warning: ",ju="Konva error: ",B3="rgb(",Pa={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},G3=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let Ps=[],bi=null;const $3=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},R={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===k3},_isNumber(t){return Object.prototype.toString.call(t)===R3&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===O3},_isBoolean(t){return Object.prototype.toString.call(t)===M3},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){Ps.push(t),Ps.length===1&&$3(function(){const e=Ps;Ps=[],e.forEach(function(n){n()})})},createCanvasElement(){zu();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return zu(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=R.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(yi,D3);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=N3+t;return yi+t},isCanvasFarblingActive(){if(bi!==null)return bi;if(typeof document>"u")return bi=!1,!1;const t=this.createCanvasElement();t.width=10,t.height=10;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,10,10),e.fillStyle="#282828",e.fillRect(0,0,10,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=0;i<100;i++)if(n[i*4]!==40||n[i*4+1]!==40||n[i*4+2]!==40||n[i*4+3]!==255){r=!0;break}return bi=r,this.releaseCanvas(t),bi},getHitColor(){const t=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(t):t},getHitColorKey(t,e,n){return this.isCanvasFarblingActive()&&(t=Math.round(t/5)*5,e=Math.round(e/5)*5,n=Math.round(n/5)*5),yi+this._rgbToHex(t,e,n)},getSnappedHexColor(t){const e=this._hexToRgb(t);return yi+this._rgbToHex(Math.round(e.r/5)*5,Math.round(e.g/5)*5,Math.round(e.b/5)*5)},getRGB(t){let e;return t in Pa?(e=Pa[t],{r:e[0],g:e[1],b:e[2]}):t[0]===yi?this._hexToRgb(t.substring(1)):t.substr(0,4)===B3?(e=G3.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",R._namedColorToRBA(t)||R._hex3ColorToRGBA(t)||R._hex4ColorToRGBA(t)||R._hex6ColorToRGBA(t)||R._hex8ColorToRGBA(t)||R._rgbColorToRGBA(t)||R._rgbaColorToRGBA(t)||R._hslColorToRGBA(t)},_namedColorToRBA(t){const e=Pa[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,i=Number(n[1])/100,s=Number(n[2])/100;let o,a,l;if(i===0)return l=s*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};s<.5?o=s*(1+i):o=s+i-s*i;const c=2*s-o,u=[0,0,0];for(let d=0;d<3;d++)a=r+1/3*-(d-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(o-c)*6*a:2*a<1?l=o:3*a<2?l=c+(o-c)*(2/3-a)*6:l=c,u[d]=l*255;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*I3},radToDeg(t){return t*L3},_degToRad(t){return R.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),R.degToRad(t)},_radToDeg(t){return R.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),R.radToDeg(t)},_getRotation(t){return Z.angleDeg?R.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(ju+t)},error(t){console.error(ju+t)},warn(t){Z.showWarnings&&console.warn(F3+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,i,s){let o,a,l;const c=(t-n)*(t-n)+(e-r)*(e-r);if(c==0)o=t,a=e,l=(i-n)*(i-n)+(s-r)*(s-r);else{const u=((i-t)*(n-t)+(s-e)*(r-e))/c;u<0?(o=t,a=e,l=(t-i)*(t-i)+(e-s)*(e-s)):u>1?(o=n,a=r,l=(n-i)*(n-i)+(r-s)*(r-s)):(o=t+u*(n-t),a=e+u*(r-e),l=(o-i)*(o-i)+(a-s)*(a-s))}return[o,a,l]},_getProjectionToLine(t,e,n){const r=R.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(s,o){if(!n&&o===e.length-1)return;const a=e[(o+1)%e.length],l=R._getProjectionToSegment(s.x,s.y,a.x,a.y,t.x,t.y),c=l[0],u=l[1],d=l[2];d<i&&(r.x=c,r.y=u,i=d)}),r},_prepareArrayForTween(t,e,n){const r=[],i=[];if(t.length>e.length){const o=e;e=t,t=o}for(let o=0;o<t.length;o+=2)r.push({x:t[o],y:t[o+1]});for(let o=0;o<e.length;o+=2)i.push({x:e[o],y:e[o+1]});const s=[];return i.forEach(function(o){const a=R._getProjectionToLine(o,r,n);s.push(a.x),s.push(a.y)}),s},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||R._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(R._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Z.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let i=e<0?e:0,s=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let o=0,a=0,l=0,c=0;typeof r=="number"?o=a=l=c=Math.min(r,e/2,n/2):(o=Math.min(r[0]||0,e/2,n/2),a=Math.min(r[1]||0,e/2,n/2),c=Math.min(r[2]||0,e/2,n/2),l=Math.min(r[3]||0,e/2,n/2)),t.moveTo(i+o,s),t.lineTo(i+e-a,s),t.arc(i+e-a,s+a,a,Math.PI*3/2,0,!1),t.lineTo(i+e,s+n-c),t.arc(i+e-c,s+n-c,c,0,Math.PI/2,!1),t.lineTo(i+l,s+n),t.arc(i+l,s+n-l,l,Math.PI/2,Math.PI,!1),t.lineTo(i,s+o),t.arc(i+o,s+o,o,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,r,i){r=Math.abs(r);for(let s=0;s<n;s++){const o=e[(s-1+n)%n],a=e[s],l=e[(s+1)%n],c={x:a.x-o.x,y:a.y-o.y},u={x:l.x-a.x,y:l.y-a.y},d=Math.hypot(c.x,c.y),h=Math.hypot(u.x,u.y);let f;typeof i=="number"?f=i:f=s<i.length?i[s]:0,f=r*Math.cos(Math.PI/n)*Math.min(1,f/r*2);const m={x:c.x/d,y:c.y/d},v={x:u.x/h,y:u.y/h},g={x:a.x-m.x*f,y:a.y-m.y*f},y={x:a.x+v.x*f,y:a.y+v.y*f};s===0?t.moveTo(g.x,g.y):t.lineTo(g.x,g.y),t.arcTo(a.x,a.y,y.x,y.y,f)}}};function H3(t){const e=[],n=t.length,r=R;for(let i=0;i<n;i++){let s=t[i];r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s+""),e.push(s)}return e}const Uu=",",V3="(",W3=")",z3="([",j3="])",U3=";",Y3="()",X3="=",Yu=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],q3=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],K3=100;let Ts=null;function Xu(){if(Ts!==null)return Ts;try{const e=R.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(Ts=!1,!1)}catch{return Ts=!1,!1}}class Yo{constructor(e){this.canvas=e,Z.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,i=r.length,s="",o,a,l,c;for(o=0;o<i;o++)a=r[o],l=a.method,l?(c=a.args,s+=l,e?s+=Y3:R._isArray(c[0])?s+=z3+c.join(Uu)+j3:(n&&(c=c.map(u=>typeof u=="number"?Math.floor(u):u)),s+=V3+c.join(Uu)+W3)):(s+=a.property,e||(s+=X3+a.val)),s+=U3;return s}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=K3&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,s,o){this._context.arc(e,n,r,i,s,o)}arcTo(e,n,r,i,s){this._context.arcTo(e,n,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,s,o){this._context.bezierCurveTo(e,n,r,i,s,o)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,s,o){return this._context.createRadialGradient(e,n,r,i,s,o)}drawImage(e,n,r,i,s,o,a,l,c){const u=arguments,d=this._context;u.length===3?d.drawImage(e,n,r):u.length===5?d.drawImage(e,n,r,i,s):u.length===9&&d.drawImage(e,n,r,i,s,o,a,l,c)}ellipse(e,n,r,i,s,o,a,l){this._context.ellipse(e,n,r,i,s,o,a,l)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}roundRect(e,n,r,i,s){this._context.roundRect(e,n,r,i,s)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,s,o){this._context.setTransform(e,n,r,i,s,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,s,o){this._context.transform(e,n,r,i,s,o)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=Yu.length,r=this.setAttr,i,s;const o=function(a){let l=e[a],c;e[a]=function(){return s=H3(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:s}),c}};for(i=0;i<n;i++)o(Yu[i]);e.setAttr=function(){r.apply(e,arguments);const a=arguments[0];let l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}q3.forEach(function(t){Object.defineProperty(Yo.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class J3 extends Yo{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}const s=e.getFillLinearGradientColorStops();if(s&&r==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(let o=0;o<i.length;o+=2)s.addColorStop(i[o],i[o+1]);this.setAttr("strokeStyle",s)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i;const s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",o=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),u=l.x*c,d=l.y*c;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",o*Math.min(Math.abs(u),Math.abs(d))),this.setAttr("shadowOffsetX",a.x*u),this.setAttr("shadowOffsetY",a.y*d)}}class Q3 extends Yo{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let ks;function Z3(){if(ks)return ks;const t=R.createCanvasElement(),e=t.getContext("2d");return ks=(function(){const n=Z._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r})(),R.releaseCanvas(t),ks}class nc{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||Z.pixelRatio||Z3();this.pixelRatio=r,this._canvas=R.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return R.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class Xn extends nc{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new J3(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}class rc extends nc{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new Q3(this),this.setSize(e.width,e.height)}}const Ie={get isDragging(){let t=!1;return Ie._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return Ie._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];Ie._dragElements.forEach((n,r)=>{const{node:i}=n,s=i.getStage();s.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=R._getFirstPointerId(t));const o=s._changedPointerPositions.find(a=>a.id===n.pointerId);if(o){if(n.dragStatus!=="dragging"){const a=i.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<a||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];Ie._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(a=>a.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(Ie.justDragged=!0,Z._mouseListenClick=!1,Z._touchListenClick=!1,Z._pointerListenClick=!1,n.dragStatus="stopped");const o=n.node.getLayer()||n.node instanceof Z.Stage&&n.node;o&&e.indexOf(o)===-1&&e.push(o)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){Ie._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&Ie._dragElements.delete(n)})}};Z.isBrowser&&(window.addEventListener("mouseup",Ie._endDragBefore,!0),window.addEventListener("touchend",Ie._endDragBefore,!0),window.addEventListener("touchcancel",Ie._endDragBefore,!0),window.addEventListener("mousemove",Ie._drag),window.addEventListener("touchmove",Ie._drag),window.addEventListener("mouseup",Ie._endDragAfter,!1),window.addEventListener("touchend",Ie._endDragAfter,!1),window.addEventListener("touchcancel",Ie._endDragAfter,!1));function ir(t){return R._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||R._isBoolean(t)?t:Object.prototype.toString.call(t)}function Xf(t){return t>255?255:t<0?0:Math.round(t)}function K(){if(Z.isUnminified)return function(t,e){return R._isNumber(t)||R.warn(ir(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Xo(t){if(Z.isUnminified)return function(e,n){let r=R._isNumber(e),i=R._isArray(e)&&e.length==t;return!r&&!i&&R.warn(ir(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function ic(){if(Z.isUnminified)return function(t,e){return R._isNumber(t)||t==="auto"||R.warn(ir(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Er(){if(Z.isUnminified)return function(t,e){return R._isString(t)||R.warn(ir(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function qf(){if(Z.isUnminified)return function(t,e){const n=R._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||R.warn(ir(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function e5(){if(Z.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(R._isArray(t)?t.forEach(function(r){R._isNumber(r)||R.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):R.warn(ir(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function tn(){if(Z.isUnminified)return function(t,e){return t===!0||t===!1||R.warn(ir(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function t5(t){if(Z.isUnminified)return function(e,n){return e==null||R.isObject(e)||R.warn(ir(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const wi="get",_i="set",S={addGetterSetter(t,e,n,r,i){S.addGetter(t,e,n),S.addSetter(t,e,r,i),S.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const r=wi+R._capitalize(e);t.prototype[r]=t.prototype[r]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,r){const i=_i+R._capitalize(e);t.prototype[i]||S.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){const i=_i+R._capitalize(e);t.prototype[i]=function(s){return n&&s!==void 0&&s!==null&&(s=n.call(this,s,e)),this._setAttr(e,s),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,i){const s=n.length,o=R._capitalize,a=wi+o(e),l=_i+o(e);t.prototype[a]=function(){const u={};for(let d=0;d<s;d++){const h=n[d];u[h]=this.getAttr(e+o(h))}return u};const c=t5(n);t.prototype[l]=function(u){const d=this.attrs[e];r&&(u=r.call(this,u,e)),c&&c.call(this,u,e);for(const h in u)u.hasOwnProperty(h)&&this._setAttr(e+o(h),u[h]);return u||n.forEach(h=>{this._setAttr(e+o(h),void 0)}),this._fireChangeEvent(e,d,u),i&&i.call(this),this},S.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=R._capitalize(e),r=_i+n,i=wi+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,r){R.error("Adding deprecated "+e);const i=wi+R._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){R.error(s);const o=this.attrs[e];return o===void 0?n:o},S.addSetter(t,e,r,function(){R.error(s)}),S.addOverloadedGetterSetter(t,e)},backCompat(t,e){R.each(e,function(n,r){const i=t.prototype[r],s=wi+R._capitalize(n),o=_i+R._capitalize(n);function a(){i.apply(this,arguments),R.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=a,t.prototype[s]=a,t.prototype[o]=a})},afterSetFilter(){this._filterUpToDate=!1}};function n5(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,r,i]=n;switch(r){case"blur":{const s=parseFloat(i.replace("px",""));return function(o){this.blurRadius(s*.5);const a=Z.Filters;a&&a.Blur&&a.Blur.call(this,o)}}case"brightness":{const s=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(o){this.brightness(s);const a=Z.Filters;a&&a.Brightness&&a.Brightness.call(this,o)}}case"contrast":{const s=parseFloat(i);return function(o){const a=100*(Math.sqrt(s)-1);this.contrast(a);const l=Z.Filters;l&&l.Contrast&&l.Contrast.call(this,o)}}case"grayscale":return function(s){const o=Z.Filters;o&&o.Grayscale&&o.Grayscale.call(this,s)};case"sepia":return function(s){const o=Z.Filters;o&&o.Sepia&&o.Sepia.call(this,s)};case"invert":return function(s){const o=Z.Filters;o&&o.Invert&&o.Invert.call(this,s)};default:R.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const Xs="absoluteOpacity",Rs="allEventListeners",Sn="absoluteTransform",qu="absoluteScale",dr="canvas",r5="Change",i5="children",s5="konva",cl="listening",o5="mouseenter",a5="mouseleave",l5="pointerenter",c5="pointerleave",u5="touchenter",d5="touchleave",Ku="set",Ju="Shape",qs=" ",Qu="stage",Vn="transform",h5="Stage",ul="visible",f5=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(qs);let p5=1,Q=class dl{constructor(e){this._id=p5++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Vn||e===Sn)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===Vn||e===Sn)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(s=>s+"Change.konva").join(qs);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(dr)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Sn&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(dr)){const{scene:e,filter:n,hit:r,buffer:i}=this._cache.get(dr);R.releaseCanvas(e,n,r,i),this._cache.delete(dr)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||r.width),s=Math.ceil(n.height||r.height),o=n.pixelRatio,a=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,c=n.offset||0,u=n.drawBorder||!1,d=n.hitCanvasPixelRatio||1;if(!i||!s){R.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const h=Math.abs(Math.round(r.x)-a)>.5?1:0,f=Math.abs(Math.round(r.y)-l)>.5?1:0;i+=c*2+h,s+=c*2+f,a-=c,l-=c;const p=new Xn({pixelRatio:o,width:i,height:s}),m=new Xn({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),v=new rc({pixelRatio:d,width:i,height:s}),g=p.getContext(),y=v.getContext(),b=new Xn({width:p.width/p.pixelRatio+Math.abs(a),height:p.height/p.pixelRatio+Math.abs(l),pixelRatio:p.pixelRatio}),w=b.getContext();return v.isCache=!0,p.isCache=!0,this._cache.delete(dr),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(p.getContext()._context.imageSmoothingEnabled=!1,m.getContext()._context.imageSmoothingEnabled=!1),g.save(),y.save(),w.save(),g.translate(-a,-l),y.translate(-a,-l),w.translate(-a,-l),b.x=a,b.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Xs),this._clearSelfAndDescendantCache(qu),this.drawScene(p,this,b),this.drawHit(v,this),this._isUnderCache=!1,g.restore(),y.restore(),u&&(g.save(),g.beginPath(),g.rect(0,0,i,s),g.closePath(),g.setAttr("strokeStyle","red"),g.setAttr("lineWidth",5),g.stroke(),g.restore()),this._cache.set(dr,{scene:p,filter:m,hit:v,buffer:b,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(dr)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,s=1/0,o=-1/0,a=-1/0;const l=this.getAbsoluteTransform(n);return r.forEach(function(c){const u=l.point(c);i===void 0&&(i=o=u.x,s=a=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}),{x:i,y:s,width:o-i,height:a-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,s=i.getContext(),o,a,l,c;if(!e||e.length===0)return r;if(this._filterUpToDate)return i;let u=!0;for(let h=0;h<e.length;h++)if(typeof e[h]=="string"&&Xu(),typeof e[h]!="string"||!Xu()){u=!1;break}const d=r.pixelRatio;if(i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),u){const h=e.join(" ");return s.save(),s.setAttr("filter",h),s.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),s.restore(),this._filterUpToDate=!0,i}try{for(o=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),a=s.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<o;l++)c=e[l],typeof c=="string"&&(c=n5(c)),c.call(this,a),s.putImageData(a,0,0)}catch(h){R.error("Unable to apply filter. "+h.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(Rs),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(qs);for(let i=0;i<r.length;i++){const o=r[i].split("."),a=o[0],l=o[1]||"";this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:l,handler:n})}return this}off(e,n){let r=(e||"").split(qs),i=r.length,s,o,a,l,c,u;if(this._cache&&this._cache.delete(Rs),!e)for(o in this.eventListeners)this._off(o);for(s=0;s<i;s++)if(a=r[s],l=a.split("."),c=l[0],u=l[1],c)this.eventListeners[c]&&this._off(c,u,n);else for(o in this.eventListeners)this._off(o,u,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const i=this;this.on(e,function(s){const o=s.target.findAncestors(n,!0,i);for(let a=0;a<o.length;a++)s=R.cloneObject(s),s.currentTarget=o[a],r.call(o[a],s)})}remove(){return this.isDragging()&&this.stopDrag(),Ie._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Sn),this._clearSelfAndDescendantCache(Xs),this._clearSelfAndDescendantCache(qu),this._clearSelfAndDescendantCache(Qu),this._clearSelfAndDescendantCache(ul),this._clearSelfAndDescendantCache(cl)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+R._capitalize(e);return R._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==i5&&(r=Ku+R._capitalize(n),R._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(cl,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(ul,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let i=!1;Ie._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===r)&&(i=!0)});const s=!n&&!Z.hitOnDragEnabled&&(i||Z.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,i,s,o,a;function l(u){for(i=[],s=u.length,o=0;o<s;o++)a=u[o],r++,a.nodeType!==Ju&&(i=i.concat(a.getChildren().slice())),a._id===n._id&&(o=s);i.length>0&&i[0].getDepth()<=e&&l(i)}const c=this.getStage();return n.nodeType!==h5&&c&&l(c.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Vn),this._clearSelfAndDescendantCache(Sn)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),s=new Lt,o=this.offset();return s.m=i.slice(),s.translate(o.x,o.y),s.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(Vn);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(Vn),this._clearSelfAndDescendantCache(Sn),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,i=this.x(),s=this.y();return n!==void 0&&(i+=n),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,n){let r=[],i=this.getParent(),s,o;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(s=r.length,o=0;o<s;o++)e(r[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return R.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return R.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return R.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return R.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return R.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&R.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Xs,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,i,s,o;const a={attrs:{},className:this.getClassName()};for(n in e)r=e[n],o=R.isObject(r)&&!R._isPlainObject(r)&&!R._isArray(r),!o&&(i=typeof this[n]=="function"&&this[n],delete e[n],s=i?i.call(this):null,e[n]=r,s!==r&&(a.attrs[n]=r));return R._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const i=[];n&&this._isMatch(e)&&i.push(this);let s=this.parent;for(;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,i,s;for(i=0;i<r;i++)if(s=n[i],R.isValidSelector(s)||(R.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),R.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),R.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(Qu,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Sn,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new Lt,this._eachAncestorReverse(function(r){const i=r.transformsEnabled();i==="all"?n.multiply(r.getTransform()):i==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(Sn)||new Lt,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,o=this.attrs.offsetX||0,a=this.attrs.offsetY||0;n.translate(i-o,s-a)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Vn,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(Vn)||new Lt;r.reset();const i=this.x(),s=this.y(),o=Z.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,u=this.attrs.skewY||0,d=this.attrs.offsetX||0,h=this.attrs.offsetY||0;return(i!==0||s!==0)&&r.translate(i,s),o!==0&&r.rotate(o),(c!==0||u!==0)&&r.skew(c,u),(a!==1||l!==1)&&r.scale(a,l),(d!==0||h!==0)&&r.translate(-1*d,-1*h),r.dirty=!1,r}clone(e){let n=R.cloneObject(this.attrs),r,i,s,o,a;for(r in e)n[r]=e[r];const l=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],s=i.length,o=0;o<s;o++)a=i[o],a.name.indexOf(s5)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(a));return l}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),o=e.pixelRatio||1,a=new Xn({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:o}),l=a.getContext(),c=new Xn({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(s),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||s)&&l.translate(-1*i,-1*s),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,R._urlToImage(this.toDataURL(e),function(s){n(s),i?.(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),i?.(s)},e?.mimeType,e?.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Z.dragDistance}_off(e,n,r){let i=this.eventListeners[e],s,o,a;for(s=0;s<i.length;s++)if(o=i[s].name,a=i[s].handler,(o!=="konva"||n==="konva")&&(!n||o===n)&&(!r||r===a)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,r){this._fire(e+r5,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[Ku+R._capitalize(e)];return R._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Z.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!R.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===Ju&&(n.target=this);const i=[o5,a5,l5,c5,u5,d5];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const o=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!o&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,i;const s=(n=this._cache.get(Rs))!==null&&n!==void 0?n:{};let o=s?.[e];if(o===void 0){o=[];let a=Object.getPrototypeOf(this);for(;a;){const l=(i=(r=a.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];o.push(...l),a=Object.getPrototypeOf(a)}s[e]=o,this._cache.set(Rs,s)}return o}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let s=0;s<r.length;s++)r[s].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let s=0;s<i.length;s++)i[s].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;const s=r._getPointerById(n)||r._changedPointerPositions[0]||i;Ie._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Ie._dragElements.has(this._id)||this._createDragElement(e);const r=Ie._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let i={x:r.x-n.offset.x,y:r.y-n.offset.y};const s=this.dragBoundFunc();if(s!==void 0){const o=s.call(this,i,e);o?i=o:R.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=Ie._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Ie._endDragBefore(e),Ie._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Ie._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Z.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;Ie._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Ie._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&Ie._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return R.haveIntersection(r,this.getClientRect())}static create(e,n){return R._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=dl.prototype.getClassName.call(e),i=e.children,s,o,a;n&&(e.attrs.container=n),Z[r]||(R.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=Z[r];if(s=new l(e.attrs),i)for(o=i.length,a=0;a<o;a++)s.add(dl._createNode(i[a]));return s}};Q.prototype.nodeType="Node";Q.prototype._attrsAffectingSize=[];Q.prototype.eventListeners={};Q.prototype.on.call(Q.prototype,f5,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Vn),this._clearSelfAndDescendantCache(Sn)});Q.prototype.on.call(Q.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(ul)});Q.prototype.on.call(Q.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(cl)});Q.prototype.on.call(Q.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Xs)});const He=S.addGetterSetter;He(Q,"zIndex");He(Q,"absolutePosition");He(Q,"position");He(Q,"x",0,K());He(Q,"y",0,K());He(Q,"globalCompositeOperation","source-over",Er());He(Q,"opacity",1,K());He(Q,"name","",Er());He(Q,"id","",Er());He(Q,"rotation",0,K());S.addComponentsGetterSetter(Q,"scale",["x","y"]);He(Q,"scaleX",1,K());He(Q,"scaleY",1,K());S.addComponentsGetterSetter(Q,"skew",["x","y"]);He(Q,"skewX",0,K());He(Q,"skewY",0,K());S.addComponentsGetterSetter(Q,"offset",["x","y"]);He(Q,"offsetX",0,K());He(Q,"offsetY",0,K());He(Q,"dragDistance",void 0,K());He(Q,"width",0,K());He(Q,"height",0,K());He(Q,"listening",!0,tn());He(Q,"preventDefault",!0,tn());He(Q,"filters",void 0,function(t){return this._filterUpToDate=!1,t});He(Q,"visible",!0,tn());He(Q,"transformsEnabled","all",Er());He(Q,"size");He(Q,"dragBoundFunc");He(Q,"draggable",!1,tn());S.backCompat(Q,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Ft extends Q{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!!(s&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=Q.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Q.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas(),o=s&&s.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=s&&s.isCache;if(!this.isVisible()&&!c)return this;if(l){o.save();const u=this.getAbsoluteTransform(n).getMatrix();o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",s,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),o=this._getCanvasCache();if(o&&o.hit){s.save();const l=this.getAbsoluteTransform(n).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r,i){var s;const o=n&&n.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),u=typeof a=="number"&&typeof l=="number"||c,d=r===this;if(u){o.save();const f=this.getAbsoluteTransform(r);let p=f.getMatrix();o.transform(p[0],p[1],p[2],p[3],p[4],p[5]),o.beginPath();let m;if(c)m=c.call(this,o,this);else{const v=this.clipX(),g=this.clipY();o.rect(v||0,g||0,a,l)}o.clip.apply(o,m),p=f.copy().invert().getMatrix(),o.transform(p[0],p[1],p[2],p[3],p[4],p[5])}const h=!d&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";h&&(o.save(),o._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(f){f[e](n,r,i)}),h&&o.restore(),u&&o.restore()}getClientRect(e={}){var n;const r=e.skipTransform,i=e.relativeTo;let s,o,a,l,c={x:1/0,y:1/0,width:0,height:0};const u=this;(n=this.children)===null||n===void 0||n.forEach(function(f){if(!f.visible())return;const p=f.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});p.width===0&&p.height===0||(s===void 0?(s=p.x,o=p.y,a=p.x+p.width,l=p.y+p.height):(s=Math.min(s,p.x),o=Math.min(o,p.y),a=Math.max(a,p.x+p.width),l=Math.max(l,p.y+p.height)))});const d=this.find("Shape");let h=!1;for(let f=0;f<d.length;f++)if(d[f]._isVisible(this)){h=!0;break}return h&&s!==void 0?c={x:s,y:o,width:a-s,height:l-o}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}}S.addComponentsGetterSetter(Ft,"clip",["x","y","width","height"]);S.addGetterSetter(Ft,"clipX",void 0,K());S.addGetterSetter(Ft,"clipY",void 0,K());S.addGetterSetter(Ft,"clipWidth",void 0,K());S.addGetterSetter(Ft,"clipHeight",void 0,K());S.addGetterSetter(Ft,"clipFunc");const ns=new Map,Kf=Z._global.PointerEvent!==void 0;function Ta(t){return ns.get(t)}function sc(t){return{evt:t,pointerId:t.pointerId}}function Jf(t,e){return ns.get(t)===e}function Qf(t,e){Vi(t),e.getStage()&&(ns.set(t,e),Kf&&e._fire("gotpointercapture",sc(new PointerEvent("gotpointercapture"))))}function Vi(t,e){const n=ns.get(t);if(!n)return;const r=n.getStage();r&&r.content,ns.delete(t),Kf&&n._fire("lostpointercapture",sc(new PointerEvent("lostpointercapture")))}const g5="Stage",m5="string",Zu="px",v5="mouseout",Zf="mouseleave",ep="mouseover",tp="mouseenter",np="mousemove",rp="mousedown",ip="mouseup",Ai="pointermove",Pi="pointerdown",Vr="pointerup",Ti="pointercancel",y5="lostpointercapture",Os="pointerout",ki="pointerleave",Ms="pointerover",Is="pointerenter",hl="contextmenu",sp="touchstart",op="touchend",ap="touchmove",lp="touchcancel",fl="wheel",b5=5,w5=[[tp,"_pointerenter"],[rp,"_pointerdown"],[np,"_pointermove"],[ip,"_pointerup"],[Zf,"_pointerleave"],[sp,"_pointerdown"],[ap,"_pointermove"],[op,"_pointerup"],[lp,"_pointercancel"],[ep,"_pointerover"],[fl,"_wheel"],[hl,"_contextmenu"],[Pi,"_pointerdown"],[Ai,"_pointermove"],[Vr,"_pointerup"],[Ti,"_pointercancel"],[ki,"_pointerleave"],[y5,"_lostpointercapture"]],ka={mouse:{[Os]:v5,[ki]:Zf,[Ms]:ep,[Is]:tp,[Ai]:np,[Pi]:rp,[Vr]:ip,[Ti]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Os]:"touchout",[ki]:"touchleave",[Ms]:"touchover",[Is]:"touchenter",[Ai]:ap,[Pi]:sp,[Vr]:op,[Ti]:lp,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Os]:Os,[ki]:ki,[Ms]:Ms,[Is]:Is,[Ai]:Ai,[Pi]:Pi,[Vr]:Vr,[Ti]:Ti,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Ri=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",Fr=t=>{const e=Ri(t);if(e==="pointer")return Z.pointerEventsEnabled&&ka.pointer;if(e==="touch")return ka.touch;if(e==="mouse")return ka.mouse};function ed(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&R.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const _5="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Wi=[];class qo extends Ft{constructor(e){super(ed(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Wi.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{ed(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||R.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===m5){let n;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),Ft.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&R._isInDocument(e)&&this.container().removeChild(e);const n=Wi.indexOf(this);return n>-1&&Wi.splice(n,1),R.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(R.warn(_5),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new Xn({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(s){if(!s.isVisible())return;const o=s._toKonvaCanvas(e);r.drawImage(o._canvas,e.x,e.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,r=n.length,i=r-1;for(let s=i;s>=0;s--){const o=n[s].getIntersection(e);if(o)return o}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+Zu,this.content.style.height=n+Zu),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const r=this.children.length;return r>b5&&R.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Z.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return Jf(e,this)}setPointerCapture(e){Qf(e,this)}releaseCapture(e){Vi(e)}getLayers(){return this.children}_bindContentEvents(){Z.isBrowser&&w5.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=Fr(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=Fr(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=Fr(e.type),r=Ri(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(r),s=!(Z.isDragging()||Z.isTransforming())||Z.hitOnDragEnabled;i&&s?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):s&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=Fr(e.type),r=Ri(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(s=>{const o=this.getIntersection(s);if(Ie.justDragged=!1,Z["_"+r+"ListenClick"]=!0,!o||!o.isListening()){this[r+"ClickStartShape"]=void 0;return}Z.capturePointerEventsEnabled&&o.setPointerCapture(s.id),this[r+"ClickStartShape"]=o,o._fireAndBubble(n.pointerdown,{evt:e,pointerId:s.id}),i=!0;const a=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=Fr(e.type),r=Ri(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Z.isDragging()&&Ie.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(Z.isDragging()||Z.isTransforming())||Z.hitOnDragEnabled))return;const o={};let a=!1;const l=this._getTargetShape(r);this._changedPointerPositions.forEach(c=>{const u=Ta(c.id)||this.getIntersection(c),d=c.id,h={evt:e,pointerId:d},f=l!==u;if(f&&l&&(l._fireAndBubble(n.pointerout,{...h},u),l._fireAndBubble(n.pointerleave,{...h},u)),u){if(o[u._id])return;o[u._id]=!0}u&&u.isListening()?(a=!0,f&&(u._fireAndBubble(n.pointerover,{...h},l),u._fireAndBubble(n.pointerenter,{...h},l),this[r+"targetShape"]=u),u._fireAndBubble(n.pointermove,{...h})):l&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:d}),this[r+"targetShape"]=null)}),a||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=Fr(e.type),r=Ri(e.type);if(!n)return;this.setPointersPositions(e);const i=this[r+"ClickStartShape"],s=this[r+"ClickEndShape"],o={};let a=!1;this._changedPointerPositions.forEach(l=>{const c=Ta(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),o[c._id])return;o[c._id]=!0}const u=l.id,d={evt:e,pointerId:u};let h=!1;Z["_"+r+"InDblClickWindow"]?(h=!0,clearTimeout(this[r+"DblTimeout"])):Ie.justDragged||(Z["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Z["_"+r+"InDblClickWindow"]=!1},Z.dblClickWindow),c&&c.isListening()?(a=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(n.pointerup,{...d}),Z["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(n.pointerclick,{...d}),h&&s&&s===c&&c._fireAndBubble(n.pointerdblclick,{...d}))):(this[r+"ClickEndShape"]=null,a||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a=!0),Z["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:u}),h&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:u}))}),a||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Z["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(hl,{evt:e}):this._fire(hl,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(fl,{evt:e}):this._fire(fl,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=Ta(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Vr,sc(e)),Vi(e.pointerId)}_lostpointercapture(e){Vi(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,s=>{this._pointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,s=>{this._changedPointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:R._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:R._getFirstPointerId(e)}])}_setPointerPosition(e){R.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Xn({width:this.width(),height:this.height()}),this.bufferHitCanvas=new rc({pixelRatio:1,width:this.width(),height:this.height()}),!Z.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return R.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}qo.prototype.nodeType=g5;Je(qo);S.addGetterSetter(qo,"container");Z.isBrowser&&document.addEventListener("visibilitychange",()=>{Wi.forEach(t=>{t.batchDraw()})});const cp="hasShadow",up="shadowRGBA",dp="patternImage",hp="linearGradient",fp="radialGradient";let Ls;function Ra(){return Ls||(Ls=R.createCanvasElement().getContext("2d"),Ls)}const zi={};function x5(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function S5(t){t.stroke()}function C5(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function E5(t){t.stroke()}function A5(){this._clearCache(cp)}function P5(){this._clearCache(up)}function T5(){this._clearCache(dp)}function k5(){this._clearCache(hp)}function R5(){this._clearCache(fp)}class Y extends Q{constructor(e){super(e);let n,r=0;for(;n=R.getHitColor(),!(n&&!(n in zi));)if(r++,r>=1e4){R.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),n=R.getRandomColor();break}this.colorKey=n,zi[n]=this}getContext(){return R.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return R.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(cp,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(dp,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=Ra().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new Lt;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Z.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),s=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(s)}return n}}_getLinearGradient(){return this._getCache(hp,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=Ra(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),s=n.createLinearGradient(r.x,r.y,i.x,i.y);for(let o=0;o<e.length;o+=2)s.addColorStop(e[o],e[o+1]);return s}}_getRadialGradient(){return this._getCache(fp,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=Ra(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),s=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let o=0;o<e.length;o+=2)s.addColorStop(e[o],e[o+1]);return s}}getShadowRGBA(){return this._getCache(up,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=R.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Q.prototype.destroy.call(this),delete zi[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),s=this.hasStroke(),o=this.getAbsoluteOpacity()!==1;if(i&&s&&o)return!0;const a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&s&&a&&l)}setStrokeHitEnabled(e){R.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}const i=e.skipTransform,s=e.relativeTo||n&&this.getStage()||void 0,o=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,c=o.width+l,u=o.height+l,d=!e.skipShadow&&this.hasShadow(),h=d?this.shadowOffsetX():0,f=d?this.shadowOffsetY():0,p=c+Math.abs(h),m=u+Math.abs(f),v=d&&this.shadowBlur()||0,g=p+v*2,y=m+v*2,b={width:g,height:y,x:-(l/2+v)+Math.min(h,0)+o.x,y:-(l/2+v)+Math.min(f,0)+o.y};return i?b:this._transformedRect(b,s)}drawScene(e,n,r){const i=this.getLayer(),s=e||i.getCanvas(),o=s.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow();let u;const d=n===this;if(!this.isVisible()&&!d)return this;if(a){o.save();const h=this.getAbsoluteTransform(n).getMatrix();return o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!l)return this;if(o.save(),this._useBufferCanvas()){u=this.getStage();const h=r||u.bufferCanvas,f=h.getContext();f.clear(),f.save(),f._applyLineJoin(this),f._applyMiterLimit(this);const p=this.getAbsoluteTransform(n).getMatrix();f.transform(p[0],p[1],p[2],p[3],p[4],p[5]),l.call(this,f,this),f.restore();const m=h.pixelRatio;c&&o._applyShadow(this),d||(o._applyOpacity(this),o._applyGlobalCompositeOperation(this)),o.drawImage(h._canvas,h.x||0,h.y||0,h.width/m,h.height/m)}else{if(o._applyLineJoin(this),o._applyMiterLimit(this),!d){const h=this.getAbsoluteTransform(n).getMatrix();o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}c&&o._applyShadow(this),l.call(this,o,this)}return o.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;const i=this.getLayer(),s=e||i.hitCanvas,o=s&&s.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||R.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){o.save();const d=this.getAbsoluteTransform(n).getMatrix();return o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!a)return this;if(o.save(),o._applyLineJoin(this),o._applyMiterLimit(this),!(this===n)){const d=this.getAbsoluteTransform(n).getMatrix();o.transform(d[0],d[1],d[2],d[3],d[4],d[5])}return a.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,s=i.getContext(),o=i.getWidth(),a=i.getHeight();s.clear(),s.drawImage(r._canvas,0,0,o,a);try{const l=s.getImageData(0,0,o,a),c=l.data,u=c.length,d=R._hexToRgb(this.colorKey);for(let h=0;h<u;h+=4)c[h+3]>e?(c[h]=d.r,c[h+1]=d.g,c[h+2]=d.b,c[h+3]=255):c[h+3]=0;s.putImageData(l,0,0)}catch(l){R.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return Jf(e,this)}setPointerCapture(e){Qf(e,this)}releaseCapture(e){Vi(e)}}Y.prototype._fillFunc=x5;Y.prototype._strokeFunc=S5;Y.prototype._fillFuncHit=C5;Y.prototype._strokeFuncHit=E5;Y.prototype._centroid=!1;Y.prototype.nodeType="Shape";Je(Y);Y.prototype.eventListeners={};Y.prototype.on.call(Y.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",A5);Y.prototype.on.call(Y.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",P5);Y.prototype.on.call(Y.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",T5);Y.prototype.on.call(Y.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",k5);Y.prototype.on.call(Y.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",R5);S.addGetterSetter(Y,"stroke",void 0,qf());S.addGetterSetter(Y,"strokeWidth",2,K());S.addGetterSetter(Y,"fillAfterStrokeEnabled",!1);S.addGetterSetter(Y,"hitStrokeWidth","auto",ic());S.addGetterSetter(Y,"strokeHitEnabled",!0,tn());S.addGetterSetter(Y,"perfectDrawEnabled",!0,tn());S.addGetterSetter(Y,"shadowForStrokeEnabled",!0,tn());S.addGetterSetter(Y,"lineJoin");S.addGetterSetter(Y,"lineCap");S.addGetterSetter(Y,"miterLimit");S.addGetterSetter(Y,"sceneFunc");S.addGetterSetter(Y,"hitFunc");S.addGetterSetter(Y,"dash");S.addGetterSetter(Y,"dashOffset",0,K());S.addGetterSetter(Y,"shadowColor",void 0,Er());S.addGetterSetter(Y,"shadowBlur",0,K());S.addGetterSetter(Y,"shadowOpacity",1,K());S.addComponentsGetterSetter(Y,"shadowOffset",["x","y"]);S.addGetterSetter(Y,"shadowOffsetX",0,K());S.addGetterSetter(Y,"shadowOffsetY",0,K());S.addGetterSetter(Y,"fillPatternImage");S.addGetterSetter(Y,"fill",void 0,qf());S.addGetterSetter(Y,"fillPatternX",0,K());S.addGetterSetter(Y,"fillPatternY",0,K());S.addGetterSetter(Y,"fillLinearGradientColorStops");S.addGetterSetter(Y,"strokeLinearGradientColorStops");S.addGetterSetter(Y,"fillRadialGradientStartRadius",0);S.addGetterSetter(Y,"fillRadialGradientEndRadius",0);S.addGetterSetter(Y,"fillRadialGradientColorStops");S.addGetterSetter(Y,"fillPatternRepeat","repeat");S.addGetterSetter(Y,"fillEnabled",!0);S.addGetterSetter(Y,"strokeEnabled",!0);S.addGetterSetter(Y,"shadowEnabled",!0);S.addGetterSetter(Y,"dashEnabled",!0);S.addGetterSetter(Y,"strokeScaleEnabled",!0);S.addGetterSetter(Y,"fillPriority","color");S.addComponentsGetterSetter(Y,"fillPatternOffset",["x","y"]);S.addGetterSetter(Y,"fillPatternOffsetX",0,K());S.addGetterSetter(Y,"fillPatternOffsetY",0,K());S.addComponentsGetterSetter(Y,"fillPatternScale",["x","y"]);S.addGetterSetter(Y,"fillPatternScaleX",1,K());S.addGetterSetter(Y,"fillPatternScaleY",1,K());S.addComponentsGetterSetter(Y,"fillLinearGradientStartPoint",["x","y"]);S.addComponentsGetterSetter(Y,"strokeLinearGradientStartPoint",["x","y"]);S.addGetterSetter(Y,"fillLinearGradientStartPointX",0);S.addGetterSetter(Y,"strokeLinearGradientStartPointX",0);S.addGetterSetter(Y,"fillLinearGradientStartPointY",0);S.addGetterSetter(Y,"strokeLinearGradientStartPointY",0);S.addComponentsGetterSetter(Y,"fillLinearGradientEndPoint",["x","y"]);S.addComponentsGetterSetter(Y,"strokeLinearGradientEndPoint",["x","y"]);S.addGetterSetter(Y,"fillLinearGradientEndPointX",0);S.addGetterSetter(Y,"strokeLinearGradientEndPointX",0);S.addGetterSetter(Y,"fillLinearGradientEndPointY",0);S.addGetterSetter(Y,"strokeLinearGradientEndPointY",0);S.addComponentsGetterSetter(Y,"fillRadialGradientStartPoint",["x","y"]);S.addGetterSetter(Y,"fillRadialGradientStartPointX",0);S.addGetterSetter(Y,"fillRadialGradientStartPointY",0);S.addComponentsGetterSetter(Y,"fillRadialGradientEndPoint",["x","y"]);S.addGetterSetter(Y,"fillRadialGradientEndPointX",0);S.addGetterSetter(Y,"fillRadialGradientEndPointY",0);S.addGetterSetter(Y,"fillPatternRotation",0);S.addGetterSetter(Y,"fillRule",void 0,Er());S.backCompat(Y,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const O5="beforeDraw",M5="draw",pp=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],I5=pp.length;class Ar extends Ft{constructor(e){super(e),this.canvas=new Xn,this.hitCanvas=new rc({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Q.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Q.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Q.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Q.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Q.prototype.remove.call(this),e&&e.parentNode&&R._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&R.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Q.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){R.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){R.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,R.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let i=0;i<I5;i++){const s=pp[i],o=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),a=o.shape;if(a)return a;if(r=!!o.antialiased,!o.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const s=R.getHitColorKey(r[0],r[1],r[2]),o=zi[s];return o?{shape:o}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas();return this._fire(O5,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),Ft.prototype.drawScene.call(this,s,n,r),this._fire(M5,{node:this}),this}drawHit(e,n){const r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Ft.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){R.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return R.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return R.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Ar.prototype.nodeType="Layer";Je(Ar);S.addGetterSetter(Ar,"imageSmoothingEnabled",!0);S.addGetterSetter(Ar,"clearBeforeDraw",!0);S.addGetterSetter(Ar,"hitGraphEnabled",!0,tn());class oc extends Ar{constructor(e){super(e),this.listening(!1),R.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}oc.prototype.nodeType="FastLayer";Je(oc);class ti extends Ft{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&R.throw("You may only add groups and shapes to groups.")}}ti.prototype.nodeType="Group";Je(ti);const Oa=(function(){return yr.performance&&yr.performance.now?function(){return yr.performance.now()}:function(){return new Date().getTime()}})();class $t{constructor(e,n){this.id=$t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Oa(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=$t.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Oa(),$t._addAnimation(this),this}stop(){return $t._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,i=r.length;for(let s=0;s<i;s++)if(r[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const i=n[r],s=i.layers,o=i.func;i._updateFrameObject(Oa());const a=s.length;let l;if(o?l=o.call(i,i.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){const u=s[c];u._id!==void 0&&(e[u._id]=u)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=$t;e.animations.length?(e._runFrames(),R.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,R.requestAnimFrame(this._animationLoop))}}$t.animations=[];$t.animIdCounter=0;$t.animRunning=!1;const L5={node:1,duration:1,easing:1,onFinish:1,yoyo:1},D5=1,td=2,nd=3,rd=["fill","stroke","shadowColor"];let N5=0;class F5{constructor(e,n,r,i,s,o,a){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=s-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=td,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=nd,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===td?this.setTime(e):this.state===nd&&this.setTime(this.duration-e)}pause(){this.state=D5,this.fire("onPause")}getTimer(){return new Date().getTime()}}class We{constructor(e){const n=this,r=e.node,i=r._id,s=e.easing||ji.Linear,o=!!e.yoyo;let a,l;typeof e.duration>"u"?a=.3:e.duration===0?a=.001:a=e.duration,this.node=r,this._id=N5++;const c=r.getLayer()||(r instanceof Z.Stage?r.getLayers():null);c||R.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new $t(function(){n.tween.onEnterFrame()},c),this.tween=new F5(l,function(u){n._tweenFunc(u)},s,0,1,a*1e3,o),this._addListeners(),We.attrs[i]||(We.attrs[i]={}),We.attrs[i][this._id]||(We.attrs[i][this._id]={}),We.tweens[i]||(We.tweens[i]={});for(l in e)L5[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const r=this.node,i=r._id;let s,o,a,l,c;const u=We.tweens[i][e];u&&delete We.attrs[i][u][e];let d=r.getAttr(e);if(R._isArray(n))if(s=[],o=Math.max(n.length,d.length),e==="points"&&n.length!==d.length&&(n.length>d.length?(l=d,d=R._prepareArrayForTween(d,n,r.closed())):(a=n,n=R._prepareArrayForTween(n,d,r.closed()))),e.indexOf("fill")===0)for(let h=0;h<o;h++)if(h%2===0)s.push(n[h]-d[h]);else{const f=R.colorToRGBA(d[h]);c=R.colorToRGBA(n[h]),d[h]=f,s.push({r:c.r-f.r,g:c.g-f.g,b:c.b-f.b,a:c.a-f.a})}else for(let h=0;h<o;h++)s.push(n[h]-d[h]);else rd.indexOf(e)!==-1?(d=R.colorToRGBA(d),c=R.colorToRGBA(n),s={r:c.r-d.r,g:c.g-d.g,b:c.b-d.b,a:c.a-d.a}):s=n-d;We.attrs[i][this._id][e]={start:d,diff:s,end:n,trueEnd:a,trueStart:l},We.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,r=We.attrs[n._id][this._id];let i,s,o,a,l,c,u,d;for(i in r){if(s=r[i],o=s.start,a=s.diff,d=s.end,R._isArray(o))if(l=[],u=Math.max(o.length,d.length),i.indexOf("fill")===0)for(c=0;c<u;c++)c%2===0?l.push((o[c]||0)+a[c]*e):l.push("rgba("+Math.round(o[c].r+a[c].r*e)+","+Math.round(o[c].g+a[c].g*e)+","+Math.round(o[c].b+a[c].b*e)+","+(o[c].a+a[c].a*e)+")");else for(c=0;c<u;c++)l.push((o[c]||0)+a[c]*e);else rd.indexOf(i)!==-1?l="rgba("+Math.round(o.r+a.r*e)+","+Math.round(o.g+a.g*e)+","+Math.round(o.b+a.b*e)+","+(o.a+a.a*e)+")":l=o+a*e;n.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=We.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=We.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,r=We.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in r)delete We.tweens[e][i];delete We.attrs[e][n],We.tweens[e]&&(Object.keys(We.tweens[e]).length===0&&delete We.tweens[e],Object.keys(We.attrs[e]).length===0&&delete We.attrs[e])}}We.attrs={};We.tweens={};Q.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new We(t).play()};const ji={BackEaseIn(t,e,n,r){return n*(t/=r)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,r){return n*((t=t/r-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,r){let i=1.70158;return(t/=r/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,r,i,s){let o=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s))+e)},ElasticEaseOut(t,e,n,r,i,s){let o=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/s)+n+e)},ElasticEaseInOut(t,e,n,r,i,s){let o=0;return t===0?e:(t/=r/2)===2?e+n:(s||(s=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-ji.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?ji.BounceEaseIn(t*2,0,n,r)*.5+e:ji.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},id=R._assign(Z,{Util:R,Transform:Lt,Node:Q,Container:Ft,Stage:qo,stages:Wi,Layer:Ar,FastLayer:oc,Group:ti,DD:Ie,Shape:Y,shapes:zi,Animation:$t,Tween:We,Easings:ji,Context:Yo,Canvas:nc});class Dn extends Y{_sceneFunc(e){const n=Z.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=Z.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),o=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=s*(s>0?e:n),u=o*n,d=a*(a>0?e:n),h=l*(l>0?n:e);return{x:c,y:r?-1*h:d,width:u-c,height:h-d}}}Dn.prototype._centroid=!0;Dn.prototype.className="Arc";Dn.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Je(Dn);S.addGetterSetter(Dn,"innerRadius",0,K());S.addGetterSetter(Dn,"outerRadius",0,K());S.addGetterSetter(Dn,"angle",0,K());S.addGetterSetter(Dn,"clockwise",!1,tn());function pl(t,e,n,r,i,s,o){const a=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),c=o*a/(a+l),u=o*l/(a+l),d=n-c*(i-t),h=r-c*(s-e),f=n+u*(i-t),p=r+u*(s-e);return[d,h,f,p]}function sd(t,e){const n=t.length,r=[];for(let i=2;i<n-2;i+=2){const s=pl(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(s[0])||(r.push(s[0]),r.push(s[1]),r.push(t[i]),r.push(t[i+1]),r.push(s[2]),r.push(s[3]))}return r}class Nn extends Y{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,i=this.tension(),s=this.closed(),o=this.bezier();if(!r)return;let a=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){const l=this.getTensionPoints(),c=l.length;for(a=s?0:4,s||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);a<c-2;)e.bezierCurveTo(l[a++],l[a++],l[a++],l[a++],l[a++],l[a++]);s||e.quadraticCurveTo(l[c-2],l[c-1],n[r-2],n[r-1])}else if(o)for(a=2;a<r;)e.bezierCurveTo(n[a++],n[a++],n[a++],n[a++],n[a++],n[a++]);else for(a=2;a<r;a+=2)e.lineTo(n[a],n[a+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():sd(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),i=pl(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),s=pl(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),o=sd(e,r);return[i[2],i[3]].concat(o).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],i=e[1],s=e[1],o,a;for(let l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);return{x:n,y:i,width:r-n,height:s-i}}}Nn.prototype.className="Line";Nn.prototype._attrsAffectingSize=["points","bezier","tension"];Je(Nn);S.addGetterSetter(Nn,"closed",!1);S.addGetterSetter(Nn,"bezier",!1);S.addGetterSetter(Nn,"tension",0,K());S.addGetterSetter(Nn,"points",[],e5());const B5=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],G5=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],$5=[[1],[1,1],[1,2,1],[1,3,3,1]],od=(t,e,n)=>{let r,i;const o=n/2;r=0;for(let a=0;a<20;a++)i=o*B5[20][a]+o,r+=G5[20][a]*H5(t,e,i);return o*r},ad=(t,e,n)=>{n===void 0&&(n=1);const r=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],s=2*t[1]-2*t[0],o=2*e[1]-2*e[0],a=4*(r*r+i*i),l=4*(r*s+i*o),c=s*s+o*o;if(a===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const u=l/(2*a),d=c/a,h=n+u,f=d-u*u,p=h*h+f>0?Math.sqrt(h*h+f):0,m=u*u+f>0?Math.sqrt(u*u+f):0,v=u+Math.sqrt(u*u+f)!==0?f*Math.log(Math.abs((h+p)/(u+m))):0;return Math.sqrt(a)/2*(h*p-u*m+v)};function H5(t,e,n){const r=gl(1,n,t),i=gl(1,n,e),s=r*r+i*i;return Math.sqrt(s)}const gl=(t,e,n)=>{const r=n.length-1;let i,s;if(r===0)return 0;if(t===0){s=0;for(let o=0;o<=r;o++)s+=$5[r][o]*Math.pow(1-e,r-o)*Math.pow(e,o)*n[o];return s}else{i=new Array(r);for(let o=0;o<r;o++)i[o]=r*(n[o+1]-n[o]);return gl(t-1,e,i)}},ld=(t,e,n)=>{let r=1,i=t/e,s=(t-n(i))/e,o=0;for(;r>.001;){const a=n(i+s),l=Math.abs(t-a)/e;if(l<r)r=l,i+=s;else{const c=n(i-s),u=Math.abs(t-c)/e;u<r?(r=u,i-=s):s/=2}if(o++,o>500)break}return i};class je extends Y{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=je.parsePathData(this.data()),this.pathLength=je.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<n.length;i++){const s=n[i].command,o=n[i].points;switch(s){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":const a=o[0],l=o[1],c=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],m=c>u?c:u,v=c>u?1:c/u,g=c>u?u/c:1;e.translate(a,l),e.rotate(f),e.scale(v,g),e.arc(0,0,m,d,d+h,1-p),e.scale(1/v,1/g),e.rotate(-f),e.translate(-a,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const c=l.points[4],u=l.points[5],d=l.points[4]+u;let h=Math.PI/180;if(Math.abs(c-d)<h&&(h=Math.abs(c-d)),u<0)for(let f=c-h;f>d;f-=h){const p=je.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],f,0);e.push(p.x,p.y)}else for(let f=c+h;f<d;f+=h){const p=je.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],f,0);e.push(p.x,p.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){const u=je.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(u.x,u.y)}else e=e.concat(l.points)});let n=e[0],r=e[0],i=e[1],s=e[1],o,a;for(let l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],isNaN(o)||(n=Math.min(n,o),r=Math.max(r,o)),isNaN(a)||(i=Math.min(i,a),s=Math.max(s,a));return{x:n,y:i,width:r-n,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){return je.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,i=0,s=n.length;if(!s)return null;for(;i<s&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===s)return r=n[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[i].command==="M"?(r=n[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[i].start.x,y:n[i].start.y};const o=n[i],a=o.points;switch(o.command){case"L":return je.getPointOnLine(e,o.start.x,o.start.y,a[0],a[1]);case"C":return je.getPointOnCubicBezier(ld(e,je.getPathLength(n),m=>od([o.start.x,a[0],a[2],a[4]],[o.start.y,a[1],a[3],a[5]],m)),o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return je.getPointOnQuadraticBezier(ld(e,je.getPathLength(n),m=>ad([o.start.x,a[0],a[2]],[o.start.y,a[1],a[3]],m)),o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":const l=a[0],c=a[1],u=a[2],d=a[3],h=a[5],f=a[6];let p=a[4];return p+=h*e/o.pathLength,je.getPointOnEllipticalArc(l,c,u,d,p,f)}return null}static getPointOnLine(e,n,r,i,s,o,a){o=o??n,a=a??r;const l=this.getLineLength(n,r,i,s);if(l<1e-10)return{x:n,y:r};if(i===n)return{x:o,y:a+(s>r?e:-e)};const c=(s-r)/(i-n),u=Math.sqrt(e*e/(1+c*c))*(i<n?-1:1),d=c*u;if(Math.abs(a-r-c*(o-n))<1e-10)return{x:o+u,y:a+d};const h=((o-n)*(i-n)+(a-r)*(s-r))/(l*l),f=n+h*(i-n),p=r+h*(s-r),m=this.getLineLength(o,a,f,p),v=Math.sqrt(e*e-m*m),g=Math.sqrt(v*v/(1+c*c))*(i<n?-1:1),y=c*g;return{x:f+g,y:p+y}}static getPointOnCubicBezier(e,n,r,i,s,o,a,l,c){function u(v){return v*v*v}function d(v){return 3*v*v*(1-v)}function h(v){return 3*v*(1-v)*(1-v)}function f(v){return(1-v)*(1-v)*(1-v)}const p=l*u(e)+o*d(e)+i*h(e)+n*f(e),m=c*u(e)+a*d(e)+s*h(e)+r*f(e);return{x:p,y:m}}static getPointOnQuadraticBezier(e,n,r,i,s,o,a){function l(f){return f*f}function c(f){return 2*f*(1-f)}function u(f){return(1-f)*(1-f)}const d=o*l(e)+i*c(e)+n*u(e),h=a*l(e)+s*c(e)+r*u(e);return{x:d,y:h}}static getPointOnEllipticalArc(e,n,r,i,s,o){const a=Math.cos(o),l=Math.sin(o),c={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(c.x*a-c.y*l),y:n+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let d=0;d<r.length;d++)n=n.replace(new RegExp(r[d],"g"),"|"+r[d]);const i=n.split("|"),s=[],o=[];let a=0,l=0;const c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let u;for(let d=1;d<i.length;d++){let h=i[d],f=h.charAt(0);for(h=h.slice(1),o.length=0;u=c.exec(h);)o.push(u[0]);let p=[],m=f==="A"||f==="a"?0:-1;for(let v=0,g=o.length;v<g;v++){const y=o[v];if(y==="00"){p.push(0,0),m>=0&&(m+=2,m>=7&&(m-=7));continue}if(m>=0){if(m===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(y)){p.push(parseInt(y[0],10)),p.push(parseInt(y[1],10)),p.push(parseFloat(y.slice(2))),m+=3,m>=7&&(m-=7);continue}if(y==="11"||y==="10"||y==="01"){p.push(parseInt(y[0],10)),p.push(parseInt(y[1],10)),m+=2,m>=7&&(m-=7);continue}if(y==="0"||y==="1"){p.push(parseInt(y,10)),m+=1,m>=7&&(m-=7);continue}}else if(m===4){if(/^[01]\d+(?:\.\d+)?$/.test(y)){p.push(parseInt(y[0],10)),p.push(parseFloat(y.slice(1))),m+=2,m>=7&&(m-=7);continue}if(y==="0"||y==="1"){p.push(parseInt(y,10)),m+=1,m>=7&&(m-=7);continue}}const b=parseFloat(y);isNaN(b)?p.push(0):p.push(b),m+=1,m>=7&&(m-=7)}else{const b=parseFloat(y);isNaN(b)?p.push(0):p.push(b)}}for(;p.length>0&&!isNaN(p[0]);){let v="",g=[];const y=a,b=l;let w,A,T,O,k,D,F,oe,q,he;switch(f){case"l":a+=p.shift(),l+=p.shift(),v="L",g.push(a,l);break;case"L":a=p.shift(),l=p.shift(),g.push(a,l);break;case"m":const $=p.shift(),U=p.shift();if(a+=$,l+=U,v="M",s.length>2&&s[s.length-1].command==="z"){for(let P=s.length-2;P>=0;P--)if(s[P].command==="M"){a=s[P].points[0]+$,l=s[P].points[1]+U;break}}g.push(a,l),f="l";break;case"M":a=p.shift(),l=p.shift(),v="M",g.push(a,l),f="L";break;case"h":a+=p.shift(),v="L",g.push(a,l);break;case"H":a=p.shift(),v="L",g.push(a,l);break;case"v":l+=p.shift(),v="L",g.push(a,l);break;case"V":l=p.shift(),v="L",g.push(a,l);break;case"C":g.push(p.shift(),p.shift(),p.shift(),p.shift()),a=p.shift(),l=p.shift(),g.push(a,l);break;case"c":g.push(a+p.shift(),l+p.shift(),a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),v="C",g.push(a,l);break;case"S":A=a,T=l,w=s[s.length-1],w.command==="C"&&(A=a+(a-w.points[2]),T=l+(l-w.points[3])),g.push(A,T,p.shift(),p.shift()),a=p.shift(),l=p.shift(),v="C",g.push(a,l);break;case"s":A=a,T=l,w=s[s.length-1],w.command==="C"&&(A=a+(a-w.points[2]),T=l+(l-w.points[3])),g.push(A,T,a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),v="C",g.push(a,l);break;case"Q":g.push(p.shift(),p.shift()),a=p.shift(),l=p.shift(),g.push(a,l);break;case"q":g.push(a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),v="Q",g.push(a,l);break;case"T":A=a,T=l,w=s[s.length-1],w.command==="Q"&&(A=a+(a-w.points[0]),T=l+(l-w.points[1])),a=p.shift(),l=p.shift(),v="Q",g.push(A,T,a,l);break;case"t":A=a,T=l,w=s[s.length-1],w.command==="Q"&&(A=a+(a-w.points[0]),T=l+(l-w.points[1])),a+=p.shift(),l+=p.shift(),v="Q",g.push(A,T,a,l);break;case"A":O=p.shift(),k=p.shift(),D=p.shift(),F=p.shift(),oe=p.shift(),q=a,he=l,a=p.shift(),l=p.shift(),v="A",g=this.convertEndpointToCenterParameterization(q,he,a,l,F,oe,O,k,D);break;case"a":O=p.shift(),k=p.shift(),D=p.shift(),F=p.shift(),oe=p.shift(),q=a,he=l,a+=p.shift(),l+=p.shift(),v="A",g=this.convertEndpointToCenterParameterization(q,he,a,l,F,oe,O,k,D);break}s.push({command:v||f,points:g,start:{x:y,y:b},pathLength:this.calcLength(y,b,v||f,g)})}(f==="z"||f==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,n,r,i){let s,o,a,l;const c=je;switch(r){case"L":return c.getLineLength(e,n,i[0],i[1]);case"C":return od([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return ad([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":s=0;const u=i[4],d=i[5],h=i[4]+d;let f=Math.PI/180;if(Math.abs(u-h)<f&&(f=Math.abs(u-h)),o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),d<0)for(l=u-f;l>h;l-=f)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(l=u+f;l<h;l+=f)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),s}return 0}static convertEndpointToCenterParameterization(e,n,r,i,s,o,a,l,c){const u=c*(Math.PI/180),d=Math.cos(u)*(e-r)/2+Math.sin(u)*(n-i)/2,h=-1*Math.sin(u)*(e-r)/2+Math.cos(u)*(n-i)/2,f=d*d/(a*a)+h*h/(l*l);f>1&&(a*=Math.sqrt(f),l*=Math.sqrt(f));let p=Math.sqrt((a*a*(l*l)-a*a*(h*h)-l*l*(d*d))/(a*a*(h*h)+l*l*(d*d)));s===o&&(p*=-1),isNaN(p)&&(p=0);const m=p*a*h/l,v=p*-l*d/a,g=(e+r)/2+Math.cos(u)*m-Math.sin(u)*v,y=(n+i)/2+Math.sin(u)*m+Math.cos(u)*v,b=function(F){return Math.sqrt(F[0]*F[0]+F[1]*F[1])},w=function(F,oe){return(F[0]*oe[0]+F[1]*oe[1])/(b(F)*b(oe))},A=function(F,oe){return(F[0]*oe[1]<F[1]*oe[0]?-1:1)*Math.acos(w(F,oe))},T=A([1,0],[(d-m)/a,(h-v)/l]),O=[(d-m)/a,(h-v)/l],k=[(-1*d-m)/a,(-1*h-v)/l];let D=A(O,k);return w(O,k)<=-1&&(D=Math.PI),w(O,k)>=1&&(D=0),o===0&&D>0&&(D=D-2*Math.PI),o===1&&D<0&&(D=D+2*Math.PI),[g,y,a,l,T,D,u,o]}}je.prototype.className="Path";je.prototype._attrsAffectingSize=["data"];Je(je);S.addGetterSetter(je,"data");class Pr extends Nn{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let i=r;const s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());const o=this.pointerLength(),a=r.length;let l,c;if(s){const h=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[a-2],r[a-1]],f=je.calcLength(i[i.length-4],i[i.length-3],"C",h),p=je.getPointOnQuadraticBezier(Math.min(1,1-o/f),h[0],h[1],h[2],h[3],h[4],h[5]);l=r[a-2]-p.x,c=r[a-1]-p.y}else l=r[a-2]-r[a-4],c=r[a-1]-r[a-3];const u=(Math.atan2(c,l)+n)%n,d=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(l=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+n)%n),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}Pr.prototype.className="Arrow";Je(Pr);S.addGetterSetter(Pr,"pointerLength",10,K());S.addGetterSetter(Pr,"pointerWidth",10,K());S.addGetterSetter(Pr,"pointerAtBeginning",!1);S.addGetterSetter(Pr,"pointerAtEnding",!0);class di extends Y{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}di.prototype._centroid=!0;di.prototype.className="Circle";di.prototype._attrsAffectingSize=["radius"];Je(di);S.addGetterSetter(di,"radius",0,K());class sr extends Y{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}sr.prototype.className="Ellipse";sr.prototype._centroid=!0;sr.prototype._attrsAffectingSize=["radiusX","radiusY"];Je(sr);S.addComponentsGetterSetter(sr,"radius",["x","y"]);S.addGetterSetter(sr,"radiusX",0,K());S.addGetterSetter(sr,"radiusY",0,K());class Gt extends Y{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),s=this.attrs.image;let o;if(s){const a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?o=[s,this.cropX(),this.cropY(),a,l,0,0,n,r]:o=[s,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?R.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),s&&(i&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){const n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?R.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n,r;return(r=(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:0}getHeight(){var e,n,r;return(r=(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height)!==null&&r!==void 0?r:0}static fromURL(e,n,r=null){const i=R.createImageElement();i.onload=function(){const s=new Gt({image:i});n(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}Gt.prototype.className="Image";Gt.prototype._attrsAffectingSize=["image"];Je(Gt);S.addGetterSetter(Gt,"cornerRadius",0,Xo(4));S.addGetterSetter(Gt,"image");S.addComponentsGetterSetter(Gt,"crop",["x","y","width","height"]);S.addGetterSetter(Gt,"cropX",0,K());S.addGetterSetter(Gt,"cropY",0,K());S.addGetterSetter(Gt,"cropWidth",0,K());S.addGetterSetter(Gt,"cropHeight",0,K());const gp=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],V5="Change.konva",W5="none",ml="up",vl="right",yl="down",bl="left",z5=gp.length;class ac extends ti{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const i=function(){n._sync()};for(r=0;r<z5;r++)e.on(gp[r]+V5,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,i,s,o,a,l,c;if(e&&n){switch(r=e.width(),i=e.height(),s=n.pointerDirection(),o=n.pointerWidth(),c=n.pointerHeight(),a=0,l=0,s){case ml:a=r/2,l=-1*c;break;case vl:a=r+o,l=i/2;break;case yl:a=r/2,l=i+c;break;case bl:a=-1*o,l=i/2;break}n.setAttrs({x:-1*a,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}}ac.prototype.className="Label";Je(ac);class Tr extends Y{_sceneFunc(e){const n=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let l=0,c=0,u=0,d=0;typeof a=="number"?l=c=u=d=Math.min(a,n/2,r/2):(l=Math.min(a[0]||0,n/2,r/2),c=Math.min(a[1]||0,n/2,r/2),d=Math.min(a[2]||0,n/2,r/2),u=Math.min(a[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),i===ml&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*o),e.lineTo((n+s)/2,0)),e.lineTo(n-c,0),e.arc(n-c,c,c,Math.PI*3/2,0,!1),i===vl&&(e.lineTo(n,(r-o)/2),e.lineTo(n+s,r/2),e.lineTo(n,(r+o)/2)),e.lineTo(n,r-d),e.arc(n-d,r-d,d,0,Math.PI/2,!1),i===yl&&(e.lineTo((n+s)/2,r),e.lineTo(n/2,r+o),e.lineTo((n-s)/2,r)),e.lineTo(u,r),e.arc(u,r-u,u,Math.PI/2,Math.PI,!1),i===bl&&(e.lineTo(0,(r+o)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-o)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),o=this.width(),a=this.height();return s===ml?(n-=i,a+=i):s===yl?a+=i:s===bl?(e-=r*1.5,o+=r):s===vl&&(o+=r*1.5),{x:e,y:n,width:o,height:a}}}Tr.prototype.className="Tag";Je(Tr);S.addGetterSetter(Tr,"pointerDirection",W5);S.addGetterSetter(Tr,"pointerWidth",0,K());S.addGetterSetter(Tr,"pointerHeight",0,K());S.addGetterSetter(Tr,"cornerRadius",0,Xo(4));class hs extends Y{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?R.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}}hs.prototype.className="Rect";Je(hs);S.addGetterSetter(hs,"cornerRadius",0,Xo(4));class or extends Y{_sceneFunc(e){const n=this._getPoints(),r=this.radius(),i=this.sides(),s=this.cornerRadius();if(e.beginPath(),s)R.drawRoundedPolygonPath(e,n,i,r,s);else{e.moveTo(n[0].x,n[0].y);for(let o=1;o<n.length;o++)e.lineTo(n[o].x,n[o].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].x,i=e[0].y,s=e[0].y;return e.forEach(o=>{n=Math.min(n,o.x),r=Math.max(r,o.x),i=Math.min(i,o.y),s=Math.max(s,o.y)}),{x:n,y:i,width:r-n,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}or.prototype.className="RegularPolygon";or.prototype._centroid=!0;or.prototype._attrsAffectingSize=["radius"];Je(or);S.addGetterSetter(or,"radius",0,K());S.addGetterSetter(or,"sides",0,K());S.addGetterSetter(or,"cornerRadius",0,Xo(4));const cd=Math.PI*2;class kr extends Y{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,cd,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),cd,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}kr.prototype.className="Ring";kr.prototype._centroid=!0;kr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Je(kr);S.addGetterSetter(kr,"innerRadius",0,K());S.addGetterSetter(kr,"outerRadius",0,K());class yn extends Y{constructor(e){super(e),this._updated=!0,this.anim=new $t(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],o=this.frameOffsets(),a=s[i+0],l=s[i+1],c=s[i+2],u=s[i+3],d=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,u),e.closePath(),e.fillStrokeShape(this)),d)if(o){const h=o[n],f=r*2;e.drawImage(d,a,l,c,u,h[f+0],h[f+1],c,u)}else e.drawImage(d,a,l,c,u,0,0,c,u)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],o=this.frameOffsets(),a=s[i+2],l=s[i+3];if(e.beginPath(),o){const c=o[n],u=r*2;e.rect(c[u+0],c[u+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}yn.prototype.className="Sprite";Je(yn);S.addGetterSetter(yn,"animation");S.addGetterSetter(yn,"animations");S.addGetterSetter(yn,"frameOffsets");S.addGetterSetter(yn,"image");S.addGetterSetter(yn,"frameIndex",0,K());S.addGetterSetter(yn,"frameRate",17,K());S.backCompat(yn,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class ar extends Y{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let s=1;s<i*2;s++){const o=s%2===0?r:n,a=o*Math.sin(s*Math.PI/i),l=-1*o*Math.cos(s*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}ar.prototype.className="Star";ar.prototype._centroid=!0;ar.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Je(ar);S.addGetterSetter(ar,"numPoints",5,K());S.addGetterSetter(ar,"innerRadius",0,K());S.addGetterSetter(ar,"outerRadius",0,K());function Wn(t){return[...t].reduce((e,n,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const s=i[r+1];s&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(s)?(e.push(n+s),i[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[r+1]||""))?e.push(n+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const Br="auto",j5="center",mp="inherit",xi="justify",U5="Change.konva",Y5="2d",ud="-",vp="left",X5="text",q5="Text",K5="top",J5="bottom",dd="middle",yp="normal",Q5="px ",Ds=" ",Z5="right",hd="rtl",e4="word",t4="char",fd="none",Ma="",bp=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],n4=bp.length;function r4(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let Ns;function Ia(){return Ns||(Ns=R.createCanvasElement().getContext(Y5),Ns)}function i4(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function s4(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function o4(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class Ye extends Y{constructor(e){super(o4(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<n4;n++)this.on(bp[n]+U5,this._setTextData);this._setTextData()}_sceneFunc(e){var n,r;const i=this.textArr,s=i.length;if(!this.text())return;let o=this.padding(),a=this.fontSize(),l=this.lineHeight()*a,c=this.verticalAlign(),u=this.direction(),d=0,h=this.align(),f=this.getWidth(),p=this.letterSpacing(),m=this.charRenderFunc(),v=this.fill(),g=this.textDecoration(),y=g.indexOf("underline")!==-1,b=g.indexOf("line-through")!==-1,w;u=u===mp?e.direction:u;let A=l/2,T=dd;if(!Z.legacyTextRendering){const O=this.measureSize("M");T="alphabetic";const k=(n=O.fontBoundingBoxAscent)!==null&&n!==void 0?n:O.actualBoundingBoxAscent,D=(r=O.fontBoundingBoxDescent)!==null&&r!==void 0?r:O.actualBoundingBoxDescent;A=(k-D)/2+l/2}for(u===hd&&e.setAttr("direction",u),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",T),e.setAttr("textAlign",vp),c===dd?d=(this.getHeight()-s*l-o*2)/2:c===J5&&(d=this.getHeight()-s*l-o*2),e.translate(o,d+o),w=0;w<s;w++){let O=0,k=0;const D=i[w],F=D.text,oe=D.width,q=D.lastInParagraph;if(e.save(),h===Z5?O+=f-oe-o*2:h===j5&&(O+=(f-oe-o*2)/2),y){e.save(),e.beginPath();const $=Z.legacyTextRendering?Math.round(a/2):Math.round(a/4),U=O,P=A+k+$;e.moveTo(U,P);const I=h===xi&&!q?f-o*2:oe;e.lineTo(U+Math.round(I),P),e.lineWidth=a/15;const C=this._getLinearGradient();e.strokeStyle=C||v,e.stroke(),e.restore()}const he=O;if(u!==hd&&(p!==0||h===xi||m)){const $=F.split(" ").length-1,U=Wn(F);for(let P=0;P<U.length;P++){const I=U[P];if(I===" "&&!q&&h===xi&&(O+=(f-o*2-oe)/$),this._partialTextX=O,this._partialTextY=A+k,this._partialText=I,m){e.save();const B=i.slice(0,w).reduce((ae,ye)=>ae+Wn(ye.text).length,0),ie=P+B;m({char:I,index:ie,x:O,y:A+k,lineIndex:w,column:P,isLastInLine:q,width:this.measureSize(I).width,context:e})}e.fillStrokeShape(this),m&&e.restore(),O+=this.measureSize(I).width+p}}else p!==0&&e.setAttr("letterSpacing",`${p}px`),this._partialTextX=O,this._partialTextY=A+k,this._partialText=F,e.fillStrokeShape(this);if(b){e.save(),e.beginPath();const $=Z.legacyTextRendering?0:-Math.round(a/4),U=he;e.moveTo(U,A+k+$);const P=h===xi&&!q?f-o*2:oe;e.lineTo(U+Math.round(P),A+k+$),e.lineWidth=a/15;const I=this._getLinearGradient();e.strokeStyle=I||v,e.stroke(),e.restore()}e.restore(),s>1&&(A+=l)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=R._isString(e)?e:e==null?"":e+"";return this._setAttr(X5,n),this}getWidth(){return this.attrs.width===Br||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Br||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return R.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,i,s,o,a,l,c,u,d,h;let f=Ia(),p=this.fontSize(),m;f.save(),f.font=this._getContextFont(),m=f.measureText(e),f.restore();const v=p/100;return{actualBoundingBoxAscent:(n=m.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*v,actualBoundingBoxDescent:(r=m.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=m.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*v,actualBoundingBoxRight:(s=m.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*v,alphabeticBaseline:(o=m.alphabeticBaseline)!==null&&o!==void 0?o:0,emHeightAscent:(a=m.emHeightAscent)!==null&&a!==void 0?a:100*v,emHeightDescent:(l=m.emHeightDescent)!==null&&l!==void 0?l:-20*v,fontBoundingBoxAscent:(c=m.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*v,fontBoundingBoxDescent:(u=m.fontBoundingBoxDescent)!==null&&u!==void 0?u:21*v,hangingBaseline:(d=m.hangingBaseline)!==null&&d!==void 0?d:72.80000305175781*v,ideographicBaseline:(h=m.ideographicBaseline)!==null&&h!==void 0?h:-21*v,width:m.width,height:p}}_getContextFont(){return this.fontStyle()+Ds+this.fontVariant()+Ds+(this.fontSize()+Q5)+r4(this.fontFamily())}_addTextLine(e){this.align()===xi&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return Ia().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,s=this.attrs.width,o=this.attrs.height,a=s!==Br&&s!==void 0,l=o!==Br&&o!==void 0,c=this.padding(),u=s-c*2,d=o-c*2,h=0,f=this.wrap(),p=f!==fd,m=f!==t4&&p,v=this.ellipsis();this.textArr=[],Ia().font=this._getContextFont();const g=v?this._getTextWidth(Ma):0;for(let y=0,b=e.length;y<b;++y){let w=e[y],A=this._getTextWidth(w);if(a&&A>u)for(;w.length>0;){let T=0,O=Wn(w).length,k="",D=0;for(;T<O;){const F=T+O>>>1,oe=Wn(w),q=oe.slice(0,F+1).join(""),he=this._getTextWidth(q);(v&&l&&h+i>d?he+g:he)<=u?(T=F+1,k=q,D=he):O=F}if(k){if(m){const q=Wn(w),he=Wn(k),$=q[he.length],U=$===Ds||$===ud;let P;if(U&&D<=u)P=he.length;else{const I=he.lastIndexOf(Ds),C=he.lastIndexOf(ud);P=Math.max(I,C)+1}P>0&&(T=P,k=q.slice(0,T).join(""),D=this._getTextWidth(k))}if(k=k.trimRight(),this._addTextLine(k),r=Math.max(r,D),h+=i,this._shouldHandleEllipsis(h)){this._tryToAddEllipsisToLastLine();break}if(w=Wn(w).slice(T).join("").trimLeft(),w.length>0&&(A=this._getTextWidth(w),A<=u)){this._addTextLine(w),h+=i,r=Math.max(r,A);break}}else break}else this._addTextLine(w),h+=i,r=Math.max(r,A),this._shouldHandleEllipsis(h)&&y<b-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&h+i>d)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,s=i!==Br&&i!==void 0,o=this.padding(),a=i-o*2;return!(this.wrap()!==fd)||s&&e+r>a}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==Br&&e!==void 0,r=this.padding(),i=e-r*2,s=this.ellipsis(),o=this.textArr[this.textArr.length-1];!o||!s||(n&&(this._getTextWidth(o.text+Ma)<i||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+Ma))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}Ye.prototype._fillFunc=i4;Ye.prototype._strokeFunc=s4;Ye.prototype.className=q5;Ye.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Je(Ye);S.overWriteSetter(Ye,"width",ic());S.overWriteSetter(Ye,"height",ic());S.addGetterSetter(Ye,"direction",mp);S.addGetterSetter(Ye,"fontFamily","Arial");S.addGetterSetter(Ye,"fontSize",12,K());S.addGetterSetter(Ye,"fontStyle",yp);S.addGetterSetter(Ye,"fontVariant",yp);S.addGetterSetter(Ye,"padding",0,K());S.addGetterSetter(Ye,"align",vp);S.addGetterSetter(Ye,"verticalAlign",K5);S.addGetterSetter(Ye,"lineHeight",1,K());S.addGetterSetter(Ye,"wrap",e4);S.addGetterSetter(Ye,"ellipsis",!1,tn());S.addGetterSetter(Ye,"letterSpacing",0,K());S.addGetterSetter(Ye,"text","",Er());S.addGetterSetter(Ye,"textDecoration","");S.addGetterSetter(Ye,"charRenderFunc",void 0);const a4="",wp="normal";function _p(t){t.fillText(this.partialText,0,0)}function xp(t){t.strokeText(this.partialText,0,0)}class ot extends Y{constructor(e){super(e),this.dummyCanvas=R.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return je.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:je.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=je.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo,o=n.indexOf("underline")!==-1,a=n.indexOf("line-through")!==-1;o&&e.beginPath();for(let l=0;l<s.length;l++){e.save();const c=s[l].p0;e.translate(c.x,c.y),e.rotate(s[l].rotation),this.partialText=s[l].text,e.fillStrokeShape(this),o&&(l===0&&e.moveTo(0,i/2+1),e.lineTo(s[l].width,i/2+1)),e.restore()}if(o&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),a){e.beginPath();for(let l=0;l<s.length;l++){e.save();const c=s[l].p0;e.translate(c.x,c.y),e.rotate(s[l].rotation),l===0&&e.moveTo(0,0),e.lineTo(s[l].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=i/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const i=n[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return R.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Ye.prototype.setText.call(this,e)}_getContextFont(){return Ye.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=Wn(this.text()),n=[];let r=0;for(let d=0;d<e.length;d++)n.push({char:e[d],width:this._getTextSize(e[d]).width}),r+=n[d].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const s=this.letterSpacing(),o=this.align(),a=this.kerningFunc(),l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*s,0);let c=0;o==="center"&&(c=Math.max(0,this.pathLength/2-l/2)),o==="right"&&(c=Math.max(0,this.pathLength-l));let u=c;for(let d=0;d<n.length;d++){const h=this._getPointAtLength(u);if(!h)return;const f=n[d].char;let p=n[d].width+s;if(f===" "&&o==="justify"){const w=this.text().split(" ").length-1;p+=(this.pathLength-l)/w}const m=this._getPointAtLength(u+p);if(!m)return;const v=je.getLineLength(h.x,h.y,m.x,m.y);let g=0;if(a)try{g=a(n[d-1].char,f)*this.fontSize()}catch{g=0}h.x+=g,m.x+=g,this.textWidth+=g;const y=je.getPointOnLine(g+v/2,h.x,h.y,m.x,m.y),b=Math.atan2(m.y-h.y,m.x-h.x);this.glyphInfo.push({transposeX:y.x,transposeY:y.y,text:e[d],rotation:b,p0:h,p1:m,width:v}),u+=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let n=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,o,a;for(let c=0;c<e.length/2;c++)o=e[c*2],a=e[c*2+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);const l=this.fontSize();return{x:n-l/2,y:i-l/2,width:r-n+l,height:s-i+l}}destroy(){return R.releaseCanvas(this.dummyCanvas),super.destroy()}}ot.prototype._fillFunc=_p;ot.prototype._strokeFunc=xp;ot.prototype._fillFuncHit=_p;ot.prototype._strokeFuncHit=xp;ot.prototype.className="TextPath";ot.prototype._attrsAffectingSize=["text","fontSize","data"];Je(ot);S.addGetterSetter(ot,"data");S.addGetterSetter(ot,"fontFamily","Arial");S.addGetterSetter(ot,"fontSize",12,K());S.addGetterSetter(ot,"fontStyle",wp);S.addGetterSetter(ot,"align","left");S.addGetterSetter(ot,"letterSpacing",0,K());S.addGetterSetter(ot,"textBaseline","middle");S.addGetterSetter(ot,"fontVariant",wp);S.addGetterSetter(ot,"text",a4);S.addGetterSetter(ot,"textDecoration","");S.addGetterSetter(ot,"kerningFunc",void 0);const Sp="tr-konva",l4=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${Sp}`).join(" "),pd="nodesRect",c4=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],u4={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},d4="ontouchstart"in Z._global;function h4(t,e,n){if(t==="rotater")return n;e+=R.degToRad(u4[t]||0);const r=(R.radToDeg(e)%360+360)%360;return R._inRange(r,315+22.5,360)||R._inRange(r,0,22.5)?"ns-resize":R._inRange(r,45-22.5,45+22.5)?"nesw-resize":R._inRange(r,90-22.5,90+22.5)?"ew-resize":R._inRange(r,135-22.5,135+22.5)?"nwse-resize":R._inRange(r,180-22.5,180+22.5)?"ns-resize":R._inRange(r,225-22.5,225+22.5)?"nesw-resize":R._inRange(r,270-22.5,270+22.5)?"ew-resize":R._inRange(r,315-22.5,315+22.5)?"nwse-resize":(R.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const go=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function f4(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function Cp(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:i}}function p4(t,e){const n=f4(t);return Cp(t,e,n)}function g4(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=Z.getAngle(t[i]),o=Math.abs(s-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<n&&(r=s)}return r}let wl=0;class Re extends ti{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(l4,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return R.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Sp+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(R.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const o=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(o,s)}i.on(c4.map(o=>o+`.${this._getEventNamespace()}`).join(" "),s),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),s=i.x-n.x,o=i.y-n.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;const l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+s,y:l.y+o}),a.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(pd),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(pd,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),o=e.getAbsolutePosition(r),a=i.x*s.x-e.offsetX()*s.x,l=i.y*s.y-e.offsetY()*s.y,c=(Z.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),u={x:o.x+a*Math.cos(c)+l*Math.sin(-c),y:o.y+l*Math.cos(c)+a*Math.sin(c),width:i.width*s.x,height:i.height*s.y,rotation:c};return Cp(u,-Z.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const u=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),d=[{x:u.x,y:u.y},{x:u.x+u.width,y:u.y},{x:u.x+u.width,y:u.y+u.height},{x:u.x,y:u.y+u.height}],h=c.getAbsoluteTransform();d.forEach(function(f){const p=h.point(f);n.push(p)})});const r=new Lt;r.rotate(-Z.getAngle(this.rotation()));let i=1/0,s=1/0,o=-1/0,a=-1/0;n.forEach(function(c){const u=r.point(c);i===void 0&&(i=o=u.x,s=a=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}),r.invert();const l=r.point({x:i,y:s});return{x:l.x,y:l.y,width:o-i,height:a-s,rotation:Z.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),go.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new hs({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:d4?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=Z.getAngle(this.rotation()),s=this.rotateAnchorCursor(),o=h4(e,i,s);n.getStage().content&&(n.getStage().content.style.cursor=o),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new Y({name:"back",width:0,height:0,sceneFunc(n,r){const i=r.getParent(),s=i.padding();n.beginPath(),n.rect(-s,-s,r.width()+s*2,r.height()+s*2),n.moveTo(r.width()/2,-s),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(r.width()/2,-i.rotateAnchorOffset()*R._sign(r.height())-s),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,i=n.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},wl++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let n,r,i;const s=this.findOne("."+this._movingAnchorName),o=s.getStage();o.setPointersPositions(e);const a=o.getPointerPosition();let l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),s.setAbsolutePosition(l);const u=s.getAbsolutePosition();if(c.x===u.x&&c.y===u.y)return;if(this._movingAnchorName==="rotater"){const y=this._getNodeRect();n=s.x()-y.width/2,r=-s.y()+y.height/2;let b=Math.atan2(-r,n)+Math.PI/2;y.height<0&&(b-=Math.PI);const A=Z.getAngle(this.rotation())+b,T=Z.getAngle(this.rotationSnapTolerance()),k=g4(this.rotationSnaps(),A,T)-y.rotation,D=p4(y,k);this._fitNodesInto(D,e);return}const d=this.shiftBehavior();let h;d==="inverted"?h=this.keepRatio()&&!e.shiftKey:d==="none"?h=this.keepRatio():h=this.keepRatio()||e.shiftKey;let f=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(h){const y=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(y.x-s.x(),2)+Math.pow(y.y-s.y(),2));const b=this.findOne(".top-left").x()>y.x?-1:1,w=this.findOne(".top-left").y()>y.y?-1:1;n=i*this.cos*b,r=i*this.sin*w,this.findOne(".top-left").x(y.x-n),this.findOne(".top-left").y(y.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(h){const y=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-y.x,2)+Math.pow(y.y-s.y(),2));const b=this.findOne(".top-right").x()<y.x?-1:1,w=this.findOne(".top-right").y()>y.y?-1:1;n=i*this.cos*b,r=i*this.sin*w,this.findOne(".top-right").x(y.x+n),this.findOne(".top-right").y(y.y-r)}var p=s.position();this.findOne(".top-left").y(p.y),this.findOne(".bottom-right").x(p.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(h){const y=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(y.x-s.x(),2)+Math.pow(s.y()-y.y,2));const b=y.x<s.x()?-1:1,w=s.y()<y.y?-1:1;n=i*this.cos*b,r=i*this.sin*w,s.x(y.x-n),s.y(y.y+r)}p=s.position(),this.findOne(".top-left").x(p.x),this.findOne(".bottom-right").y(p.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(h){const y=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-y.x,2)+Math.pow(s.y()-y.y,2));const b=this.findOne(".bottom-right").x()<y.x?-1:1,w=this.findOne(".bottom-right").y()<y.y?-1:1;n=i*this.cos*b,r=i*this.sin*w,this.findOne(".bottom-right").x(y.x+n),this.findOne(".bottom-right").y(y.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(f=this.centeredScaling()||e.altKey,f){const y=this.findOne(".top-left"),b=this.findOne(".bottom-right"),w=y.x(),A=y.y(),T=this.getWidth()-b.x(),O=this.getHeight()-b.y();b.move({x:-w,y:-A}),y.move({x:T,y:O})}const m=this.findOne(".top-left").getAbsolutePosition();n=m.x,r=m.y;const v=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),g=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:v,height:g,rotation:Z.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();wl--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(i=>{var s;i._fire("transformend",{evt:e,target:i}),(s=i.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),i=1;if(R._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(R._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=new Lt;if(s.rotate(Z.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const h=s.point({x:-this.padding()*2,y:0});e.x+=h.x,e.y+=h.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const h=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const h=s.point({x:0,y:-this.padding()*2});e.x+=h.x,e.y+=h.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const h=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const h=this.boundBoxFunc()(r,e);h?e=h:R.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,a=new Lt;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/o,r.height/o);const l=new Lt,c=e.width/o,u=e.height/o;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(u))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,u));const d=l.multiply(a.invert());this._nodes.forEach(h=>{var f;if(!h.getStage())return;const p=h.getParent().getAbsoluteTransform(),m=h.getTransform().copy();m.translate(h.offsetX(),h.offsetY());const v=new Lt;v.multiply(p.copy().invert()).multiply(d).multiply(p).multiply(m);const g=v.decompose();h.setAttrs(g),(f=h.getLayer())===null||f===void 0||f.batchDraw()}),this.rotation(R._getRotation(e.rotation)),this._nodes.forEach(h=>{this._fire("transform",{evt:n,target:h}),h._fire("transform",{evt:n,target:h})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(R._getRotation(n.rotation));const r=n.width,i=n.height,s=this.enabledAnchors(),o=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(d=>{d.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:o&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+a,visible:o&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:o&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:o&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-a,visible:o&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-a,visible:o&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*R._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(d=>d.draggable()),x:0,y:0});const u=this.anchorStyleFunc();u&&c.forEach(d=>{u(d)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),ti.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Q.prototype.toObject.call(this)}clone(e){return Q.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Re.isTransforming=()=>wl>0;function m4(t){return t instanceof Array||R.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){go.indexOf(e)===-1&&R.warn("Unknown anchor name: "+e+". Available names are: "+go.join(", "))}),t||[]}Re.prototype.className="Transformer";Je(Re);S.addGetterSetter(Re,"enabledAnchors",go,m4);S.addGetterSetter(Re,"flipEnabled",!0,tn());S.addGetterSetter(Re,"resizeEnabled",!0);S.addGetterSetter(Re,"anchorSize",10,K());S.addGetterSetter(Re,"rotateEnabled",!0);S.addGetterSetter(Re,"rotateLineVisible",!0);S.addGetterSetter(Re,"rotationSnaps",[]);S.addGetterSetter(Re,"rotateAnchorOffset",50,K());S.addGetterSetter(Re,"rotateAnchorCursor","crosshair");S.addGetterSetter(Re,"rotationSnapTolerance",5,K());S.addGetterSetter(Re,"borderEnabled",!0);S.addGetterSetter(Re,"anchorStroke","rgb(0, 161, 255)");S.addGetterSetter(Re,"anchorStrokeWidth",1,K());S.addGetterSetter(Re,"anchorFill","white");S.addGetterSetter(Re,"anchorCornerRadius",0,K());S.addGetterSetter(Re,"borderStroke","rgb(0, 161, 255)");S.addGetterSetter(Re,"borderStrokeWidth",1,K());S.addGetterSetter(Re,"borderDash");S.addGetterSetter(Re,"keepRatio",!0);S.addGetterSetter(Re,"shiftBehavior","default");S.addGetterSetter(Re,"centeredScaling",!1);S.addGetterSetter(Re,"ignoreStroke",!1);S.addGetterSetter(Re,"padding",0,K());S.addGetterSetter(Re,"nodes");S.addGetterSetter(Re,"node");S.addGetterSetter(Re,"boundBoxFunc");S.addGetterSetter(Re,"anchorDragBoundFunc");S.addGetterSetter(Re,"anchorStyleFunc");S.addGetterSetter(Re,"shouldOverdrawWholeArea",!1);S.addGetterSetter(Re,"useSingleNodeRotation",!0);S.backCompat(Re,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Fn extends Y{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Z.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Fn.prototype.className="Wedge";Fn.prototype._centroid=!0;Fn.prototype._attrsAffectingSize=["radius"];Je(Fn);S.addGetterSetter(Fn,"radius",0,K());S.addGetterSetter(Fn,"angle",0,K());S.addGetterSetter(Fn,"clockwise",!1);S.backCompat(Fn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function gd(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const v4=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],y4=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function b4(t,e){const n=t.data,r=t.width,i=t.height;let s,o,a,l,c,u,d,h,f,p,m,v,g,y,b,w,A,T,O,k;const D=e+e+1,F=r-1,oe=i-1,q=e+1,he=q*(q+1)/2,$=new gd,U=v4[e],P=y4[e];let I=null,C=$,B=null,ie=null;for(let ae=1;ae<D;ae++)C=C.next=new gd,ae===q&&(I=C);C.next=$,a=o=0;for(let ae=0;ae<i;ae++){v=g=y=b=l=c=u=d=0,h=q*(w=n[o]),f=q*(A=n[o+1]),p=q*(T=n[o+2]),m=q*(O=n[o+3]),l+=he*w,c+=he*A,u+=he*T,d+=he*O,C=$;for(let ye=0;ye<q;ye++)C.r=w,C.g=A,C.b=T,C.a=O,C=C.next;for(let ye=1;ye<q;ye++)s=o+((F<ye?F:ye)<<2),l+=(C.r=w=n[s])*(k=q-ye),c+=(C.g=A=n[s+1])*k,u+=(C.b=T=n[s+2])*k,d+=(C.a=O=n[s+3])*k,v+=w,g+=A,y+=T,b+=O,C=C.next;B=$,ie=I;for(let ye=0;ye<r;ye++)n[o+3]=O=d*U>>P,O!==0?(O=255/O,n[o]=(l*U>>P)*O,n[o+1]=(c*U>>P)*O,n[o+2]=(u*U>>P)*O):n[o]=n[o+1]=n[o+2]=0,l-=h,c-=f,u-=p,d-=m,h-=B.r,f-=B.g,p-=B.b,m-=B.a,s=a+((s=ye+e+1)<F?s:F)<<2,v+=B.r=n[s],g+=B.g=n[s+1],y+=B.b=n[s+2],b+=B.a=n[s+3],l+=v,c+=g,u+=y,d+=b,B=B.next,h+=w=ie.r,f+=A=ie.g,p+=T=ie.b,m+=O=ie.a,v-=w,g-=A,y-=T,b-=O,ie=ie.next,o+=4;a+=r}for(let ae=0;ae<r;ae++){g=y=b=v=c=u=d=l=0,o=ae<<2,h=q*(w=n[o]),f=q*(A=n[o+1]),p=q*(T=n[o+2]),m=q*(O=n[o+3]),l+=he*w,c+=he*A,u+=he*T,d+=he*O,C=$;for(let me=0;me<q;me++)C.r=w,C.g=A,C.b=T,C.a=O,C=C.next;let ye=r;for(let me=1;me<=e;me++)o=ye+ae<<2,l+=(C.r=w=n[o])*(k=q-me),c+=(C.g=A=n[o+1])*k,u+=(C.b=T=n[o+2])*k,d+=(C.a=O=n[o+3])*k,v+=w,g+=A,y+=T,b+=O,C=C.next,me<oe&&(ye+=r);o=ae,B=$,ie=I;for(let me=0;me<i;me++)s=o<<2,n[s+3]=O=d*U>>P,O>0?(O=255/O,n[s]=(l*U>>P)*O,n[s+1]=(c*U>>P)*O,n[s+2]=(u*U>>P)*O):n[s]=n[s+1]=n[s+2]=0,l-=h,c-=f,u-=p,d-=m,h-=B.r,f-=B.g,p-=B.b,m-=B.a,s=ae+((s=me+q)<oe?s:oe)*r<<2,l+=v+=B.r=n[s],c+=g+=B.g=n[s+1],u+=y+=B.b=n[s+2],d+=b+=B.a=n[s+3],B=B.next,h+=w=ie.r,f+=A=ie.g,p+=T=ie.b,m+=O=ie.a,v-=w,g-=A,y-=T,b-=O,ie=ie.next,o+=r}}const w4=function(e){const n=Math.round(this.blurRadius());n>0&&b4(e,n)};S.addGetterSetter(Q,"blurRadius",0,K(),S.afterSetFilter);const _4=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};S.addGetterSetter(Q,"brightness",0,K(),S.afterSetFilter);const x4=function(t){const e=this.brightness(),n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},S4=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let i=150,s=150,o=150;for(let a=0;a<r;a+=4)i=n[a],s=n[a+1],o=n[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,o=o<0?0:o>255?255:o,n[a]=i,n[a+1]=s,n[a+2]=o};S.addGetterSetter(Q,"contrast",0,K(),S.afterSetFilter);const C4=function(t){var e,n,r,i,s,o,a,l,c;const u=t.data,d=t.width,h=t.height,f=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),p=Math.min(1,Math.max(0,(i=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&i!==void 0?i:.5)),v=(a={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(o=(s=this.embossDirection)===null||s===void 0?void 0:s.call(this))!==null&&o!==void 0?o:"top-left"])!==null&&a!==void 0?a:315,g=!!((c=(l=this.embossBlend)===null||l===void 0?void 0:l.call(this))!==null&&c!==void 0&&c),y=f*10,b=p*255,w=v*Math.PI/180,A=Math.cos(w),T=Math.sin(w),O=128/1020*y,k=new Uint8ClampedArray(u),D=new Float32Array(d*h);for(let $=0,U=0;U<u.length;U+=4,$++)D[$]=.2126*k[U]+.7152*k[U+1]+.0722*k[U+2];const F=[-1,0,1,-2,0,2,-1,0,1],oe=[-1,-2,-1,0,0,0,1,2,1],q=[-d-1,-d,-d+1,-1,0,1,d-1,d,d+1],he=$=>$<0?0:$>255?255:$;for(let $=1;$<h-1;$++)for(let U=1;U<d-1;U++){const P=$*d+U;let I=0,C=0;I+=D[P+q[0]]*F[0],C+=D[P+q[0]]*oe[0],I+=D[P+q[1]]*F[1],C+=D[P+q[1]]*oe[1],I+=D[P+q[2]]*F[2],C+=D[P+q[2]]*oe[2],I+=D[P+q[3]]*F[3],C+=D[P+q[3]]*oe[3],I+=D[P+q[5]]*F[5],C+=D[P+q[5]]*oe[5],I+=D[P+q[6]]*F[6],C+=D[P+q[6]]*oe[6],I+=D[P+q[7]]*F[7],C+=D[P+q[7]]*oe[7],I+=D[P+q[8]]*F[8],C+=D[P+q[8]]*oe[8];const B=A*I+T*C,ie=he(b+B*O),ae=P*4;if(g){const ye=ie-b;u[ae]=he(k[ae]+ye),u[ae+1]=he(k[ae+1]+ye),u[ae+2]=he(k[ae+2]+ye),u[ae+3]=k[ae+3]}else u[ae]=u[ae+1]=u[ae+2]=ie,u[ae+3]=k[ae+3]}for(let $=0;$<d;$++){let U=$*4,P=((h-1)*d+$)*4;u[U]=k[U],u[U+1]=k[U+1],u[U+2]=k[U+2],u[U+3]=k[U+3],u[P]=k[P],u[P+1]=k[P+1],u[P+2]=k[P+2],u[P+3]=k[P+3]}for(let $=1;$<h-1;$++){let U=$*d*4,P=($*d+(d-1))*4;u[U]=k[U],u[U+1]=k[U+1],u[U+2]=k[U+2],u[U+3]=k[U+3],u[P]=k[P],u[P+1]=k[P+1],u[P+2]=k[P+2],u[P+3]=k[P+3]}return t};S.addGetterSetter(Q,"embossStrength",.5,K(),S.afterSetFilter);S.addGetterSetter(Q,"embossWhiteLevel",.5,K(),S.afterSetFilter);S.addGetterSetter(Q,"embossDirection","top-left",void 0,S.afterSetFilter);S.addGetterSetter(Q,"embossBlend",!1,void 0,S.afterSetFilter);function La(t,e,n,r,i){const s=n-e,o=i-r;if(s===0)return r+o/2;if(o===0)return r;let a=(t-e)/s;return a=o*a+r,a}const E4=function(t){const e=t.data,n=e.length;let r=e[0],i=r,s,o=e[1],a=o,l,c=e[2],u=c,d;const h=this.enhance();if(h===0)return;for(let b=0;b<n;b+=4)s=e[b+0],s<r?r=s:s>i&&(i=s),l=e[b+1],l<o?o=l:l>a&&(a=l),d=e[b+2],d<c?c=d:d>u&&(u=d);i===r&&(i=255,r=0),a===o&&(a=255,o=0),u===c&&(u=255,c=0);let f,p,m,v,g,y;if(h>0)f=i+h*(255-i),p=r-h*(r-0),m=a+h*(255-a),v=o-h*(o-0),g=u+h*(255-u),y=c-h*(c-0);else{const b=(i+r)*.5;f=i+h*(i-b),p=r+h*(r-b);const w=(a+o)*.5;m=a+h*(a-w),v=o+h*(o-w);const A=(u+c)*.5;g=u+h*(u-A),y=c+h*(c-A)}for(let b=0;b<n;b+=4)e[b+0]=La(e[b+0],r,i,p,f),e[b+1]=La(e[b+1],o,a,v,m),e[b+2]=La(e[b+2],c,u,y,g)};S.addGetterSetter(Q,"enhance",0,K(),S.afterSetFilter);const A4=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};S.addGetterSetter(Q,"hue",0,K(),S.afterSetFilter);S.addGetterSetter(Q,"saturation",0,K(),S.afterSetFilter);S.addGetterSetter(Q,"luminance",0,K(),S.afterSetFilter);const P4=function(t){const e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=this.luminance()*127,a=r*i*Math.cos(s*Math.PI/180),l=r*i*Math.sin(s*Math.PI/180),c=.299*r+.701*a+.167*l,u=.587*r-.587*a+.33*l,d=.114*r-.114*a-.497*l,h=.299*r-.299*a-.328*l,f=.587*r+.413*a+.035*l,p=.114*r-.114*a+.293*l,m=.299*r-.3*a+1.25*l,v=.587*r-.586*a-1.05*l,g=.114*r+.886*a-.2*l;let y,b,w,A;for(let T=0;T<n;T+=4)y=e[T+0],b=e[T+1],w=e[T+2],A=e[T+3],e[T+0]=c*y+u*b+d*w+o,e[T+1]=h*y+f*b+p*w+o,e[T+2]=m*y+v*b+g*w+o,e[T+3]=A},T4=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=r*i*Math.cos(s*Math.PI/180),a=r*i*Math.sin(s*Math.PI/180),l=.299*r+.701*o+.167*a,c=.587*r-.587*o+.33*a,u=.114*r-.114*o-.497*a,d=.299*r-.299*o-.328*a,h=.587*r+.413*o+.035*a,f=.114*r-.114*o+.293*a,p=.299*r-.3*o+1.25*a,m=.587*r-.586*o-1.05*a,v=.114*r+.886*o-.2*a;for(let g=0;g<n;g+=4){const y=e[g+0],b=e[g+1],w=e[g+2],A=e[g+3];e[g+0]=l*y+c*b+u*w,e[g+1]=d*y+h*b+f*w,e[g+2]=p*y+m*b+v*w,e[g+3]=A}};S.addGetterSetter(Q,"hue",0,K(),S.afterSetFilter);S.addGetterSetter(Q,"saturation",0,K(),S.afterSetFilter);S.addGetterSetter(Q,"value",0,K(),S.afterSetFilter);const k4=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},R4=function(t,e,n){const r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2;let c=Math.sqrt(a*a+l*l),u=s-a,d=o-l;const h=Math.sqrt(u*u+d*d);c=h>c?h:c;const f=o,p=s,m=360/p*Math.PI/180;for(let v=0;v<p;v+=1){const g=Math.sin(v*m),y=Math.cos(v*m);for(let b=0;b<f;b+=1){u=Math.floor(a+c*b/f*y),d=Math.floor(l+c*b/f*g);let w=(d*s+u)*4;const A=r[w+0],T=r[w+1],O=r[w+2],k=r[w+3];w=(v+b*s)*4,i[w+0]=A,i[w+1]=T,i[w+2]=O,i[w+3]=k}}},O4=function(t,e,n){const r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2;let c=Math.sqrt(a*a+l*l),u=s-a,d=o-l;const h=Math.sqrt(u*u+d*d);c=h>c?h:c;const f=o,p=s,m=0;let v,g;for(u=0;u<s;u+=1)for(d=0;d<o;d+=1){const y=u-a,b=d-l,w=Math.sqrt(y*y+b*b)*f/c;let A=(Math.atan2(b,y)*180/Math.PI+360+m)%360;A=A*p/360,v=Math.floor(A),g=Math.floor(w);let T=(g*s+v)*4;const O=r[T+0],k=r[T+1],D=r[T+2],F=r[T+3];T=(d*s+u)*4,i[T+0]=O,i[T+1]=k,i[T+2]=D,i[T+3]=F}},M4=function(t){const e=t.width,n=t.height;let r,i,s,o,a,l,c,u,d,h,f=Math.round(this.kaleidoscopePower());const p=Math.round(this.kaleidoscopeAngle()),m=Math.floor(e*(p%360)/360);if(f<1)return;const v=R.createCanvasElement();v.width=e,v.height=n;const g=v.getContext("2d").getImageData(0,0,e,n);R.releaseCanvas(v),R4(t,g,{polarCenterX:e/2,polarCenterY:n/2});let y=e/Math.pow(2,f);for(;y<=8;)y=y*2,f-=1;y=Math.ceil(y);let b=y,w=0,A=b,T=1;for(m+y>e&&(w=b,A=0,T=-1),i=0;i<n;i+=1)for(r=w;r!==A;r+=T)s=Math.round(r+m)%e,d=(e*i+s)*4,a=g.data[d+0],l=g.data[d+1],c=g.data[d+2],u=g.data[d+3],h=(e*i+r)*4,g.data[h+0]=a,g.data[h+1]=l,g.data[h+2]=c,g.data[h+3]=u;for(i=0;i<n;i+=1)for(b=Math.floor(y),o=0;o<f;o+=1){for(r=0;r<b+1;r+=1)d=(e*i+r)*4,a=g.data[d+0],l=g.data[d+1],c=g.data[d+2],u=g.data[d+3],h=(e*i+b*2-r-1)*4,g.data[h+0]=a,g.data[h+1]=l,g.data[h+2]=c,g.data[h+3]=u;b*=2}O4(g,t,{})};S.addGetterSetter(Q,"kaleidoscopePower",2,K(),S.afterSetFilter);S.addGetterSetter(Q,"kaleidoscopeAngle",0,K(),S.afterSetFilter);function Fs(t,e,n){let r=(n*t.width+e)*4;const i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function Si(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function I4(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function L4(t,e){const n=Fs(t,0,0),r=Fs(t,t.width-1,0),i=Fs(t,0,t.height-1),s=Fs(t,t.width-1,t.height-1),o=e||10;if(Si(n,r)<o&&Si(r,s)<o&&Si(s,i)<o&&Si(i,n)<o){const a=I4([r,n,s,i]),l=[];for(let c=0;c<t.width*t.height;c++){const u=Si(a,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=u<o?0:255}return l}}function D4(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function N4(t,e,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<i;d++)for(let h=0;h<i;h++){const f=a+d-s,p=l+h-s;if(f>=0&&f<n&&p>=0&&p<e){const m=f*e+p,v=r[d*i+h];u+=t[m]*v}}o[c]=u===2040?255:0}return o}function F4(t,e,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<i;d++)for(let h=0;h<i;h++){const f=a+d-s,p=l+h-s;if(f>=0&&f<n&&p>=0&&p<e){const m=f*e+p,v=r[d*i+h];u+=t[m]*v}}o[c]=u>=1020?255:0}return o}function B4(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<i;d++)for(let h=0;h<i;h++){const f=a+d-s,p=l+h-s;if(f>=0&&f<n&&p>=0&&p<e){const m=f*e+p,v=r[d*i+h];u+=t[m]*v}}o[c]=u}return o}const G4=function(t){const e=this.threshold();let n=L4(t,e);return n&&(n=N4(n,t.width,t.height),n=F4(n,t.width,t.height),n=B4(n,t.width,t.height),D4(t,n)),t};S.addGetterSetter(Q,"threshold",0,K(),S.afterSetFilter);const $4=function(t){const e=this.noise()*255,n=t.data,r=n.length,i=e/2;for(let s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()};S.addGetterSetter(Q,"noise",.2,K(),S.afterSetFilter);const H4=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i=Math.ceil(n/e),s=Math.ceil(r/e),o=t.data;if(e<=0){R.error("pixelSize value can not be <= 0");return}for(let a=0;a<i;a+=1)for(let l=0;l<s;l+=1){let c=0,u=0,d=0,h=0;const f=a*e,p=f+e,m=l*e,v=m+e;let g=0;for(let y=f;y<p;y+=1)if(!(y>=n))for(let b=m;b<v;b+=1){if(b>=r)continue;const w=(n*b+y)*4;c+=o[w+0],u+=o[w+1],d+=o[w+2],h+=o[w+3],g+=1}c=c/g,u=u/g,d=d/g,h=h/g;for(let y=f;y<p;y+=1)if(!(y>=n))for(let b=m;b<v;b+=1){if(b>=r)continue;const w=(n*b+y)*4;o[w+0]=c,o[w+1]=u,o[w+2]=d,o[w+3]=h}}};S.addGetterSetter(Q,"pixelSize",8,K(),S.afterSetFilter);const V4=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e;for(let s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i};S.addGetterSetter(Q,"levels",.5,K(),S.afterSetFilter);const W4=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue();for(let o=0;o<n;o+=4){const a=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255;e[o]=a*r,e[o+1]=a*i,e[o+2]=a*s,e[o+3]=e[o+3]}};S.addGetterSetter(Q,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});S.addGetterSetter(Q,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});S.addGetterSetter(Q,"blue",0,Xf,S.afterSetFilter);const z4=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),o=this.alpha();for(let a=0;a<n;a+=4){const l=1-o;e[a]=r*o+e[a]*l,e[a+1]=i*o+e[a+1]*l,e[a+2]=s*o+e[a+2]*l}};S.addGetterSetter(Q,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});S.addGetterSetter(Q,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});S.addGetterSetter(Q,"blue",0,Xf,S.afterSetFilter);S.addGetterSetter(Q,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const j4=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=e[r+0],s=e[r+1],o=e[r+2];e[r+0]=Math.min(255,i*.393+s*.769+o*.189),e[r+1]=Math.min(255,i*.349+s*.686+o*.168),e[r+2]=Math.min(255,i*.272+s*.534+o*.131)}},U4=function(t){const n=t.data;for(let r=0;r<n.length;r+=4){const i=n[r],s=n[r+1],o=n[r+2];.2126*i+.7152*s+.0722*o>=128&&(n[r]=255-i,n[r+1]=255-s,n[r+2]=255-o)}return t},Y4=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=1)n[i]=n[i]<e?0:255};S.addGetterSetter(Q,"threshold",.5,K(),S.afterSetFilter);const tt=id.Util._assign(id,{Arc:Dn,Arrow:Pr,Circle:di,Ellipse:sr,Image:Gt,Label:ac,Tag:Tr,Line:Nn,Path:je,Rect:hs,RegularPolygon:or,Ring:kr,Sprite:yn,Star:ar,Text:Ye,TextPath:ot,Transformer:Re,Wedge:Fn,Filters:{Blur:w4,Brightness:x4,Brighten:_4,Contrast:S4,Emboss:C4,Enhance:E4,Grayscale:A4,HSL:P4,HSV:T4,Invert:k4,Kaleidoscope:M4,Mask:G4,Noise:$4,Pixelate:H4,Posterize:V4,RGB:W4,RGBA:z4,Sepia:j4,Solarize:U4,Threshold:Y4}});class Ko{textureCache=new Map;constructor(){}async generateImage(e){const n=this.getTextureKey(e);if(this.textureCache.has(n))return this.textureCache.get(n);const r=await this.renderToDataUrl(e);return this.textureCache.set(n,r),r}async generateThumbnail(e){return this.generateImage(e)}async renderToDataUrl(e){const n=e.size,r=new tt.Stage({container:document.createElement("div"),width:n,height:n}),i=new tt.Layer;r.add(i),e.layers.forEach(o=>{o.visible!==!1&&this.drawLayer(i,o,n)}),i.draw();const s=r.toDataURL();return r.destroy(),s}getTextureKey(e){if(!e||!e.size||!e.layers)return console.error("Invalid texture description:",e),"fallback-texture";const n={size:e.size,layers:e.layers},r=JSON.stringify(n);return`texture-${this.hashString(r)}`}hashString(e){if(!e||typeof e!="string")return"0";let n=0;for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n.toString(36)}drawLayer(e,n,r){if(n.visible!==!1)switch(n.type){case"circle":this.drawCircle(e,n,r);break;case"rect":this.drawRect(e,n,r);break;case"line":this.drawLine(e,n,r);break;case"pattern":this.drawPattern(e,n,r);break;case"ellipse":this.drawEllipse(e,n,r);break;case"polygon":this.drawPolygon(e,n,r);break;case"path":this.drawPath(e,n,r);break}}drawCircle(e,n,r){const i=Nr(n.color),s=n.x!==void 0?n.x:r/2,o=n.y!==void 0?n.y:r/2,a=n.radius!==void 0?n.radius:Math.floor(r/2),l=new tt.Circle({x:s,y:o,radius:a,fill:this.colorToHex(i),rotation:n.rotation||0});e.add(l)}drawRect(e,n,r){const i=Nr(n.color),s=n.width||0,o=n.height||0,a=n.x!==void 0?n.x:(r-s)/2,l=n.y!==void 0?n.y:(r-o)/2,c=new tt.Rect({x:a+s/2,y:l+o/2,width:s,height:o,fill:this.colorToHex(i),offsetX:s/2,offsetY:o/2,rotation:n.rotation||0});e.add(c)}drawLine(e,n,r){const i=Nr(n.color),s=n.lineWidth||1,o=n.x!==void 0?n.x:0,a=n.y!==void 0?n.y:0,l=n.x2!==void 0?n.x2:r,c=n.y2!==void 0?n.y2:r,u=(o+l)/2,d=(a+c)/2,h=new tt.Line({points:[o,a,l,c],stroke:this.colorToHex(i),strokeWidth:s,rotation:n.rotation||0,x:u,y:d,offsetX:u,offsetY:d});e.add(h)}drawPattern(e,n,r){const{patternType:i,color1:s,x:o=0,y:a=0,width:l=r,height:c=r,rotation:u=0}=n,d=8,h=s?this.colorToHex(s):"#000000",f=new tt.Group({x:o+l/2,y:a+c/2,rotation:u}),p=-l/2,m=-c/2;switch(i){case"checkerboard":for(let g=0;g<l;g+=d)for(let y=0;y<c;y+=d)if((Math.floor(g/d)+Math.floor(y/d))%2===0){const b=new tt.Rect({x:p+g,y:m+y,width:d,height:d,fill:h});f.add(b)}break;case"stripes":for(let g=0;g<l;g+=d){const y=new tt.Rect({x:p+g,y:m,width:d,height:c,fill:h});f.add(y)}break;case"dots":const v=3;for(let g=0;g<l;g+=d)for(let y=0;y<c;y+=d){const b=new tt.Circle({x:p+g+d/2,y:m+y+d/2,radius:v,fill:h});f.add(b)}break}e.add(f)}drawEllipse(e,n,r){const i=Nr(n.color),s=Math.max(0,Math.min(n.x||r/2,r)),o=Math.max(0,Math.min(n.y||r/2,r)),a=Math.max(1,Math.min(n.width||r,r)),l=Math.max(1,Math.min(n.height||r,r)),c=new tt.Ellipse({x:s,y:o,radiusX:a/2,radiusY:l/2,fill:this.colorToHex(i),rotation:n.rotation||0});e.add(c)}drawPolygon(e,n,r){const i=Nr(n.color),s=n.points||[];if(s.length<3)return;const o=[];s.forEach(([l,c])=>{const u=Math.max(0,Math.min(l,r)),d=Math.max(0,Math.min(c,r));o.push(u,d)});const a=new tt.Line({points:o,fill:this.colorToHex(i),closed:!0,rotation:n.rotation||0});n.lineWidth&&n.lineWidth>0&&(a.stroke(this.colorToHex(i)),a.strokeWidth(n.lineWidth)),e.add(a)}drawPath(e,n,r){const i=n.path||"",s=Nr(n.color),o=n.fill!==void 0?n.fill:!0,a=n.lineWidth||1;if(!i)return;const l=[];let c=0;for(;c<i.length;){const u=i[c];if(c++,u==="M"||u==="L"){const d=this.parseNumber(i,c);c+=d.length;const h=this.parseNumber(i,c);c+=h.length;const f=Math.max(0,Math.min(parseFloat(d),r)),p=Math.max(0,Math.min(parseFloat(h),r));l.push(f,p)}}if(l.length>0){const u=new tt.Line({points:l,closed:i.includes("Z"),rotation:n.rotation||0});o&&u.fill(this.colorToHex(s)),a>0&&(u.stroke(this.colorToHex(s)),u.strokeWidth(a)),e.add(u)}}parseNumber(e,n){let r=n;for(;r<e.length&&(/\d|\.|-/.test(e[r])||e[r]===" ");)r++;return e.substring(n,r).trim()}colorToHex(e){return typeof e=="string"?e:"#"+e.toString(16).padStart(6,"0")}}const fs=Bh("ai",()=>{const t=Yn("ai-provider","ollama"),e=Yn("openrouter-api-key",""),n=Yn("ollama-host","http://localhost:11434"),r=Yn("selected-model","cohere/command-r"),i=W([]),s=W(!1),o=["cohere/command-r"],a=Yn("favorite-models",o),l=W([]),c=h=>o.includes(h)||a.value.includes(h),u=async()=>{i.value=[];let h;if(t.value==="openrouter"){if(!e.value.trim()){console.error("API key required for OpenRouter");return}try{const f=await fetch("https://openrouter.ai/api/v1/models",{headers:{Authorization:`Bearer ${e.value}`}});if(!f.ok)throw new Error(`Failed to fetch models: ${f.statusText}`);h=(await f.json()).data.map(m=>({id:m.id,name:m.name}))}catch(f){console.error("Error fetching OpenRouter models:",f)}}else if(t.value==="ollama")try{const f=new ll({host:n.value}),{models:p}=await f.list();h=[...p.map(v=>({id:v.name,name:v.name}))]}catch(f){console.error("Error fetching Ollama models:",f)}h&&(i.value.length=0,i.value.push(...h),i.value.sort((f,p)=>{const m=c(f.id),v=c(p.id);return m===v?0:m?-1:1}),l.value.length=0,l.value.push(...i.value.filter(f=>c(f.id))))},d=async(h,f,p={temperature:.01})=>{s.value=!0;try{let m;if(t.value==="openrouter"){if(!e.value.trim())throw new Error("API key required for OpenRouter");try{const g=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.value}`},body:JSON.stringify({model:h,messages:f,...p})});if(!g.ok)throw new Error(`API error: ${g.statusText}`);m=(await g.json()).choices[0]?.message?.content?.trim()||""}catch(g){throw console.error("Error generating with OpenRouter:",g),g}}else if(t.value==="ollama")try{const g=new ll({host:n.value}),{message:y}=await g.chat({model:h,messages:f,...p});m=y.content.trim()}catch(g){throw console.error("Error generating with Ollama:",g),g}else throw new Error("Unknown provider");const v=m.split(`
`);return v[0]?.startsWith("```")&&v.shift(),v[v.length-1]?.startsWith("```")&&v.pop(),v.join(`
`)}finally{s.value=!1}};return Ke(()=>Be(u)),Ee(t,()=>Be(u)),Ee(n,()=>{t.value==="ollama"&&Be(u)}),{provider:t,apiKey:e,ollamaHost:n,selectedModel:r,models:i,isLoading:s,fetchModels:u,generate:d,favoriteModels:l,favoriteModelIds:a,isFavorite:c}}),X4={class:"flex items-center"},q4=["onClick"],K4=re({__name:"Combobox",props:{items:{},selectedItem:{}},emits:["update:selectedItem"],setup(t,{emit:e}){const n=t,r=e,i=W(!1),s=fs(),o=c=>{s.isFavorite(c)?s.favoriteModelIds=s.favoriteModelIds.filter(u=>u!==c):s.favoriteModelIds.push(c),s.fetchModels()},a=c=>{r("update:selectedItem",c),i.value=!1},l=z(()=>[...n.items].sort((c,u)=>{const d=s.isFavorite(c.id)?1:0,h=s.isFavorite(u.id)?1:0;return d!==h?h-d:c.name.localeCompare(u.name)}));return(c,u)=>(L(),fe(_(t3),{open:i.value,"onUpdate:open":u[0]||(u[0]=d=>i.value=d)},{default:ne(()=>[J(_(r3),{"as-child":""},{default:ne(()=>[J(_(jb),{variant:"outline",role:"combobox","aria-expanded":i.value,class:"w-full justify-between"},{default:ne(()=>[at(et(t.selectedItem&&t.items.find(d=>d.id===t.selectedItem)?.name||"Select Model...")+" ",1),J(_(m2),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),J(_(n3),{class:"w-full p-0 bg-gray-900 border border-gray-700 rounded-md"},{default:ne(()=>[J(_(Yb),{class:"text-gray-300"},{default:ne(()=>[J(_(Jb),{placeholder:"Search model..."}),J(_(Xb),null,{default:ne(()=>[...u[1]||(u[1]=[at("No model found.",-1)])]),_:1}),J(_(e3),null,{default:ne(()=>[J(_(qb),null,{default:ne(()=>[(L(!0),le(Ue,null,kn(l.value,d=>(L(),fe(_(Qb),{key:d.id,onSelect:h=>a(d.id),value:d,class:"flex justify-between cursor-pointer"},{default:ne(()=>[G("div",X4,[J(_(ef),{class:Et(_(en)("mr-2 h-4 w-4",t.selectedItem===d.id?"opacity-100":"opacity-0"))},null,8,["class"]),at(" "+et(d.name),1)]),G("button",{class:"ml-2 text-yellow-400 hover:text-yellow-300",onClick:It(h=>o(d.id),["stop"])},et(_(s).isFavorite(d.id)?"":""),9,q4)]),_:2},1032,["onSelect","value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}});function J4(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}function Jo(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[o=>{const a=kt(r,o);if(a||a===null)return a;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},o=>(Yr(r,o),o)]}function lc(t){return t?t.flatMap(e=>e.type===Ue?lc(e.children):[e]):[]}const[Ep]=Jo("ConfigProvider");function Q4(t){return ii()?(is(t),!0):!1}const Ap=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const md=()=>{};function Z4(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}function e6(t,e={}){let n,r,i=md;const s=l=>{clearTimeout(l),i(),i=md};let o;return l=>{const c=Yt(t),u=Yt(e.maxWait);return n&&s(n),c<=0||u!==void 0&&u<=0?(r&&(s(r),r=null),Promise.resolve(l())):new Promise((d,h)=>{i=e.rejectOnCancel?h:d,o=l,u&&!r&&(r=setTimeout(()=>{n&&s(n),r=null,d(o())},u)),n=setTimeout(()=>{r&&s(r),r=null,d(l())},c)})}}function Pp(t,e=200,n={}){return Z4(e6(e,n),t)}function t6(t,e,n){const r=Ee(t,(...i)=>(Be(()=>r()),e(...i)),n);return r}const Tp=Ap?window:void 0;function mo(t){var e;const n=Yt(t);return(e=n?.$el)!=null?e:n}function n6(){const t=si(!1),e=At();return e&&Ke(()=>{t.value=!0},e),t}function r6(t){const e=n6();return z(()=>(e.value,!!t()))}function ni(t,e,n={}){const{window:r=Tp,...i}=n;let s;const o=r6(()=>r&&"ResizeObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=z(()=>{const d=Yt(t);return Array.isArray(d)?d.map(h=>mo(h)):[mo(d)]}),c=Ee(l,d=>{if(a(),o.value&&r){s=new ResizeObserver(e);for(const h of d)h&&s.observe(h,i)}},{immediate:!0,flush:"post"}),u=()=>{a(),c()};return Q4(u),{isSupported:o,stop:u}}function i6(t){const e=Ep({dir:W("ltr")});return z(()=>t?.value||e.dir?.value||"ltr")}function zt(){const t=At(),e=W(),n=z(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:mo(e)),r=Object.assign({},t.exposed),i={};for(const o in t.props)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>r[o]});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=i;function s(o){e.value=o,o&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=i)}return{forwardRef:s,currentRef:e,currentElement:n}}function kp(t,e){const n=W(t);function r(s){return e[n.value][s]??n.value}return{state:n,dispatch:s=>{n.value=r(s)}}}function s6(t,e){const n=W({}),r=W("none"),i=W(t),s=t.value?"mounted":"unmounted";let o;const a=e.value?.ownerDocument.defaultView??Tp,{state:l,dispatch:c}=kp(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=v=>{if(Ap){const g=new CustomEvent(v,{bubbles:!1,cancelable:!1});e.value?.dispatchEvent(g)}};Ee(t,async(v,g)=>{const y=g!==v;if(await Be(),y){const b=r.value,w=Bs(e.value);v?(c("MOUNT"),u("enter"),w==="none"&&u("after-enter")):w==="none"||w==="undefined"||n.value?.display==="none"?(c("UNMOUNT"),u("leave"),u("after-leave")):g&&b!==w?(c("ANIMATION_OUT"),u("leave")):(c("UNMOUNT"),u("after-leave"))}},{immediate:!0});const d=v=>{const g=Bs(e.value),y=g.includes(CSS.escape(v.animationName)),b=l.value==="mounted"?"enter":"leave";if(v.target===e.value&&y&&(u(`after-${b}`),c("ANIMATION_END"),!i.value)){const w=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",o=a?.setTimeout(()=>{e.value?.style.animationFillMode==="forwards"&&(e.value.style.animationFillMode=w)})}v.target===e.value&&g==="none"&&c("ANIMATION_END")},h=v=>{v.target===e.value&&(r.value=Bs(e.value))},f=Ee(e,(v,g)=>{v?(n.value=getComputedStyle(v),v.addEventListener("animationstart",h),v.addEventListener("animationcancel",d),v.addEventListener("animationend",d)):(c("ANIMATION_END"),o!==void 0&&a?.clearTimeout(o),g?.removeEventListener("animationstart",h),g?.removeEventListener("animationcancel",d),g?.removeEventListener("animationend",d))},{immediate:!0}),p=Ee(l,()=>{const v=Bs(e.value);r.value=l.value==="mounted"?v:"none"});return Wt(()=>{f(),p()}),{isPresent:z(()=>["mounted","unmountSuspended"].includes(l.value))}}function Bs(t){return t&&getComputedStyle(t).animationName||"none"}var cc=re({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){const{present:r,forceMount:i}=gn(t),s=W(),{isPresent:o}=s6(r,s);n({present:o});let a=e.default({present:o.value});a=lc(a||[]);const l=At();if(a&&a?.length>1){const c=l?.parent?.type.name?`<${l.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${c}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(u=>`  - ${u}`).join(`
`)].join(`
`))}return()=>i.value||r.value||o.value?Ct(e.default({present:o.value})[0],{ref:c=>{const u=mo(c);return typeof u?.hasAttribute>"u"||(u?.hasAttribute("data-reka-popper-content-wrapper")?s.value=u.firstElementChild:s.value=u),u}}):null}});const o6=re({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{if(!n.default)return null;const r=lc(n.default()),i=r.findIndex(l=>l.type!==qt);if(i===-1)return r;const s=r[i];delete s.props?.ref;const o=s.props?ke(e,s.props):e,a=Qn({...s,props:{}},o);return r.length===1?a:(r[i]=a,r)}}}),a6=["area","img","input"],ri=re({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&a6.includes(r)?()=>Ct(r,e):r!=="template"?()=>Ct(t.as,e,{default:n.default}):()=>Ct(o6,e,{default:n.default})}});function l6(t){const e=Ep({nonce:W()});return z(()=>t?.value||e.nonce?.value)}const[jt,c6]=Jo("ScrollAreaRoot");var u6=re({__name:"ScrollAreaRoot",props:{type:{type:String,required:!1,default:"hover"},dir:{type:String,required:!1},scrollHideDelay:{type:Number,required:!1,default:600},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t,{expose:e}){const n=t,r=W(0),i=W(0),s=W(),o=W(),a=W(),l=W(),c=W(!1),u=W(!1),{type:d,dir:h,scrollHideDelay:f}=gn(n),p=i6(h);function m(){s.value?.scrollTo({top:0})}function v(){s.value?.scrollTo({top:0,left:0})}e({viewport:s,scrollTop:m,scrollTopLeft:v});const{forwardRef:g,currentElement:y}=zt();return c6({type:d,dir:p,scrollHideDelay:f,scrollArea:y,viewport:s,onViewportChange:b=>{s.value=b||void 0},content:o,onContentChange:b=>{o.value=b},scrollbarX:a,scrollbarXEnabled:c,scrollbarY:l,scrollbarYEnabled:u,onScrollbarXChange:b=>{a.value=b||void 0},onScrollbarYChange:b=>{l.value=b||void 0},onScrollbarXEnabledChange:b=>{c.value=b},onScrollbarYEnabledChange:b=>{u.value=b},onCornerWidthChange:b=>{r.value=b},onCornerHeightChange:b=>{i.value=b}}),(b,w)=>(L(),fe(_(ri),{ref:_(g),"as-child":n.asChild,as:b.as,dir:_(p),style:Zt({position:"relative","--reka-scroll-area-corner-width":`${r.value}px`,"--reka-scroll-area-corner-height":`${i.value}px`})},{default:ne(()=>[we(b.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),d6=u6,h6=re({__name:"ScrollAreaCornerImpl",setup(t){const e=jt(),n=W(0),r=W(0),i=z(()=>!!n.value&&!!r.value);function s(){const a=e.scrollbarX.value?.offsetHeight||0;e.onCornerHeightChange(a),r.value=a}function o(){const a=e.scrollbarY.value?.offsetWidth||0;e.onCornerWidthChange(a),n.value=a}return ni(e.scrollbarX.value,s),ni(e.scrollbarY.value,o),Ee(()=>e.scrollbarX.value,s),Ee(()=>e.scrollbarY.value,o),(a,l)=>i.value?(L(),fe(_(ri),ke({key:0,style:{width:`${n.value}px`,height:`${r.value}px`,position:"absolute",right:_(e).dir.value==="ltr"?0:void 0,left:_(e).dir.value==="rtl"?0:void 0,bottom:0}},a.$parent?.$props),{default:ne(()=>[we(a.$slots,"default")]),_:3},16,["style"])):Fe("v-if",!0)}}),f6=h6,p6=re({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{forwardRef:n}=zt(),r=jt(),i=z(()=>!!r.scrollbarX.value&&!!r.scrollbarY.value),s=z(()=>r.type.value!=="scroll"&&i.value);return(o,a)=>s.value?(L(),fe(f6,ke({key:0},e,{ref:_(n)}),{default:ne(()=>[we(o.$slots,"default")]),_:3},16)):Fe("v-if",!0)}}),g6=p6;function Rp(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Qo(t){const e=Op(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Op(t,e){const n=t/e;return Number.isNaN(n)?0:n}function m6(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)}function vd(t,e,n="ltr"){const r=Qo(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=J4(t,l[0],l[1]);return Rp([0,o],[0,a])(c)}function Gs(t){return t?Number.parseInt(t,10):0}function v6(t,e,n,r="ltr"){const i=Qo(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return Rp([l,c],d)(t)}function yd(t,e){return t>0&&t<e}var y6=re({__name:"ScrollAreaScrollbarX",setup(t){const e=jt(),n=ea(),{forwardRef:r,currentElement:i}=zt();Ke(()=>{i.value&&e.onScrollbarXChange(i.value)});const s=z(()=>n.sizes.value);return(o,a)=>(L(),fe(Ip,{ref:_(r),"is-horizontal":!0,"data-orientation":"horizontal",style:Zt({bottom:0,left:_(e).dir.value==="rtl"?"var(--reka-scroll-area-corner-width)":0,right:_(e).dir.value==="ltr"?"var(--reka-scroll-area-corner-width)":0,"--reka-scroll-area-thumb-width":s.value?`${_(Qo)(s.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=l=>_(n).onDragScroll(l.x))},{default:ne(()=>[we(o.$slots,"default")]),_:3},8,["style"]))}}),b6=y6,w6=re({__name:"ScrollAreaScrollbarY",setup(t){const e=jt(),n=ea(),{forwardRef:r,currentElement:i}=zt();Ke(()=>{i.value&&e.onScrollbarYChange(i.value)});const s=z(()=>n.sizes.value);return(o,a)=>(L(),fe(Ip,{ref:_(r),"is-horizontal":!1,"data-orientation":"vertical",style:Zt({top:0,right:_(e).dir.value==="ltr"?0:void 0,left:_(e).dir.value==="rtl"?0:void 0,bottom:"var(--reka-scroll-area-corner-height)","--reka-scroll-area-thumb-height":s.value?`${_(Qo)(s.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=l=>_(n).onDragScroll(l.y))},{default:ne(()=>[we(o.$slots,"default")]),_:3},8,["style"]))}}),_6=w6,x6=re({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=jt(),n=Zo(),{forwardRef:r}=zt(),i=W(!1),s=Pp(()=>{if(e.viewport.value){const o=e.viewport.value.offsetWidth<e.viewport.value.scrollWidth,a=e.viewport.value.offsetHeight<e.viewport.value.scrollHeight;i.value=n.isHorizontal.value?o:a}},10);return Ke(()=>s()),ni(e.viewport,s),ni(e.content,s),(o,a)=>(L(),fe(_(cc),{present:o.forceMount||i.value},{default:ne(()=>[J(uc,ke(o.$attrs,{ref:_(r),"data-state":i.value?"visible":"hidden"}),{default:ne(()=>[we(o.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Mp=x6,S6=re({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=jt(),{forwardRef:n}=zt();let r;const i=W(!1);function s(){window.clearTimeout(r),i.value=!0}function o(){r=window.setTimeout(()=>{i.value=!1},e.scrollHideDelay.value)}return Ke(()=>{const a=e.scrollArea.value;a&&(a.addEventListener("pointerenter",s),a.addEventListener("pointerleave",o))}),Wt(()=>{const a=e.scrollArea.value;a&&(window.clearTimeout(r),a.removeEventListener("pointerenter",s),a.removeEventListener("pointerleave",o))}),(a,l)=>(L(),fe(_(cc),{present:a.forceMount||i.value},{default:ne(()=>[J(Mp,ke(a.$attrs,{ref:_(n),"data-state":i.value?"visible":"hidden"}),{default:ne(()=>[we(a.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),C6=S6,E6=re({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=jt(),n=Zo(),{forwardRef:r}=zt(),{state:i,dispatch:s}=kp("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}}),o=z(()=>i.value!=="hidden");Bt(l=>{if(i.value==="idle"){const c=window.setTimeout(()=>s("HIDE"),e.scrollHideDelay.value);l(()=>{window.clearTimeout(c)})}});const a=Pp(()=>s("SCROLL_END"),100);return Bt(l=>{const c=e.viewport.value,u=n.isHorizontal.value?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const f=c[u];d!==f&&(s("SCROLL"),a()),d=f};c.addEventListener("scroll",h),l(()=>{c.removeEventListener("scroll",h)})}}),(l,c)=>(L(),fe(_(cc),{present:l.forceMount||o.value},{default:ne(()=>[J(uc,ke(l.$attrs,{ref:_(r),"data-state":o.value?"visible":"hidden"}),{default:ne(()=>[we(l.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),A6=E6;const[Zo,P6]=Jo("ScrollAreaScrollbar");var T6=re({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{type:String,required:!1,default:"vertical"},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const e=t,{forwardRef:n}=zt(),r=jt(),i=z(()=>e.orientation==="horizontal");Ee(i,()=>{i.value?r.onScrollbarXEnabledChange(!0):r.onScrollbarYEnabledChange(!0)},{immediate:!0}),Wt(()=>{r.onScrollbarXEnabledChange(!1),r.onScrollbarYEnabledChange(!1)});const{orientation:s,forceMount:o,asChild:a,as:l}=gn(e);return P6({orientation:s,forceMount:o,isHorizontal:i,as:l,asChild:a}),(c,u)=>_(r).type.value==="hover"?(L(),fe(C6,ke({key:0},c.$attrs,{ref:_(n),"force-mount":_(o)}),{default:ne(()=>[we(c.$slots,"default")]),_:3},16,["force-mount"])):_(r).type.value==="scroll"?(L(),fe(A6,ke({key:1},c.$attrs,{ref:_(n),"force-mount":_(o)}),{default:ne(()=>[we(c.$slots,"default")]),_:3},16,["force-mount"])):_(r).type.value==="auto"?(L(),fe(Mp,ke({key:2},c.$attrs,{ref:_(n),"force-mount":_(o)}),{default:ne(()=>[we(c.$slots,"default")]),_:3},16,["force-mount"])):_(r).type.value==="always"?(L(),fe(uc,ke({key:3},c.$attrs,{ref:_(n),"data-state":"visible"}),{default:ne(()=>[we(c.$slots,"default")]),_:3},16)):Fe("v-if",!0)}}),k6=T6;const[ea,R6]=Jo("ScrollAreaScrollbarVisible");var O6=re({__name:"ScrollAreaScrollbarVisible",setup(t){const e=jt(),n=Zo(),{forwardRef:r}=zt(),i=W({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),s=z(()=>{const g=Op(i.value.viewport,i.value.content);return g>0&&g<1}),o=W(),a=W(0);function l(g,y){if(f.value){const b=e.viewport.value.scrollLeft+g.deltaY;e.viewport.value.scrollLeft=b,yd(b,y)&&g.preventDefault()}else{const b=e.viewport.value.scrollTop+g.deltaY;e.viewport.value.scrollTop=b,yd(b,y)&&g.preventDefault()}}function c(g,y){f.value?a.value=y.x:a.value=y.y}function u(g){a.value=0}function d(g){i.value=g}function h(g,y){return v6(g,a.value,i.value,y)}const f=z(()=>n.isHorizontal.value);function p(g){f.value?e.viewport.value.scrollLeft=h(g,e.dir.value):e.viewport.value.scrollTop=h(g)}function m(){if(f.value){if(e.viewport.value&&o.value){const g=e.viewport.value.scrollLeft,y=vd(g,i.value,e.dir.value);o.value.style.transform=`translate3d(${y}px, 0, 0)`}}else if(e.viewport.value&&o.value){const g=e.viewport.value.scrollTop,y=vd(g,i.value);o.value.style.transform=`translate3d(0, ${y}px, 0)`}}function v(g){o.value=g}return R6({sizes:i,hasThumb:s,handleWheelScroll:l,handleThumbDown:c,handleThumbUp:u,handleSizeChange:d,onThumbPositionChange:m,onThumbChange:v,onDragScroll:p}),(g,y)=>f.value?(L(),fe(b6,ke({key:0},g.$attrs,{ref:_(r)}),{default:ne(()=>[we(g.$slots,"default")]),_:3},16)):(L(),fe(_6,ke({key:1},g.$attrs,{ref:_(r)}),{default:ne(()=>[we(g.$slots,"default")]),_:3},16))}}),uc=O6,M6=re({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean,required:!0}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(t,{emit:e}){const n=t,r=e,i=jt(),s=ea(),o=Zo(),{forwardRef:a,currentElement:l}=zt(),c=W(""),u=W();function d(g){if(u.value){const y=g.clientX-u.value?.left,b=g.clientY-u.value?.top;r("onDragScroll",{x:y,y:b})}}function h(g){g.button===0&&(g.target.setPointerCapture(g.pointerId),u.value=l.value.getBoundingClientRect(),c.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",i.viewport&&(i.viewport.value.style.scrollBehavior="auto"),d(g))}function f(g){d(g)}function p(g){const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),document.body.style.webkitUserSelect=c.value,i.viewport&&(i.viewport.value.style.scrollBehavior=""),u.value=void 0}function m(g){const y=g.target,b=l.value?.contains(y),w=s.sizes.value.content-s.sizes.value.viewport;b&&s.handleWheelScroll(g,w)}Ke(()=>{document.addEventListener("wheel",m,{passive:!1})}),Wt(()=>{document.removeEventListener("wheel",m)});function v(){l.value&&(n.isHorizontal?s.handleSizeChange({content:i.viewport.value?.scrollWidth??0,viewport:i.viewport.value?.offsetWidth??0,scrollbar:{size:l.value.clientWidth??0,paddingStart:Gs(getComputedStyle(l.value).paddingLeft),paddingEnd:Gs(getComputedStyle(l.value).paddingRight)}}):s.handleSizeChange({content:i.viewport.value?.scrollHeight??0,viewport:i.viewport.value?.offsetHeight??0,scrollbar:{size:l.value?.clientHeight??0,paddingStart:Gs(getComputedStyle(l.value).paddingLeft),paddingEnd:Gs(getComputedStyle(l.value).paddingRight)}}))}return ni(l,v),ni(i.content,v),(g,y)=>(L(),fe(_(ri),{ref:_(a),style:{position:"absolute"},"data-scrollbarimpl":"",as:_(o).as.value,"as-child":_(o).asChild.value,onPointerdown:h,onPointermove:f,onPointerup:p},{default:ne(()=>[we(g.$slots,"default")]),_:3},8,["as","as-child"]))}}),Ip=M6,I6=re({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=jt(),r=ea();function i(h){const p=h.target.getBoundingClientRect(),m=h.clientX-p.left,v=h.clientY-p.top;r.handleThumbDown(h,{x:m,y:v})}function s(h){r.handleThumbUp(h)}const{forwardRef:o,currentElement:a}=zt(),l=W(),c=z(()=>n.viewport.value);function u(){if(!l.value){const h=m6(c.value,r.onThumbPositionChange);l.value=h,r.onThumbPositionChange()}}const d=z(()=>r.sizes.value);return t6(d,()=>{r.onThumbChange(a.value),c.value&&(r.onThumbPositionChange(),c.value.addEventListener("scroll",u))}),Wt(()=>{c.value.removeEventListener("scroll",u),n.viewport.value?.removeEventListener("scroll",u)}),(h,f)=>(L(),fe(_(ri),{ref:_(o),"data-state":_(r).hasThumb?"visible":"hidden",style:{width:"var(--reka-scroll-area-thumb-width)",height:"var(--reka-scroll-area-thumb-height)"},"as-child":e.asChild,as:h.as,onPointerdown:i,onPointerup:s},{default:ne(()=>[we(h.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),L6=I6,D6=re({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t,{expose:e}){const n=t,{nonce:r}=gn(n),i=l6(r),s=jt(),o=W();Ke(()=>{s.onViewportChange(o.value),s.onContentChange(l.value)}),e({viewportElement:o});const{forwardRef:a,currentElement:l}=zt();return(c,u)=>(L(),le(Ue,null,[G("div",ke({ref_key:"viewportElement",ref:o,"data-reka-scroll-area-viewport":"",style:{overflowX:_(s).scrollbarXEnabled.value?"scroll":"hidden",overflowY:_(s).scrollbarYEnabled.value?"scroll":"hidden"}},c.$attrs,{tabindex:0}),[J(_(ri),{ref:_(a),style:Zt({minWidth:_(s).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":n.asChild,as:c.as},{default:ne(()=>[we(c.$slots,"default")]),_:3},8,["style","as-child","as"])],16),J(_(ri),{as:"style",nonce:_(i)},{default:ne(()=>u[0]||(u[0]=[at(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-reka-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),N6=D6;const F6=re({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=z(()=>{const{class:r,...i}=e;return i});return(r,i)=>(L(),fe(_(k6),ke(n.value,{class:_(en)("flex touch-none select-none transition-colors",t.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",t.orientation==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",e.class)}),{default:ne(()=>[J(_(L6),{class:"relative flex-1 rounded-full bg-border"})]),_:1},16,["class"]))}}),B6=re({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=z(()=>{const{class:r,...i}=e;return i});return(r,i)=>(L(),fe(_(d6),ke(n.value,{class:_(en)("relative overflow-hidden",e.class)}),{default:ne(()=>[J(_(N6),{class:"h-full w-full rounded-[inherit]"},{default:ne(()=>[we(r.$slots,"default")]),_:3}),J(F6),J(_(g6))]),_:3},16,["class"]))}}),G6={class:"bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-700 space-y-4 w-80 mx-auto"},$6=["placeholder"],H6={class:"mb-2"},V6=["onClick"],Lp=re({__name:"GeneratorForm",props:{placeholder:{}},setup(t,{expose:e}){const n=t,r=fs(),i=Yn(n.placeholder==="Describe your SVG..."?"svg-prompt":"sprite-prompt","");return e({prompt:i}),(s,o)=>(L(),le("div",G6,[Ht(G("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>Xe(i)?i.value=a:null),placeholder:t.placeholder,class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,$6),[[Gi,_(i)]]),G("div",H6,[o[6]||(o[6]=G("label",{class:"block text-sm font-bold mb-1"},"AI Provider:",-1)),Ht(G("select",{"onUpdate:modelValue":o[1]||(o[1]=a=>_(r).provider=a),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...o[5]||(o[5]=[G("option",{value:"openrouter"},"OpenRouter",-1),G("option",{value:"ollama"},"Ollama (Local)",-1)])],512),[[Ih,_(r).provider]])]),_(r).provider==="ollama"?Ht((L(),le("input",{key:0,"onUpdate:modelValue":o[2]||(o[2]=a=>_(r).ollamaHost=a),placeholder:"Ollama Host (e.g., http://localhost:11434)",class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512)),[[Gi,_(r).ollamaHost]]):Fe("",!0),_(r).provider==="openrouter"?Ht((L(),le("input",{key:1,"onUpdate:modelValue":o[3]||(o[3]=a=>_(r).apiKey=a),placeholder:"OpenRouter API Key",class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512)),[[Gi,_(r).apiKey]]):Fe("",!0),G("div",null,[o[7]||(o[7]=G("label",{class:"block text-sm font-bold mb-1"},"Choose Model:",-1)),_(r).favoriteModels.length>0?(L(),fe(_(B6),{key:0,class:"flex flex-wrap gap-2 mb-2"},{default:ne(()=>[(L(!0),le(Ue,null,kn(_(r).favoriteModels,a=>(L(),le("button",{key:a.id,onClick:l=>_(r).selectedModel=a.id,class:Et(["px-3 py-1 text-sm rounded border border-gray-600 bg-gray-700 hover:bg-gray-600",{"bg-blue-600 border-blue-500 text-white":_(r).selectedModel===a.id}])},et(a.name),11,V6))),128))]),_:1})):Fe("",!0),J(K4,{items:_(r).models,selectedItem:_(r).selectedModel,"onUpdate:selectedItem":o[4]||(o[4]=a=>_(r).selectedModel=a)},null,8,["items","selectedItem"])]),we(s.$slots,"button")]))}}),Dp={id:"brown-bear-1",name:"brown-bear-standing",size:64,layers:[{type:"ellipse",color:"#8B4513",x:32,y:40,width:28,height:24},{type:"circle",color:"#8B4513",x:32,y:24,radius:16},{type:"ellipse",color:"#8B4513",x:32,y:12,width:20,height:16},{type:"circle",color:"#8B4513",x:20,y:16,radius:6},{type:"circle",color:"#8B4513",x:44,y:16,radius:6},{type:"ellipse",color:"#654321",x:32,y:22,width:12,height:8},{type:"circle",color:"#000000",x:26,y:20,radius:2},{type:"circle",color:"#000000",x:38,y:20,radius:2},{type:"ellipse",color:"#000000",x:32,y:26,width:6,height:2}]},Np={id:"tree-1",name:"tree",size:64,layers:[{type:"rect",color:"#8B4513",x:28,y:40,width:8,height:20},{type:"circle",color:"#228B22",radius:16,x:32,y:24},{type:"circle",color:"#006400",radius:12,x:24,y:32},{type:"circle",color:"#228B22",radius:14,x:40,y:28},{type:"circle",color:"#006400",radius:15,x:32,y:20}]},Fp={id:"villager-1",name:"villager",size:64,layers:[{type:"rect",color:"#8B4000",x:10,y:36,width:44,height:22},{type:"rect",color:"#CD853F",x:12,y:34,width:40,height:22},{type:"circle",color:"#A0522D",radius:18,x:32,y:24},{type:"circle",color:"#FFE4C4",radius:16,x:32,y:24},{type:"circle",color:"black",radius:2,x:26,y:22},{type:"circle",color:"black",radius:2,x:38,y:22},{type:"rect",color:"#D2691E",x:28,y:28,width:8,height:2},{type:"rect",color:"#8B4513",x:16,y:6,width:32,height:8},{type:"rect",color:"#654321",x:22,y:4,width:20,height:6}]};function dc(t){const e=t.layers.map(n=>`    ${JSON.stringify(n)}`).join(`,
`);return`{
  "name": "${t.name}",
  "size": ${t.size},
  "layers": [
${e}
  ]
}`}dc(Np);dc(Fp);dc(Dp);const W6=t=>{const e=[];return e.push({role:"system",content:`Assistant's task is to create a new detailed texture based on the INPUT, by using the provided instructions and example(s).

# Texture Schema
{
  "name": "string",
  "size": number,
  "layers": Layer[]
}

Each layer is drawn in order and must have a "type" and "color".

## Layer Types
- Rectangle: { "type": "rect", "color": string, "x": number, "y": number, "width": number, "height": number }
- Circle:    { "type": "circle", "color": string, "x": number, "y": number, "radius": number }
- Line:      { "type": "line", "color": string, "x": number, "y": number, "x2": number, "y2": number, "lineWidth"?: number }
- Ellipse:   { "type": "ellipse", "color": string, "x": number, "y": number, "width": number, "height": number }
- Polygon:   { "type": "polygon", "color": string, "points": [[x,y],...], "lineWidth"?: number }
- Path:      { "type": "path", "color": string, "path": string, "fill"?: boolean, "lineWidth"?: number }

Colors: hex codes ("#FF0000") or names ("red","gray","transparent").

## Rules
1. Base the design on the INPUT concept.
2. Keep size reasonable (64 or 128).
3. Use multiple shapes to build details when desired.

## Example
INPUT: tree
OUTPUT:
{
  "name": "tree",
  "size": 64,
  "layers": [
    { "type": "rect", "color": "#8B4513", "x": 28, "y": 40, "width": 8, "height": 20 },
    { "type": "circle", "color": "#228B22", "x": 32, "y": 24, "radius": 16 },
    { "type": "circle", "color": "#006400", "x": 24, "y": 32, "radius": 12 },
    { "type": "circle", "color": "#228B22", "x": 40, "y": 28, "radius": 14 },
    { "type": "circle", "color": "#006400", "x": 32, "y": 20, "radius": 15 }
  ]
}`}),e.push({role:"user",content:`INPUT:

${t}`}),e},z6={id:"game-container",class:"relative mt-2 mx-auto border-2 border-gray-700 shadow-lg rounded-lg overflow-hidden w-full max-w-6xl"},j6=re({__name:"GameContainer",setup(t){const e=W();let n=null,r=null;const i=new Ko;Ke(()=>{if(!e.value)return;n=new tt.Stage({container:e.value,width:e.value.clientWidth||800,height:400}),r=new tt.Layer,n.add(r);const o=new tt.Rect({x:0,y:0,width:n.width(),height:n.height(),fill:"#1f2937"});r.add(o),r.draw(),window.addEventListener("spriteSelected",s)}),Wt(()=>{window.removeEventListener("spriteSelected",s),n?.destroy()});async function s(o){const l=o.detail;if(!n||!r)return;const c=r.children;for(let d=c.length-1;d>0;d--)c[d].destroy();const u=new tt.Group({x:n.width()/2,y:n.height()/2,offset:{x:l.size/2,y:l.size/2},scale:{x:2,y:2}});l.layers.forEach(d=>{d.visible!==!1&&i.drawLayer(u,d,l.size)}),r.add(u),r.batchDraw()}return(o,a)=>(L(),le("div",z6,[G("div",{ref_key:"containerRef",ref:e,class:"w-full h-full"},null,512)]))}}),hc=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},U6=hc(j6,[["__scopeId","data-v-6a90d037"]]),Y6={class:"space-y-4"},X6=["disabled"],q6={key:0},K6={key:1,class:"flex items-center justify-center"},J6={key:0,class:"bg-gray-800 p-4 mt-4 rounded-lg shadow-lg border border-gray-700"},Q6={class:"flex items-center gap-4"},Z6={class:"bg-gray-900 p-4 rounded-md border border-gray-600"},e8=["src"],t8={class:"flex-1 space-y-3"},n8={class:"text-sm text-gray-300"},r8={key:0},i8={key:1},s8={key:0,class:"text-green-400 text-sm"},o8={class:"mt-4 pt-4 border-t border-gray-700 flex items-center"},a8={class:"mt-2 bg-gray-900 rounded-md overflow-hidden text-xs"},l8=re({__name:"SpriteGenerator",setup(t){const e=W(),n=fs(),r=ls(),i=new Ko,s=W(null),o=W(null),a=W(null),l=W(!1),c=Yn("formCollapsed",!0),u=Yn("jsonCollapsed",!0),d=z(()=>o.value||s.value);z(()=>!!o.value);const h=z(()=>a.value?a.value:s.value?.thumbnail?s.value.thumbnail:null),f=z(()=>{if(!d.value)return null;const{thumbnail:g,...y}=d.value;return y}),p=z(()=>{if(n.isLoading)return!1;const g=e.value;return!(!g||!g.prompt)});async function m(){const g=e.value;if(!g)return;const y=g.prompt;if(!(!y.trim()||!n.selectedModel))try{const b=await n.generate(n.selectedModel,W6(y),{temperature:.01}),w=JSON.parse(b);w.prompt=y,w.id=Qa(),o.value=w,a.value=await i.generateImage(w),l.value=!1,window.dispatchEvent(new CustomEvent("newTexture",{detail:w})),window.dispatchEvent(new CustomEvent("spriteSelected",{detail:w})),g.prompt=""}catch(b){console.error("Error generating sprite:",b)}}function v(){if(!d.value)return;const g={...d.value,thumbnail:h.value||void 0,id:d.value.id||Qa()};r.addGeneratedTexture(g),l.value=!0,setTimeout(()=>{l.value=!1},3e3)}return Ke(()=>{window.addEventListener("spriteSelected",async g=>{const y=g;s.value=y.detail,s.value.thumbnail||(s.value.thumbnail=await i.generateImage(s.value)),!(!s.value.prompt||!e.value)&&(e.value.prompt=s.value.prompt)}),window.addEventListener("spriteCleared",()=>{s.value=null})}),(g,y)=>(L(),le("div",Y6,[G("button",{onClick:y[0]||(y[0]=b=>c.value=!_(c)),class:"w-full flex flex-col items-center gap-1 py-2 hover:bg-gray-800 rounded-md transition group"},[y[3]||(y[3]=G("span",{class:"text-sm font-medium text-gray-300 group-hover:text-white"},"Generate",-1)),(L(),le("svg",{class:Et(["w-5 h-5 text-gray-400 group-hover:text-white transition-transform duration-200",{"rotate-180":_(c)}]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...y[2]||(y[2]=[G("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),Ht(J(Lp,{ref_key:"Form",ref:e,placeholder:"Describe your sprite..."},{button:ne(()=>[G("button",{disabled:!p.value,onClick:m,class:"w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 transition disabled:opacity-50"},[_(n).isLoading?(L(),le("span",K6,[...y[4]||(y[4]=[G("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},null,-1),at(" Generating... ",-1)])])):(L(),le("span",q6,"Generate Sprite"))],8,X6)]),_:1},512),[[Bi,!_(c)]]),Ht(J(U6,null,null,512),[[Bi,d.value]]),d.value?(L(),le("div",J6,[y[11]||(y[11]=G("h3",{class:"text-lg font-bold mb-3 text-white"},"Sprite Preview",-1)),G("div",Q6,[G("div",Z6,[h.value?(L(),le("img",{key:0,src:h.value,alt:"Sprite preview",class:"w-32 h-32 pixelated"},null,8,e8)):Fe("",!0)]),G("div",t8,[G("div",n8,[d.value.prompt?(L(),le("p",r8,[y[5]||(y[5]=G("strong",null,"Prompt:",-1)),at(" "+et(d.value.prompt),1)])):Fe("",!0),d.value.name?(L(),le("p",i8,[y[6]||(y[6]=G("strong",null,"Name:",-1)),at(" "+et(d.value.name),1)])):Fe("",!0),G("p",null,[y[7]||(y[7]=G("strong",null,"Size:",-1)),at(" "+et(d.value.size)+"x"+et(d.value.size)+"px",1)]),G("p",null,[y[8]||(y[8]=G("strong",null,"Layers:",-1)),at(" "+et(d.value.layers.length),1)])]),G("div",{class:"flex gap-2"},[G("button",{onClick:v,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition"}," Save ")]),l.value?(L(),le("p",s8," Sprite saved successfully!")):Fe("",!0)])]),G("div",o8,[J(nf,{data:f.value,class:"mr-4"},null,8,["data"]),G("button",{onClick:y[1]||(y[1]=b=>u.value=!_(u)),class:"flex items-center gap-2 text-sm font-medium text-gray-400 hover:text-white transition-colors w-full"},[(L(),le("svg",{class:Et(["w-4 h-4 transition-transform duration-200",{"-rotate-90":_(u)}]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...y[9]||(y[9]=[G("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2)),y[10]||(y[10]=at(" JSON Data ",-1))])]),Ht(G("div",a8,[J(_(f2),{data:f.value||{}},null,8,["data"])],512),[[Bi,!_(u)]])])):Fe("",!0)]))}}),c8=hc(l8,[["__scopeId","data-v-8d71658e"]]),u8={id:"cloud-1",name:"cloud",size:64,layers:[{type:"circle",color:"#FFFFFF",radius:12,x:24,y:32},{type:"circle",color:"#FFFFFF",radius:16,x:32,y:28},{type:"circle",color:"#FFFFFF",radius:14,x:44,y:32},{type:"circle",color:"#FFFFFF",radius:10,x:36,y:36}]},d8={id:"fence-1",name:"fence",size:64,layers:[{type:"line",color:"#8B4513",x:16,y:16,x2:16,y2:48,lineWidth:4},{type:"line",color:"#8B4513",x:48,y:16,x2:48,y2:48,lineWidth:4},{type:"line",color:"#8B4513",x:8,y:24,x2:56,y2:24,lineWidth:3},{type:"line",color:"#8B4513",x:8,y:40,x2:56,y2:40,lineWidth:3}]},h8={id:"gory-rotting-zombie-1",name:"gory-rotting-zombie",size:64,layers:[{type:"circle",color:"#3A5A22",x:32,y:32,radius:24},{type:"circle",color:"black",x:22,y:26,radius:5},{type:"circle",color:"black",x:42,y:26,radius:5},{type:"circle",color:"white",x:42,y:26,radius:3},{type:"circle",color:"red",x:42,y:26,radius:1},{type:"rect",color:"black",x:24,y:42,width:16,height:6},{type:"line",color:"red",x:24,y:48,x2:40,y2:48,lineWidth:2},{type:"line",color:"#9E9E9E",x:18,y:14,x2:28,y2:18,lineWidth:2},{type:"rect",color:"red",x:36,y:10,width:8,height:6},{type:"line",color:"red",x:28,y:48,x2:28,y2:58,lineWidth:2},{type:"line",color:"red",x:36,y:48,x2:36,y2:56,lineWidth:2},{type:"rect",color:"red",x:20,y:36,width:6,height:4},{type:"rect",color:"red",x:40,y:38,width:5,height:3},{type:"rect",color:"#5B7C3A",x:28,y:18,width:6,height:4},{type:"rect",color:"#5B7C3A",x:38,y:24,width:5,height:3}]},f8={id:"house-1",name:"house",size:64,layers:[{type:"rect",color:"#8B4513",x:8,y:8,width:48,height:20},{type:"rect",color:"#A52A2A",x:4,y:16,width:56,height:12},{type:"rect",color:"#DEB887",x:12,y:28,width:40,height:32},{type:"rect",color:"#8B4513",x:24,y:40,width:16,height:20},{type:"rect",color:"#87CEEB",x:16,y:32,width:8,height:8},{type:"rect",color:"#87CEEB",x:40,y:32,width:8,height:8}]},p8={id:"treasure-chest-1",name:"treasure-chest",size:64,layers:[{type:"rect",color:"#8B4513",x:16,y:24,width:32,height:24},{type:"rect",color:"#A0522D",x:14,y:16,width:36,height:8},{type:"rect",color:"#FFD700",x:28,y:20,width:8,height:6},{type:"rect",color:"#DAA520",x:16,y:32,width:32,height:4},{type:"rect",color:"#DAA520",x:16,y:40,width:32,height:4}]},g8={id:"abandoned-warehouse-1",name:"abandoned-warehouse",size:128,layers:[{type:"rect",color:"#8b4343",x:10,y:20,width:108,height:90},{type:"rect",color:"#696969",x:8,y:100,width:112,height:10},{type:"rect",color:"#4a4a4a",x:5,y:15,width:118,height:15},{type:"line",color:"#363636",x:5,y:18,x2:123,y2:18,lineWidth:1},{type:"line",color:"#363636",x:5,y:22,x2:123,y2:22,lineWidth:1},{type:"line",color:"#363636",x:5,y:26,x2:123,y2:26,lineWidth:1},{type:"rect",color:"#595959",x:30,y:60,width:40,height:40},{type:"line",color:"#333333",x:30,y:60,x2:70,y2:100,lineWidth:2},{type:"line",color:"#333333",x:30,y:100,x2:70,y2:60,lineWidth:2},{type:"rect",color:"#4d4d4d",x:85,y:75,width:15,height:25},{type:"rect",color:"#1a1a1a",x:20,y:35,width:15,height:10},{type:"rect",color:"#1a1a1a",x:45,y:35,width:15,height:10},{type:"rect",color:"#1a1a1a",x:70,y:35,width:15,height:10},{type:"rect",color:"#1a1a1a",x:95,y:35,width:15,height:10},{type:"line",color:"#4a5660",x:20,y:35,x2:35,y2:45,lineWidth:1},{type:"line",color:"#4a5660",x:95,y:35,x2:110,y2:45,lineWidth:1},{type:"rect",color:"#6b3939",x:15,y:45,width:25,height:40},{type:"rect",color:"#6b3939",x:75,y:50,width:30,height:35},{type:"line",color:"#c4c4c4",x:90,y:60,x2:105,y2:70,lineWidth:3},{type:"circle",color:"#6b2727",x:25,y:85,radius:5},{type:"circle",color:"#6b2727",x:100,y:65,radius:6},{type:"rect",color:"#8b6b4a",x:110,y:30,width:4,height:70}]},m8={id:"rotting-zombie-1",name:"rotting-zombie",size:64,layers:[{type:"rect",color:"#94a183",x:16,y:8,width:32,height:48},{type:"rect",color:"#737b63",x:20,y:28,width:24,height:20},{type:"circle",color:"#8b9677",x:32,y:16,radius:8},{type:"circle",color:"#3d3f34",x:28,y:14,radius:2},{type:"circle",color:"#2a2b24",x:36,y:14,radius:3},{type:"rect",color:"#2a2b24",x:28,y:18,width:8,height:3},{type:"rect",color:"#656b57",x:12,y:28,width:8,height:20},{type:"rect",color:"#656b57",x:44,y:28,width:8,height:24},{type:"circle",color:"#e8e4d9",x:24,y:36,radius:3},{type:"circle",color:"#e8e4d9",x:40,y:42,radius:2},{type:"circle",color:"#8b3f3f",x:28,y:32,radius:4},{type:"circle",color:"#732525",x:36,y:46,radius:3},{type:"line",color:"#5c6150",x:20,y:24,x2:28,y2:30,lineWidth:2},{type:"line",color:"#5c6150",x:36,y:28,x2:44,y2:34,lineWidth:2}]},v8={id:"pattern-1",name:"pattern-texture",size:64,layers:[{type:"pattern",patternType:"checkerboard",color1:"#FFFFFF",color2:"#000000",x:0,y:0,width:64,height:64}]},fc=[u8,Dp,d8,f8,p8,Np,Fp,g8,m8,v8,h8],y8={class:"sprite-list flex flex-col items-center overflow-y-auto h-full border-r border-gray-700"},b8=["onClick"],w8={key:0,class:"w-16 h-16 rounded flex-shrink-0"},_8=["src","alt"],x8={key:1,class:"w-16 h-16 bg-gray-600 flex items-center justify-center rounded flex-shrink-0"},S8={class:"text-xs text-center px-1"},C8={class:"flex-1 ml-2 text-sm"},E8={key:0},A8=["onBlur","onKeyup"],P8={key:1},T8=["onClick"],k8=["onClick","disabled"],R8=["onClick"],O8=["onClick"],M8=["onClick","title"],I8=re({__name:"SpriteList",props:{mode:{default:"generate"}},setup(t){const e=t,n=ls(),r=fs(),i=_1(),s=$o(),o=W(!0),a=W(null),l=W(""),c=W(null);Ee(()=>s.params.id,w=>{w?c.value=w:c.value=null},{immediate:!0});const u=new Ko,d=z(()=>e.mode==="edit");Ke(()=>{const w=localStorage.getItem("showPresets");w!==null&&(o.value=JSON.parse(w))});function h(){o.value=!o.value,localStorage.setItem("showPresets",JSON.stringify(o.value))}const f=z(()=>{const w=new Map(n.generatedTextures.map(T=>[T.id,T]));let A=[];return o.value&&(A=fc.map(T=>{if(w.has(T.id)){const O=w.get(T.id);return w.delete(T.id),O}return n.presetThumbnails[T.id]?{...T,thumbnail:n.presetThumbnails[T.id]}:T})),A=[...A,...w.values()],A});Ee(()=>f.value,async w=>{for(const A of w)A.thumbnail||u.generateThumbnail(A).then(T=>{A.thumbnail=T,A.generated?n.updateGeneratedTexture(A.id,A):n.savePresetThumbnail(A.id,T)})},{immediate:!0,deep:!0});function p(w){w.generated&&w.id===a.value||(d.value?(i.push({name:"sprite-edit",params:{id:w.id}}),window.dispatchEvent(new CustomEvent("editSprite",{detail:w}))):(i.push({name:"sprite-generation",params:{id:w.id}}),c.value=w.id,window.dispatchEvent(new CustomEvent("spriteSelected",{detail:w}))))}function m(w){w.prompt&&window.dispatchEvent(new CustomEvent("regenerateTexture",{detail:{id:w.id,prompt:w.prompt}}))}function v(w,A){a.value=w,l.value=A}function g(w){a.value===w&&l.value.trim()&&y()}function y(){a.value&&(n.updateTextureName(a.value,l.value),a.value=null)}function b(w){window.dispatchEvent(new CustomEvent("editSprite",{detail:w})),i.push({name:"sprite-edit",params:{id:w.id}})}return(w,A)=>(L(),le("div",y8,[G("button",{onClick:h,class:"w-full bg-gray-700 text-white p-2 rounded-md hover:bg-gray-600 mb-2"},et(o.value?"Hide Presets":"Show Presets"),1),(L(!0),le(Ue,null,kn(f.value,T=>(L(),le("div",{key:`texture-${T.id}`,class:Et(["sprite-item flex items-center space-x-2 p-2 cursor-pointer",{"bg-gray-700":c.value===T.id||_(s).params.id===T.id}]),onClick:O=>p(T)},[T.thumbnail?(L(),le("div",w8,[G("img",{src:T.thumbnail,alt:T.name,class:"w-16 h-16 object-contain rounded bg-gray-800"},null,8,_8)])):(L(),le("div",x8,[G("span",S8,et(T.name),1)])),G("div",C8,[T.generated&&T.id===a.value?(L(),le("span",E8,[Ht(G("input",{"onUpdate:modelValue":A[0]||(A[0]=O=>l.value=O),onBlur:O=>g(T.id),onKeyup:Ys(O=>g(T.id),["enter"]),class:"bg-transparent text-white border-none focus:outline-none w-full",autofocus:""},null,40,A8),[[Gi,l.value]])])):(L(),le("span",P8,et(T.name),1))]),T.generated&&T.id===a.value?(L(),le("button",{key:2,onClick:It(O=>g(T.id),["stop"]),class:"ml-2 text-yellow-400 hover:text-yellow-600 text-lg",title:"Confirm Name Change"},[J(_(ef),{class:"w-4 h-4"})],8,T8)):Fe("",!0),!d.value&&T.generated&&T.prompt?(L(),le("button",{key:3,onClick:It(O=>m(T),["stop"]),disabled:_(r).isLoading,class:"ml-2 text-green-400 hover:text-green-600 text-lg disabled:opacity-50",title:"Regenerate Sprite"},[J(_(_2),{class:"w-4 h-4"})],8,k8)):Fe("",!0),d.value?Fe("",!0):(L(),fe(nf,{key:4,data:T,class:"ml-2 text-lg"},null,8,["data"])),!d.value&&T.generated&&T.id!==a.value?(L(),le("button",{key:5,onClick:It(O=>v(T.id,T.name),["stop"]),class:"ml-2 text-blue-400 hover:text-blue-600 text-lg",title:"Edit Sprite Name"},[J(_(w2),{class:"w-4 h-4"})],8,R8)):Fe("",!0),d.value?Fe("",!0):(L(),le("button",{key:6,onClick:It(O=>b(T),["stop"]),class:"ml-2 text-green-400 hover:text-green-600 text-lg",title:"Edit Sprite"},[J(_(S2),{class:"w-4 h-4"})],8,O8)),T.generated?(L(),le("button",{key:7,onClick:It(O=>_(n).removeGeneratedTexture(T.id),["stop"]),class:"ml-2 text-red-400 hover:text-red-600 text-xl font-bold",title:T.generated?"Remove Sprite":"Reset Modified Preset"},[J(_(tf),{class:"w-5 h-5"})],8,M8)):Fe("",!0)],10,b8))),128))]))}}),Bp=hc(I8,[["__scopeId","data-v-8902f6e5"]]),L8={class:"flex flex-row gap-4"},D8={class:"flex flex-col flex-1 space-y-4"},N8=re({__name:"SpriteGenerationView",setup(t){const e=$o(),n=ls();Ke(()=>{r()}),Ee(()=>e.params.id,()=>{r()});function r(){const i=e.params.id;if(i){const s=n.generatedTextures.find(o=>o.id===i)||fc.find(o=>o.id===i);s&&window.dispatchEvent(new CustomEvent("spriteSelected",{detail:s}))}}return(i,s)=>(L(),le("div",L8,[J(Bp),G("div",D8,[J(c8)])]))}}),bd={circle:{type:"circle",color:"#FFFFFF",x:32,y:32,radius:16,visible:!0},rect:{type:"rect",color:"#FFFFFF",x:0,y:0,width:32,height:32,visible:!0},line:{type:"line",color:"#FFFFFF",x:0,y:0,x2:64,y2:64,lineWidth:2,visible:!0},gradient:{type:"gradient",colorStart:"#FFFFFF",colorEnd:"#000000",direction:"vertical",x:0,y:0,width:64,height:64,visible:!0},pattern:{type:"pattern",color1:"#FFFFFF",color2:"#CCCCCC",patternType:"checkerboard",x:0,y:0,width:64,height:64,visible:!0},ellipse:{type:"ellipse",color:"#FFFFFF",x:32,y:32,width:40,height:20,visible:!0},polygon:{type:"polygon",color:"#FFFFFF",points:[[10,10],[50,10],[30,50]],lineWidth:0,visible:!0},path:{type:"path",color:"#FFFFFF",path:"M10 10 L50 10 L30 50 Z",fill:!0,lineWidth:0,visible:!0}},F8={class:"draggable-number-input w-full flex flex-col gap-1 my-2"},B8=["value"],lt=re({__name:"DraggableNumberInput",props:{modelValue:{},label:{default:void 0},step:{default:1},min:{},max:{},sensitivity:{default:.5},inputClass:{default:"w-full p-2 bg-gray-700 text-white rounded"}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,i=W(null),s=W(!1),o=W(0),a=W(0);z(()=>n.label?.toLowerCase().replace(/ /g,"-"));function l(f){const p=f.target,m=parseFloat(p.value)||0;r("update:modelValue",m)}function c(f){f.button===0&&(s.value=!1,o.value=n.modelValue,a.value=f.clientX,document.addEventListener("mousemove",u),document.addEventListener("mouseup",d),f.preventDefault())}function u(f){const p=f.clientX-a.value;if(!s.value&&Math.abs(p)>5&&(s.value=!0),!s.value)return;const m=p*n.sensitivity*n.step;let v=o.value+m;n.min!==void 0&&(v=Math.max(n.min,v)),n.max!==void 0&&(v=Math.min(n.max,v)),r("update:modelValue",Math.round(v/n.step)*n.step)}function d(){!s.value&&i.value&&i.value.focus(),s.value=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d)}function h(f){}return(f,p)=>(L(),le("div",F8,[t.label?(L(),le("label",{key:0,class:"cursor-ew-resize select-none",onMousedown:c},et(t.label),33)):Fe("",!0),G("input",{ref_key:"inputRef",ref:i,value:t.modelValue,type:"number",class:Et(t.inputClass+" cursor-ew-resize"),onInput:l,onMousedown:c,onWheel:h},null,42,B8)]))}}),G8={class:"space-y-4"},$8=re({__name:"CircleProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(L(),le("div",G8,[J(lt,{modelValue:t.layer.radius,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.radius=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"Radius",step:1,min:1,max:t.spriteSize/2},null,8,["modelValue","max"])]))}}),H8={class:"space-y-4"},V8=re({__name:"RectProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(L(),le("div",H8,[J(lt,{modelValue:t.layer.width,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.width=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),J(lt,{modelValue:t.layer.height,"onUpdate:modelValue":[r[2]||(r[2]=i=>t.layer.height=i),r[3]||(r[3]=i=>n.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),W8={class:"gap-4 flex items-stretch"},z8=re({__name:"LineProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(L(),le(Ue,null,[G("div",W8,[J(lt,{modelValue:t.layer.x2,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.x2=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"X2",step:1,min:0,max:t.spriteSize},null,8,["modelValue","max"]),J(lt,{modelValue:t.layer.y2,"onUpdate:modelValue":[r[2]||(r[2]=i=>t.layer.y2=i),r[3]||(r[3]=i=>n.$emit("update:layer",t.layer))],label:"Y2",step:1,min:0,max:t.spriteSize},null,8,["modelValue","max"])]),J(lt,{modelValue:t.layer.lineWidth,"onUpdate:modelValue":[r[4]||(r[4]=i=>t.layer.lineWidth=i),r[5]||(r[5]=i=>n.$emit("update:layer",t.layer))],label:"Line Width",step:1,min:1,max:20},null,8,["modelValue"])],64))}}),j8={class:"space-y-4"},U8=re({__name:"EllipseProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){return(n,r)=>(L(),le("div",j8,[J(lt,{modelValue:t.layer.width,"onUpdate:modelValue":[r[0]||(r[0]=i=>t.layer.width=i),r[1]||(r[1]=i=>n.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),J(lt,{modelValue:t.layer.height,"onUpdate:modelValue":[r[2]||(r[2]=i=>t.layer.height=i),r[3]||(r[3]=i=>n.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),Y8={class:"space-y-4"},X8=["value"],q8=["value"],K8=["value"],J8=re({__name:"PatternProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e;function i(a){const l=a.target,c={...n.layer,patternType:l.value};r("update:layer",c)}function s(a){const l=a.target,c={...n.layer,color1:l.value};r("update:layer",c)}function o(a){const l=a.target,c={...n.layer,color2:l.value};r("update:layer",c)}return(a,l)=>(L(),le("div",Y8,[G("div",null,[l[8]||(l[8]=G("label",{class:"block text-sm font-medium text-gray-300"},"Pattern Type",-1)),G("select",{value:t.layer.patternType,class:"w-full p-2 bg-gray-700 text-white rounded",onChange:l[0]||(l[0]=c=>i(c))},[...l[7]||(l[7]=[G("option",{value:"checkerboard"},"Checkerboard",-1),G("option",{value:"stripes"},"Stripes",-1),G("option",{value:"dots"},"Dots",-1)])],40,X8)]),G("div",null,[l[9]||(l[9]=G("label",{class:"block text-sm font-medium text-gray-300"},"Color 1",-1)),G("input",{value:t.layer.color1,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[1]||(l[1]=c=>s(c))},null,40,q8)]),G("div",null,[l[10]||(l[10]=G("label",{class:"block text-sm font-medium text-gray-300"},"Color 2",-1)),G("input",{value:t.layer.color2,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[2]||(l[2]=c=>o(c))},null,40,K8)]),J(lt,{modelValue:t.layer.width,"onUpdate:modelValue":[l[3]||(l[3]=c=>t.layer.width=c),l[4]||(l[4]=c=>a.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),J(lt,{modelValue:t.layer.height,"onUpdate:modelValue":[l[5]||(l[5]=c=>t.layer.height=c),l[6]||(l[6]=c=>a.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),Q8={class:"space-y-4"},Z8=["value"],ew=["value"],tw=["value"],nw=re({__name:"GradientProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e;function i(a){const l=a.target,c={...n.layer,colorStart:l.value};r("update:layer",c)}function s(a){const l=a.target,c={...n.layer,colorEnd:l.value};r("update:layer",c)}function o(a){const l=a.target,c={...n.layer,direction:l.value};r("update:layer",c)}return(a,l)=>(L(),le("div",Q8,[G("div",null,[l[7]||(l[7]=G("label",{class:"block text-sm font-medium text-gray-300"},"Color Start",-1)),G("input",{value:t.layer.colorStart,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[0]||(l[0]=c=>i(c))},null,40,Z8)]),G("div",null,[l[8]||(l[8]=G("label",{class:"block text-sm font-medium text-gray-300"},"Color End",-1)),G("input",{value:t.layer.colorEnd,type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:l[1]||(l[1]=c=>s(c))},null,40,ew)]),G("div",null,[l[10]||(l[10]=G("label",{class:"block text-sm font-medium text-gray-300"},"Direction",-1)),G("select",{value:t.layer.direction,class:"w-full p-2 bg-gray-700 text-white rounded",onChange:l[2]||(l[2]=c=>o(c))},[...l[9]||(l[9]=[G("option",{value:"horizontal"},"Horizontal",-1),G("option",{value:"vertical"},"Vertical",-1)])],40,tw)]),J(lt,{modelValue:t.layer.width,"onUpdate:modelValue":[l[3]||(l[3]=c=>t.layer.width=c),l[4]||(l[4]=c=>a.$emit("update:layer",t.layer))],label:"Width",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"]),J(lt,{modelValue:t.layer.height,"onUpdate:modelValue":[l[5]||(l[5]=c=>t.layer.height=c),l[6]||(l[6]=c=>a.$emit("update:layer",t.layer))],label:"Height",step:1,min:1,max:t.spriteSize},null,8,["modelValue","max"])]))}}),rw={class:"space-y-4"},iw=["value"],sw=re({__name:"PolygonProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e,i=z(()=>n.layer.points?.map(o=>`[${o[0]},${o[1]}]`).join(",")||"");function s(o){const l=o.target.value;let c=[];try{c=l.split(",").map(h=>{const f=h.trim().match(/\[(\d+),(\d+)\]/);return f?[parseInt(f[1]),parseInt(f[2])]:null}).filter(h=>h)}catch{c=n.layer.points||[]}const u={...n.layer,points:c};r("update:layer",u)}return(o,a)=>(L(),le("div",rw,[G("div",null,[a[3]||(a[3]=G("label",{class:"block text-sm font-medium text-gray-300"},"Points",-1)),G("textarea",{value:i.value,class:"w-full p-2 bg-gray-700 text-white rounded",rows:"3",placeholder:"e.g., [10,10],[50,10],[30,50]",onInput:a[0]||(a[0]=l=>s(l))},null,40,iw)]),J(lt,{modelValue:t.layer.lineWidth,"onUpdate:modelValue":[a[1]||(a[1]=l=>t.layer.lineWidth=l),a[2]||(a[2]=l=>o.$emit("update:layer",t.layer))],label:"Line Width",step:1,min:0,max:20},null,8,["modelValue"])]))}}),ow={class:"space-y-4"},aw=["value"],lw={class:"flex items-center"},cw=["checked"],uw=re({__name:"PathProperties",props:{layer:{},spriteSize:{}},emits:["update:layer"],setup(t,{emit:e}){const n=t,r=e;function i(o){const a=o.target,l={...n.layer,path:a.value};r("update:layer",l)}function s(o){const a=o.target,l={...n.layer,fill:a.checked};r("update:layer",l)}return(o,a)=>(L(),le("div",ow,[G("div",null,[a[4]||(a[4]=G("label",{class:"block text-sm font-medium text-gray-300"},"Path Data",-1)),G("textarea",{value:t.layer.path,class:"w-full p-2 bg-gray-700 text-white rounded",rows:"3",placeholder:"e.g., M10 10 L50 10 L30 50 Z",onInput:a[0]||(a[0]=l=>i(l))},null,40,aw)]),G("div",lw,[G("input",{checked:t.layer.fill,type:"checkbox",class:"mr-2",onChange:a[1]||(a[1]=l=>s(l))},null,40,cw),a[5]||(a[5]=G("label",{class:"text-sm font-medium text-gray-300"},"Fill",-1))]),J(lt,{modelValue:t.layer.lineWidth,"onUpdate:modelValue":[a[2]||(a[2]=l=>t.layer.lineWidth=l),a[3]||(a[3]=l=>o.$emit("update:layer",t.layer))],label:"Line Width",step:1,min:0,max:20},null,8,["modelValue"])]))}}),dw={class:"sprite-editor flex h-full"},hw={key:0,class:"flex-1 flex items-center justify-center text-gray-400"},fw={class:"layer-panel w-64 bg-gray-800 p-4 border-r border-gray-700 overflow-y-auto"},pw={class:"space-y-2"},gw=["onClick"],mw={class:"mx-2 flex-1 text-sm text-white"},vw=["onClick"],yw=["onClick"],bw={class:"mt-4"},ww={class:"editor-main flex-1 flex flex-col"},_w={class:"properties-panel bg-gray-800 p-4 border-t border-gray-700"},xw={key:0,class:"space-y-4"},Sw={class:"grid grid-cols-2 gap-4"},Cw={key:1,class:"text-gray-400"},$s=4,Ew=re({__name:"SpriteEditor",props:{spriteData:{}},emits:["spriteUpdated"],setup(t,{emit:e}){const n=t,r=e,i=W(),s=W(),o=W(),a=W(),l=W(null),c=W(n.spriteData?.size||64),u=new Ko,d=z(()=>l.value!==null&&n.spriteData?n.spriteData.layers[l.value]:null),h=z(()=>{if(!d.value)return null;switch(d.value.type){case"circle":return $8;case"rect":return V8;case"line":return z8;case"gradient":return nw;case"pattern":return J8;case"ellipse":return U8;case"polygon":return sw;case"path":return uw;default:return null}});function f(){if(!d.value||l.value===null||!n.spriteData)return;const P=d.value.type,I={x:d.value.x,y:d.value.y,color:d.value.color,visible:d.value.visible,rotation:d.value.rotation},C={...bd[P],...I,type:P};v(l.value,C)}function p(P,I){if(!d.value||l.value===null)return;const C={...d.value,[P]:I};v(l.value,C)}function m(P){l.value!==null&&v(l.value,P)}function v(P,I){if(!n.spriteData)return;const C=[...n.spriteData.layers];C[P]=I;const B={...n.spriteData,layers:C};r("spriteUpdated",B)}Ke(()=>{i.value&&Z1(i,P=>{const I=P[0],{width:C,height:B}=I.contentRect;C>0&&B>0&&(!s.value&&n.spriteData?g():s.value&&(s.value.width(C),s.value.height(B),y()))})});function g(){!i.value||!n.spriteData||i.value.clientWidth===0||i.value.clientHeight===0||(s.value=new tt.Stage({container:i.value,width:i.value.clientWidth,height:i.value.clientHeight}),o.value=new tt.Layer,s.value.add(o.value),a.value=new tt.Transformer({nodes:[],boundBoxFunc:(P,I)=>I.width<5||I.height<5?P:I}),o.value.add(a.value),s.value.on("click tap",P=>{P.target===s.value&&w(-1)}),y(),oe(n.spriteData,!0))}function y(){if(!s.value||!o.value||!n.spriteData)return;const P=s.value.width(),I=s.value.height(),C=n.spriteData.size*$s;o.value.x(P/2-C/2),o.value.y(I/2-C/2),o.value.scale({x:$s,y:$s})}function b(P,I){return`${P.type} ${I+1}`}function w(P){l.value=P===-1?null:P,A()}function A(){if(!a.value||!o.value)return;if(l.value===null){a.value.nodes([]);return}const P=o.value.findOne(`#layer-${l.value}`);P?a.value.nodes([P]):a.value.nodes([])}function T(P){if(!n.spriteData)return;const I=n.spriteData.layers[P],C={...I,visible:I.visible===!1};v(P,C)}function O(){if(!n.spriteData)return;const P={...bd.rect,type:"rect",x:n.spriteData.size/2-10,y:n.spriteData.size/2-10,width:20,height:20},I={...n.spriteData,layers:[...n.spriteData.layers,P]};r("spriteUpdated",I)}function k(P){if(n.spriteData&&n.spriteData.layers.length>1){const I=n.spriteData.layers.filter((B,ie)=>ie!==P),C={...n.spriteData,layers:I};l.value===P?l.value=null:l.value&&l.value>P&&l.value--,r("spriteUpdated",C)}}function D(){if(!n.spriteData)return;const P=JSON.parse(JSON.stringify(n.spriteData));r("spriteUpdated",P)}function F(){if(!n.spriteData)return;const P={...n.spriteData,size:c.value};r("spriteUpdated",P)}async function oe(P,I=!1){if(!s.value||!o.value)return;const C=o.value.find("Group");a.value&&a.value.nodes([]),C.forEach(ae=>{ae!==a.value&&ae.destroy()}),P.layers.forEach((ae,ye)=>{if(ae.visible===!1)return;const me=new tt.Group({id:`layer-${ye}`,draggable:!0,x:0,y:0});u.drawLayer(me,ae,P.size),me.on("click tap",Te=>{Te.cancelBubble=!0,w(ye)}),me.on("dragend",Te=>{q(ye,Te.target)}),me.on("transformend",Te=>{he(ye,Te.target)}),o.value?.add(me),a.value&&a.value.getLayer()&&a.value.moveToTop()}),A();const B=o.value.findOne("#sprite-border");B&&B.destroy();const ie=new tt.Rect({id:"sprite-border",x:0,y:0,width:P.size,height:P.size,stroke:"#444",strokeWidth:1/$s,listening:!1});if(o.value.add(ie),ie.moveToBottom(),y(),!I){const ae=await u.generateImage(P);if(P.thumbnail!==ae){const ye={...P,thumbnail:ae};r("spriteUpdated",ye)}}}function q(P,I){if(!n.spriteData)return;const C=n.spriteData.layers[P],B=I.x(),ie=I.y();I.position({x:0,y:0});const ae={...C};C.x!==void 0&&(ae.x=Math.round((C.x||0)+B)),C.y!==void 0&&(ae.y=Math.round((C.y||0)+ie)),C.type==="line"&&(C.x2!==void 0&&(ae.x2=Math.round((C.x2||0)+B)),C.y2!==void 0&&(ae.y2=Math.round((C.y2||0)+ie))),v(P,ae)}function he(P,I){if(!n.spriteData)return;const C=n.spriteData.layers[P],B=I.scaleX(),ie=I.scaleY(),ae=I.rotation(),ye=I.getTransform();I.scaleX(1),I.scaleY(1),I.rotation(0),I.position({x:0,y:0});const me={...C};if(me.rotation=(me.rotation||0)+ae,C.type==="line"){const Te=C.x!==void 0?C.x:0,nt=C.y!==void 0?C.y:0,Qe=C.x2!==void 0?C.x2:n.spriteData.size,N=C.y2!==void 0?C.y2:n.spriteData.size,ue=ye.point({x:Te,y:nt}),ee=ye.point({x:Qe,y:N});me.x=Math.round(ue.x),me.y=Math.round(ue.y),me.x2=Math.round(ee.x),me.y2=Math.round(ee.y),C.lineWidth&&(me.lineWidth=Math.round(C.lineWidth*((B+ie)/2)))}else if(C.type==="circle"||C.type==="ellipse"){const Te=C.x!==void 0?C.x:n.spriteData.size/2,nt=C.y!==void 0?C.y:n.spriteData.size/2,Qe=ye.point({x:Te,y:nt});me.x=Math.round(Qe.x),me.y=Math.round(Qe.y),C.type==="circle"&&C.radius?me.radius=Math.round(C.radius*((B+ie)/2)):C.type==="ellipse"&&(C.width&&(me.width=Math.round(C.width*B)),C.height&&(me.height=Math.round(C.height*ie)))}else{const Te=C.width||0,nt=C.height||0,Qe=C.x!==void 0?C.x:(n.spriteData.size-Te)/2,N=C.y!==void 0?C.y:(n.spriteData.size-nt)/2,ue=Qe+Te/2,ee=N+nt/2,ve=ye.point({x:ue,y:ee}),Ae=Math.round(Te*B),x=Math.round(nt*ie);me.width=Ae,me.height=x,me.x=Math.round(ve.x-Ae/2),me.y=Math.round(ve.y-x/2),C.radius&&(me.radius=Math.round(C.radius*((B+ie)/2)))}v(P,me)}Wt(()=>{s.value?.destroy()});const $=W(null),U=W("");return Ee(()=>n.spriteData,(P,I)=>{if(P){c.value=P.size;const C=u.getTextureKey(P),B=I?.generated&&!P.generated,ie=P.id!==$.value||B;if(!ie&&C===U.value)return;$.value=P.id,U.value=C,!s.value&&i.value?g():oe(P,ie)}else $.value=null,U.value="",s.value?.destroy(),s.value=void 0},{deep:!0,flush:"post"}),(P,I)=>(L(),le("div",dw,[t.spriteData?(L(),le(Ue,{key:1},[G("div",fw,[I[7]||(I[7]=G("h3",{class:"text-lg font-bold mb-4 text-white"},"Layers",-1)),G("div",pw,[(L(!0),le(Ue,null,kn(t.spriteData.layers,(C,B)=>(L(),le("div",{key:B,class:Et(["layer-item flex items-center p-2 bg-gray-700 rounded cursor-pointer",{"bg-blue-600":l.value===B}]),onClick:ie=>w(B)},[G("div",{class:"layer-preview w-8 h-8 border border-gray-600 rounded flex-shrink-0",style:Zt({backgroundColor:C.color||"#ccc"})},null,4),G("span",mw,et(b(C,B)),1),G("button",{onClick:It(ie=>T(B),["stop"]),class:"mr-2 text-gray-400 hover:text-white"},[C.visible!==!1?(L(),fe(_(b2),{key:0,class:"w-4 h-4"})):(L(),fe(_(y2),{key:1,class:"w-4 h-4"}))],8,vw),G("button",{onClick:It(ie=>k(B),["stop"]),class:"text-red-400 hover:text-red-600"},[J(_(tf),{class:"w-4 h-4"})],8,yw)],10,gw))),128))]),G("button",{onClick:O,class:"w-full mt-4 bg-green-600 text-white py-2 rounded hover:bg-green-700"},"+ Layer "),G("div",bw,[J(lt,{modelValue:c.value,"onUpdate:modelValue":[I[0]||(I[0]=C=>c.value=C),F],label:"Texture Size",step:1,min:16,max:512},null,8,["modelValue"])])]),G("div",ww,[G("div",{class:"canvas-container flex-1 min-h-96",ref_key:"canvasContainer",ref:i},null,512),G("div",_w,[I[10]||(I[10]=G("h3",{class:"text-lg font-bold mb-4 text-white"},"Properties",-1)),d.value?(L(),le("div",xw,[G("div",null,[Ht(G("select",{"onUpdate:modelValue":I[1]||(I[1]=C=>d.value.type=C),class:"w-full p-2 bg-gray-700 text-white rounded",onChange:f},[...I[8]||(I[8]=[Cg('<option value="circle">Circle</option><option value="rect">Rectangle</option><option value="line">Line</option><option value="gradient">Gradient</option><option value="pattern">Pattern</option><option value="ellipse">Ellipse</option><option value="polygon">Polygon</option><option value="path">Path</option>',8)])],544),[[Ih,d.value.type]])]),G("div",Sw,[J(lt,{modelValue:d.value.x,"onUpdate:modelValue":[I[2]||(I[2]=C=>d.value.x=C),D],label:"X",step:1,min:0,max:t.spriteData.size},null,8,["modelValue","max"]),J(lt,{modelValue:d.value.y,"onUpdate:modelValue":[I[3]||(I[3]=C=>d.value.y=C),D],label:"Y",step:1,min:0,max:t.spriteData.size},null,8,["modelValue","max"])]),G("div",null,[J(lt,{"model-value":d.value.rotation||0,label:"Rotation",step:1,min:0,max:360,"onUpdate:modelValue":I[4]||(I[4]=C=>p("rotation",C))},null,8,["model-value"])]),G("div",null,[I[9]||(I[9]=G("label",{class:"block text-sm font-medium text-gray-300"},"Color",-1)),Ht(G("input",{"onUpdate:modelValue":I[5]||(I[5]=C=>d.value.color=C),type:"color",class:"w-full p-2 bg-gray-700 text-white rounded",onInput:D},null,544),[[Gi,d.value.color]])]),(L(),fe(ro(h.value),{layer:d.value,"sprite-size":t.spriteData.size,"onUpdate:layer":m},null,40,["layer","sprite-size"]))])):(L(),le("div",Cw,"Select a layer to edit properties"))])])],64)):(L(),le("div",hw,[...I[6]||(I[6]=[G("div",{class:"text-center"},[G("p",{class:"text-xl mb-2"},"Select a sprite to edit"),G("p",{class:"text-sm"},"Choose a sprite from the list on the left")],-1)])]))]))}}),Aw={class:"flex flex-row gap-4 h-[calc(100vh-150px)]"},Pw={class:"flex-1 h-full"},Tw=re({__name:"SpriteEditView",setup(t){const e=$o(),n=W(null),r=ls();function i(a){r.generatedTextures.some(c=>c.id===a.id)?r.updateGeneratedTexture(a.id,a):r.addGeneratedTexture(a),n.value=a}function s(a){const l=a;n.value=l.detail}Ke(()=>{window.addEventListener("editSprite",s),o()}),Wt(()=>{window.removeEventListener("editSprite",s)}),Ee(()=>e.params.id,()=>{o()}),Ee(()=>r.generatedTextures,()=>{o()},{deep:!0});function o(){const a=e.params.id;if(a){const l=r.generatedTextures.find(c=>c.id===a)||fc.find(c=>c.id===a);l?n.value=l:n.value=null}else n.value=null}return(a,l)=>(L(),le("div",Aw,[J(Bp,{mode:"edit"}),G("div",Pw,[J(Ew,{spriteData:n.value,onSpriteUpdated:i},null,8,["spriteData"])])]))}}),kw=`<svg viewBox="0 0 100 150" xmlns="http://www.w3.org/2000/svg">
  <!-- Balloon shape -->
  <ellipse cx="50" cy="50" rx="30" ry="40" fill="red" />

  <!-- Balloon highlight -->
  <ellipse cx="40" cy="40" rx="10" ry="15" fill="white" opacity="0.5" />

  <!-- Balloon string -->
  <path d="M50,90 C50,110 40,130 50,150" stroke="gray" stroke-width="2" fill="none" />
</svg>`,Rw=[kw],Ow={class:"flex items-center gap-4"},Mw={class:"max-w-sm"},Iw=["disabled"],Lw={key:0},Dw={key:1,class:"flex items-center"},Nw={key:0,class:"w-full px-2 whitespace-pre-line max-h-32 overflow-auto bg-gray-800 p-1 rounded-md shadow-md mt-2"},Fw={key:1,class:"w-full px-2 whitespace-pre-line max-h-32 overflow-auto bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-700 space-y-4 w-80 mx-auto"},Bw={key:0},Gw={class:"flex flex-wrap gap-4"},$w=["innerHTML","onClick"],Hw=["innerHTML","onClick"],Vw=re({__name:"SvgGenerator",setup(t){const e=W(),n=W([]),r=W(""),i=fs(),s=z(()=>{if(i.isLoading)return!1;const u=e.value;return!(!u||!u.prompt)}),o=Rw;function a(u){return[{role:"system",content:`You are an SVG generator. Create SVG code based on text descriptions. Follow these rules:
  - Generate valid, working SVG code
  - Use viewBox instead of fixed width/height
  - Keep the SVG simple and clean
  - Use basic shapes (rect, circle, path, etc.)
  - Add comments to explain the main elements
  - Return ONLY the SVG code with no markdown or other text`},{role:"user",content:u}]}async function l(){const u=e.value;if(!u)return;const d=u.prompt;if(!(!d.trim()||!i.selectedModel))try{const h=await i.generate(i.selectedModel,a(d),{temperature:.01});n.value.push(h),u.prompt="",r.value=h}catch(h){console.error("Error generating SVG:",h)}}function c(){const u=new Blob([r.value],{type:"image/svg+xml"}),d=URL.createObjectURL(u),h=document.createElement("a");h.href=d,h.download="generated.svg",document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(d)}return(u,d)=>(L(),le("div",Ow,[G("div",Mw,[J(Lp,{ref_key:"Form",ref:e,placeholder:"Describe your SVG..."},{button:ne(()=>[G("button",{disabled:!s.value,onClick:l,class:"w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 transition disabled:opacity-50"},[_(i).isLoading?(L(),le("span",Dw,[...d[0]||(d[0]=[G("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},null,-1),at(" Generating... ",-1)])])):(L(),le("span",Lw,"Generate SVG"))],8,Iw)]),_:1},512),r.value?(L(),le("p",Nw," Selected SVG ")):Fe("",!0),r.value?(L(),le("p",Fw,et(r.value),1)):Fe("",!0),r.value?(L(),le("button",{key:2,onClick:c,class:"w-full mt-2 bg-green-500 text-white p-2 rounded-md hover:bg-green-600 transition"}," Download SVG ")):Fe("",!0)]),n.value.length||_(o).length?(L(),le("div",Bw,[d[1]||(d[1]=G("h3",{class:"text-lg font-bold mb-2"},"SVG Gallery",-1)),G("div",Gw,[(L(!0),le(Ue,null,kn(_(o),(h,f)=>(L(),le("div",{key:"preset-"+f,class:"border p-2 rounded overflow-hidden"},[G("div",{innerHTML:h,class:"w-64 h-64",onClick:p=>r.value=h},null,8,$w)]))),128)),(L(!0),le(Ue,null,kn(n.value,(h,f)=>(L(),le("div",{key:"generated-"+f,class:"border p-2 rounded overflow-hidden"},[G("div",{innerHTML:h,class:"w-64 h-64",onClick:p=>r.value=h},null,8,Hw)]))),128))])])):Fe("",!0)]))}}),Ww=re({__name:"SvgGenerationView",setup(t){return(e,n)=>(L(),fe(Vw))}}),zw=w1({history:Qm("./"),routes:[{path:"/",redirect:"/view"},{path:"/view/:id?",name:"sprite-generation",component:N8},{path:"/edit/:id?",name:"sprite-edit",component:Tw},{path:"/svg",name:"svg-generation",component:Ww}]}),pc=sm(O1);pc.use(lm());pc.use(zw);pc.mount("#app");
